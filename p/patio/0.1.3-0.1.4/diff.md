# Comparing `tmp/patio-0.1.3.tar.gz` & `tmp/patio-0.1.4.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "patio-0.1.3.tar", max compression
+gzip compressed data, was "patio-0.1.4.tar", max compression
```

## Comparing `patio-0.1.3.tar` & `patio-0.1.4.tar`

### file list

```diff
@@ -1,20 +1,20 @@
--rw-r--r--   0        0        0    13343 2023-06-09 06:38:24.251449 patio-0.1.3/README.md
--rw-r--r--   0        0        0      580 2023-06-09 06:38:24.252956 patio-0.1.3/patio/__init__.py
--rw-r--r--   0        0        0      294 2023-06-09 06:38:24.253102 patio-0.1.3/patio/broker/__init__.py
--rw-r--r--   0        0        0     1845 2023-06-09 06:38:24.253194 patio-0.1.3/patio/broker/abc.py
--rw-r--r--   0        0        0      542 2023-06-09 06:38:24.253274 patio-0.1.3/patio/broker/memory.py
--rw-r--r--   0        0        0     1684 2023-06-09 06:38:24.253356 patio-0.1.3/patio/broker/serializer.py
--rw-r--r--   0        0        0      151 2023-06-09 06:38:24.253494 patio-0.1.3/patio/broker/tcp/__init__.py
--rw-r--r--   0        0        0    14402 2023-06-09 06:38:24.253713 patio-0.1.3/patio/broker/tcp/broker.py
--rw-r--r--   0        0        0     2816 2023-06-09 06:38:24.253846 patio-0.1.3/patio/broker/tcp/protocol.py
--rw-r--r--   0        0        0      674 2023-06-09 06:38:24.253948 patio-0.1.3/patio/compat.py
--rw-r--r--   0        0        0      329 2023-06-09 06:38:24.254089 patio-0.1.3/patio/executor/__init__.py
--rw-r--r--   0        0        0     2176 2023-06-09 06:38:24.254193 patio-0.1.3/patio/executor/asyncronous.py
--rw-r--r--   0        0        0     2663 2023-06-09 06:38:24.254305 patio-0.1.3/patio/executor/base.py
--rw-r--r--   0        0        0      625 2023-06-09 06:38:24.254448 patio-0.1.3/patio/executor/null.py
--rw-r--r--   0        0        0     1277 2023-06-09 06:38:24.254562 patio-0.1.3/patio/executor/process_pool.py
--rw-r--r--   0        0        0     1308 2023-06-09 06:38:24.254658 patio-0.1.3/patio/executor/thread_pool.py
--rw-r--r--   0        0        0        0 2023-06-09 06:38:24.254695 patio-0.1.3/patio/py.typed
--rw-r--r--   0        0        0     8935 2023-06-09 06:38:24.254828 patio-0.1.3/patio/registry.py
--rw-r--r--   0        0        0     2299 2023-06-09 06:38:24.255243 patio-0.1.3/pyproject.toml
--rw-r--r--   0        0        0    14580 1970-01-01 00:00:00.000000 patio-0.1.3/PKG-INFO
+-rw-r--r--   0        0        0    13991 2023-06-09 07:07:20.198660 patio-0.1.4/README.md
+-rw-r--r--   0        0        0      580 2023-06-08 10:47:29.273489 patio-0.1.4/patio/__init__.py
+-rw-r--r--   0        0        0      294 2023-06-08 10:47:29.274047 patio-0.1.4/patio/broker/__init__.py
+-rw-r--r--   0        0        0     1845 2023-06-08 10:47:29.274688 patio-0.1.4/patio/broker/abc.py
+-rw-r--r--   0        0        0      542 2023-06-08 10:47:29.275407 patio-0.1.4/patio/broker/memory.py
+-rw-r--r--   0        0        0     1684 2023-06-08 10:47:29.276506 patio-0.1.4/patio/broker/serializer.py
+-rw-r--r--   0        0        0      151 2023-06-08 10:47:29.277259 patio-0.1.4/patio/broker/tcp/__init__.py
+-rw-r--r--   0        0        0    14402 2023-06-09 07:07:00.405822 patio-0.1.4/patio/broker/tcp/broker.py
+-rw-r--r--   0        0        0     2816 2023-06-09 07:07:00.406739 patio-0.1.4/patio/broker/tcp/protocol.py
+-rw-r--r--   0        0        0      674 2023-06-08 10:47:29.279837 patio-0.1.4/patio/compat.py
+-rw-r--r--   0        0        0      329 2023-06-08 10:47:29.280419 patio-0.1.4/patio/executor/__init__.py
+-rw-r--r--   0        0        0     2176 2023-06-08 10:47:29.281010 patio-0.1.4/patio/executor/asyncronous.py
+-rw-r--r--   0        0        0     2663 2023-06-08 10:47:29.281647 patio-0.1.4/patio/executor/base.py
+-rw-r--r--   0        0        0      625 2023-06-09 07:07:00.411035 patio-0.1.4/patio/executor/null.py
+-rw-r--r--   0        0        0     1277 2023-06-08 10:47:29.282966 patio-0.1.4/patio/executor/process_pool.py
+-rw-r--r--   0        0        0     1308 2023-06-08 10:47:29.283510 patio-0.1.4/patio/executor/thread_pool.py
+-rw-r--r--   0        0        0        0 2023-06-08 10:47:29.283734 patio-0.1.4/patio/py.typed
+-rw-r--r--   0        0        0     8935 2023-06-09 07:07:00.412478 patio-0.1.4/patio/registry.py
+-rw-r--r--   0        0        0     2299 2023-06-09 07:07:25.054773 patio-0.1.4/pyproject.toml
+-rw-r--r--   0        0        0    15478 1970-01-01 00:00:00.000000 patio-0.1.4/PKG-INFO
```

### Comparing `patio-0.1.3/README.md` & `patio-0.1.4/README.md`

 * *Files 5% similar despite different names*

```diff
@@ -1,834 +1,875 @@
-00000000: 5041 5449 4f0a 3d3d 3d3d 3d0a 0a50 4154  PATIO.=====..PAT
-00000010: 494f 2069 7320 616e 2061 6372 6f6e 796d  IO is an acronym
-00000020: 2066 6f72 202a 2a50 2a2a 7974 686f 6e20   for **P**ython 
-00000030: 2a2a 412a 2a73 796e 6368 726f 6e6f 7573  **A**synchronous
-00000040: 202a 2a54 2a2a 6173 6b73 2066 6f72 2041   **T**asks for A
-00000050: 7379 6e63 2a2a 494f 2a2a 2e0a 0a4d 6f74  sync**IO**...Mot
-00000060: 6976 6174 696f 6e0a 2d2d 2d2d 2d2d 2d2d  ivation.--------
-00000070: 2d2d 0a0a 4920 7761 6e74 6564 2074 6f20  --..I wanted to 
-00000080: 6372 6561 7465 2061 6e20 6561 7369 6c79  create an easily
-00000090: 2065 7874 656e 7369 626c 6520 6c69 6272   extensible libr
-000000a0: 6172 792c 2066 6f72 2064 6973 7472 6962  ary, for distrib
-000000b0: 7574 6564 2074 6173 6b20 6578 6563 7574  uted task execut
-000000c0: 696f 6e2c 0a6c 696b 6520 5b60 6365 6c65  ion,.like [`cele
-000000d0: 7279 605d 2868 7474 7073 3a2f 2f64 6f63  ry`](https://doc
-000000e0: 732e 6365 6c65 7279 712e 6465 762f 292c  s.celeryq.dev/),
-000000f0: 206f 6e6c 7920 7461 7267 6574 696e 6720   only targeting 
-00000100: 6173 796e 6369 6f20 6173 2074 6865 206d  asyncio as the m
-00000110: 6169 6e0a 6465 7369 676e 2061 7070 726f  ain.design appro
-00000120: 6163 682e 0a0a 4279 2064 6573 6967 6e2c  ach...By design,
-00000130: 2074 6865 206c 6962 7261 7279 2073 686f   the library sho
-00000140: 756c 6420 6265 2073 7569 7461 626c 6520  uld be suitable 
-00000150: 666f 7220 736d 616c 6c20 7072 6f6a 6563  for small projec
-00000160: 7473 2061 6e64 2074 6865 2072 6561 6c6c  ts and the reall
-00000170: 790a 6c61 7267 6520 6469 7374 7269 6275  y.large distribu
-00000180: 7465 6420 7072 6f6a 6563 7473 2e20 5468  ted projects. Th
-00000190: 6520 6765 6e65 7261 6c20 6964 6561 2069  e general idea i
-000001a0: 7320 7468 6174 2074 6865 2075 7365 7220  s that the user 
-000001b0: 7369 6d70 6c79 2073 706c 6974 730a 7468  simply splits.th
-000001c0: 6520 7072 6f6a 6563 7473 2063 6f64 6520  e projects code 
-000001d0: 6261 7365 2069 6e74 6f20 6675 6e63 7469  base into functi
-000001e0: 6f6e 7320 6f66 2074 776f 2072 6f6c 6573  ons of two roles
-000001f0: 20e2 8093 2062 6163 6b67 726f 756e 6420   ... background 
-00000200: 7461 736b 7320 616e 6420 7472 6967 6765  tasks and trigge
-00000210: 7273 206f 6620 7468 6573 6520 6261 636b  rs of these back
-00000220: 6772 6f75 6e64 2074 6173 6b73 2e0a 416c  ground tasks..Al
-00000230: 736f 2c20 7468 6973 2073 686f 756c 6420  so, this should 
-00000240: 6865 6c70 2079 6f75 7220 7072 6f6a 6563  help your projec
-00000250: 7420 746f 2073 6361 6c65 2068 6f72 697a  t to scale horiz
-00000260: 6f6e 7461 6c6c 792e 2049 7420 616c 6c6f  ontally. It allo
-00000270: 7773 2074 6f20 6d61 6b65 0a77 6f72 6b65  ws to make.worke
-00000280: 7273 206f 7220 6361 6c6c 6572 7320 6176  rs or callers av
-00000290: 6169 6c61 626c 6520 6163 726f 7373 2074  ailable across t
-000002a0: 6865 206e 6574 776f 726b 2075 7369 6e67  he network using
-000002b0: 2065 6d62 6564 6465 6420 5443 502c 206f   embedded TCP, o
-000002c0: 7220 7573 696e 670a 706c 7567 696e 7320  r using.plugins 
-000002d0: 746f 2063 6f6d 6d75 6e69 6361 7465 2074  to communicate t
-000002e0: 6872 6f75 6768 2074 6865 2065 7869 7374  hrough the exist
-000002f0: 696e 6720 6d65 7373 6167 696e 6720 696e  ing messaging in
-00000300: 6672 6173 7472 7563 7475 7265 2e0a 0a51  frastructure...Q
-00000310: 7569 636b 7374 6172 740a 2d2d 2d2d 2d2d  uickstart.------
-00000320: 2d2d 2d2d 0a0a 5468 6520 6d69 6e69 6d61  ----..The minima
-00000330: 6c20 6578 616d 706c 652c 2077 6869 6368  l example, which
-00000340: 2065 7865 6375 7465 7320 7461 736b 7320   executes tasks 
-00000350: 696e 2061 2074 6872 6561 6420 706f 6f6c  in a thread pool
-00000360: 3a0a 0a60 6060 7079 7468 6f6e 0a69 6d70  :..```python.imp
-00000370: 6f72 7420 6173 796e 6369 6f0a 6672 6f6d  ort asyncio.from
-00000380: 2066 756e 6374 6f6f 6c73 2069 6d70 6f72   functools impor
-00000390: 7420 7265 6475 6365 0a0a 6672 6f6d 2070  t reduce..from p
-000003a0: 6174 696f 2069 6d70 6f72 7420 5265 6769  atio import Regi
-000003b0: 7374 7279 0a66 726f 6d20 7061 7469 6f2e  stry.from patio.
-000003c0: 6272 6f6b 6572 2069 6d70 6f72 7420 4d65  broker import Me
-000003d0: 6d6f 7279 4272 6f6b 6572 0a66 726f 6d20  moryBroker.from 
-000003e0: 7061 7469 6f2e 6578 6563 7574 6f72 2069  patio.executor i
-000003f0: 6d70 6f72 7420 5468 7265 6164 506f 6f6c  mport ThreadPool
-00000400: 4578 6563 7574 6f72 0a0a 0a72 7063 203d  Executor...rpc =
-00000410: 2052 6567 6973 7472 7928 290a 0a0a 4072   Registry()...@r
-00000420: 7063 2822 6d75 6c22 290a 6465 6620 6d75  pc("mul").def mu
-00000430: 6c74 6970 6c79 282a 6172 6773 3a20 696e  ltiply(*args: in
-00000440: 7429 202d 3e20 696e 743a 0a20 2020 2072  t) -> int:.    r
-00000450: 6574 7572 6e20 7265 6475 6365 286c 616d  eturn reduce(lam
-00000460: 6264 6120 782c 2079 3a20 7820 2a20 792c  bda x, y: x * y,
-00000470: 2061 7267 7329 0a0a 0a61 7379 6e63 2064   args)...async d
-00000480: 6566 206d 6169 6e28 293a 0a20 2020 2061  ef main():.    a
-00000490: 7379 6e63 2077 6974 6820 5468 7265 6164  sync with Thread
-000004a0: 506f 6f6c 4578 6563 7574 6f72 2872 7063  PoolExecutor(rpc
-000004b0: 2c20 6d61 785f 776f 726b 6572 733d 3429  , max_workers=4)
-000004c0: 2061 7320 6578 6563 7574 6f72 3a0a 2020   as executor:.  
-000004d0: 2020 2020 2020 6173 796e 6320 7769 7468        async with
-000004e0: 204d 656d 6f72 7942 726f 6b65 7228 6578   MemoryBroker(ex
-000004f0: 6563 7574 6f72 2920 6173 2062 726f 6b65  ecutor) as broke
-00000500: 723a 0a20 2020 2020 2020 2020 2020 2070  r:.            p
-00000510: 7269 6e74 280a 2020 2020 2020 2020 2020  rint(.          
-00000520: 2020 2020 2020 6177 6169 7420 6173 796e        await asyn
-00000530: 6369 6f2e 6761 7468 6572 280a 2020 2020  cio.gather(.    
-00000540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000550: 2a5b 6272 6f6b 6572 2e63 616c 6c28 226d  *[broker.call("m
-00000560: 756c 222c 2031 2c20 322c 2033 2920 666f  ul", 1, 2, 3) fo
-00000570: 7220 5f20 696e 2072 616e 6765 2831 3030  r _ in range(100
-00000580: 295d 0a20 2020 2020 2020 2020 2020 2020  )].             
-00000590: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
-000005a0: 2029 0a0a 0a69 6620 5f5f 6e61 6d65 5f5f   )...if __name__
-000005b0: 203d 3d20 275f 5f6d 6169 6e5f 5f27 3a0a   == '__main__':.
-000005c0: 2020 2020 6173 796e 6369 6f2e 7275 6e28      asyncio.run(
-000005d0: 6d61 696e 2829 290a 6060 600a 0a54 6865  main()).```..The
-000005e0: 2060 5468 7265 6164 506f 6f6c 4578 6563   `ThreadPoolExec
-000005f0: 7574 6f72 6020 696e 2074 6869 7320 6578  utor` in this ex
-00000600: 616d 706c 6520 6973 2074 6865 2065 6e74  ample is the ent
-00000610: 6974 7920 7468 6174 2077 696c 6c20 6578  ity that will ex
-00000620: 6563 7574 6520 7468 650a 7461 736b 732e  ecute the.tasks.
-00000630: 2049 6620 7468 6520 7461 736b 7320 696e   If the tasks in
-00000640: 2079 6f75 7220 7072 6f6a 6563 7420 6172   your project ar
-00000650: 6520 6173 796e 6368 726f 6e6f 7573 2c20  e asynchronous, 
-00000660: 796f 7520 6361 6e20 7365 6c65 6374 0a60  you can select.`
-00000670: 4173 796e 6345 7865 6375 746f 7260 2c20  AsyncExecutor`, 
-00000680: 616e 6420 7468 656e 2074 6865 2063 6f64  and then the cod
-00000690: 6520 7769 6c6c 206c 6f6f 6b20 6c69 6b65  e will look like
-000006a0: 2074 6869 733a 0a0a 6060 6070 7974 686f   this:..```pytho
-000006b0: 6e0a 696d 706f 7274 2061 7379 6e63 696f  n.import asyncio
-000006c0: 0a66 726f 6d20 6675 6e63 746f 6f6c 7320  .from functools 
-000006d0: 696d 706f 7274 2072 6564 7563 650a 0a66  import reduce..f
-000006e0: 726f 6d20 7061 7469 6f20 696d 706f 7274  rom patio import
-000006f0: 2052 6567 6973 7472 790a 6672 6f6d 2070   Registry.from p
-00000700: 6174 696f 2e62 726f 6b65 7220 696d 706f  atio.broker impo
-00000710: 7274 204d 656d 6f72 7942 726f 6b65 720a  rt MemoryBroker.
-00000720: 6672 6f6d 2070 6174 696f 2e65 7865 6375  from patio.execu
-00000730: 746f 7220 696d 706f 7274 2041 7379 6e63  tor import Async
-00000740: 4578 6563 7574 6f72 0a0a 0a72 7063 203d  Executor...rpc =
-00000750: 2052 6567 6973 7472 7928 290a 0a0a 4072   Registry()...@r
-00000760: 7063 2822 6d75 6c22 290a 6173 796e 6320  pc("mul").async 
-00000770: 6465 6620 6d75 6c74 6970 6c79 282a 6172  def multiply(*ar
-00000780: 6773 3a20 696e 7429 202d 3e20 696e 743a  gs: int) -> int:
-00000790: 0a20 2020 2023 2064 6f20 736f 6d65 7468  .    # do someth
-000007a0: 696e 6720 6173 796e 6368 726f 6e6f 7573  ing asynchronous
-000007b0: 6c79 0a20 2020 2061 7761 6974 2061 7379  ly.    await asy
-000007c0: 6e63 696f 2e73 6c65 6570 2830 290a 2020  ncio.sleep(0).  
-000007d0: 2020 7265 7475 726e 2072 6564 7563 6528    return reduce(
-000007e0: 6c61 6d62 6461 2078 2c20 793a 2078 202a  lambda x, y: x *
-000007f0: 2079 2c20 6172 6773 290a 0a0a 6173 796e   y, args)...asyn
-00000800: 6320 6465 6620 6d61 696e 2829 3a0a 2020  c def main():.  
-00000810: 2020 6173 796e 6320 7769 7468 2041 7379    async with Asy
-00000820: 6e63 4578 6563 7574 6f72 2872 7063 2c20  ncExecutor(rpc, 
-00000830: 6d61 785f 776f 726b 6572 733d 3429 2061  max_workers=4) a
-00000840: 7320 6578 6563 7574 6f72 3a0a 2020 2020  s executor:.    
-00000850: 2020 2020 6173 796e 6320 7769 7468 204d      async with M
-00000860: 656d 6f72 7942 726f 6b65 7228 6578 6563  emoryBroker(exec
-00000870: 7574 6f72 2920 6173 2062 726f 6b65 723a  utor) as broker:
-00000880: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
-00000890: 6e74 280a 2020 2020 2020 2020 2020 2020  nt(.            
-000008a0: 2020 2020 6177 6169 7420 6173 796e 6369      await asynci
-000008b0: 6f2e 6761 7468 6572 280a 2020 2020 2020  o.gather(.      
-000008c0: 2020 2020 2020 2020 2020 2020 2020 2a5b                *[
-000008d0: 6272 6f6b 6572 2e63 616c 6c28 226d 756c  broker.call("mul
-000008e0: 222c 2031 2c20 322c 2033 2920 666f 7220  ", 1, 2, 3) for 
-000008f0: 5f20 696e 2072 616e 6765 2831 3030 295d  _ in range(100)]
-00000900: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000910: 2029 0a20 2020 2020 2020 2020 2020 2029   ).            )
-00000920: 0a0a 0a69 6620 5f5f 6e61 6d65 5f5f 203d  ...if __name__ =
-00000930: 3d20 275f 5f6d 6169 6e5f 5f27 3a0a 2020  = '__main__':.  
-00000940: 2020 6173 796e 6369 6f2e 7275 6e28 6d61    asyncio.run(ma
-00000950: 696e 2829 290a 6060 600a 0a54 6865 7365  in()).```..These
-00000960: 2065 7861 6d70 6c65 7320 6d61 7920 7365   examples may se
-00000970: 656d 2063 6f6d 706c 6963 6174 6564 2c20  em complicated, 
-00000980: 6275 7420 646f 6e27 7420 776f 7272 792c  but don't worry,
-00000990: 2074 6865 206e 6578 7420 7365 6374 696f   the next sectio
-000009a0: 6e20 6465 7461 696c 730a 7468 6520 6765  n details.the ge
-000009b0: 6e65 7261 6c20 636f 6e63 6570 7473 2061  neral concepts a
-000009c0: 6e64 2068 6f70 6566 756c 6c79 2061 206c  nd hopefully a l
-000009d0: 6f74 2077 696c 6c20 6265 636f 6d65 2063  ot will become c
-000009e0: 6c65 6172 2074 6f20 796f 752e 0a0a 5468  lear to you...Th
-000009f0: 6520 6d61 696e 2063 6f6e 6365 7074 730a  e main concepts.
-00000a00: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00000a10: 2d0a 0a54 6865 206d 6169 6e20 6964 6561  -..The main idea
-00000a20: 2069 6e20 6465 7665 6c6f 7069 6e67 2074   in developing t
-00000a30: 6869 7320 6c69 6272 6172 7920 7761 7320  his library was 
-00000a40: 746f 2063 7265 6174 6520 6120 6d61 7869  to create a maxi
-00000a50: 6d61 6c6c 790a 6d6f 6475 6c61 7220 616e  mally.modular an
-00000a60: 6420 6578 7465 6e73 6962 6c65 2073 7973  d extensible sys
-00000a70: 7465 6d20 7468 6174 2063 616e 2062 6520  tem that can be 
-00000a80: 6578 7061 6e64 6564 2077 6974 6820 7468  expanded with th
-00000a90: 6972 642d 7061 7274 790a 696e 7465 6772  ird-party.integr
-00000aa0: 6174 696f 6e73 206f 7220 6469 7265 6374  ations or direct
-00000ab0: 6c79 2069 6e20 7468 6520 7573 6572 2773  ly in the user's
-00000ac0: 2063 6f64 652e 0a0a 5468 6520 6261 7369   code...The basi
-00000ad0: 6320 656c 656d 656e 7473 2066 726f 6d20  c elements from 
-00000ae0: 7768 6963 6820 6576 6572 7974 6869 6e67  which everything
-00000af0: 2069 7320 6275 696c 7420 6172 653a 0a0a   is built are:..
-00000b00: 2a20 6052 6567 6973 7472 7960 202d 204b  * `Registry` - K
-00000b10: 6579 2d56 616c 7565 206c 696b 6520 7374  ey-Value like st
-00000b20: 6f72 6520 666f 7220 7468 6520 6675 6e63  ore for the func
-00000b30: 7469 6f6e 730a 2a20 6045 7865 6375 746f  tions.* `Executo
-00000b40: 7260 202d 2054 6865 2074 6869 6e67 2077  r` - The thing w
-00000b50: 6869 6368 2065 7865 6375 7465 2066 756e  hich execute fun
-00000b60: 6374 696f 6e73 2066 726f 6d20 7468 6520  ctions from the 
-00000b70: 7265 6769 7374 7279 0a2a 2060 4272 6f6b  registry.* `Brok
-00000b80: 6572 6020 2d20 5468 6520 6163 746f 7220  er` - The actor 
-00000b90: 7768 6f20 6469 7374 7269 6275 7465 7320  who distributes 
-00000ba0: 7461 736b 7320 696e 2079 6f75 7220 6469  tasks in your di
-00000bb0: 7374 7269 6275 7465 640a 2020 286f 7220  stributed.  (or 
-00000bc0: 6c6f 6361 6c29 2073 7973 7465 6d2e 0a0a  local) system...
-00000bd0: 5265 6769 7374 7279 0a2d 2d2d 2d2d 2d2d  Registry.-------
-00000be0: 2d0a 0a54 6869 7320 6973 2061 2063 6f6e  -..This is a con
-00000bf0: 7461 696e 6572 206f 6620 6675 6e63 7469  tainer of functi
-00000c00: 6f6e 7320 666f 7220 7468 6569 7220 7375  ons for their su
-00000c10: 6273 6571 7565 6e74 2065 7865 6375 7469  bsequent executi
-00000c20: 6f6e 2e0a 596f 7520 6361 6e20 7265 6769  on..You can regi
-00000c30: 7374 6572 2061 2066 756e 6374 696f 6e20  ster a function 
-00000c40: 6279 2073 7065 6369 6669 6320 6e61 6d65  by specific name
-00000c50: 206f 7220 7769 7468 6f75 7420 6974 2c0a   or without it,.
-00000c60: 696e 2077 6869 6368 2063 6173 6520 7468  in which case th
-00000c70: 6520 6675 6e63 7469 6f6e 2069 7320 6173  e function is as
-00000c80: 7369 676e 6564 2061 2075 6e69 7175 6520  signed a unique 
-00000c90: 6e61 6d65 2074 6861 7420 6465 7065 6e64  name that depend
-00000ca0: 7320 6f6e 0a74 6865 2073 6f75 7263 6520  s on.the source 
-00000cb0: 636f 6465 206f 6620 7468 6520 6675 6e63  code of the func
-00000cc0: 7469 6f6e 2e0a 0a54 6869 7320 7265 6769  tion...This regi
-00000cd0: 7374 7279 2064 6f65 7320 6e6f 7420 6e65  stry does not ne
-00000ce0: 6365 7373 6172 696c 7920 6861 7665 2074  cessarily have t
-00000cf0: 6f20 6d61 7463 6820 6f6e 2074 6865 2063  o match on the c
-00000d00: 616c 6c69 6e67 2061 6e64 2063 616c 6c65  alling and calle
-00000d10: 640a 7369 6465 732c 2062 7574 2066 6f72  d.sides, but for
-00000d20: 2066 756e 6374 696f 6e73 2074 6861 7420   functions that 
-00000d30: 796f 7520 7265 6769 7374 6572 2077 6974  you register wit
-00000d40: 686f 7574 2061 206e 616d 6520 6974 2069  hout a name it i
-00000d50: 7320 6d75 7374 2062 652c 0a61 6e64 2074  s must be,.and t
-00000d60: 6865 6e20 796f 7520 7368 6f75 6c64 206e  hen you should n
-00000d70: 6f74 206e 6565 6420 746f 2070 6173 7320  ot need to pass 
-00000d80: 7468 6520 6675 6e63 7469 6f6e 206e 616d  the function nam
-00000d90: 6520 6275 7420 7468 6520 6675 6e63 7469  e but the functi
-00000da0: 6f6e 0a69 7473 656c 6620 7768 656e 2079  on.itself when y
-00000db0: 6f75 2077 696c 6c20 6361 6c6c 2069 742e  ou will call it.
-00000dc0: 0a0a 416e 2069 6e73 7461 6e63 6520 6f66  ..An instance of
-00000dd0: 2074 6865 2072 6567 6973 7472 7920 6d75   the registry mu
-00000de0: 7374 2062 6520 7472 616e 7366 6572 7265  st be transferre
-00000df0: 6420 746f 2074 6865 2062 726f 6b65 722c  d to the broker,
-00000e00: 0a74 6865 2066 6972 7374 2062 726f 6b65  .the first broke
-00000e10: 7220 696e 2074 6865 2070 726f 6365 7373  r in the process
-00000e20: 206f 6620 7365 7474 696e 6720 7570 2077   of setting up w
-00000e30: 696c 6c20 626c 6f63 6b20 7468 6520 7265  ill block the re
-00000e40: 6769 7374 7279 0a74 6f20 7772 6974 652c  gistry.to write,
-00000e50: 2074 6861 7420 6973 2c20 7265 6769 7374   that is, regist
-00000e60: 6572 696e 6720 6e65 7720 6675 6e63 7469  ering new functi
-00000e70: 6f6e 7320 7769 6c6c 2062 6520 696d 706f  ons will be impo
-00000e80: 7373 6962 6c65 2e0a 0a41 6e20 6f70 7469  ssible...An opti
-00000e90: 6f6e 616c 2060 6070 726f 6a65 6374 6060  onal ``project``
-00000ea0: 2070 6172 616d 6574 6572 2c20 7468 6973   parameter, this
-00000eb0: 2069 7320 6573 7365 6e74 6961 6c6c 7920   is essentially 
-00000ec0: 6c69 6b65 2061 206e 616d 6573 7061 6365  like a namespace
-00000ed0: 0a74 6861 7420 7769 6c6c 2068 656c 7020  .that will help 
-00000ee0: 6176 6f69 6420 636c 6173 6820 6675 6e63  avoid clash func
-00000ef0: 7469 6f6e 7320 696e 2064 6966 6665 7265  tions in differe
-00000f00: 6e74 2070 726f 6a65 6374 7320 7769 7468  nt projects with
-00000f10: 2074 6865 2073 616d 650a 6e61 6d65 2e20   the same.name. 
-00000f20: 4974 2069 7320 7265 636f 6d6d 656e 6465  It is recommende
-00000f30: 6420 746f 2073 7065 6369 6679 2069 7420  d to specify it 
-00000f40: 616e 6420 7468 6520 6272 6f6b 6572 2073  and the broker s
-00000f50: 686f 756c 6420 616c 736f 2075 7365 2074  hould also use t
-00000f60: 6869 730a 7061 7261 6d65 7465 722c 2073  his.parameter, s
-00000f70: 6f20 6974 2073 686f 756c 6420 6265 2074  o it should be t
-00000f80: 6865 2073 616d 6520 7661 6c75 6520 7769  he same value wi
-00000f90: 7468 696e 2074 6865 2073 616d 6520 7072  thin the same pr
-00000fa0: 6f6a 6563 742e 0a0a 596f 7520 6361 6e20  oject...You can 
-00000fb0: 6569 7468 6572 206d 616e 7561 6c6c 7920  either manually 
-00000fc0: 7265 6769 7374 6572 2065 6c65 6d65 6e74  register element
-00000fd0: 7320 6f72 2075 7365 2061 0a72 6567 6973  s or use a.regis
-00000fe0: 7472 7920 696e 7374 616e 6365 2061 7320  try instance as 
-00000ff0: 6120 6465 636f 7261 746f 723a 0a0a 6060  a decorator:..``
-00001000: 6070 7974 686f 6e0a 6672 6f6d 2070 6174  `python.from pat
-00001010: 696f 2069 6d70 6f72 7420 5265 6769 7374  io import Regist
-00001020: 7279 0a0a 7270 6320 3d20 5265 6769 7374  ry..rpc = Regist
-00001030: 7279 2870 726f 6a65 6374 3d22 6578 616d  ry(project="exam
-00001040: 706c 6522 290a 0a23 2057 696c 6c20 6265  ple")..# Will be
-00001050: 2072 6567 6973 7465 7265 6420 7769 7468   registered with
-00001060: 2061 7574 6f20 6765 6e65 7261 7465 6420   auto generated 
-00001070: 6e61 6d65 0a40 7270 630a 6465 6620 6d75  name.@rpc.def mu
-00001080: 6c28 612c 2062 293a 0a20 2020 2072 6574  l(a, b):.    ret
-00001090: 7572 6e20 6120 2a20 620a 0a40 7270 6328  urn a * b..@rpc(
-000010a0: 2764 6976 2729 0a64 6566 2064 6976 2861  'div').def div(a
-000010b0: 2c20 6229 3a0a 2020 2020 7265 7475 726e  , b):.    return
-000010c0: 2061 202f 2062 0a0a 6465 6620 706f 7728   a / b..def pow(
-000010d0: 612c 2062 293a 0a20 2020 2072 6574 7572  a, b):.    retur
-000010e0: 6e20 6120 2a2a 2062 0a0a 6465 6620 7375  n a ** b..def su
-000010f0: 6228 612c 2062 293a 0a20 2020 2072 6574  b(a, b):.    ret
-00001100: 7572 6e20 6120 2d20 620a 0a23 2052 6567  urn a - b..# Reg
-00001110: 6973 7465 7220 7769 7468 2061 7574 6f20  ister with auto 
-00001120: 6765 6e65 7261 7465 6420 6e61 6d65 0a72  generated name.r
-00001130: 7063 2e72 6567 6973 7465 7228 706f 7729  pc.register(pow)
-00001140: 0a0a 7270 632e 7265 6769 7374 6572 2873  ..rpc.register(s
-00001150: 7562 2c20 2273 7562 2229 0a60 6060 0a0a  ub, "sub").```..
-00001160: 416c 7465 726e 6174 6976 656c 7920 7573  Alternatively us
-00001170: 696e 6720 6060 7265 6769 7374 6572 6060  ing ``register``
-00001180: 206d 6574 686f 643a 0a0a 6060 6070 7974   method:..```pyt
-00001190: 686f 6e0a 6672 6f6d 2070 6174 696f 2069  hon.from patio i
-000011a0: 6d70 6f72 7420 5265 6769 7374 7279 0a0a  mport Registry..
-000011b0: 7270 6320 3d20 5265 6769 7374 7279 2870  rpc = Registry(p
-000011c0: 726f 6a65 6374 3d22 6578 616d 706c 6522  roject="example"
-000011d0: 290a 0a64 6566 2070 6f77 2861 2c20 6229  )..def pow(a, b)
-000011e0: 3a0a 2020 2020 7265 7475 726e 2061 202a  :.    return a *
-000011f0: 2a20 620a 0a64 6566 2073 7562 2861 2c20  * b..def sub(a, 
-00001200: 6229 3a0a 2020 2020 7265 7475 726e 2061  b):.    return a
-00001210: 202d 2062 0a0a 2320 5265 6769 7374 6572   - b..# Register
-00001220: 2077 6974 6820 6175 746f 2067 656e 6572   with auto gener
-00001230: 6174 6564 206e 616d 650a 7270 632e 7265  ated name.rpc.re
-00001240: 6769 7374 6572 2870 6f77 290a 0a72 7063  gister(pow)..rpc
-00001250: 2e72 6567 6973 7465 7228 7375 622c 2022  .register(sub, "
-00001260: 7375 6222 290a 6060 600a 0a46 696e 616c  sub").```..Final
-00001270: 6c79 2c20 796f 7520 6361 6e20 7265 6769  ly, you can regi
-00001280: 7374 6572 2066 756e 6374 696f 6e73 2065  ster functions e
-00001290: 7870 6c69 6369 746c 792c 2061 7320 6966  xplicitly, as if
-000012a0: 2069 7420 7765 7265 0a6a 7573 7420 6120   it were.just a 
-000012b0: 6469 6374 696f 6e61 7279 3a0a 0a60 6060  dictionary:..```
-000012c0: 7079 7468 6f6e 0a66 726f 6d20 7061 7469  python.from pati
-000012d0: 6f20 696d 706f 7274 2052 6567 6973 7472  o import Registr
-000012e0: 790a 0a72 7063 203d 2052 6567 6973 7472  y..rpc = Registr
-000012f0: 7928 7072 6f6a 6563 743d 2265 7861 6d70  y(project="examp
-00001300: 6c65 2229 0a0a 6465 6620 6d75 6c28 612c  le")..def mul(a,
-00001310: 2062 293a 0a20 2020 2072 6574 7572 6e20   b):.    return 
-00001320: 6120 2a20 620a 0a72 7063 5b27 6d75 6c27  a * b..rpc['mul'
-00001330: 5d20 3d20 6d75 6c0a 6060 600a 0a45 7865  ] = mul.```..Exe
-00001340: 6375 746f 720a 2d2d 2d2d 2d2d 2d2d 0a0a  cutor.--------..
-00001350: 416e 2045 7865 6375 746f 7220 6973 2061  An Executor is a
-00001360: 6e20 656e 7469 7479 2074 6861 7420 6578  n entity that ex
-00001370: 6563 7574 6573 206c 6f63 616c 2066 756e  ecutes local fun
-00001380: 6374 696f 6e73 2066 726f 6d20 7265 6769  ctions from regi
-00001390: 7374 7279 2e0a 5468 6520 666f 6c6c 6f77  stry..The follow
-000013a0: 696e 6720 6578 6563 7574 6f72 7320 6172  ing executors ar
-000013b0: 6520 696d 706c 656d 656e 7465 6420 696e  e implemented in
-000013c0: 2074 6865 2070 6163 6b61 6765 3a0a 0a2a   the package:..*
-000013d0: 2060 4173 796e 6345 7865 6375 746f 7260   `AsyncExecutor`
-000013e0: 202d 2049 6d70 6c65 6d65 6e74 7320 706f   - Implements po
-000013f0: 6f6c 206f 6620 6173 796e 6368 726f 6e6f  ol of asynchrono
-00001400: 7573 2074 6173 6b73 0a2a 2060 5468 7265  us tasks.* `Thre
-00001410: 6164 506f 6f6c 4578 6563 7574 6f72 6020  adPoolExecutor` 
-00001420: 2d20 496d 706c 656d 656e 7473 2070 6f6f  - Implements poo
-00001430: 6c20 6f66 2074 6872 6561 6473 0a2a 2060  l of threads.* `
-00001440: 5072 6f63 6573 7350 6f6f 6c45 7865 6375  ProcessPoolExecu
-00001450: 746f 7260 202d 2049 6d70 6c65 6d65 6e74  tor` - Implement
-00001460: 7320 706f 6f6c 206f 6620 7072 6f63 6573  s pool of proces
-00001470: 7365 730a 2a20 604e 756c 6c45 7865 6375  ses.* `NullExecu
-00001480: 746f 7260 202d 2049 6d70 6c65 6d65 6e74  tor` - Implement
-00001490: 7320 6e6f 7468 696e 6720 616e 6420 6578  s nothing and ex
-000014a0: 6973 7473 206a 7573 7420 666f 7220 666f  ists just for fo
-000014b0: 7262 6964 2065 7865 6375 7465 0a20 2061  rbid execute.  a
-000014c0: 6e79 7468 696e 6720 6578 706c 6963 6974  nything explicit
-000014d0: 6c79 2e0a 0a49 7473 2072 6f6c 6520 6973  ly...Its role is
-000014e0: 2074 6f20 7265 6c69 6162 6c79 2065 7865   to reliably exe
-000014f0: 6375 7465 206a 6f62 7320 7769 7468 6f75  cute jobs withou
-00001500: 7420 7461 6b69 6e67 2074 6f6f 206d 7563  t taking too muc
-00001510: 6820 736f 2061 7320 6e6f 7420 746f 0a63  h so as not to.c
-00001520: 6175 7365 2061 2064 656e 6961 6c20 6f66  ause a denial of
-00001530: 2073 6572 7669 6365 2c20 6f72 2065 7863   service, or exc
-00001540: 6573 7369 7665 206d 656d 6f72 7920 636f  essive memory co
-00001550: 6e73 756d 7074 696f 6e2e 0a0a 5468 6520  nsumption...The 
-00001560: 6578 6563 7574 6f72 2069 6e73 7461 6e63  executor instanc
-00001570: 6520 6973 2070 6173 7369 6e67 2074 6f20  e is passing to 
-00001580: 7468 6520 6272 6f6b 6572 2c20 6974 2773  the broker, it's
-00001590: 2075 7375 616c 6c79 2061 7070 6c69 6573   usually applies
-000015a0: 0a69 7420 746f 2074 6865 2077 686f 6c65  .it to the whole
-000015b0: 2072 6567 6973 7472 792e 2054 6865 7265   registry. There
-000015c0: 666f 7265 2c20 796f 7520 7368 6f75 6c64  fore, you should
-000015d0: 2075 6e64 6572 7374 616e 6420 7768 6174   understand what
-000015e0: 2066 756e 6374 696f 6e73 0a74 6865 2072   functions.the r
-000015f0: 6567 6973 7472 7920 6d75 7374 2063 6f6e  egistry must con
-00001600: 7461 696e 2074 6f20 6368 6f6f 7365 206b  tain to choose k
-00001610: 696e 6420 6f66 2061 6e20 6578 6563 7574  ind of an execut
-00001620: 6f72 2e0a 0a42 726f 6b65 720a 2d2d 2d2d  or...Broker.----
-00001630: 2d2d 0a0a 5468 6520 6261 7369 6320 6170  --..The basic ap
-00001640: 7072 6f61 6368 2066 6f72 2064 6973 7472  proach for distr
-00001650: 6962 7574 696e 6720 7461 736b 7320 6973  ibuting tasks is
-00001660: 2074 6f20 7368 6966 7420 7468 6520 7265   to shift the re
-00001670: 7370 6f6e 7369 6269 6c69 7479 0a66 6f72  sponsibility.for
-00001680: 2074 6865 2064 6973 7472 6962 7574 696f   the distributio
-00001690: 6e20 746f 2074 6865 2075 7365 7220 696d  n to the user im
-000016a0: 706c 656d 656e 7461 7469 6f6e 2e20 496e  plementation. In
-000016b0: 2074 6869 7320 7761 792c 2074 6173 6b0a   this way, task.
-000016c0: 6469 7374 7269 6275 7469 6f6e 2063 616e  distribution can
-000016d0: 2062 6520 696d 706c 656d 656e 7465 6420   be implemented 
-000016e0: 7468 726f 7567 6820 7468 6972 642d 7061  through third-pa
-000016f0: 7274 7920 6272 6f6b 6572 732c 2064 6174  rty brokers, dat
-00001700: 6162 6173 6573 2c0a 6f72 2073 6f6d 6574  abases,.or somet
-00001710: 6869 6e67 2065 6c73 652e 0a0a 5468 6973  hing else...This
-00001720: 2070 6163 6b61 6765 2069 7320 696d 706c   package is impl
-00001730: 656d 656e 7465 6420 6279 2074 6865 2066  emented by the f
-00001740: 6f6c 6c6f 7769 6e67 2062 726f 6b65 7273  ollowing brokers
-00001750: 3a0a 0a2a 2060 4d65 6d6f 7279 4272 6f6b  :..* `MemoryBrok
-00001760: 6572 6020 2d20 546f 2064 6973 7472 6962  er` - To distrib
-00001770: 7574 6520 7461 736b 7320 7769 7468 696e  ute tasks within
-00001780: 2061 2073 696e 676c 6520 7072 6f63 6573   a single proces
-00001790: 732e 0a20 2020 4120 7665 7279 2073 696d  s..   A very sim
-000017a0: 706c 6520 696d 706c 656d 656e 7461 7469  ple implementati
-000017b0: 6f6e 2c20 696e 2063 6173 6520 796f 7520  on, in case you 
-000017c0: 646f 6e27 7420 6b6e 6f77 2079 6574 2068  don't know yet h
-000017d0: 6f77 0a20 2020 796f 7572 2061 7070 6c69  ow.   your appli
-000017e0: 6361 7469 6f6e 2077 696c 6c20 6465 7665  cation will deve
-000017f0: 6c6f 7020 616e 6420 6a75 7374 2077 616e  lop and just wan
-00001800: 7420 746f 206c 6561 7665 2074 6865 2064  t to leave the d
-00001810: 6563 6973 696f 6e0a 2020 206f 6620 7768  ecision.   of wh
-00001820: 6963 6820 6272 6f6b 6572 2074 6f20 7573  ich broker to us
-00001830: 6520 666f 7220 6c61 7465 722c 2077 6869  e for later, whi
-00001840: 6c65 206c 6179 696e 6720 7468 6520 666f  le laying the fo
-00001850: 756e 6461 7469 6f6e 2066 6f72 0a20 2020  undation for.   
-00001860: 7377 6974 6368 696e 6720 746f 2061 6e6f  switching to ano
-00001870: 7468 6572 2062 726f 6b65 722e 0a2a 2060  ther broker..* `
-00001880: 5443 5042 726f 6b65 7260 202d 2053 696d  TCPBroker` - Sim
-00001890: 706c 6520 696d 706c 656d 656e 7461 7469  ple implementati
-000018a0: 6f6e 206f 6620 7468 6520 6272 6f6b 6572  on of the broker
-000018b0: 206a 7573 7420 7573 696e 6720 5443 502c   just using TCP,
-000018c0: 0a20 2020 626f 7468 2053 6572 7665 7220  .   both Server 
-000018d0: 616e 6420 436c 6965 6e74 206d 6f64 6520  and Client mode 
-000018e0: 6973 2073 7570 706f 7274 6564 2066 6f72  is supported for
-000018f0: 2062 6f74 6820 7468 6520 7461 736b 2065   both the task e
-00001900: 7865 6375 746f 720a 2020 2061 6e64 2074  xecutor.   and t
-00001910: 6865 2074 6173 6b20 7072 6f76 6964 6572  he task provider
-00001920: 2e0a 0a23 2323 2060 4d65 6d6f 7279 4272  ...### `MemoryBr
-00001930: 6f6b 6572 600a 0a49 7427 7320 6120 676f  oker`..It's a go
-00001940: 6f64 2073 7461 7274 2069 6620 796f 7520  od start if you 
-00001950: 646f 6e27 7420 6e65 6564 2074 6f20 6173  don't need to as
-00001960: 7369 676e 2074 6173 6b73 2069 6e20 6120  sign tasks in a 
-00001970: 6469 7374 7269 6275 7465 640a 6661 7368  distributed.fash
-00001980: 696f 6e20 7269 6768 7420 6e6f 772e 0a0a  ion right now...
-00001990: 496e 2066 6163 742c 2069 7427 7320 6120  In fact, it's a 
-000019a0: 7369 6d70 6c65 2077 6179 2074 6f20 7275  simple way to ru
-000019b0: 6e20 7461 736b 7320 696e 2074 6865 2065  n tasks in the e
-000019c0: 7865 6375 746f 7220 6672 6f6d 2074 6865  xecutor from the
-000019d0: 206f 7468 6572 0a70 6c61 6365 7320 696e   other.places in
-000019e0: 2079 6f75 7220 7072 6f6a 6563 742e 0a0a   your project...
-000019f0: 2323 2320 6054 4350 4272 6f6b 6572 600a  ### `TCPBroker`.
-00001a00: 0a49 7420 616c 6c6f 7773 2079 6f75 2074  .It allows you t
-00001a10: 6f20 6d61 6b65 2079 6f75 7220 7461 736b  o make your task
-00001a20: 7320 6469 7374 7269 6275 7465 6420 7769  s distributed wi
-00001a30: 7468 6f75 7420 7265 736f 7274 696e 6720  thout resorting 
-00001a40: 746f 2065 7874 6572 6e61 6c0a 6d65 7373  to external.mess
-00001a50: 6167 6520 6272 6f6b 6572 732e 0a0a 5468  age brokers...Th
-00001a60: 6520 6261 7369 6320 6964 6561 206f 6620  e basic idea of 
-00001a70: 5443 5020 6272 6f6b 6572 2069 6d70 6c65  TCP broker imple
-00001a80: 6d65 6e74 6174 696f 6e20 6973 2074 6861  mentation is tha
-00001a90: 7420 696e 2074 6572 6d73 206f 660a 7065  t in terms of.pe
-00001aa0: 7266 6f72 6d69 6e67 2074 6173 6b73 2c20  rforming tasks, 
-00001ab0: 7468 6572 6520 6973 206e 6f20 6469 6666  there is no diff
-00001ac0: 6572 656e 6365 2062 6574 7765 656e 2074  erence between t
-00001ad0: 6865 6d2c 2069 7420 6973 0a6a 7573 7420  hem, it is.just 
-00001ae0: 6120 7761 7920 746f 2065 7374 6162 6c69  a way to establi
-00001af0: 7368 2061 2063 6f6e 6e65 6374 696f 6e2c  sh a connection,
-00001b00: 2062 6f74 6820 7468 6520 7365 7276 6572   both the server
-00001b10: 2061 6e64 2074 6865 0a63 6c69 656e 7420   and the.client 
-00001b20: 6361 6e20 6265 2074 6865 206f 6e65 2077  can be the one w
-00001b30: 686f 2070 6572 666f 726d 7320 7461 736b  ho performs task
-00001b40: 7320 616e 6420 7468 6520 6f6e 6520 7768  s and the one wh
-00001b50: 6f20 7365 7473 0a74 6865 6d2c 2061 6e64  o sets.them, and
-00001b60: 2069 7420 6973 2061 6c73 6f20 706f 7373   it is also poss
-00001b70: 6962 6c65 2069 6e20 6120 6d69 7865 6420  ible in a mixed 
-00001b80: 6d6f 6465 2e0a 0a49 6e20 6f74 6865 7220  mode...In other 
-00001b90: 776f 7264 732c 2064 6563 6964 696e 6720  words, deciding 
-00001ba0: 7768 6f20 7769 6c6c 2062 6520 7468 6520  who will be the 
-00001bb0: 7365 7276 6572 2061 6e64 2077 686f 2077  server and who w
-00001bc0: 696c 6c20 6265 2074 6865 0a63 6c69 656e  ill be the.clien
-00001bd0: 7420 696e 2079 6f75 7220 7379 7374 656d  t in your system
-00001be0: 2069 7320 6a75 7374 2061 2077 6179 2074   is just a way t
-00001bf0: 6f20 636f 6e6e 6563 7420 616e 6420 6669  o connect and fi
-00001c00: 6e64 2065 6163 6820 6f74 6865 720a 696e  nd each other.in
-00001c10: 2079 6f75 7220 6469 7374 7269 6275 7465   your distribute
-00001c20: 6420 7379 7374 656d 2e0a 0a48 6572 6520  d system...Here 
-00001c30: 6172 6520 7468 6520 7761 7973 206f 6620  are the ways of 
-00001c40: 6f72 6761 6e69 7a69 6e67 2063 6f6d 6d75  organizing commu
-00001c50: 6e69 6361 7469 6f6e 2062 6574 7765 656e  nication between
-00001c60: 2074 6865 0a73 6572 7665 7220 616e 6420   the.server and 
-00001c70: 7468 6520 636c 6965 6e74 732e 0a0a 2323  the clients...##
-00001c80: 2323 2053 6572 7665 7220 6365 6e74 7269  ## Server centri
-00001c90: 6320 7363 6865 6d65 2065 7861 6d70 6c65  c scheme example
-00001ca0: 0a0a 215b 7365 7276 6572 2063 656e 7472  ..![server centr
-00001cb0: 6963 5d28 6874 7470 733a 2f2f 7261 772e  ic](https://raw.
-00001cc0: 6769 7468 7562 7573 6572 636f 6e74 656e  githubuserconten
-00001cd0: 742e 636f 6d2f 7061 7469 6f2d 7079 7468  t.com/patio-pyth
-00001ce0: 6f6e 2f70 6174 696f 2f66 6561 7475 7265  on/patio/feature
-00001cf0: 2f74 6370 2d62 726f 6b65 722f 696d 6167  /tcp-broker/imag
-00001d00: 6573 2f73 6572 7665 722d 6365 6e74 7269  es/server-centri
-00001d10: 632e 7376 6720 2253 6572 7665 7220 4365  c.svg "Server Ce
-00001d20: 6e74 7269 6322 290a 0a54 6869 7320 6469  ntric")..This di
-00001d30: 6167 7261 6d20 6465 7363 7269 6265 7320  agram describes 
-00001d40: 6120 7369 6d70 6c65 2065 7861 6d70 6c65  a simple example
-00001d50: 2c20 6966 2074 6865 7265 2069 7320 6f6e  , if there is on
-00001d60: 6520 7365 7276 6572 0a61 6e64 206f 6e65  e server.and one
-00001d70: 2063 6c69 656e 7420 6578 6368 616e 6769   client exchangi
-00001d80: 6e67 206d 6573 7361 6765 7320 7669 6120  ng messages via 
-00001d90: 5443 502e 0a0a 2323 2323 204f 6e65 2063  TCP...#### One c
-00001da0: 6c69 656e 7420 6d75 6c74 6970 6c65 2073  lient multiple s
-00001db0: 6572 7665 7273 2065 7861 6d70 6c65 0a0a  ervers example..
-00001dc0: 215b 6d75 6c74 6970 6c65 2073 6572 7665  ![multiple serve
-00001dd0: 7273 5d28 6874 7470 733a 2f2f 7261 772e  rs](https://raw.
-00001de0: 6769 7468 7562 7573 6572 636f 6e74 656e  githubuserconten
-00001df0: 742e 636f 6d2f 7061 7469 6f2d 7079 7468  t.com/patio-pyth
-00001e00: 6f6e 2f70 6174 696f 2f66 6561 7475 7265  on/patio/feature
-00001e10: 2f74 6370 2d62 726f 6b65 722f 696d 6167  /tcp-broker/imag
-00001e20: 6573 2f6d 756c 7469 706c 652d 7365 7276  es/multiple-serv
-00001e30: 6572 732e 7376 6720 224f 6e65 2063 6c69  ers.svg "One cli
-00001e40: 656e 7420 6d75 6c74 6970 6c65 2073 6572  ent multiple ser
-00001e50: 7665 7273 2229 0a0a 5468 6973 2069 7320  vers")..This is 
-00001e60: 616e 2065 7861 6d70 6c65 206f 6620 686f  an example of ho
-00001e70: 7720 6120 636c 6965 6e74 2065 7374 6162  w a client estab
-00001e80: 6c69 7368 6573 2063 6f6e 6e65 6374 696f  lishes connectio
-00001e90: 6e73 2074 6f20 6120 7365 7420 7365 7276  ns to a set serv
-00001ea0: 6572 2e0a 0a23 2323 2320 4675 6c6c 206d  er...#### Full m
-00001eb0: 6573 6820 6578 616d 706c 650a 0a21 5b66  esh example..![f
-00001ec0: 756c 6c20 6d65 7368 5d28 6874 7470 733a  ull mesh](https:
-00001ed0: 2f2f 7261 772e 6769 7468 7562 7573 6572  //raw.githubuser
-00001ee0: 636f 6e74 656e 742e 636f 6d2f 7061 7469  content.com/pati
-00001ef0: 6f2d 7079 7468 6f6e 2f70 6174 696f 2f66  o-python/patio/f
-00001f00: 6561 7475 7265 2f74 6370 2d62 726f 6b65  eature/tcp-broke
-00001f10: 722f 696d 6167 6573 2f66 756c 6c2d 6d65  r/images/full-me
-00001f20: 7368 2e73 7667 2022 4675 6c6c 206d 6573  sh.svg "Full mes
-00001f30: 6822 290a 0a46 756c 6c20 6d65 7368 2073  h")..Full mesh s
-00001f40: 6368 656d 652c 2061 6c6c 2063 6c69 656e  cheme, all clien
-00001f50: 7473 2061 7265 2063 6f6e 6e65 6374 6564  ts are connected
-00001f60: 2074 6f20 616c 6c20 7365 7276 6572 732e   to all servers.
-00001f70: 0a0a 2323 2323 2041 7574 686f 7269 7a61  ..#### Authoriza
-00001f80: 7469 6f6e 0a0a 4175 7468 6f72 697a 6174  tion..Authorizat
-00001f90: 696f 6e20 7461 6b65 7320 706c 6163 6520  ion takes place 
-00001fa0: 6174 2074 6865 2073 7461 7274 206f 6620  at the start of 
-00001fb0: 7468 6520 636f 6e6e 6563 7469 6f6e 2c0a  the connection,.
-00001fc0: 666f 7220 7468 6973 2074 6865 2070 6172  for this the par
-00001fd0: 616d 6574 6572 2060 6b65 793d 6020 2860  ameter `key=` (`
-00001fe0: 6227 2760 2069 7320 6279 2064 6566 6175  b''` is by defau
-00001ff0: 6c74 2920 6d75 7374 2063 6f6e 7461 696e  lt) must contain
-00002000: 2074 6865 2073 616d 6520 6b65 7973 0a66   the same keys.f
-00002010: 6f72 2063 6c69 656e 7420 616e 6420 7365  or client and se
-00002020: 7276 6572 2e0a 0a2a 2a49 7420 6973 2069  rver...**It is i
-00002030: 6d70 6f72 7461 6e74 2074 6f20 756e 6465  mportant to unde
-00002040: 7273 7461 6e64 2074 6861 7420 7468 6973  rstand that this
-00002050: 2069 7320 6e6f 7420 3130 3025 2070 726f   is not 100% pro
-00002060: 7465 6374 696f 6e20 6167 6169 6e73 740a  tection against.
-00002070: 6174 7461 636b 7320 6c69 6b65 204d 4954  attacks like MIT
-00002080: 4d20 6574 632e 2a2a 0a0a 5468 6973 2061  M etc.**..This a
-00002090: 7070 726f 6163 6820 7368 6f75 6c64 206f  pproach should o
-000020a0: 6e6c 7920 6265 2075 7365 6420 6966 2074  nly be used if t
-000020b0: 6865 2063 6c69 656e 7420 616e 6420 7365  he client and se
-000020c0: 7276 6572 2061 7265 206f 6e20 6120 7472  rver are on a tr
-000020d0: 7573 7465 640a 6e65 7477 6f72 6b2e 2049  usted.network. I
-000020e0: 6e20 6f72 6465 7220 746f 2073 6563 7572  n order to secur
-000020f0: 6520 7472 6166 6669 6320 6173 2069 7420  e traffic as it 
-00002100: 7472 6176 6572 7365 7320 7468 6520 496e  traverses the In
-00002110: 7465 726e 6574 2c20 7468 650a 6073 736c  ternet, the.`ssl
-00002120: 5f63 6f6e 7465 7874 3d60 2070 6172 616d  _context=` param
-00002130: 6574 6572 2073 686f 756c 6420 6265 2070  eter should be p
-00002140: 7265 7065 6e64 6564 2074 6f20 626f 7468  repended to both
-00002150: 2074 6865 2073 6572 7665 7220 616e 6420   the server and 
-00002160: 7468 6520 636c 6965 6e74 0a28 7365 6520  the client.(see 
-00002170: 6578 616d 706c 6520 6265 6c6c 6f77 292e  example bellow).
-00002180: 0a0a 2323 2323 2045 7861 6d70 6c65 730a  ..#### Examples.
-00002190: 0a54 6865 2065 7861 6d70 6c65 7320 6265  .The examples be
-000021a0: 6c6f 7720 7769 6c6c 2068 6f70 6566 756c  low will hopeful
-000021b0: 6c79 2068 656c 7020 796f 7520 6669 6775  ly help you figu
-000021c0: 7265 2074 6869 7320 6f75 742e 0a0a 2323  re this out...##
-000021d0: 2323 2320 5365 7276 6572 2065 7865 6375  ### Server execu
-000021e0: 7469 6e67 2074 6173 6b73 0a0a 6060 6070  ting tasks..```p
-000021f0: 7974 686f 6e0a 6672 6f6d 2066 756e 6374  ython.from funct
-00002200: 6f6f 6c73 2069 6d70 6f72 7420 7265 6475  ools import redu
-00002210: 6365 0a0a 696d 706f 7274 2061 7379 6e63  ce..import async
-00002220: 696f 0a0a 6672 6f6d 2070 6174 696f 2069  io..from patio i
-00002230: 6d70 6f72 7420 5265 6769 7374 7279 0a66  mport Registry.f
-00002240: 726f 6d20 7061 7469 6f2e 6272 6f6b 6572  rom patio.broker
-00002250: 2e74 6370 2069 6d70 6f72 7420 5443 5053  .tcp import TCPS
-00002260: 6572 7665 7242 726f 6b65 720a 6672 6f6d  erverBroker.from
-00002270: 2070 6174 696f 2e65 7865 6375 746f 7220   patio.executor 
-00002280: 696d 706f 7274 2054 6872 6561 6450 6f6f  import ThreadPoo
-00002290: 6c45 7865 6375 746f 720a 0a72 7063 203d  lExecutor..rpc =
-000022a0: 2052 6567 6973 7472 7928 7072 6f6a 6563   Registry(projec
-000022b0: 743d 2274 6573 7422 2c20 6175 746f 5f6e  t="test", auto_n
-000022c0: 616d 696e 673d 4661 6c73 6529 0a0a 0a64  aming=False)...d
-000022d0: 6566 206d 756c 282a 6172 6773 293a 0a20  ef mul(*args):. 
-000022e0: 2020 2072 6574 7572 6e20 7265 6475 6365     return reduce
-000022f0: 286c 616d 6264 6120 782c 2079 3a20 7820  (lambda x, y: x 
-00002300: 2a20 792c 2061 7267 7329 0a0a 0a61 7379  * y, args)...asy
-00002310: 6e63 2064 6566 206d 6169 6e28 293a 0a20  nc def main():. 
-00002320: 2020 2072 7063 2e72 6567 6973 7465 7228     rpc.register(
-00002330: 6d75 6c2c 2022 6d75 6c22 290a 0a20 2020  mul, "mul")..   
-00002340: 2061 7379 6e63 2077 6974 6820 5468 7265   async with Thre
-00002350: 6164 506f 6f6c 4578 6563 7574 6f72 2872  adPoolExecutor(r
-00002360: 7063 2920 6173 2065 7865 6375 746f 723a  pc) as executor:
-00002370: 0a20 2020 2020 2020 2061 7379 6e63 2077  .        async w
-00002380: 6974 6820 5443 5053 6572 7665 7242 726f  ith TCPServerBro
-00002390: 6b65 7228 6578 6563 7574 6f72 2920 6173  ker(executor) as
-000023a0: 2062 726f 6b65 723a 0a20 2020 2020 2020   broker:.       
-000023b0: 2020 2020 2023 2053 7461 7274 2049 5076       # Start IPv
-000023c0: 3420 7365 7276 6572 0a20 2020 2020 2020  4 server.       
-000023d0: 2020 2020 2061 7761 6974 2062 726f 6b65       await broke
-000023e0: 722e 6c69 7374 656e 2861 6464 7265 7373  r.listen(address
-000023f0: 3d27 3132 372e 302e 302e 3127 290a 0a20  ='127.0.0.1').. 
-00002400: 2020 2020 2020 2020 2020 2023 2053 7461             # Sta
-00002410: 7274 2049 5076 3620 7365 7276 6572 0a20  rt IPv6 server. 
-00002420: 2020 2020 2020 2020 2020 2061 7761 6974             await
-00002430: 2062 726f 6b65 722e 6c69 7374 656e 2861   broker.listen(a
-00002440: 6464 7265 7373 3d27 3a3a 3127 2c20 706f  ddress='::1', po
-00002450: 7274 3d31 3233 3435 290a 0a20 2020 2020  rt=12345)..     
-00002460: 2020 2020 2020 2061 7761 6974 2062 726f         await bro
-00002470: 6b65 722e 6a6f 696e 2829 0a0a 0a69 6620  ker.join()...if 
-00002480: 5f5f 6e61 6d65 5f5f 203d 3d20 225f 5f6d  __name__ == "__m
-00002490: 6169 6e5f 5f22 3a0a 2020 2020 6173 796e  ain__":.    asyn
-000024a0: 6369 6f2e 7275 6e28 6d61 696e 2829 290a  cio.run(main()).
-000024b0: 6060 600a 0a23 2323 2323 2043 6c69 656e  ```..##### Clien
-000024c0: 7420 6361 6c6c 696e 6720 7461 736b 7320  t calling tasks 
-000024d0: 7265 6d6f 7465 6c79 0a0a 6060 6070 7974  remotely..```pyt
-000024e0: 686f 6e0a 696d 706f 7274 2061 7379 6e63  hon.import async
-000024f0: 696f 0a0a 6672 6f6d 2070 6174 696f 2069  io..from patio i
-00002500: 6d70 6f72 7420 5265 6769 7374 7279 0a66  mport Registry.f
-00002510: 726f 6d20 7061 7469 6f2e 6272 6f6b 6572  rom patio.broker
-00002520: 2e74 6370 2069 6d70 6f72 7420 5443 5043  .tcp import TCPC
-00002530: 6c69 656e 7442 726f 6b65 720a 6672 6f6d  lientBroker.from
-00002540: 2070 6174 696f 2e65 7865 6375 746f 7220   patio.executor 
-00002550: 696d 706f 7274 204e 756c 6c45 7865 6375  import NullExecu
-00002560: 746f 720a 0a72 7063 203d 2052 6567 6973  tor..rpc = Regis
-00002570: 7472 7928 7072 6f6a 6563 743d 2274 6573  try(project="tes
-00002580: 7422 2c20 6175 746f 5f6e 616d 696e 673d  t", auto_naming=
-00002590: 4661 6c73 6529 0a0a 0a61 7379 6e63 2064  False)...async d
-000025a0: 6566 206d 6169 6e28 293a 0a20 2020 2061  ef main():.    a
-000025b0: 7379 6e63 2077 6974 6820 4e75 6c6c 4578  sync with NullEx
-000025c0: 6563 7574 6f72 2872 7063 2920 6173 2065  ecutor(rpc) as e
-000025d0: 7865 6375 746f 723a 0a20 2020 2020 2020  xecutor:.       
-000025e0: 2061 7379 6e63 2077 6974 6820 5443 5043   async with TCPC
-000025f0: 6c69 656e 7442 726f 6b65 7228 6578 6563  lientBroker(exec
-00002600: 7574 6f72 2920 6173 2062 726f 6b65 723a  utor) as broker:
-00002610: 0a20 2020 2020 2020 2020 2020 2023 2043  .            # C
-00002620: 6f6e 6e65 6374 2074 6f20 7468 6520 4950  onnect to the IP
-00002630: 7634 2061 6464 7265 7373 0a20 2020 2020  v4 address.     
-00002640: 2020 2020 2020 2061 7761 6974 2062 726f         await bro
-00002650: 6b65 722e 636f 6e6e 6563 7428 6164 6472  ker.connect(addr
-00002660: 6573 733d 2731 3237 2e30 2e30 2e31 2729  ess='127.0.0.1')
-00002670: 0a0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
-00002680: 436f 6e6e 6563 7420 746f 2074 6865 2049  Connect to the I
-00002690: 5076 3620 6164 6472 6573 7320 286f 7074  Pv6 address (opt
-000026a0: 696f 6e61 6c29 0a20 2020 2020 2020 2020  ional).         
+00000000: 5b21 5b50 7950 4920 2d20 4c69 6365 6e73  [![PyPI - Licens
+00000010: 655d 2868 7474 7073 3a2f 2f69 6d67 2e73  e](https://img.s
+00000020: 6869 656c 6473 2e69 6f2f 7079 7069 2f6c  hields.io/pypi/l
+00000030: 2f70 6174 696f 295d 2868 7474 7073 3a2f  /patio)](https:/
+00000040: 2f70 7970 692e 6f72 672f 7072 6f6a 6563  /pypi.org/projec
+00000050: 742f 7061 7469 6f29 205b 215b 5768 6565  t/patio) [![Whee
+00000060: 6c5d 2868 7474 7073 3a2f 2f69 6d67 2e73  l](https://img.s
+00000070: 6869 656c 6473 2e69 6f2f 7079 7069 2f77  hields.io/pypi/w
+00000080: 6865 656c 2f70 6174 696f 295d 2868 7474  heel/patio)](htt
+00000090: 7073 3a2f 2f70 7970 692e 6f72 672f 7072  ps://pypi.org/pr
+000000a0: 6f6a 6563 742f 7061 7469 6f29 205b 215b  oject/patio) [![
+000000b0: 4d79 7079 5d28 6874 7470 3a2f 2f77 7777  Mypy](http://www
+000000c0: 2e6d 7970 792d 6c61 6e67 2e6f 7267 2f73  .mypy-lang.org/s
+000000d0: 7461 7469 632f 6d79 7079 5f62 6164 6765  tatic/mypy_badge
+000000e0: 2e73 7667 295d 2829 205b 215b 5079 5049  .svg)]() [![PyPI
+000000f0: 5d28 6874 7470 733a 2f2f 696d 672e 7368  ](https://img.sh
+00000100: 6965 6c64 732e 696f 2f70 7970 692f 762f  ields.io/pypi/v/
+00000110: 7061 7469 6f29 5d28 6874 7470 733a 2f2f  patio)](https://
+00000120: 7079 7069 2e6f 7267 2f70 726f 6a65 6374  pypi.org/project
+00000130: 2f70 6174 696f 2920 5b21 5b50 7950 495d  /patio) [![PyPI]
+00000140: 2868 7474 7073 3a2f 2f69 6d67 2e73 6869  (https://img.shi
+00000150: 656c 6473 2e69 6f2f 7079 7069 2f70 7976  elds.io/pypi/pyv
+00000160: 6572 7369 6f6e 732f 7061 7469 6f29 5d28  ersions/patio)](
+00000170: 6874 7470 733a 2f2f 7079 7069 2e6f 7267  https://pypi.org
+00000180: 2f70 726f 6a65 6374 2f70 6174 696f 2920  /project/patio) 
+00000190: 5b21 5b43 6f76 6572 6167 6520 5374 6174  [![Coverage Stat
+000001a0: 7573 5d28 6874 7470 733a 2f2f 636f 7665  us](https://cove
+000001b0: 7261 6c6c 732e 696f 2f72 6570 6f73 2f67  ralls.io/repos/g
+000001c0: 6974 6875 622f 7061 7469 6f2d 7079 7468  ithub/patio-pyth
+000001d0: 6f6e 2f70 6174 696f 2f62 6164 6765 2e73  on/patio/badge.s
+000001e0: 7667 3f62 7261 6e63 683d 6d61 7374 6572  vg?branch=master
+000001f0: 295d 2868 7474 7073 3a2f 2f63 6f76 6572  )](https://cover
+00000200: 616c 6c73 2e69 6f2f 6769 7468 7562 2f70  alls.io/github/p
+00000210: 6174 696f 2d70 7974 686f 6e2f 7061 7469  atio-python/pati
+00000220: 6f3f 6272 616e 6368 3d6d 6173 7465 7229  o?branch=master)
+00000230: 2021 5b74 6f78 5d28 6874 7470 733a 2f2f   ![tox](https://
+00000240: 6769 7468 7562 2e63 6f6d 2f70 6174 696f  github.com/patio
+00000250: 2d70 7974 686f 6e2f 7061 7469 6f2f 776f  -python/patio/wo
+00000260: 726b 666c 6f77 732f 7465 7374 732f 6261  rkflows/tests/ba
+00000270: 6467 652e 7376 673f 6272 616e 6368 3d6d  dge.svg?branch=m
+00000280: 6173 7465 7229 0a0a 5041 5449 4f0a 3d3d  aster)..PATIO.==
+00000290: 3d3d 3d0a 0a50 4154 494f 2069 7320 616e  ===..PATIO is an
+000002a0: 2061 6372 6f6e 796d 2066 6f72 202a 2a50   acronym for **P
+000002b0: 2a2a 7974 686f 6e20 2a2a 412a 2a73 796e  **ython **A**syn
+000002c0: 6368 726f 6e6f 7573 202a 2a54 2a2a 6173  chronous **T**as
+000002d0: 6b73 2066 6f72 2041 7379 6e63 2a2a 494f  ks for Async**IO
+000002e0: 2a2a 2e0a 0a4d 6f74 6976 6174 696f 6e0a  **...Motivation.
+000002f0: 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a 4920 7761  ----------..I wa
+00000300: 6e74 6564 2074 6f20 6372 6561 7465 2061  nted to create a
+00000310: 6e20 6561 7369 6c79 2065 7874 656e 7369  n easily extensi
+00000320: 626c 6520 6c69 6272 6172 792c 2066 6f72  ble library, for
+00000330: 2064 6973 7472 6962 7574 6564 2074 6173   distributed tas
+00000340: 6b20 6578 6563 7574 696f 6e2c 0a6c 696b  k execution,.lik
+00000350: 6520 5b60 6365 6c65 7279 605d 2868 7474  e [`celery`](htt
+00000360: 7073 3a2f 2f64 6f63 732e 6365 6c65 7279  ps://docs.celery
+00000370: 712e 6465 762f 292c 206f 6e6c 7920 7461  q.dev/), only ta
+00000380: 7267 6574 696e 6720 6173 796e 6369 6f20  rgeting asyncio 
+00000390: 6173 2074 6865 206d 6169 6e0a 6465 7369  as the main.desi
+000003a0: 676e 2061 7070 726f 6163 682e 0a0a 4279  gn approach...By
+000003b0: 2064 6573 6967 6e2c 2074 6865 206c 6962   design, the lib
+000003c0: 7261 7279 2073 686f 756c 6420 6265 2073  rary should be s
+000003d0: 7569 7461 626c 6520 666f 7220 736d 616c  uitable for smal
+000003e0: 6c20 7072 6f6a 6563 7473 2061 6e64 2074  l projects and t
+000003f0: 6865 2072 6561 6c6c 790a 6c61 7267 6520  he really.large 
+00000400: 6469 7374 7269 6275 7465 6420 7072 6f6a  distributed proj
+00000410: 6563 7473 2e20 5468 6520 6765 6e65 7261  ects. The genera
+00000420: 6c20 6964 6561 2069 7320 7468 6174 2074  l idea is that t
+00000430: 6865 2075 7365 7220 7369 6d70 6c79 2073  he user simply s
+00000440: 706c 6974 730a 7468 6520 7072 6f6a 6563  plits.the projec
+00000450: 7473 2063 6f64 6520 6261 7365 2069 6e74  ts code base int
+00000460: 6f20 6675 6e63 7469 6f6e 7320 6f66 2074  o functions of t
+00000470: 776f 2072 6f6c 6573 20e2 8093 2062 6163  wo roles ... bac
+00000480: 6b67 726f 756e 6420 7461 736b 7320 616e  kground tasks an
+00000490: 6420 7472 6967 6765 7273 206f 6620 7468  d triggers of th
+000004a0: 6573 6520 6261 636b 6772 6f75 6e64 2074  ese background t
+000004b0: 6173 6b73 2e0a 416c 736f 2c20 7468 6973  asks..Also, this
+000004c0: 2073 686f 756c 6420 6865 6c70 2079 6f75   should help you
+000004d0: 7220 7072 6f6a 6563 7420 746f 2073 6361  r project to sca
+000004e0: 6c65 2068 6f72 697a 6f6e 7461 6c6c 792e  le horizontally.
+000004f0: 2049 7420 616c 6c6f 7773 2074 6f20 6d61   It allows to ma
+00000500: 6b65 0a77 6f72 6b65 7273 206f 7220 6361  ke.workers or ca
+00000510: 6c6c 6572 7320 6176 6169 6c61 626c 6520  llers available 
+00000520: 6163 726f 7373 2074 6865 206e 6574 776f  across the netwo
+00000530: 726b 2075 7369 6e67 2065 6d62 6564 6465  rk using embedde
+00000540: 6420 5443 502c 206f 7220 7573 696e 670a  d TCP, or using.
+00000550: 706c 7567 696e 7320 746f 2063 6f6d 6d75  plugins to commu
+00000560: 6e69 6361 7465 2074 6872 6f75 6768 2074  nicate through t
+00000570: 6865 2065 7869 7374 696e 6720 6d65 7373  he existing mess
+00000580: 6167 696e 6720 696e 6672 6173 7472 7563  aging infrastruc
+00000590: 7475 7265 2e0a 0a51 7569 636b 7374 6172  ture...Quickstar
+000005a0: 740a 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a 5468  t.----------..Th
+000005b0: 6520 6d69 6e69 6d61 6c20 6578 616d 706c  e minimal exampl
+000005c0: 652c 2077 6869 6368 2065 7865 6375 7465  e, which execute
+000005d0: 7320 7461 736b 7320 696e 2061 2074 6872  s tasks in a thr
+000005e0: 6561 6420 706f 6f6c 3a0a 0a60 6060 7079  ead pool:..```py
+000005f0: 7468 6f6e 0a69 6d70 6f72 7420 6173 796e  thon.import asyn
+00000600: 6369 6f0a 6672 6f6d 2066 756e 6374 6f6f  cio.from functoo
+00000610: 6c73 2069 6d70 6f72 7420 7265 6475 6365  ls import reduce
+00000620: 0a0a 6672 6f6d 2070 6174 696f 2069 6d70  ..from patio imp
+00000630: 6f72 7420 5265 6769 7374 7279 0a66 726f  ort Registry.fro
+00000640: 6d20 7061 7469 6f2e 6272 6f6b 6572 2069  m patio.broker i
+00000650: 6d70 6f72 7420 4d65 6d6f 7279 4272 6f6b  mport MemoryBrok
+00000660: 6572 0a66 726f 6d20 7061 7469 6f2e 6578  er.from patio.ex
+00000670: 6563 7574 6f72 2069 6d70 6f72 7420 5468  ecutor import Th
+00000680: 7265 6164 506f 6f6c 4578 6563 7574 6f72  readPoolExecutor
+00000690: 0a0a 0a72 7063 203d 2052 6567 6973 7472  ...rpc = Registr
+000006a0: 7928 290a 0a0a 4072 7063 2822 6d75 6c22  y()...@rpc("mul"
+000006b0: 290a 6465 6620 6d75 6c74 6970 6c79 282a  ).def multiply(*
+000006c0: 6172 6773 3a20 696e 7429 202d 3e20 696e  args: int) -> in
+000006d0: 743a 0a20 2020 2072 6574 7572 6e20 7265  t:.    return re
+000006e0: 6475 6365 286c 616d 6264 6120 782c 2079  duce(lambda x, y
+000006f0: 3a20 7820 2a20 792c 2061 7267 7329 0a0a  : x * y, args)..
+00000700: 0a61 7379 6e63 2064 6566 206d 6169 6e28  .async def main(
+00000710: 293a 0a20 2020 2061 7379 6e63 2077 6974  ):.    async wit
+00000720: 6820 5468 7265 6164 506f 6f6c 4578 6563  h ThreadPoolExec
+00000730: 7574 6f72 2872 7063 2c20 6d61 785f 776f  utor(rpc, max_wo
+00000740: 726b 6572 733d 3429 2061 7320 6578 6563  rkers=4) as exec
+00000750: 7574 6f72 3a0a 2020 2020 2020 2020 6173  utor:.        as
+00000760: 796e 6320 7769 7468 204d 656d 6f72 7942  ync with MemoryB
+00000770: 726f 6b65 7228 6578 6563 7574 6f72 2920  roker(executor) 
+00000780: 6173 2062 726f 6b65 723a 0a20 2020 2020  as broker:.     
+00000790: 2020 2020 2020 2070 7269 6e74 280a 2020         print(.  
+000007a0: 2020 2020 2020 2020 2020 2020 2020 6177                aw
+000007b0: 6169 7420 6173 796e 6369 6f2e 6761 7468  ait asyncio.gath
+000007c0: 6572 280a 2020 2020 2020 2020 2020 2020  er(.            
+000007d0: 2020 2020 2020 2020 2a5b 6272 6f6b 6572          *[broker
+000007e0: 2e63 616c 6c28 226d 756c 222c 2031 2c20  .call("mul", 1, 
+000007f0: 322c 2033 2920 666f 7220 5f20 696e 2072  2, 3) for _ in r
+00000800: 616e 6765 2831 3030 295d 0a20 2020 2020  ange(100)].     
+00000810: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+00000820: 2020 2020 2020 2020 2029 0a0a 0a69 6620           )...if 
+00000830: 5f5f 6e61 6d65 5f5f 203d 3d20 275f 5f6d  __name__ == '__m
+00000840: 6169 6e5f 5f27 3a0a 2020 2020 6173 796e  ain__':.    asyn
+00000850: 6369 6f2e 7275 6e28 6d61 696e 2829 290a  cio.run(main()).
+00000860: 6060 600a 0a54 6865 2060 5468 7265 6164  ```..The `Thread
+00000870: 506f 6f6c 4578 6563 7574 6f72 6020 696e  PoolExecutor` in
+00000880: 2074 6869 7320 6578 616d 706c 6520 6973   this example is
+00000890: 2074 6865 2065 6e74 6974 7920 7468 6174   the entity that
+000008a0: 2077 696c 6c20 6578 6563 7574 6520 7468   will execute th
+000008b0: 650a 7461 736b 732e 2049 6620 7468 6520  e.tasks. If the 
+000008c0: 7461 736b 7320 696e 2079 6f75 7220 7072  tasks in your pr
+000008d0: 6f6a 6563 7420 6172 6520 6173 796e 6368  oject are asynch
+000008e0: 726f 6e6f 7573 2c20 796f 7520 6361 6e20  ronous, you can 
+000008f0: 7365 6c65 6374 0a60 4173 796e 6345 7865  select.`AsyncExe
+00000900: 6375 746f 7260 2c20 616e 6420 7468 656e  cutor`, and then
+00000910: 2074 6865 2063 6f64 6520 7769 6c6c 206c   the code will l
+00000920: 6f6f 6b20 6c69 6b65 2074 6869 733a 0a0a  ook like this:..
+00000930: 6060 6070 7974 686f 6e0a 696d 706f 7274  ```python.import
+00000940: 2061 7379 6e63 696f 0a66 726f 6d20 6675   asyncio.from fu
+00000950: 6e63 746f 6f6c 7320 696d 706f 7274 2072  nctools import r
+00000960: 6564 7563 650a 0a66 726f 6d20 7061 7469  educe..from pati
+00000970: 6f20 696d 706f 7274 2052 6567 6973 7472  o import Registr
+00000980: 790a 6672 6f6d 2070 6174 696f 2e62 726f  y.from patio.bro
+00000990: 6b65 7220 696d 706f 7274 204d 656d 6f72  ker import Memor
+000009a0: 7942 726f 6b65 720a 6672 6f6d 2070 6174  yBroker.from pat
+000009b0: 696f 2e65 7865 6375 746f 7220 696d 706f  io.executor impo
+000009c0: 7274 2041 7379 6e63 4578 6563 7574 6f72  rt AsyncExecutor
+000009d0: 0a0a 0a72 7063 203d 2052 6567 6973 7472  ...rpc = Registr
+000009e0: 7928 290a 0a0a 4072 7063 2822 6d75 6c22  y()...@rpc("mul"
+000009f0: 290a 6173 796e 6320 6465 6620 6d75 6c74  ).async def mult
+00000a00: 6970 6c79 282a 6172 6773 3a20 696e 7429  iply(*args: int)
+00000a10: 202d 3e20 696e 743a 0a20 2020 2023 2064   -> int:.    # d
+00000a20: 6f20 736f 6d65 7468 696e 6720 6173 796e  o something asyn
+00000a30: 6368 726f 6e6f 7573 6c79 0a20 2020 2061  chronously.    a
+00000a40: 7761 6974 2061 7379 6e63 696f 2e73 6c65  wait asyncio.sle
+00000a50: 6570 2830 290a 2020 2020 7265 7475 726e  ep(0).    return
+00000a60: 2072 6564 7563 6528 6c61 6d62 6461 2078   reduce(lambda x
+00000a70: 2c20 793a 2078 202a 2079 2c20 6172 6773  , y: x * y, args
+00000a80: 290a 0a0a 6173 796e 6320 6465 6620 6d61  )...async def ma
+00000a90: 696e 2829 3a0a 2020 2020 6173 796e 6320  in():.    async 
+00000aa0: 7769 7468 2041 7379 6e63 4578 6563 7574  with AsyncExecut
+00000ab0: 6f72 2872 7063 2c20 6d61 785f 776f 726b  or(rpc, max_work
+00000ac0: 6572 733d 3429 2061 7320 6578 6563 7574  ers=4) as execut
+00000ad0: 6f72 3a0a 2020 2020 2020 2020 6173 796e  or:.        asyn
+00000ae0: 6320 7769 7468 204d 656d 6f72 7942 726f  c with MemoryBro
+00000af0: 6b65 7228 6578 6563 7574 6f72 2920 6173  ker(executor) as
+00000b00: 2062 726f 6b65 723a 0a20 2020 2020 2020   broker:.       
+00000b10: 2020 2020 2070 7269 6e74 280a 2020 2020       print(.    
+00000b20: 2020 2020 2020 2020 2020 2020 6177 6169              awai
+00000b30: 7420 6173 796e 6369 6f2e 6761 7468 6572  t asyncio.gather
+00000b40: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00000b50: 2020 2020 2020 2a5b 6272 6f6b 6572 2e63        *[broker.c
+00000b60: 616c 6c28 226d 756c 222c 2031 2c20 322c  all("mul", 1, 2,
+00000b70: 2033 2920 666f 7220 5f20 696e 2072 616e   3) for _ in ran
+00000b80: 6765 2831 3030 295d 0a20 2020 2020 2020  ge(100)].       
+00000b90: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
+00000ba0: 2020 2020 2020 2029 0a0a 0a69 6620 5f5f         )...if __
+00000bb0: 6e61 6d65 5f5f 203d 3d20 275f 5f6d 6169  name__ == '__mai
+00000bc0: 6e5f 5f27 3a0a 2020 2020 6173 796e 6369  n__':.    asynci
+00000bd0: 6f2e 7275 6e28 6d61 696e 2829 290a 6060  o.run(main()).``
+00000be0: 600a 0a54 6865 7365 2065 7861 6d70 6c65  `..These example
+00000bf0: 7320 6d61 7920 7365 656d 2063 6f6d 706c  s may seem compl
+00000c00: 6963 6174 6564 2c20 6275 7420 646f 6e27  icated, but don'
+00000c10: 7420 776f 7272 792c 2074 6865 206e 6578  t worry, the nex
+00000c20: 7420 7365 6374 696f 6e20 6465 7461 696c  t section detail
+00000c30: 730a 7468 6520 6765 6e65 7261 6c20 636f  s.the general co
+00000c40: 6e63 6570 7473 2061 6e64 2068 6f70 6566  ncepts and hopef
+00000c50: 756c 6c79 2061 206c 6f74 2077 696c 6c20  ully a lot will 
+00000c60: 6265 636f 6d65 2063 6c65 6172 2074 6f20  become clear to 
+00000c70: 796f 752e 0a0a 5468 6520 6d61 696e 2063  you...The main c
+00000c80: 6f6e 6365 7074 730a 2d2d 2d2d 2d2d 2d2d  oncepts.--------
+00000c90: 2d2d 2d2d 2d2d 2d2d 2d0a 0a54 6865 206d  ---------..The m
+00000ca0: 6169 6e20 6964 6561 2069 6e20 6465 7665  ain idea in deve
+00000cb0: 6c6f 7069 6e67 2074 6869 7320 6c69 6272  loping this libr
+00000cc0: 6172 7920 7761 7320 746f 2063 7265 6174  ary was to creat
+00000cd0: 6520 6120 6d61 7869 6d61 6c6c 790a 6d6f  e a maximally.mo
+00000ce0: 6475 6c61 7220 616e 6420 6578 7465 6e73  dular and extens
+00000cf0: 6962 6c65 2073 7973 7465 6d20 7468 6174  ible system that
+00000d00: 2063 616e 2062 6520 6578 7061 6e64 6564   can be expanded
+00000d10: 2077 6974 6820 7468 6972 642d 7061 7274   with third-part
+00000d20: 790a 696e 7465 6772 6174 696f 6e73 206f  y.integrations o
+00000d30: 7220 6469 7265 6374 6c79 2069 6e20 7468  r directly in th
+00000d40: 6520 7573 6572 2773 2063 6f64 652e 0a0a  e user's code...
+00000d50: 5468 6520 6261 7369 6320 656c 656d 656e  The basic elemen
+00000d60: 7473 2066 726f 6d20 7768 6963 6820 6576  ts from which ev
+00000d70: 6572 7974 6869 6e67 2069 7320 6275 696c  erything is buil
+00000d80: 7420 6172 653a 0a0a 2a20 6052 6567 6973  t are:..* `Regis
+00000d90: 7472 7960 202d 204b 6579 2d56 616c 7565  try` - Key-Value
+00000da0: 206c 696b 6520 7374 6f72 6520 666f 7220   like store for 
+00000db0: 7468 6520 6675 6e63 7469 6f6e 730a 2a20  the functions.* 
+00000dc0: 6045 7865 6375 746f 7260 202d 2054 6865  `Executor` - The
+00000dd0: 2074 6869 6e67 2077 6869 6368 2065 7865   thing which exe
+00000de0: 6375 7465 2066 756e 6374 696f 6e73 2066  cute functions f
+00000df0: 726f 6d20 7468 6520 7265 6769 7374 7279  rom the registry
+00000e00: 0a2a 2060 4272 6f6b 6572 6020 2d20 5468  .* `Broker` - Th
+00000e10: 6520 6163 746f 7220 7768 6f20 6469 7374  e actor who dist
+00000e20: 7269 6275 7465 7320 7461 736b 7320 696e  ributes tasks in
+00000e30: 2079 6f75 7220 6469 7374 7269 6275 7465   your distribute
+00000e40: 640a 2020 286f 7220 6c6f 6361 6c29 2073  d.  (or local) s
+00000e50: 7973 7465 6d2e 0a0a 5265 6769 7374 7279  ystem...Registry
+00000e60: 0a2d 2d2d 2d2d 2d2d 2d0a 0a54 6869 7320  .--------..This 
+00000e70: 6973 2061 2063 6f6e 7461 696e 6572 206f  is a container o
+00000e80: 6620 6675 6e63 7469 6f6e 7320 666f 7220  f functions for 
+00000e90: 7468 6569 7220 7375 6273 6571 7565 6e74  their subsequent
+00000ea0: 2065 7865 6375 7469 6f6e 2e0a 596f 7520   execution..You 
+00000eb0: 6361 6e20 7265 6769 7374 6572 2061 2066  can register a f
+00000ec0: 756e 6374 696f 6e20 6279 2073 7065 6369  unction by speci
+00000ed0: 6669 6320 6e61 6d65 206f 7220 7769 7468  fic name or with
+00000ee0: 6f75 7420 6974 2c0a 696e 2077 6869 6368  out it,.in which
+00000ef0: 2063 6173 6520 7468 6520 6675 6e63 7469   case the functi
+00000f00: 6f6e 2069 7320 6173 7369 676e 6564 2061  on is assigned a
+00000f10: 2075 6e69 7175 6520 6e61 6d65 2074 6861   unique name tha
+00000f20: 7420 6465 7065 6e64 7320 6f6e 0a74 6865  t depends on.the
+00000f30: 2073 6f75 7263 6520 636f 6465 206f 6620   source code of 
+00000f40: 7468 6520 6675 6e63 7469 6f6e 2e0a 0a54  the function...T
+00000f50: 6869 7320 7265 6769 7374 7279 2064 6f65  his registry doe
+00000f60: 7320 6e6f 7420 6e65 6365 7373 6172 696c  s not necessaril
+00000f70: 7920 6861 7665 2074 6f20 6d61 7463 6820  y have to match 
+00000f80: 6f6e 2074 6865 2063 616c 6c69 6e67 2061  on the calling a
+00000f90: 6e64 2063 616c 6c65 640a 7369 6465 732c  nd called.sides,
+00000fa0: 2062 7574 2066 6f72 2066 756e 6374 696f   but for functio
+00000fb0: 6e73 2074 6861 7420 796f 7520 7265 6769  ns that you regi
+00000fc0: 7374 6572 2077 6974 686f 7574 2061 206e  ster without a n
+00000fd0: 616d 6520 6974 2069 7320 6d75 7374 2062  ame it is must b
+00000fe0: 652c 0a61 6e64 2074 6865 6e20 796f 7520  e,.and then you 
+00000ff0: 7368 6f75 6c64 206e 6f74 206e 6565 6420  should not need 
+00001000: 746f 2070 6173 7320 7468 6520 6675 6e63  to pass the func
+00001010: 7469 6f6e 206e 616d 6520 6275 7420 7468  tion name but th
+00001020: 6520 6675 6e63 7469 6f6e 0a69 7473 656c  e function.itsel
+00001030: 6620 7768 656e 2079 6f75 2077 696c 6c20  f when you will 
+00001040: 6361 6c6c 2069 742e 0a0a 416e 2069 6e73  call it...An ins
+00001050: 7461 6e63 6520 6f66 2074 6865 2072 6567  tance of the reg
+00001060: 6973 7472 7920 6d75 7374 2062 6520 7472  istry must be tr
+00001070: 616e 7366 6572 7265 6420 746f 2074 6865  ansferred to the
+00001080: 2062 726f 6b65 722c 0a74 6865 2066 6972   broker,.the fir
+00001090: 7374 2062 726f 6b65 7220 696e 2074 6865  st broker in the
+000010a0: 2070 726f 6365 7373 206f 6620 7365 7474   process of sett
+000010b0: 696e 6720 7570 2077 696c 6c20 626c 6f63  ing up will bloc
+000010c0: 6b20 7468 6520 7265 6769 7374 7279 0a74  k the registry.t
+000010d0: 6f20 7772 6974 652c 2074 6861 7420 6973  o write, that is
+000010e0: 2c20 7265 6769 7374 6572 696e 6720 6e65  , registering ne
+000010f0: 7720 6675 6e63 7469 6f6e 7320 7769 6c6c  w functions will
+00001100: 2062 6520 696d 706f 7373 6962 6c65 2e0a   be impossible..
+00001110: 0a41 6e20 6f70 7469 6f6e 616c 2060 6070  .An optional ``p
+00001120: 726f 6a65 6374 6060 2070 6172 616d 6574  roject`` paramet
+00001130: 6572 2c20 7468 6973 2069 7320 6573 7365  er, this is esse
+00001140: 6e74 6961 6c6c 7920 6c69 6b65 2061 206e  ntially like a n
+00001150: 616d 6573 7061 6365 0a74 6861 7420 7769  amespace.that wi
+00001160: 6c6c 2068 656c 7020 6176 6f69 6420 636c  ll help avoid cl
+00001170: 6173 6820 6675 6e63 7469 6f6e 7320 696e  ash functions in
+00001180: 2064 6966 6665 7265 6e74 2070 726f 6a65   different proje
+00001190: 6374 7320 7769 7468 2074 6865 2073 616d  cts with the sam
+000011a0: 650a 6e61 6d65 2e20 4974 2069 7320 7265  e.name. It is re
+000011b0: 636f 6d6d 656e 6465 6420 746f 2073 7065  commended to spe
+000011c0: 6369 6679 2069 7420 616e 6420 7468 6520  cify it and the 
+000011d0: 6272 6f6b 6572 2073 686f 756c 6420 616c  broker should al
+000011e0: 736f 2075 7365 2074 6869 730a 7061 7261  so use this.para
+000011f0: 6d65 7465 722c 2073 6f20 6974 2073 686f  meter, so it sho
+00001200: 756c 6420 6265 2074 6865 2073 616d 6520  uld be the same 
+00001210: 7661 6c75 6520 7769 7468 696e 2074 6865  value within the
+00001220: 2073 616d 6520 7072 6f6a 6563 742e 0a0a   same project...
+00001230: 596f 7520 6361 6e20 6569 7468 6572 206d  You can either m
+00001240: 616e 7561 6c6c 7920 7265 6769 7374 6572  anually register
+00001250: 2065 6c65 6d65 6e74 7320 6f72 2075 7365   elements or use
+00001260: 2061 0a72 6567 6973 7472 7920 696e 7374   a.registry inst
+00001270: 616e 6365 2061 7320 6120 6465 636f 7261  ance as a decora
+00001280: 746f 723a 0a0a 6060 6070 7974 686f 6e0a  tor:..```python.
+00001290: 6672 6f6d 2070 6174 696f 2069 6d70 6f72  from patio impor
+000012a0: 7420 5265 6769 7374 7279 0a0a 7270 6320  t Registry..rpc 
+000012b0: 3d20 5265 6769 7374 7279 2870 726f 6a65  = Registry(proje
+000012c0: 6374 3d22 6578 616d 706c 6522 290a 0a23  ct="example")..#
+000012d0: 2057 696c 6c20 6265 2072 6567 6973 7465   Will be registe
+000012e0: 7265 6420 7769 7468 2061 7574 6f20 6765  red with auto ge
+000012f0: 6e65 7261 7465 6420 6e61 6d65 0a40 7270  nerated name.@rp
+00001300: 630a 6465 6620 6d75 6c28 612c 2062 293a  c.def mul(a, b):
+00001310: 0a20 2020 2072 6574 7572 6e20 6120 2a20  .    return a * 
+00001320: 620a 0a40 7270 6328 2764 6976 2729 0a64  b..@rpc('div').d
+00001330: 6566 2064 6976 2861 2c20 6229 3a0a 2020  ef div(a, b):.  
+00001340: 2020 7265 7475 726e 2061 202f 2062 0a0a    return a / b..
+00001350: 6465 6620 706f 7728 612c 2062 293a 0a20  def pow(a, b):. 
+00001360: 2020 2072 6574 7572 6e20 6120 2a2a 2062     return a ** b
+00001370: 0a0a 6465 6620 7375 6228 612c 2062 293a  ..def sub(a, b):
+00001380: 0a20 2020 2072 6574 7572 6e20 6120 2d20  .    return a - 
+00001390: 620a 0a23 2052 6567 6973 7465 7220 7769  b..# Register wi
+000013a0: 7468 2061 7574 6f20 6765 6e65 7261 7465  th auto generate
+000013b0: 6420 6e61 6d65 0a72 7063 2e72 6567 6973  d name.rpc.regis
+000013c0: 7465 7228 706f 7729 0a0a 7270 632e 7265  ter(pow)..rpc.re
+000013d0: 6769 7374 6572 2873 7562 2c20 2273 7562  gister(sub, "sub
+000013e0: 2229 0a60 6060 0a0a 416c 7465 726e 6174  ").```..Alternat
+000013f0: 6976 656c 7920 7573 696e 6720 6060 7265  ively using ``re
+00001400: 6769 7374 6572 6060 206d 6574 686f 643a  gister`` method:
+00001410: 0a0a 6060 6070 7974 686f 6e0a 6672 6f6d  ..```python.from
+00001420: 2070 6174 696f 2069 6d70 6f72 7420 5265   patio import Re
+00001430: 6769 7374 7279 0a0a 7270 6320 3d20 5265  gistry..rpc = Re
+00001440: 6769 7374 7279 2870 726f 6a65 6374 3d22  gistry(project="
+00001450: 6578 616d 706c 6522 290a 0a64 6566 2070  example")..def p
+00001460: 6f77 2861 2c20 6229 3a0a 2020 2020 7265  ow(a, b):.    re
+00001470: 7475 726e 2061 202a 2a20 620a 0a64 6566  turn a ** b..def
+00001480: 2073 7562 2861 2c20 6229 3a0a 2020 2020   sub(a, b):.    
+00001490: 7265 7475 726e 2061 202d 2062 0a0a 2320  return a - b..# 
+000014a0: 5265 6769 7374 6572 2077 6974 6820 6175  Register with au
+000014b0: 746f 2067 656e 6572 6174 6564 206e 616d  to generated nam
+000014c0: 650a 7270 632e 7265 6769 7374 6572 2870  e.rpc.register(p
+000014d0: 6f77 290a 0a72 7063 2e72 6567 6973 7465  ow)..rpc.registe
+000014e0: 7228 7375 622c 2022 7375 6222 290a 6060  r(sub, "sub").``
+000014f0: 600a 0a46 696e 616c 6c79 2c20 796f 7520  `..Finally, you 
+00001500: 6361 6e20 7265 6769 7374 6572 2066 756e  can register fun
+00001510: 6374 696f 6e73 2065 7870 6c69 6369 746c  ctions explicitl
+00001520: 792c 2061 7320 6966 2069 7420 7765 7265  y, as if it were
+00001530: 0a6a 7573 7420 6120 6469 6374 696f 6e61  .just a dictiona
+00001540: 7279 3a0a 0a60 6060 7079 7468 6f6e 0a66  ry:..```python.f
+00001550: 726f 6d20 7061 7469 6f20 696d 706f 7274  rom patio import
+00001560: 2052 6567 6973 7472 790a 0a72 7063 203d   Registry..rpc =
+00001570: 2052 6567 6973 7472 7928 7072 6f6a 6563   Registry(projec
+00001580: 743d 2265 7861 6d70 6c65 2229 0a0a 6465  t="example")..de
+00001590: 6620 6d75 6c28 612c 2062 293a 0a20 2020  f mul(a, b):.   
+000015a0: 2072 6574 7572 6e20 6120 2a20 620a 0a72   return a * b..r
+000015b0: 7063 5b27 6d75 6c27 5d20 3d20 6d75 6c0a  pc['mul'] = mul.
+000015c0: 6060 600a 0a45 7865 6375 746f 720a 2d2d  ```..Executor.--
+000015d0: 2d2d 2d2d 2d2d 0a0a 416e 2045 7865 6375  ------..An Execu
+000015e0: 746f 7220 6973 2061 6e20 656e 7469 7479  tor is an entity
+000015f0: 2074 6861 7420 6578 6563 7574 6573 206c   that executes l
+00001600: 6f63 616c 2066 756e 6374 696f 6e73 2066  ocal functions f
+00001610: 726f 6d20 7265 6769 7374 7279 2e0a 5468  rom registry..Th
+00001620: 6520 666f 6c6c 6f77 696e 6720 6578 6563  e following exec
+00001630: 7574 6f72 7320 6172 6520 696d 706c 656d  utors are implem
+00001640: 656e 7465 6420 696e 2074 6865 2070 6163  ented in the pac
+00001650: 6b61 6765 3a0a 0a2a 2060 4173 796e 6345  kage:..* `AsyncE
+00001660: 7865 6375 746f 7260 202d 2049 6d70 6c65  xecutor` - Imple
+00001670: 6d65 6e74 7320 706f 6f6c 206f 6620 6173  ments pool of as
+00001680: 796e 6368 726f 6e6f 7573 2074 6173 6b73  ynchronous tasks
+00001690: 0a2a 2060 5468 7265 6164 506f 6f6c 4578  .* `ThreadPoolEx
+000016a0: 6563 7574 6f72 6020 2d20 496d 706c 656d  ecutor` - Implem
+000016b0: 656e 7473 2070 6f6f 6c20 6f66 2074 6872  ents pool of thr
+000016c0: 6561 6473 0a2a 2060 5072 6f63 6573 7350  eads.* `ProcessP
+000016d0: 6f6f 6c45 7865 6375 746f 7260 202d 2049  oolExecutor` - I
+000016e0: 6d70 6c65 6d65 6e74 7320 706f 6f6c 206f  mplements pool o
+000016f0: 6620 7072 6f63 6573 7365 730a 2a20 604e  f processes.* `N
+00001700: 756c 6c45 7865 6375 746f 7260 202d 2049  ullExecutor` - I
+00001710: 6d70 6c65 6d65 6e74 7320 6e6f 7468 696e  mplements nothin
+00001720: 6720 616e 6420 6578 6973 7473 206a 7573  g and exists jus
+00001730: 7420 666f 7220 666f 7262 6964 2065 7865  t for forbid exe
+00001740: 6375 7465 0a20 2061 6e79 7468 696e 6720  cute.  anything 
+00001750: 6578 706c 6963 6974 6c79 2e0a 0a49 7473  explicitly...Its
+00001760: 2072 6f6c 6520 6973 2074 6f20 7265 6c69   role is to reli
+00001770: 6162 6c79 2065 7865 6375 7465 206a 6f62  ably execute job
+00001780: 7320 7769 7468 6f75 7420 7461 6b69 6e67  s without taking
+00001790: 2074 6f6f 206d 7563 6820 736f 2061 7320   too much so as 
+000017a0: 6e6f 7420 746f 0a63 6175 7365 2061 2064  not to.cause a d
+000017b0: 656e 6961 6c20 6f66 2073 6572 7669 6365  enial of service
+000017c0: 2c20 6f72 2065 7863 6573 7369 7665 206d  , or excessive m
+000017d0: 656d 6f72 7920 636f 6e73 756d 7074 696f  emory consumptio
+000017e0: 6e2e 0a0a 5468 6520 6578 6563 7574 6f72  n...The executor
+000017f0: 2069 6e73 7461 6e63 6520 6973 2070 6173   instance is pas
+00001800: 7369 6e67 2074 6f20 7468 6520 6272 6f6b  sing to the brok
+00001810: 6572 2c20 6974 2773 2075 7375 616c 6c79  er, it's usually
+00001820: 2061 7070 6c69 6573 0a69 7420 746f 2074   applies.it to t
+00001830: 6865 2077 686f 6c65 2072 6567 6973 7472  he whole registr
+00001840: 792e 2054 6865 7265 666f 7265 2c20 796f  y. Therefore, yo
+00001850: 7520 7368 6f75 6c64 2075 6e64 6572 7374  u should underst
+00001860: 616e 6420 7768 6174 2066 756e 6374 696f  and what functio
+00001870: 6e73 0a74 6865 2072 6567 6973 7472 7920  ns.the registry 
+00001880: 6d75 7374 2063 6f6e 7461 696e 2074 6f20  must contain to 
+00001890: 6368 6f6f 7365 206b 696e 6420 6f66 2061  choose kind of a
+000018a0: 6e20 6578 6563 7574 6f72 2e0a 0a42 726f  n executor...Bro
+000018b0: 6b65 720a 2d2d 2d2d 2d2d 0a0a 5468 6520  ker.------..The 
+000018c0: 6261 7369 6320 6170 7072 6f61 6368 2066  basic approach f
+000018d0: 6f72 2064 6973 7472 6962 7574 696e 6720  or distributing 
+000018e0: 7461 736b 7320 6973 2074 6f20 7368 6966  tasks is to shif
+000018f0: 7420 7468 6520 7265 7370 6f6e 7369 6269  t the responsibi
+00001900: 6c69 7479 0a66 6f72 2074 6865 2064 6973  lity.for the dis
+00001910: 7472 6962 7574 696f 6e20 746f 2074 6865  tribution to the
+00001920: 2075 7365 7220 696d 706c 656d 656e 7461   user implementa
+00001930: 7469 6f6e 2e20 496e 2074 6869 7320 7761  tion. In this wa
+00001940: 792c 2074 6173 6b0a 6469 7374 7269 6275  y, task.distribu
+00001950: 7469 6f6e 2063 616e 2062 6520 696d 706c  tion can be impl
+00001960: 656d 656e 7465 6420 7468 726f 7567 6820  emented through 
+00001970: 7468 6972 642d 7061 7274 7920 6272 6f6b  third-party brok
+00001980: 6572 732c 2064 6174 6162 6173 6573 2c0a  ers, databases,.
+00001990: 6f72 2073 6f6d 6574 6869 6e67 2065 6c73  or something els
+000019a0: 652e 0a0a 5468 6973 2070 6163 6b61 6765  e...This package
+000019b0: 2069 7320 696d 706c 656d 656e 7465 6420   is implemented 
+000019c0: 6279 2074 6865 2066 6f6c 6c6f 7769 6e67  by the following
+000019d0: 2062 726f 6b65 7273 3a0a 0a2a 2060 4d65   brokers:..* `Me
+000019e0: 6d6f 7279 4272 6f6b 6572 6020 2d20 546f  moryBroker` - To
+000019f0: 2064 6973 7472 6962 7574 6520 7461 736b   distribute task
+00001a00: 7320 7769 7468 696e 2061 2073 696e 676c  s within a singl
+00001a10: 6520 7072 6f63 6573 732e 0a20 2020 4120  e process..   A 
+00001a20: 7665 7279 2073 696d 706c 6520 696d 706c  very simple impl
+00001a30: 656d 656e 7461 7469 6f6e 2c20 696e 2063  ementation, in c
+00001a40: 6173 6520 796f 7520 646f 6e27 7420 6b6e  ase you don't kn
+00001a50: 6f77 2079 6574 2068 6f77 0a20 2020 796f  ow yet how.   yo
+00001a60: 7572 2061 7070 6c69 6361 7469 6f6e 2077  ur application w
+00001a70: 696c 6c20 6465 7665 6c6f 7020 616e 6420  ill develop and 
+00001a80: 6a75 7374 2077 616e 7420 746f 206c 6561  just want to lea
+00001a90: 7665 2074 6865 2064 6563 6973 696f 6e0a  ve the decision.
+00001aa0: 2020 206f 6620 7768 6963 6820 6272 6f6b     of which brok
+00001ab0: 6572 2074 6f20 7573 6520 666f 7220 6c61  er to use for la
+00001ac0: 7465 722c 2077 6869 6c65 206c 6179 696e  ter, while layin
+00001ad0: 6720 7468 6520 666f 756e 6461 7469 6f6e  g the foundation
+00001ae0: 2066 6f72 0a20 2020 7377 6974 6368 696e   for.   switchin
+00001af0: 6720 746f 2061 6e6f 7468 6572 2062 726f  g to another bro
+00001b00: 6b65 722e 0a2a 2060 5443 5042 726f 6b65  ker..* `TCPBroke
+00001b10: 7260 202d 2053 696d 706c 6520 696d 706c  r` - Simple impl
+00001b20: 656d 656e 7461 7469 6f6e 206f 6620 7468  ementation of th
+00001b30: 6520 6272 6f6b 6572 206a 7573 7420 7573  e broker just us
+00001b40: 696e 6720 5443 502c 0a20 2020 626f 7468  ing TCP,.   both
+00001b50: 2053 6572 7665 7220 616e 6420 436c 6965   Server and Clie
+00001b60: 6e74 206d 6f64 6520 6973 2073 7570 706f  nt mode is suppo
+00001b70: 7274 6564 2066 6f72 2062 6f74 6820 7468  rted for both th
+00001b80: 6520 7461 736b 2065 7865 6375 746f 720a  e task executor.
+00001b90: 2020 2061 6e64 2074 6865 2074 6173 6b20     and the task 
+00001ba0: 7072 6f76 6964 6572 2e0a 0a23 2323 2060  provider...### `
+00001bb0: 4d65 6d6f 7279 4272 6f6b 6572 600a 0a49  MemoryBroker`..I
+00001bc0: 7427 7320 6120 676f 6f64 2073 7461 7274  t's a good start
+00001bd0: 2069 6620 796f 7520 646f 6e27 7420 6e65   if you don't ne
+00001be0: 6564 2074 6f20 6173 7369 676e 2074 6173  ed to assign tas
+00001bf0: 6b73 2069 6e20 6120 6469 7374 7269 6275  ks in a distribu
+00001c00: 7465 640a 6661 7368 696f 6e20 7269 6768  ted.fashion righ
+00001c10: 7420 6e6f 772e 0a0a 496e 2066 6163 742c  t now...In fact,
+00001c20: 2069 7427 7320 6120 7369 6d70 6c65 2077   it's a simple w
+00001c30: 6179 2074 6f20 7275 6e20 7461 736b 7320  ay to run tasks 
+00001c40: 696e 2074 6865 2065 7865 6375 746f 7220  in the executor 
+00001c50: 6672 6f6d 2074 6865 206f 7468 6572 0a70  from the other.p
+00001c60: 6c61 6365 7320 696e 2079 6f75 7220 7072  laces in your pr
+00001c70: 6f6a 6563 742e 0a0a 2323 2320 6054 4350  oject...### `TCP
+00001c80: 4272 6f6b 6572 600a 0a49 7420 616c 6c6f  Broker`..It allo
+00001c90: 7773 2079 6f75 2074 6f20 6d61 6b65 2079  ws you to make y
+00001ca0: 6f75 7220 7461 736b 7320 6469 7374 7269  our tasks distri
+00001cb0: 6275 7465 6420 7769 7468 6f75 7420 7265  buted without re
+00001cc0: 736f 7274 696e 6720 746f 2065 7874 6572  sorting to exter
+00001cd0: 6e61 6c0a 6d65 7373 6167 6520 6272 6f6b  nal.message brok
+00001ce0: 6572 732e 0a0a 5468 6520 6261 7369 6320  ers...The basic 
+00001cf0: 6964 6561 206f 6620 5443 5020 6272 6f6b  idea of TCP brok
+00001d00: 6572 2069 6d70 6c65 6d65 6e74 6174 696f  er implementatio
+00001d10: 6e20 6973 2074 6861 7420 696e 2074 6572  n is that in ter
+00001d20: 6d73 206f 660a 7065 7266 6f72 6d69 6e67  ms of.performing
+00001d30: 2074 6173 6b73 2c20 7468 6572 6520 6973   tasks, there is
+00001d40: 206e 6f20 6469 6666 6572 656e 6365 2062   no difference b
+00001d50: 6574 7765 656e 2074 6865 6d2c 2069 7420  etween them, it 
+00001d60: 6973 0a6a 7573 7420 6120 7761 7920 746f  is.just a way to
+00001d70: 2065 7374 6162 6c69 7368 2061 2063 6f6e   establish a con
+00001d80: 6e65 6374 696f 6e2c 2062 6f74 6820 7468  nection, both th
+00001d90: 6520 7365 7276 6572 2061 6e64 2074 6865  e server and the
+00001da0: 0a63 6c69 656e 7420 6361 6e20 6265 2074  .client can be t
+00001db0: 6865 206f 6e65 2077 686f 2070 6572 666f  he one who perfo
+00001dc0: 726d 7320 7461 736b 7320 616e 6420 7468  rms tasks and th
+00001dd0: 6520 6f6e 6520 7768 6f20 7365 7473 0a74  e one who sets.t
+00001de0: 6865 6d2c 2061 6e64 2069 7420 6973 2061  hem, and it is a
+00001df0: 6c73 6f20 706f 7373 6962 6c65 2069 6e20  lso possible in 
+00001e00: 6120 6d69 7865 6420 6d6f 6465 2e0a 0a49  a mixed mode...I
+00001e10: 6e20 6f74 6865 7220 776f 7264 732c 2064  n other words, d
+00001e20: 6563 6964 696e 6720 7768 6f20 7769 6c6c  eciding who will
+00001e30: 2062 6520 7468 6520 7365 7276 6572 2061   be the server a
+00001e40: 6e64 2077 686f 2077 696c 6c20 6265 2074  nd who will be t
+00001e50: 6865 0a63 6c69 656e 7420 696e 2079 6f75  he.client in you
+00001e60: 7220 7379 7374 656d 2069 7320 6a75 7374  r system is just
+00001e70: 2061 2077 6179 2074 6f20 636f 6e6e 6563   a way to connec
+00001e80: 7420 616e 6420 6669 6e64 2065 6163 6820  t and find each 
+00001e90: 6f74 6865 720a 696e 2079 6f75 7220 6469  other.in your di
+00001ea0: 7374 7269 6275 7465 6420 7379 7374 656d  stributed system
+00001eb0: 2e0a 0a48 6572 6520 6172 6520 7468 6520  ...Here are the 
+00001ec0: 7761 7973 206f 6620 6f72 6761 6e69 7a69  ways of organizi
+00001ed0: 6e67 2063 6f6d 6d75 6e69 6361 7469 6f6e  ng communication
+00001ee0: 2062 6574 7765 656e 2074 6865 0a73 6572   between the.ser
+00001ef0: 7665 7220 616e 6420 7468 6520 636c 6965  ver and the clie
+00001f00: 6e74 732e 0a0a 2323 2323 2053 6572 7665  nts...#### Serve
+00001f10: 7220 6365 6e74 7269 6320 7363 6865 6d65  r centric scheme
+00001f20: 2065 7861 6d70 6c65 0a0a 215b 7365 7276   example..![serv
+00001f30: 6572 2063 656e 7472 6963 5d28 6874 7470  er centric](http
+00001f40: 733a 2f2f 7261 772e 6769 7468 7562 7573  s://raw.githubus
+00001f50: 6572 636f 6e74 656e 742e 636f 6d2f 7061  ercontent.com/pa
+00001f60: 7469 6f2d 7079 7468 6f6e 2f70 6174 696f  tio-python/patio
+00001f70: 2f66 6561 7475 7265 2f74 6370 2d62 726f  /feature/tcp-bro
+00001f80: 6b65 722f 696d 6167 6573 2f73 6572 7665  ker/images/serve
+00001f90: 722d 6365 6e74 7269 632e 7376 6720 2253  r-centric.svg "S
+00001fa0: 6572 7665 7220 4365 6e74 7269 6322 290a  erver Centric").
+00001fb0: 0a54 6869 7320 6469 6167 7261 6d20 6465  .This diagram de
+00001fc0: 7363 7269 6265 7320 6120 7369 6d70 6c65  scribes a simple
+00001fd0: 2065 7861 6d70 6c65 2c20 6966 2074 6865   example, if the
+00001fe0: 7265 2069 7320 6f6e 6520 7365 7276 6572  re is one server
+00001ff0: 0a61 6e64 206f 6e65 2063 6c69 656e 7420  .and one client 
+00002000: 6578 6368 616e 6769 6e67 206d 6573 7361  exchanging messa
+00002010: 6765 7320 7669 6120 5443 502e 0a0a 2323  ges via TCP...##
+00002020: 2323 204f 6e65 2063 6c69 656e 7420 6d75  ## One client mu
+00002030: 6c74 6970 6c65 2073 6572 7665 7273 2065  ltiple servers e
+00002040: 7861 6d70 6c65 0a0a 215b 6d75 6c74 6970  xample..![multip
+00002050: 6c65 2073 6572 7665 7273 5d28 6874 7470  le servers](http
+00002060: 733a 2f2f 7261 772e 6769 7468 7562 7573  s://raw.githubus
+00002070: 6572 636f 6e74 656e 742e 636f 6d2f 7061  ercontent.com/pa
+00002080: 7469 6f2d 7079 7468 6f6e 2f70 6174 696f  tio-python/patio
+00002090: 2f66 6561 7475 7265 2f74 6370 2d62 726f  /feature/tcp-bro
+000020a0: 6b65 722f 696d 6167 6573 2f6d 756c 7469  ker/images/multi
+000020b0: 706c 652d 7365 7276 6572 732e 7376 6720  ple-servers.svg 
+000020c0: 224f 6e65 2063 6c69 656e 7420 6d75 6c74  "One client mult
+000020d0: 6970 6c65 2073 6572 7665 7273 2229 0a0a  iple servers")..
+000020e0: 5468 6973 2069 7320 616e 2065 7861 6d70  This is an examp
+000020f0: 6c65 206f 6620 686f 7720 6120 636c 6965  le of how a clie
+00002100: 6e74 2065 7374 6162 6c69 7368 6573 2063  nt establishes c
+00002110: 6f6e 6e65 6374 696f 6e73 2074 6f20 6120  onnections to a 
+00002120: 7365 7420 7365 7276 6572 2e0a 0a23 2323  set server...###
+00002130: 2320 4675 6c6c 206d 6573 6820 6578 616d  # Full mesh exam
+00002140: 706c 650a 0a21 5b66 756c 6c20 6d65 7368  ple..![full mesh
+00002150: 5d28 6874 7470 733a 2f2f 7261 772e 6769  ](https://raw.gi
+00002160: 7468 7562 7573 6572 636f 6e74 656e 742e  thubusercontent.
+00002170: 636f 6d2f 7061 7469 6f2d 7079 7468 6f6e  com/patio-python
+00002180: 2f70 6174 696f 2f66 6561 7475 7265 2f74  /patio/feature/t
+00002190: 6370 2d62 726f 6b65 722f 696d 6167 6573  cp-broker/images
+000021a0: 2f66 756c 6c2d 6d65 7368 2e73 7667 2022  /full-mesh.svg "
+000021b0: 4675 6c6c 206d 6573 6822 290a 0a46 756c  Full mesh")..Ful
+000021c0: 6c20 6d65 7368 2073 6368 656d 652c 2061  l mesh scheme, a
+000021d0: 6c6c 2063 6c69 656e 7473 2061 7265 2063  ll clients are c
+000021e0: 6f6e 6e65 6374 6564 2074 6f20 616c 6c20  onnected to all 
+000021f0: 7365 7276 6572 732e 0a0a 2323 2323 2041  servers...#### A
+00002200: 7574 686f 7269 7a61 7469 6f6e 0a0a 4175  uthorization..Au
+00002210: 7468 6f72 697a 6174 696f 6e20 7461 6b65  thorization take
+00002220: 7320 706c 6163 6520 6174 2074 6865 2073  s place at the s
+00002230: 7461 7274 206f 6620 7468 6520 636f 6e6e  tart of the conn
+00002240: 6563 7469 6f6e 2c0a 666f 7220 7468 6973  ection,.for this
+00002250: 2074 6865 2070 6172 616d 6574 6572 2060   the parameter `
+00002260: 6b65 793d 6020 2860 6227 2760 2069 7320  key=` (`b''` is 
+00002270: 6279 2064 6566 6175 6c74 2920 6d75 7374  by default) must
+00002280: 2063 6f6e 7461 696e 2074 6865 2073 616d   contain the sam
+00002290: 6520 6b65 7973 0a66 6f72 2063 6c69 656e  e keys.for clien
+000022a0: 7420 616e 6420 7365 7276 6572 2e0a 0a2a  t and server...*
+000022b0: 2a49 7420 6973 2069 6d70 6f72 7461 6e74  *It is important
+000022c0: 2074 6f20 756e 6465 7273 7461 6e64 2074   to understand t
+000022d0: 6861 7420 7468 6973 2069 7320 6e6f 7420  hat this is not 
+000022e0: 3130 3025 2070 726f 7465 6374 696f 6e20  100% protection 
+000022f0: 6167 6169 6e73 740a 6174 7461 636b 7320  against.attacks 
+00002300: 6c69 6b65 204d 4954 4d20 6574 632e 2a2a  like MITM etc.**
+00002310: 0a0a 5468 6973 2061 7070 726f 6163 6820  ..This approach 
+00002320: 7368 6f75 6c64 206f 6e6c 7920 6265 2075  should only be u
+00002330: 7365 6420 6966 2074 6865 2063 6c69 656e  sed if the clien
+00002340: 7420 616e 6420 7365 7276 6572 2061 7265  t and server are
+00002350: 206f 6e20 6120 7472 7573 7465 640a 6e65   on a trusted.ne
+00002360: 7477 6f72 6b2e 2049 6e20 6f72 6465 7220  twork. In order 
+00002370: 746f 2073 6563 7572 6520 7472 6166 6669  to secure traffi
+00002380: 6320 6173 2069 7420 7472 6176 6572 7365  c as it traverse
+00002390: 7320 7468 6520 496e 7465 726e 6574 2c20  s the Internet, 
+000023a0: 7468 650a 6073 736c 5f63 6f6e 7465 7874  the.`ssl_context
+000023b0: 3d60 2070 6172 616d 6574 6572 2073 686f  =` parameter sho
+000023c0: 756c 6420 6265 2070 7265 7065 6e64 6564  uld be prepended
+000023d0: 2074 6f20 626f 7468 2074 6865 2073 6572   to both the ser
+000023e0: 7665 7220 616e 6420 7468 6520 636c 6965  ver and the clie
+000023f0: 6e74 0a28 7365 6520 6578 616d 706c 6520  nt.(see example 
+00002400: 6265 6c6c 6f77 292e 0a0a 2323 2323 2045  bellow)...#### E
+00002410: 7861 6d70 6c65 730a 0a54 6865 2065 7861  xamples..The exa
+00002420: 6d70 6c65 7320 6265 6c6f 7720 7769 6c6c  mples below will
+00002430: 2068 6f70 6566 756c 6c79 2068 656c 7020   hopefully help 
+00002440: 796f 7520 6669 6775 7265 2074 6869 7320  you figure this 
+00002450: 6f75 742e 0a0a 2323 2323 2320 5365 7276  out...##### Serv
+00002460: 6572 2065 7865 6375 7469 6e67 2074 6173  er executing tas
+00002470: 6b73 0a0a 6060 6070 7974 686f 6e0a 6672  ks..```python.fr
+00002480: 6f6d 2066 756e 6374 6f6f 6c73 2069 6d70  om functools imp
+00002490: 6f72 7420 7265 6475 6365 0a0a 696d 706f  ort reduce..impo
+000024a0: 7274 2061 7379 6e63 696f 0a0a 6672 6f6d  rt asyncio..from
+000024b0: 2070 6174 696f 2069 6d70 6f72 7420 5265   patio import Re
+000024c0: 6769 7374 7279 0a66 726f 6d20 7061 7469  gistry.from pati
+000024d0: 6f2e 6272 6f6b 6572 2e74 6370 2069 6d70  o.broker.tcp imp
+000024e0: 6f72 7420 5443 5053 6572 7665 7242 726f  ort TCPServerBro
+000024f0: 6b65 720a 6672 6f6d 2070 6174 696f 2e65  ker.from patio.e
+00002500: 7865 6375 746f 7220 696d 706f 7274 2054  xecutor import T
+00002510: 6872 6561 6450 6f6f 6c45 7865 6375 746f  hreadPoolExecuto
+00002520: 720a 0a72 7063 203d 2052 6567 6973 7472  r..rpc = Registr
+00002530: 7928 7072 6f6a 6563 743d 2274 6573 7422  y(project="test"
+00002540: 2c20 6175 746f 5f6e 616d 696e 673d 4661  , auto_naming=Fa
+00002550: 6c73 6529 0a0a 0a64 6566 206d 756c 282a  lse)...def mul(*
+00002560: 6172 6773 293a 0a20 2020 2072 6574 7572  args):.    retur
+00002570: 6e20 7265 6475 6365 286c 616d 6264 6120  n reduce(lambda 
+00002580: 782c 2079 3a20 7820 2a20 792c 2061 7267  x, y: x * y, arg
+00002590: 7329 0a0a 0a61 7379 6e63 2064 6566 206d  s)...async def m
+000025a0: 6169 6e28 293a 0a20 2020 2072 7063 2e72  ain():.    rpc.r
+000025b0: 6567 6973 7465 7228 6d75 6c2c 2022 6d75  egister(mul, "mu
+000025c0: 6c22 290a 0a20 2020 2061 7379 6e63 2077  l")..    async w
+000025d0: 6974 6820 5468 7265 6164 506f 6f6c 4578  ith ThreadPoolEx
+000025e0: 6563 7574 6f72 2872 7063 2920 6173 2065  ecutor(rpc) as e
+000025f0: 7865 6375 746f 723a 0a20 2020 2020 2020  xecutor:.       
+00002600: 2061 7379 6e63 2077 6974 6820 5443 5053   async with TCPS
+00002610: 6572 7665 7242 726f 6b65 7228 6578 6563  erverBroker(exec
+00002620: 7574 6f72 2920 6173 2062 726f 6b65 723a  utor) as broker:
+00002630: 0a20 2020 2020 2020 2020 2020 2023 2053  .            # S
+00002640: 7461 7274 2049 5076 3420 7365 7276 6572  tart IPv4 server
+00002650: 0a20 2020 2020 2020 2020 2020 2061 7761  .            awa
+00002660: 6974 2062 726f 6b65 722e 6c69 7374 656e  it broker.listen
+00002670: 2861 6464 7265 7373 3d27 3132 372e 302e  (address='127.0.
+00002680: 302e 3127 290a 0a20 2020 2020 2020 2020  0.1')..         
+00002690: 2020 2023 2053 7461 7274 2049 5076 3620     # Start IPv6 
+000026a0: 7365 7276 6572 0a20 2020 2020 2020 2020  server.         
 000026b0: 2020 2061 7761 6974 2062 726f 6b65 722e     await broker.
-000026c0: 636f 6e6e 6563 7428 6164 6472 6573 733d  connect(address=
-000026d0: 273a 3a31 272c 2070 6f72 743d 3132 3334  '::1', port=1234
-000026e0: 3529 0a0a 2020 2020 2020 2020 2020 2020  5)..            
-000026f0: 7072 696e 7428 0a20 2020 2020 2020 2020  print(.         
-00002700: 2020 2020 2020 2061 7761 6974 2061 7379         await asy
-00002710: 6e63 696f 2e67 6174 6865 7228 2a5b 0a20  ncio.gather(*[. 
-00002720: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002730: 2020 2062 726f 6b65 722e 6361 6c6c 2827     broker.call('
-00002740: 6d75 6c27 2c20 692c 2069 2920 666f 7220  mul', i, i) for 
-00002750: 6920 696e 2072 616e 6765 2831 3029 0a20  i in range(10). 
-00002760: 2020 2020 2020 2020 2020 2020 2020 205d                 ]
-00002770: 292c 0a20 2020 2020 2020 2020 2020 2029  ),.            )
-00002780: 0a0a 0a69 6620 5f5f 6e61 6d65 5f5f 203d  ...if __name__ =
-00002790: 3d20 225f 5f6d 6169 6e5f 5f22 3a0a 2020  = "__main__":.  
-000027a0: 2020 6173 796e 6369 6f2e 7275 6e28 6d61    asyncio.run(ma
-000027b0: 696e 2829 290a 6060 600a 0a23 2323 2323  in()).```..#####
-000027c0: 2045 7861 6d70 6c65 7320 7769 7468 2053   Examples with S
-000027d0: 534c 0a0a 5468 6520 7461 736b 2063 6f6d  SL..The task com
-000027e0: 6573 2064 6f77 6e20 746f 2070 6173 7369  es down to passi
-000027f0: 6e67 2074 6865 2073 736c 2063 6f6e 7465  ng the ssl conte
-00002800: 7874 2074 6f20 7468 6520 7365 7276 6572  xt to the server
-00002810: 2061 6e64 2074 6f20 7468 6520 636c 6965   and to the clie
-00002820: 6e74 2e0a 0a42 656c 6f77 2079 6f75 2077  nt...Below you w
-00002830: 696c 6c20 7365 6520 616e 2065 7861 6d70  ill see an examp
-00002840: 6c65 206f 6620 686f 7720 746f 206d 616b  le of how to mak
-00002850: 6520 6120 636f 7570 6c65 206f 6620 7365  e a couple of se
-00002860: 6c66 2d73 6967 6e65 640a 6365 7274 6966  lf-signed.certif
-00002870: 6963 6174 6573 2c20 616e 6420 616e 2061  icates, and an a
-00002880: 7574 686f 7269 7a61 7469 6f6e 2043 412e  uthorization CA.
-00002890: 204f 7269 6769 6e61 6c20 706f 7374 0a5b   Original post.[
-000028a0: 6865 7265 5d28 6874 7470 733a 2f2f 6769  here](https://gi
-000028b0: 7374 2e67 6974 6875 622e 636f 6d2f 666e  st.github.com/fn
-000028c0: 746c 6e7a 2f63 6631 3466 6562 3561 3436  tlnz/cf14feb5a46
-000028d0: 6232 6564 6134 3238 6530 3030 3135 3734  b2eda428e0001574
-000028e0: 3437 3330 3929 2e0a 0a54 6869 7320 6973  47309)...This is
-000028f0: 206a 7573 7420 616e 2065 7861 6d70 6c65   just an example
-00002900: 2c20 616e 6420 6966 2079 6f75 2077 616e  , and if you wan
-00002910: 7420 746f 2075 7365 2079 6f75 7220 6f77  t to use your ow
-00002920: 6e20 6365 7274 6966 6963 6174 6573 2c20  n certificates, 
-00002930: 6a75 7374 0a63 7265 6174 6520 616e 2073  just.create an s
-00002940: 736c 2063 6f6e 7465 7874 2061 7320 7265  sl context as re
-00002950: 7175 6972 6564 2062 7920 796f 7572 2073  quired by your s
-00002960: 6563 7572 6974 7920 706f 6c69 6379 2e0a  ecurity policy..
-00002970: 0a23 2323 2323 2320 4365 7274 6966 6963  .###### Certific
-00002980: 6174 6520 6175 7468 6f72 6974 7920 6372  ate authority cr
-00002990: 6561 7469 6f6e 0a0a 2a2a 4174 7465 6e74  eation..**Attent
-000029a0: 696f 6e3a 2a2a 2074 6869 7320 6973 2074  ion:** this is t
-000029b0: 6865 206b 6579 2075 7365 6420 746f 2073  he key used to s
-000029c0: 6967 6e20 7468 6520 6365 7274 6966 6963  ign the certific
-000029d0: 6174 6520 7265 7175 6573 7473 2c20 616e  ate requests, an
-000029e0: 796f 6e65 0a68 6f6c 6469 6e67 2074 6869  yone.holding thi
-000029f0: 7320 6361 6e20 7369 676e 2063 6572 7469  s can sign certi
-00002a00: 6669 6361 7465 7320 6f6e 2079 6f75 7220  ficates on your 
-00002a10: 6265 6861 6c66 2e20 536f 206b 6565 7020  behalf. So keep 
-00002a20: 6974 2069 6e20 6120 7361 6665 2070 6c61  it in a safe pla
-00002a30: 6365 210a 0a60 6060 7368 656c 6c0a 6f70  ce!..```shell.op
-00002a40: 656e 7373 6c20 7265 7120 2d78 3530 3920  enssl req -x509 
-00002a50: 5c0a 2020 2d73 6861 3235 3620 2d64 6179  \.  -sha256 -day
-00002a60: 7320 3336 3530 205c 0a20 202d 6e6f 6465  s 3650 \.  -node
-00002a70: 7320 5c0a 2020 2d6e 6577 6b65 7920 7273  s \.  -newkey rs
-00002a80: 613a 3230 3438 205c 0a20 202d 7375 626a  a:2048 \.  -subj
-00002a90: 2022 2f43 4e3d 5061 7469 6f20 4578 616d   "/CN=Patio Exam
-00002aa0: 706c 6520 4341 2f43 3d43 432f 4c3d 5765  ple CA/C=CC/L=We
-00002ab0: 7374 2049 736c 616e 6422 205c 0a20 202d  st Island" \.  -
-00002ac0: 6b65 796f 7574 2043 412e 6b65 7920 2d6f  keyout CA.key -o
-00002ad0: 7574 2043 412e 7065 6d0a 6060 600a 0a23  ut CA.pem.```..#
-00002ae0: 2323 2323 2320 5365 7276 6572 2063 6572  ##### Server cer
-00002af0: 7469 6669 6361 7465 2063 7265 6174 696f  tificate creatio
-00002b00: 6e0a 0a46 6972 7374 2063 7265 6174 6520  n..First create 
-00002b10: 7365 7276 6572 2070 7269 7661 7465 206b  server private k
-00002b20: 6579 3a0a 0a60 6060 7368 656c 6c0a 6f70  ey:..```shell.op
-00002b30: 656e 7373 6c20 6765 6e72 7361 202d 6f75  enssl genrsa -ou
-00002b40: 7420 7365 7276 6572 2e6b 6579 2032 3034  t server.key 204
-00002b50: 380a 6060 600a 0a54 6865 6e20 6372 6561  8.```..Then crea
-00002b60: 7465 2074 6865 2063 6572 7469 6669 6361  te the certifica
-00002b70: 7465 2072 6571 7565 7374 2073 6967 6e69  te request signi
-00002b80: 6e67 2074 6869 7320 6b65 793a 0a0a 6060  ng this key:..``
-00002b90: 6073 6865 6c6c 0a6f 7065 6e73 736c 2072  `shell.openssl r
-00002ba0: 6571 205c 0a20 202d 6e65 7720 2d73 6861  eq \.  -new -sha
-00002bb0: 3235 3620 5c0a 2020 2d6b 6579 2073 6572  256 \.  -key ser
-00002bc0: 7665 722e 6b65 7920 5c0a 2020 2d73 7562  ver.key \.  -sub
-00002bd0: 6a20 222f 434e 3d73 6572 7665 722e 6578  j "/CN=server.ex
-00002be0: 616d 706c 652e 6e65 742f 433d 4343 2f4c  ample.net/C=CC/L
-00002bf0: 3d57 6573 7420 4973 6c61 6e64 2220 5c0a  =West Island" \.
-00002c00: 2020 2d6f 7574 2073 6572 7665 722e 6373    -out server.cs
-00002c10: 720a 6060 600a 0a53 6967 6e20 7468 6973  r.```..Sign this
-00002c20: 2072 6571 7565 7374 2062 7920 4341 3a0a   request by CA:.
-00002c30: 0a60 6060 7368 656c 6c0a 6f70 656e 7373  .```shell.openss
-00002c40: 6c20 7835 3039 202d 7265 7120 5c0a 2020  l x509 -req \.  
-00002c50: 2d64 6179 7320 3336 3520 2d73 6861 3235  -days 365 -sha25
-00002c60: 3620 5c0a 2020 2d69 6e20 7365 7276 6572  6 \.  -in server
-00002c70: 2e63 7372 205c 0a20 202d 4341 2043 412e  .csr \.  -CA CA.
-00002c80: 7065 6d20 5c0a 2020 2d43 416b 6579 2043  pem \.  -CAkey C
-00002c90: 412e 6b65 7920 5c0a 2020 2d43 4163 7265  A.key \.  -CAcre
-00002ca0: 6174 6573 6572 6961 6c20 5c0a 2020 2d6f  ateserial \.  -o
-00002cb0: 7574 2073 6572 7665 722e 7065 6d0a 6060  ut server.pem.``
-00002cc0: 600a 0a54 6869 7320 7368 6f75 6c64 2062  `..This should b
-00002cd0: 6520 656e 6f75 6768 2074 6f20 656e 6372  e enough to encr
-00002ce0: 7970 7420 7468 6520 7472 6166 6669 632e  ypt the traffic.
-00002cf0: 0a0a 2323 2323 2320 5365 7276 6572 2077  ..##### Server w
-00002d00: 6974 6820 5353 4c20 6578 6563 7574 696e  ith SSL executin
-00002d10: 6720 7461 736b 730a 0a60 6060 7079 7468  g tasks..```pyth
-00002d20: 6f6e 0a66 726f 6d20 6675 6e63 746f 6f6c  on.from functool
-00002d30: 7320 696d 706f 7274 2072 6564 7563 650a  s import reduce.
-00002d40: 0a69 6d70 6f72 7420 6173 796e 6369 6f0a  .import asyncio.
-00002d50: 696d 706f 7274 2073 736c 0a0a 6672 6f6d  import ssl..from
-00002d60: 2070 6174 696f 2069 6d70 6f72 7420 5265   patio import Re
-00002d70: 6769 7374 7279 0a66 726f 6d20 7061 7469  gistry.from pati
-00002d80: 6f2e 6272 6f6b 6572 2e74 6370 2069 6d70  o.broker.tcp imp
-00002d90: 6f72 7420 5443 5053 6572 7665 7242 726f  ort TCPServerBro
-00002da0: 6b65 720a 6672 6f6d 2070 6174 696f 2e65  ker.from patio.e
-00002db0: 7865 6375 746f 7220 696d 706f 7274 2054  xecutor import T
-00002dc0: 6872 6561 6450 6f6f 6c45 7865 6375 746f  hreadPoolExecuto
-00002dd0: 720a 0a72 7063 203d 2052 6567 6973 7472  r..rpc = Registr
-00002de0: 7928 7072 6f6a 6563 743d 2274 6573 7422  y(project="test"
-00002df0: 2c20 6175 746f 5f6e 616d 696e 673d 4661  , auto_naming=Fa
-00002e00: 6c73 6529 0a0a 0a64 6566 206d 756c 282a  lse)...def mul(*
-00002e10: 6172 6773 293a 0a20 2020 2072 6574 7572  args):.    retur
-00002e20: 6e20 7265 6475 6365 286c 616d 6264 6120  n reduce(lambda 
-00002e30: 782c 2079 3a20 7820 2a20 792c 2061 7267  x, y: x * y, arg
-00002e40: 7329 0a0a 0a61 7379 6e63 2064 6566 206d  s)...async def m
-00002e50: 6169 6e28 293a 0a20 2020 2072 7063 2e72  ain():.    rpc.r
-00002e60: 6567 6973 7465 7228 6d75 6c2c 2022 6d75  egister(mul, "mu
-00002e70: 6c22 290a 0a20 2020 2073 736c 5f63 6f6e  l")..    ssl_con
-00002e80: 7465 7874 203d 2073 736c 2e53 534c 436f  text = ssl.SSLCo
-00002e90: 6e74 6578 7428 290a 2020 2020 7373 6c5f  ntext().    ssl_
-00002ea0: 636f 6e74 6578 742e 6c6f 6164 5f76 6572  context.load_ver
-00002eb0: 6966 795f 6c6f 6361 7469 6f6e 7328 2270  ify_locations("p
-00002ec0: 6174 682f 746f 2f43 412e 7065 6d22 290a  ath/to/CA.pem").
-00002ed0: 2020 2020 7373 6c5f 636f 6e74 6578 742e      ssl_context.
-00002ee0: 6c6f 6164 5f63 6572 745f 6368 6169 6e28  load_cert_chain(
-00002ef0: 2270 6174 682f 746f 2f73 6572 7665 722e  "path/to/server.
-00002f00: 7065 6d22 2c20 2270 6174 682f 746f 2f73  pem", "path/to/s
-00002f10: 6572 7665 722e 6b65 7922 290a 0a20 2020  erver.key")..   
-00002f20: 2061 7379 6e63 2077 6974 6820 5468 7265   async with Thre
-00002f30: 6164 506f 6f6c 4578 6563 7574 6f72 2872  adPoolExecutor(r
-00002f40: 7063 2920 6173 2065 7865 6375 746f 723a  pc) as executor:
-00002f50: 0a20 2020 2020 2020 2061 7379 6e63 2077  .        async w
-00002f60: 6974 6820 5443 5053 6572 7665 7242 726f  ith TCPServerBro
-00002f70: 6b65 7228 6578 6563 7574 6f72 2c20 7373  ker(executor, ss
-00002f80: 6c5f 636f 6e74 6578 743d 7373 6c5f 636f  l_context=ssl_co
-00002f90: 6e74 6578 7429 2061 7320 6272 6f6b 6572  ntext) as broker
-00002fa0: 3a0a 2020 2020 2020 2020 2020 2020 2320  :.            # 
-00002fb0: 5374 6172 7420 4950 7634 2073 6572 7665  Start IPv4 serve
-00002fc0: 720a 2020 2020 2020 2020 2020 2020 6177  r.            aw
-00002fd0: 6169 7420 6272 6f6b 6572 2e6c 6973 7465  ait broker.liste
-00002fe0: 6e28 6164 6472 6573 733d 2731 3237 2e30  n(address='127.0
-00002ff0: 2e30 2e31 2729 0a0a 2020 2020 2020 2020  .0.1')..        
-00003000: 2020 2020 2320 5374 6172 7420 4950 7636      # Start IPv6
-00003010: 2073 6572 7665 720a 2020 2020 2020 2020   server.        
-00003020: 2020 2020 6177 6169 7420 6272 6f6b 6572      await broker
-00003030: 2e6c 6973 7465 6e28 6164 6472 6573 733d  .listen(address=
-00003040: 273a 3a31 272c 2070 6f72 743d 3132 3334  '::1', port=1234
-00003050: 3529 0a0a 2020 2020 2020 2020 2020 2020  5)..            
-00003060: 6177 6169 7420 6272 6f6b 6572 2e6a 6f69  await broker.joi
-00003070: 6e28 290a 0a0a 6966 205f 5f6e 616d 655f  n()...if __name_
-00003080: 5f20 3d3d 2022 5f5f 6d61 696e 5f5f 223a  _ == "__main__":
-00003090: 0a20 2020 2061 7379 6e63 696f 2e72 756e  .    asyncio.run
-000030a0: 286d 6169 6e28 2929 0a60 6060 0a0a 2323  (main()).```..##
-000030b0: 2323 2320 436c 6965 6e74 2063 616c 6c69  ### Client calli
-000030c0: 6e67 2074 6173 6b73 2072 656d 6f74 656c  ng tasks remotel
-000030d0: 790a 0a60 6060 7079 7468 6f6e 0a69 6d70  y..```python.imp
-000030e0: 6f72 7420 6173 796e 6369 6f0a 696d 706f  ort asyncio.impo
-000030f0: 7274 2073 736c 0a0a 6672 6f6d 2070 6174  rt ssl..from pat
-00003100: 696f 2069 6d70 6f72 7420 5265 6769 7374  io import Regist
-00003110: 7279 0a66 726f 6d20 7061 7469 6f2e 6272  ry.from patio.br
-00003120: 6f6b 6572 2e74 6370 2069 6d70 6f72 7420  oker.tcp import 
-00003130: 5443 5043 6c69 656e 7442 726f 6b65 720a  TCPClientBroker.
-00003140: 6672 6f6d 2070 6174 696f 2e65 7865 6375  from patio.execu
-00003150: 746f 7220 696d 706f 7274 204e 756c 6c45  tor import NullE
-00003160: 7865 6375 746f 720a 0a0a 7270 6320 3d20  xecutor...rpc = 
-00003170: 5265 6769 7374 7279 2870 726f 6a65 6374  Registry(project
-00003180: 3d22 7465 7374 222c 2061 7574 6f5f 6e61  ="test", auto_na
-00003190: 6d69 6e67 3d46 616c 7365 290a 0a0a 6173  ming=False)...as
-000031a0: 796e 6320 6465 6620 6d61 696e 2829 3a0a  ync def main():.
-000031b0: 2020 2020 7373 6c5f 636f 6e74 6578 7420      ssl_context 
-000031c0: 3d20 7373 6c2e 6372 6561 7465 5f64 6566  = ssl.create_def
-000031d0: 6175 6c74 5f63 6f6e 7465 7874 2863 6166  ault_context(caf
-000031e0: 696c 653d 2270 6174 682f 746f 2f43 412e  ile="path/to/CA.
-000031f0: 7065 6d22 290a 0a20 2020 2061 7379 6e63  pem")..    async
-00003200: 2077 6974 6820 4e75 6c6c 4578 6563 7574   with NullExecut
-00003210: 6f72 2872 7063 2920 6173 2065 7865 6375  or(rpc) as execu
-00003220: 746f 723a 0a20 2020 2020 2020 2061 7379  tor:.        asy
-00003230: 6e63 2077 6974 6820 5443 5043 6c69 656e  nc with TCPClien
-00003240: 7442 726f 6b65 7228 6578 6563 7574 6f72  tBroker(executor
-00003250: 2c20 7373 6c5f 636f 6e74 6578 743d 7373  , ssl_context=ss
-00003260: 6c5f 636f 6e74 6578 7429 2061 7320 6272  l_context) as br
-00003270: 6f6b 6572 3a0a 2020 2020 2020 2020 2020  oker:.          
-00003280: 2020 2320 436f 6e6e 6563 7420 746f 2074    # Connect to t
-00003290: 6865 2049 5076 3420 6164 6472 6573 730a  he IPv4 address.
+000026c0: 6c69 7374 656e 2861 6464 7265 7373 3d27  listen(address='
+000026d0: 3a3a 3127 2c20 706f 7274 3d31 3233 3435  ::1', port=12345
+000026e0: 290a 0a20 2020 2020 2020 2020 2020 2061  )..            a
+000026f0: 7761 6974 2062 726f 6b65 722e 6a6f 696e  wait broker.join
+00002700: 2829 0a0a 0a69 6620 5f5f 6e61 6d65 5f5f  ()...if __name__
+00002710: 203d 3d20 225f 5f6d 6169 6e5f 5f22 3a0a   == "__main__":.
+00002720: 2020 2020 6173 796e 6369 6f2e 7275 6e28      asyncio.run(
+00002730: 6d61 696e 2829 290a 6060 600a 0a23 2323  main()).```..###
+00002740: 2323 2043 6c69 656e 7420 6361 6c6c 696e  ## Client callin
+00002750: 6720 7461 736b 7320 7265 6d6f 7465 6c79  g tasks remotely
+00002760: 0a0a 6060 6070 7974 686f 6e0a 696d 706f  ..```python.impo
+00002770: 7274 2061 7379 6e63 696f 0a0a 6672 6f6d  rt asyncio..from
+00002780: 2070 6174 696f 2069 6d70 6f72 7420 5265   patio import Re
+00002790: 6769 7374 7279 0a66 726f 6d20 7061 7469  gistry.from pati
+000027a0: 6f2e 6272 6f6b 6572 2e74 6370 2069 6d70  o.broker.tcp imp
+000027b0: 6f72 7420 5443 5043 6c69 656e 7442 726f  ort TCPClientBro
+000027c0: 6b65 720a 6672 6f6d 2070 6174 696f 2e65  ker.from patio.e
+000027d0: 7865 6375 746f 7220 696d 706f 7274 204e  xecutor import N
+000027e0: 756c 6c45 7865 6375 746f 720a 0a72 7063  ullExecutor..rpc
+000027f0: 203d 2052 6567 6973 7472 7928 7072 6f6a   = Registry(proj
+00002800: 6563 743d 2274 6573 7422 2c20 6175 746f  ect="test", auto
+00002810: 5f6e 616d 696e 673d 4661 6c73 6529 0a0a  _naming=False)..
+00002820: 0a61 7379 6e63 2064 6566 206d 6169 6e28  .async def main(
+00002830: 293a 0a20 2020 2061 7379 6e63 2077 6974  ):.    async wit
+00002840: 6820 4e75 6c6c 4578 6563 7574 6f72 2872  h NullExecutor(r
+00002850: 7063 2920 6173 2065 7865 6375 746f 723a  pc) as executor:
+00002860: 0a20 2020 2020 2020 2061 7379 6e63 2077  .        async w
+00002870: 6974 6820 5443 5043 6c69 656e 7442 726f  ith TCPClientBro
+00002880: 6b65 7228 6578 6563 7574 6f72 2920 6173  ker(executor) as
+00002890: 2062 726f 6b65 723a 0a20 2020 2020 2020   broker:.       
+000028a0: 2020 2020 2023 2043 6f6e 6e65 6374 2074       # Connect t
+000028b0: 6f20 7468 6520 4950 7634 2061 6464 7265  o the IPv4 addre
+000028c0: 7373 0a20 2020 2020 2020 2020 2020 2061  ss.            a
+000028d0: 7761 6974 2062 726f 6b65 722e 636f 6e6e  wait broker.conn
+000028e0: 6563 7428 6164 6472 6573 733d 2731 3237  ect(address='127
+000028f0: 2e30 2e30 2e31 2729 0a0a 2020 2020 2020  .0.0.1')..      
+00002900: 2020 2020 2020 2320 436f 6e6e 6563 7420        # Connect 
+00002910: 746f 2074 6865 2049 5076 3620 6164 6472  to the IPv6 addr
+00002920: 6573 7320 286f 7074 696f 6e61 6c29 0a20  ess (optional). 
+00002930: 2020 2020 2020 2020 2020 2061 7761 6974             await
+00002940: 2062 726f 6b65 722e 636f 6e6e 6563 7428   broker.connect(
+00002950: 6164 6472 6573 733d 273a 3a31 272c 2070  address='::1', p
+00002960: 6f72 743d 3132 3334 3529 0a0a 2020 2020  ort=12345)..    
+00002970: 2020 2020 2020 2020 7072 696e 7428 0a20          print(. 
+00002980: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00002990: 7761 6974 2061 7379 6e63 696f 2e67 6174  wait asyncio.gat
+000029a0: 6865 7228 2a5b 0a20 2020 2020 2020 2020  her(*[.         
+000029b0: 2020 2020 2020 2020 2020 2062 726f 6b65             broke
+000029c0: 722e 6361 6c6c 2827 6d75 6c27 2c20 692c  r.call('mul', i,
+000029d0: 2069 2920 666f 7220 6920 696e 2072 616e   i) for i in ran
+000029e0: 6765 2831 3029 0a20 2020 2020 2020 2020  ge(10).         
+000029f0: 2020 2020 2020 205d 292c 0a20 2020 2020         ]),.     
+00002a00: 2020 2020 2020 2029 0a0a 0a69 6620 5f5f         )...if __
+00002a10: 6e61 6d65 5f5f 203d 3d20 225f 5f6d 6169  name__ == "__mai
+00002a20: 6e5f 5f22 3a0a 2020 2020 6173 796e 6369  n__":.    asynci
+00002a30: 6f2e 7275 6e28 6d61 696e 2829 290a 6060  o.run(main()).``
+00002a40: 600a 0a23 2323 2323 2045 7861 6d70 6c65  `..##### Example
+00002a50: 7320 7769 7468 2053 534c 0a0a 5468 6520  s with SSL..The 
+00002a60: 7461 736b 2063 6f6d 6573 2064 6f77 6e20  task comes down 
+00002a70: 746f 2070 6173 7369 6e67 2074 6865 2073  to passing the s
+00002a80: 736c 2063 6f6e 7465 7874 2074 6f20 7468  sl context to th
+00002a90: 6520 7365 7276 6572 2061 6e64 2074 6f20  e server and to 
+00002aa0: 7468 6520 636c 6965 6e74 2e0a 0a42 656c  the client...Bel
+00002ab0: 6f77 2079 6f75 2077 696c 6c20 7365 6520  ow you will see 
+00002ac0: 616e 2065 7861 6d70 6c65 206f 6620 686f  an example of ho
+00002ad0: 7720 746f 206d 616b 6520 6120 636f 7570  w to make a coup
+00002ae0: 6c65 206f 6620 7365 6c66 2d73 6967 6e65  le of self-signe
+00002af0: 640a 6365 7274 6966 6963 6174 6573 2c20  d.certificates, 
+00002b00: 616e 6420 616e 2061 7574 686f 7269 7a61  and an authoriza
+00002b10: 7469 6f6e 2043 412e 204f 7269 6769 6e61  tion CA. Origina
+00002b20: 6c20 706f 7374 0a5b 6865 7265 5d28 6874  l post.[here](ht
+00002b30: 7470 733a 2f2f 6769 7374 2e67 6974 6875  tps://gist.githu
+00002b40: 622e 636f 6d2f 666e 746c 6e7a 2f63 6631  b.com/fntlnz/cf1
+00002b50: 3466 6562 3561 3436 6232 6564 6134 3238  4feb5a46b2eda428
+00002b60: 6530 3030 3135 3734 3437 3330 3929 2e0a  e000157447309)..
+00002b70: 0a54 6869 7320 6973 206a 7573 7420 616e  .This is just an
+00002b80: 2065 7861 6d70 6c65 2c20 616e 6420 6966   example, and if
+00002b90: 2079 6f75 2077 616e 7420 746f 2075 7365   you want to use
+00002ba0: 2079 6f75 7220 6f77 6e20 6365 7274 6966   your own certif
+00002bb0: 6963 6174 6573 2c20 6a75 7374 0a63 7265  icates, just.cre
+00002bc0: 6174 6520 616e 2073 736c 2063 6f6e 7465  ate an ssl conte
+00002bd0: 7874 2061 7320 7265 7175 6972 6564 2062  xt as required b
+00002be0: 7920 796f 7572 2073 6563 7572 6974 7920  y your security 
+00002bf0: 706f 6c69 6379 2e0a 0a23 2323 2323 2320  policy...###### 
+00002c00: 4365 7274 6966 6963 6174 6520 6175 7468  Certificate auth
+00002c10: 6f72 6974 7920 6372 6561 7469 6f6e 0a0a  ority creation..
+00002c20: 2a2a 4174 7465 6e74 696f 6e3a 2a2a 2074  **Attention:** t
+00002c30: 6869 7320 6973 2074 6865 206b 6579 2075  his is the key u
+00002c40: 7365 6420 746f 2073 6967 6e20 7468 6520  sed to sign the 
+00002c50: 6365 7274 6966 6963 6174 6520 7265 7175  certificate requ
+00002c60: 6573 7473 2c20 616e 796f 6e65 0a68 6f6c  ests, anyone.hol
+00002c70: 6469 6e67 2074 6869 7320 6361 6e20 7369  ding this can si
+00002c80: 676e 2063 6572 7469 6669 6361 7465 7320  gn certificates 
+00002c90: 6f6e 2079 6f75 7220 6265 6861 6c66 2e20  on your behalf. 
+00002ca0: 536f 206b 6565 7020 6974 2069 6e20 6120  So keep it in a 
+00002cb0: 7361 6665 2070 6c61 6365 210a 0a60 6060  safe place!..```
+00002cc0: 7368 656c 6c0a 6f70 656e 7373 6c20 7265  shell.openssl re
+00002cd0: 7120 2d78 3530 3920 5c0a 2020 2d73 6861  q -x509 \.  -sha
+00002ce0: 3235 3620 2d64 6179 7320 3336 3530 205c  256 -days 3650 \
+00002cf0: 0a20 202d 6e6f 6465 7320 5c0a 2020 2d6e  .  -nodes \.  -n
+00002d00: 6577 6b65 7920 7273 613a 3230 3438 205c  ewkey rsa:2048 \
+00002d10: 0a20 202d 7375 626a 2022 2f43 4e3d 5061  .  -subj "/CN=Pa
+00002d20: 7469 6f20 4578 616d 706c 6520 4341 2f43  tio Example CA/C
+00002d30: 3d43 432f 4c3d 5765 7374 2049 736c 616e  =CC/L=West Islan
+00002d40: 6422 205c 0a20 202d 6b65 796f 7574 2043  d" \.  -keyout C
+00002d50: 412e 6b65 7920 2d6f 7574 2043 412e 7065  A.key -out CA.pe
+00002d60: 6d0a 6060 600a 0a23 2323 2323 2320 5365  m.```..###### Se
+00002d70: 7276 6572 2063 6572 7469 6669 6361 7465  rver certificate
+00002d80: 2063 7265 6174 696f 6e0a 0a46 6972 7374   creation..First
+00002d90: 2063 7265 6174 6520 7365 7276 6572 2070   create server p
+00002da0: 7269 7661 7465 206b 6579 3a0a 0a60 6060  rivate key:..```
+00002db0: 7368 656c 6c0a 6f70 656e 7373 6c20 6765  shell.openssl ge
+00002dc0: 6e72 7361 202d 6f75 7420 7365 7276 6572  nrsa -out server
+00002dd0: 2e6b 6579 2032 3034 380a 6060 600a 0a54  .key 2048.```..T
+00002de0: 6865 6e20 6372 6561 7465 2074 6865 2063  hen create the c
+00002df0: 6572 7469 6669 6361 7465 2072 6571 7565  ertificate reque
+00002e00: 7374 2073 6967 6e69 6e67 2074 6869 7320  st signing this 
+00002e10: 6b65 793a 0a0a 6060 6073 6865 6c6c 0a6f  key:..```shell.o
+00002e20: 7065 6e73 736c 2072 6571 205c 0a20 202d  penssl req \.  -
+00002e30: 6e65 7720 2d73 6861 3235 3620 5c0a 2020  new -sha256 \.  
+00002e40: 2d6b 6579 2073 6572 7665 722e 6b65 7920  -key server.key 
+00002e50: 5c0a 2020 2d73 7562 6a20 222f 434e 3d73  \.  -subj "/CN=s
+00002e60: 6572 7665 722e 6578 616d 706c 652e 6e65  erver.example.ne
+00002e70: 742f 433d 4343 2f4c 3d57 6573 7420 4973  t/C=CC/L=West Is
+00002e80: 6c61 6e64 2220 5c0a 2020 2d6f 7574 2073  land" \.  -out s
+00002e90: 6572 7665 722e 6373 720a 6060 600a 0a53  erver.csr.```..S
+00002ea0: 6967 6e20 7468 6973 2072 6571 7565 7374  ign this request
+00002eb0: 2062 7920 4341 3a0a 0a60 6060 7368 656c   by CA:..```shel
+00002ec0: 6c0a 6f70 656e 7373 6c20 7835 3039 202d  l.openssl x509 -
+00002ed0: 7265 7120 5c0a 2020 2d64 6179 7320 3336  req \.  -days 36
+00002ee0: 3520 2d73 6861 3235 3620 5c0a 2020 2d69  5 -sha256 \.  -i
+00002ef0: 6e20 7365 7276 6572 2e63 7372 205c 0a20  n server.csr \. 
+00002f00: 202d 4341 2043 412e 7065 6d20 5c0a 2020   -CA CA.pem \.  
+00002f10: 2d43 416b 6579 2043 412e 6b65 7920 5c0a  -CAkey CA.key \.
+00002f20: 2020 2d43 4163 7265 6174 6573 6572 6961    -CAcreateseria
+00002f30: 6c20 5c0a 2020 2d6f 7574 2073 6572 7665  l \.  -out serve
+00002f40: 722e 7065 6d0a 6060 600a 0a54 6869 7320  r.pem.```..This 
+00002f50: 7368 6f75 6c64 2062 6520 656e 6f75 6768  should be enough
+00002f60: 2074 6f20 656e 6372 7970 7420 7468 6520   to encrypt the 
+00002f70: 7472 6166 6669 632e 0a0a 2323 2323 2320  traffic...##### 
+00002f80: 5365 7276 6572 2077 6974 6820 5353 4c20  Server with SSL 
+00002f90: 6578 6563 7574 696e 6720 7461 736b 730a  executing tasks.
+00002fa0: 0a60 6060 7079 7468 6f6e 0a66 726f 6d20  .```python.from 
+00002fb0: 6675 6e63 746f 6f6c 7320 696d 706f 7274  functools import
+00002fc0: 2072 6564 7563 650a 0a69 6d70 6f72 7420   reduce..import 
+00002fd0: 6173 796e 6369 6f0a 696d 706f 7274 2073  asyncio.import s
+00002fe0: 736c 0a0a 6672 6f6d 2070 6174 696f 2069  sl..from patio i
+00002ff0: 6d70 6f72 7420 5265 6769 7374 7279 0a66  mport Registry.f
+00003000: 726f 6d20 7061 7469 6f2e 6272 6f6b 6572  rom patio.broker
+00003010: 2e74 6370 2069 6d70 6f72 7420 5443 5053  .tcp import TCPS
+00003020: 6572 7665 7242 726f 6b65 720a 6672 6f6d  erverBroker.from
+00003030: 2070 6174 696f 2e65 7865 6375 746f 7220   patio.executor 
+00003040: 696d 706f 7274 2054 6872 6561 6450 6f6f  import ThreadPoo
+00003050: 6c45 7865 6375 746f 720a 0a72 7063 203d  lExecutor..rpc =
+00003060: 2052 6567 6973 7472 7928 7072 6f6a 6563   Registry(projec
+00003070: 743d 2274 6573 7422 2c20 6175 746f 5f6e  t="test", auto_n
+00003080: 616d 696e 673d 4661 6c73 6529 0a0a 0a64  aming=False)...d
+00003090: 6566 206d 756c 282a 6172 6773 293a 0a20  ef mul(*args):. 
+000030a0: 2020 2072 6574 7572 6e20 7265 6475 6365     return reduce
+000030b0: 286c 616d 6264 6120 782c 2079 3a20 7820  (lambda x, y: x 
+000030c0: 2a20 792c 2061 7267 7329 0a0a 0a61 7379  * y, args)...asy
+000030d0: 6e63 2064 6566 206d 6169 6e28 293a 0a20  nc def main():. 
+000030e0: 2020 2072 7063 2e72 6567 6973 7465 7228     rpc.register(
+000030f0: 6d75 6c2c 2022 6d75 6c22 290a 0a20 2020  mul, "mul")..   
+00003100: 2073 736c 5f63 6f6e 7465 7874 203d 2073   ssl_context = s
+00003110: 736c 2e53 534c 436f 6e74 6578 7428 290a  sl.SSLContext().
+00003120: 2020 2020 7373 6c5f 636f 6e74 6578 742e      ssl_context.
+00003130: 6c6f 6164 5f76 6572 6966 795f 6c6f 6361  load_verify_loca
+00003140: 7469 6f6e 7328 2270 6174 682f 746f 2f43  tions("path/to/C
+00003150: 412e 7065 6d22 290a 2020 2020 7373 6c5f  A.pem").    ssl_
+00003160: 636f 6e74 6578 742e 6c6f 6164 5f63 6572  context.load_cer
+00003170: 745f 6368 6169 6e28 2270 6174 682f 746f  t_chain("path/to
+00003180: 2f73 6572 7665 722e 7065 6d22 2c20 2270  /server.pem", "p
+00003190: 6174 682f 746f 2f73 6572 7665 722e 6b65  ath/to/server.ke
+000031a0: 7922 290a 0a20 2020 2061 7379 6e63 2077  y")..    async w
+000031b0: 6974 6820 5468 7265 6164 506f 6f6c 4578  ith ThreadPoolEx
+000031c0: 6563 7574 6f72 2872 7063 2920 6173 2065  ecutor(rpc) as e
+000031d0: 7865 6375 746f 723a 0a20 2020 2020 2020  xecutor:.       
+000031e0: 2061 7379 6e63 2077 6974 6820 5443 5053   async with TCPS
+000031f0: 6572 7665 7242 726f 6b65 7228 6578 6563  erverBroker(exec
+00003200: 7574 6f72 2c20 7373 6c5f 636f 6e74 6578  utor, ssl_contex
+00003210: 743d 7373 6c5f 636f 6e74 6578 7429 2061  t=ssl_context) a
+00003220: 7320 6272 6f6b 6572 3a0a 2020 2020 2020  s broker:.      
+00003230: 2020 2020 2020 2320 5374 6172 7420 4950        # Start IP
+00003240: 7634 2073 6572 7665 720a 2020 2020 2020  v4 server.      
+00003250: 2020 2020 2020 6177 6169 7420 6272 6f6b        await brok
+00003260: 6572 2e6c 6973 7465 6e28 6164 6472 6573  er.listen(addres
+00003270: 733d 2731 3237 2e30 2e30 2e31 2729 0a0a  s='127.0.0.1')..
+00003280: 2020 2020 2020 2020 2020 2020 2320 5374              # St
+00003290: 6172 7420 4950 7636 2073 6572 7665 720a  art IPv6 server.
 000032a0: 2020 2020 2020 2020 2020 2020 6177 6169              awai
-000032b0: 7420 6272 6f6b 6572 2e63 6f6e 6e65 6374  t broker.connect
-000032c0: 2861 6464 7265 7373 3d27 3132 372e 302e  (address='127.0.
-000032d0: 302e 3127 290a 0a20 2020 2020 2020 2020  0.1')..         
-000032e0: 2020 2023 2043 6f6e 6e65 6374 2074 6f20     # Connect to 
-000032f0: 7468 6520 4950 7636 2061 6464 7265 7373  the IPv6 address
-00003300: 2028 6f70 7469 6f6e 616c 290a 2020 2020   (optional).    
-00003310: 2020 2020 2020 2020 6177 6169 7420 6272          await br
-00003320: 6f6b 6572 2e63 6f6e 6e65 6374 2861 6464  oker.connect(add
-00003330: 7265 7373 3d27 3a3a 3127 2c20 706f 7274  ress='::1', port
-00003340: 3d31 3233 3435 290a 0a20 2020 2020 2020  =12345)..       
-00003350: 2020 2020 2070 7269 6e74 280a 2020 2020       print(.    
-00003360: 2020 2020 2020 2020 2020 2020 6177 6169              awai
-00003370: 7420 6173 796e 6369 6f2e 6761 7468 6572  t asyncio.gather
-00003380: 282a 5b0a 2020 2020 2020 2020 2020 2020  (*[.            
-00003390: 2020 2020 2020 2020 6272 6f6b 6572 2e63          broker.c
-000033a0: 616c 6c28 276d 756c 272c 2069 2c20 6929  all('mul', i, i)
-000033b0: 2066 6f72 2069 2069 6e20 7261 6e67 6528   for i in range(
-000033c0: 3130 290a 2020 2020 2020 2020 2020 2020  10).            
-000033d0: 2020 2020 5d29 2c0a 2020 2020 2020 2020      ]),.        
-000033e0: 2020 2020 290a 0a0a 6966 205f 5f6e 616d      )...if __nam
-000033f0: 655f 5f20 3d3d 2022 5f5f 6d61 696e 5f5f  e__ == "__main__
-00003400: 223a 0a20 2020 2061 7379 6e63 696f 2e72  ":.    asyncio.r
-00003410: 756e 286d 6169 6e28 2929 0a60 6060 0a    un(main()).```.
+000032b0: 7420 6272 6f6b 6572 2e6c 6973 7465 6e28  t broker.listen(
+000032c0: 6164 6472 6573 733d 273a 3a31 272c 2070  address='::1', p
+000032d0: 6f72 743d 3132 3334 3529 0a0a 2020 2020  ort=12345)..    
+000032e0: 2020 2020 2020 2020 6177 6169 7420 6272          await br
+000032f0: 6f6b 6572 2e6a 6f69 6e28 290a 0a0a 6966  oker.join()...if
+00003300: 205f 5f6e 616d 655f 5f20 3d3d 2022 5f5f   __name__ == "__
+00003310: 6d61 696e 5f5f 223a 0a20 2020 2061 7379  main__":.    asy
+00003320: 6e63 696f 2e72 756e 286d 6169 6e28 2929  ncio.run(main())
+00003330: 0a60 6060 0a0a 2323 2323 2320 436c 6965  .```..##### Clie
+00003340: 6e74 2063 616c 6c69 6e67 2074 6173 6b73  nt calling tasks
+00003350: 2072 656d 6f74 656c 790a 0a60 6060 7079   remotely..```py
+00003360: 7468 6f6e 0a69 6d70 6f72 7420 6173 796e  thon.import asyn
+00003370: 6369 6f0a 696d 706f 7274 2073 736c 0a0a  cio.import ssl..
+00003380: 6672 6f6d 2070 6174 696f 2069 6d70 6f72  from patio impor
+00003390: 7420 5265 6769 7374 7279 0a66 726f 6d20  t Registry.from 
+000033a0: 7061 7469 6f2e 6272 6f6b 6572 2e74 6370  patio.broker.tcp
+000033b0: 2069 6d70 6f72 7420 5443 5043 6c69 656e   import TCPClien
+000033c0: 7442 726f 6b65 720a 6672 6f6d 2070 6174  tBroker.from pat
+000033d0: 696f 2e65 7865 6375 746f 7220 696d 706f  io.executor impo
+000033e0: 7274 204e 756c 6c45 7865 6375 746f 720a  rt NullExecutor.
+000033f0: 0a0a 7270 6320 3d20 5265 6769 7374 7279  ..rpc = Registry
+00003400: 2870 726f 6a65 6374 3d22 7465 7374 222c  (project="test",
+00003410: 2061 7574 6f5f 6e61 6d69 6e67 3d46 616c   auto_naming=Fal
+00003420: 7365 290a 0a0a 6173 796e 6320 6465 6620  se)...async def 
+00003430: 6d61 696e 2829 3a0a 2020 2020 7373 6c5f  main():.    ssl_
+00003440: 636f 6e74 6578 7420 3d20 7373 6c2e 6372  context = ssl.cr
+00003450: 6561 7465 5f64 6566 6175 6c74 5f63 6f6e  eate_default_con
+00003460: 7465 7874 2863 6166 696c 653d 2270 6174  text(cafile="pat
+00003470: 682f 746f 2f43 412e 7065 6d22 290a 0a20  h/to/CA.pem").. 
+00003480: 2020 2061 7379 6e63 2077 6974 6820 4e75     async with Nu
+00003490: 6c6c 4578 6563 7574 6f72 2872 7063 2920  llExecutor(rpc) 
+000034a0: 6173 2065 7865 6375 746f 723a 0a20 2020  as executor:.   
+000034b0: 2020 2020 2061 7379 6e63 2077 6974 6820       async with 
+000034c0: 5443 5043 6c69 656e 7442 726f 6b65 7228  TCPClientBroker(
+000034d0: 6578 6563 7574 6f72 2c20 7373 6c5f 636f  executor, ssl_co
+000034e0: 6e74 6578 743d 7373 6c5f 636f 6e74 6578  ntext=ssl_contex
+000034f0: 7429 2061 7320 6272 6f6b 6572 3a0a 2020  t) as broker:.  
+00003500: 2020 2020 2020 2020 2020 2320 436f 6e6e            # Conn
+00003510: 6563 7420 746f 2074 6865 2049 5076 3420  ect to the IPv4 
+00003520: 6164 6472 6573 730a 2020 2020 2020 2020  address.        
+00003530: 2020 2020 6177 6169 7420 6272 6f6b 6572      await broker
+00003540: 2e63 6f6e 6e65 6374 2861 6464 7265 7373  .connect(address
+00003550: 3d27 3132 372e 302e 302e 3127 290a 0a20  ='127.0.0.1').. 
+00003560: 2020 2020 2020 2020 2020 2023 2043 6f6e             # Con
+00003570: 6e65 6374 2074 6f20 7468 6520 4950 7636  nect to the IPv6
+00003580: 2061 6464 7265 7373 2028 6f70 7469 6f6e   address (option
+00003590: 616c 290a 2020 2020 2020 2020 2020 2020  al).            
+000035a0: 6177 6169 7420 6272 6f6b 6572 2e63 6f6e  await broker.con
+000035b0: 6e65 6374 2861 6464 7265 7373 3d27 3a3a  nect(address='::
+000035c0: 3127 2c20 706f 7274 3d31 3233 3435 290a  1', port=12345).
+000035d0: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
+000035e0: 6e74 280a 2020 2020 2020 2020 2020 2020  nt(.            
+000035f0: 2020 2020 6177 6169 7420 6173 796e 6369      await asynci
+00003600: 6f2e 6761 7468 6572 282a 5b0a 2020 2020  o.gather(*[.    
+00003610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003620: 6272 6f6b 6572 2e63 616c 6c28 276d 756c  broker.call('mul
+00003630: 272c 2069 2c20 6929 2066 6f72 2069 2069  ', i, i) for i i
+00003640: 6e20 7261 6e67 6528 3130 290a 2020 2020  n range(10).    
+00003650: 2020 2020 2020 2020 2020 2020 5d29 2c0a              ]),.
+00003660: 2020 2020 2020 2020 2020 2020 290a 0a0a              )...
+00003670: 6966 205f 5f6e 616d 655f 5f20 3d3d 2022  if __name__ == "
+00003680: 5f5f 6d61 696e 5f5f 223a 0a20 2020 2061  __main__":.    a
+00003690: 7379 6e63 696f 2e72 756e 286d 6169 6e28  syncio.run(main(
+000036a0: 2929 0a60 6060 0a                        )).```.
```

### Comparing `patio-0.1.3/patio/__init__.py` & `patio-0.1.4/patio/__init__.py`

 * *Files identical despite different names*

### Comparing `patio-0.1.3/patio/broker/abc.py` & `patio-0.1.4/patio/broker/abc.py`

 * *Files identical despite different names*

### Comparing `patio-0.1.3/patio/broker/memory.py` & `patio-0.1.4/patio/broker/memory.py`

 * *Files identical despite different names*

### Comparing `patio-0.1.3/patio/broker/serializer.py` & `patio-0.1.4/patio/broker/serializer.py`

 * *Files identical despite different names*

### Comparing `patio-0.1.3/patio/broker/tcp/broker.py` & `patio-0.1.4/patio/broker/tcp/broker.py`

 * *Files identical despite different names*

### Comparing `patio-0.1.3/patio/broker/tcp/protocol.py` & `patio-0.1.4/patio/broker/tcp/protocol.py`

 * *Files identical despite different names*

### Comparing `patio-0.1.3/patio/compat.py` & `patio-0.1.4/patio/compat.py`

 * *Files identical despite different names*

### Comparing `patio-0.1.3/patio/executor/asyncronous.py` & `patio-0.1.4/patio/executor/asyncronous.py`

 * *Files identical despite different names*

### Comparing `patio-0.1.3/patio/executor/base.py` & `patio-0.1.4/patio/executor/base.py`

 * *Files identical despite different names*

### Comparing `patio-0.1.3/patio/executor/null.py` & `patio-0.1.4/patio/executor/null.py`

 * *Files identical despite different names*

### Comparing `patio-0.1.3/patio/executor/process_pool.py` & `patio-0.1.4/patio/executor/process_pool.py`

 * *Files identical despite different names*

### Comparing `patio-0.1.3/patio/executor/thread_pool.py` & `patio-0.1.4/patio/executor/thread_pool.py`

 * *Files identical despite different names*

### Comparing `patio-0.1.3/patio/registry.py` & `patio-0.1.4/patio/registry.py`

 * *Files identical despite different names*

### Comparing `patio-0.1.3/pyproject.toml` & `patio-0.1.4/pyproject.toml`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 [tool.poetry]
 name = "patio"
-version = "0.1.3"
+version = "0.1.4"
 description = "Python Asynchronous Task for AsyncIO"
 authors = ["Dmitry Orlov <me@mosquito.su>"]
 license = "MIT"
 readme = "README.md"
 homepage = "https://github.com/patio-python/patio/"
 classifiers = [
     "Development Status :: 4 - Beta",
```

### Comparing `patio-0.1.3/PKG-INFO` & `patio-0.1.4/PKG-INFO`

 * *Files 6% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: patio
-Version: 0.1.3
+Version: 0.1.4
 Summary: Python Asynchronous Task for AsyncIO
 Home-page: https://github.com/patio-python/patio/
 License: MIT
 Author: Dmitry Orlov
 Author-email: me@mosquito.su
 Requires-Python: >=3.8,<4.0
 Classifier: Development Status :: 4 - Beta
@@ -16,23 +16,30 @@
 Classifier: Natural Language :: Russian
 Classifier: Programming Language :: Python
 Classifier: Programming Language :: Python :: 3
 Classifier: Programming Language :: Python :: 3.8
 Classifier: Programming Language :: Python :: 3.9
 Classifier: Programming Language :: Python :: 3.10
 Classifier: Programming Language :: Python :: 3.11
+Classifier: Programming Language :: Python :: 3
+Classifier: Programming Language :: Python :: 3.10
+Classifier: Programming Language :: Python :: 3.11
+Classifier: Programming Language :: Python :: 3.8
+Classifier: Programming Language :: Python :: 3.9
 Classifier: Programming Language :: Python :: Implementation :: CPython
 Classifier: Topic :: Internet
 Classifier: Topic :: Software Development
 Classifier: Topic :: Software Development :: Libraries
 Classifier: Topic :: Software Development :: Libraries :: Python Modules
 Classifier: Typing :: Typed
 Requires-Dist: typing_extensions ; python_version < "3.11"
 Description-Content-Type: text/markdown
 
+[![PyPI - License](https://img.shields.io/pypi/l/patio)](https://pypi.org/project/patio) [![Wheel](https://img.shields.io/pypi/wheel/patio)](https://pypi.org/project/patio) [![Mypy](http://www.mypy-lang.org/static/mypy_badge.svg)]() [![PyPI](https://img.shields.io/pypi/v/patio)](https://pypi.org/project/patio) [![PyPI](https://img.shields.io/pypi/pyversions/patio)](https://pypi.org/project/patio) [![Coverage Status](https://coveralls.io/repos/github/patio-python/patio/badge.svg?branch=master)](https://coveralls.io/github/patio-python/patio?branch=master) ![tox](https://github.com/patio-python/patio/workflows/tests/badge.svg?branch=master)
+
 PATIO
 =====
 
 PATIO is an acronym for **P**ython **A**synchronous **T**asks for Async**IO**.
 
 Motivation
 ----------
```

