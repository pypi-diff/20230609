# Comparing `tmp/souschef-1.3.6.tar.gz` & `tmp/souschef-1.3.7.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "dist/souschef-1.3.6.tar", last modified: Wed May 17 03:20:08 2023, max compression
+gzip compressed data, was "dist/souschef-1.3.7.tar", last modified: Fri Jun  9 16:06:01 2023, max compression
```

## Comparing `souschef-1.3.6.tar` & `souschef-1.3.7.tar`

### file list

```diff
@@ -1,432 +1,432 @@
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/
--rw-r--r--   0 root         (0) root         (0)     5731 2022-10-23 16:08:38.000000 souschef-1.3.6/INSTALL.md
--rw-r--r--   0 root         (0) root         (0)    33893 2020-11-20 01:08:04.000000 souschef-1.3.6/LICENSE.txt
--rw-r--r--   0 root         (0) root         (0)      230 2021-01-23 15:51:37.000000 souschef-1.3.6/MANIFEST.in
--rw-r--r--   0 root         (0) root         (0)     2249 2023-05-17 03:20:08.000000 souschef-1.3.6/PKG-INFO
--rw-r--r--   0 root         (0) root         (0)     1366 2021-01-22 18:52:15.000000 souschef-1.3.6/README.md
--rw-r--r--   0 root         (0) root         (0)     1409 2021-01-23 16:03:53.000000 souschef-1.3.6/UPDATE.md
--rw-r--r--   0 root         (0) root         (0)      114 2023-05-17 03:20:08.000000 souschef-1.3.6/setup.cfg
--rw-r--r--   0 root         (0) root         (0)     1781 2023-05-17 03:18:08.000000 souschef-1.3.6/setup.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/
--rw-r--r--   0 root         (0) root         (0)    32621 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/160widthSR-Logo-Screen-PurpleGreen-HI-RGB1.jpg
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/__init__.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/billing/
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/billing/__init__.py
--rw-r--r--   0 root         (0) root         (0)      314 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/billing/admin.py
--rw-r--r--   0 root         (0) root         (0)       89 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/billing/apps.py
--rw-r--r--   0 root         (0) root         (0)      358 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/billing/factories.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/billing/migrations/
--rw-r--r--   0 root         (0) root         (0)      983 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/billing/migrations/0001_initial.py
--rw-r--r--   0 root         (0) root         (0)      494 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/billing/migrations/0002_auto_20161122_0458.py
--rw-r--r--   0 root         (0) root         (0)      435 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/billing/migrations/0003_auto_20161122_0515.py
--rw-r--r--   0 root         (0) root         (0)      439 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/billing/migrations/0004_auto_20201030_1540.py
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/billing/migrations/__init__.py
--rw-r--r--   0 root         (0) root         (0)     5339 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/billing/models.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/billing/templates/
--rw-r--r--   0 root         (0) root         (0)       42 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/billing/templates/base_billing.html
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/billing/templates/billing/
--rw-r--r--   0 root         (0) root         (0)     4897 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/billing/templates/billing/add.html
--rw-r--r--   0 root         (0) root         (0)      863 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/billing/templates/billing/billing_confirm_delete.html
--rw-r--r--   0 root         (0) root         (0)     3310 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/billing/templates/billing/list.html
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/billing/templates/billing/partials/
--rw-r--r--   0 root         (0) root         (0)      531 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/billing/templates/billing/partials/statistics.html
--rw-r--r--   0 root         (0) root         (0)     5508 2021-07-16 15:48:25.000000 souschef-1.3.6/souschef/billing/templates/billing/partials/summary.html
--rw-r--r--   0 root         (0) root         (0)      864 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/billing/templates/billing/print_summary.html
--rw-r--r--   0 root         (0) root         (0)      822 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/billing/templates/billing/view.html
--rw-r--r--   0 root         (0) root         (0)     3407 2021-03-19 15:14:11.000000 souschef-1.3.6/souschef/billing/templates/billing/view_orders.html
--rw-r--r--   0 root         (0) root         (0)     8493 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/billing/tests.py
--rw-r--r--   0 root         (0) root         (0)      718 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/billing/urls.py
--rw-r--r--   0 root         (0) root         (0)    12048 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/billing/views.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/configsamples/
--rw-r--r--   0 root         (0) root         (0)      809 2021-03-02 23:43:41.000000 souschef-1.3.6/souschef/configsamples/nginx.conf
--rw-r--r--   0 root         (0) root         (0)      409 2020-12-19 18:25:21.000000 souschef-1.3.6/souschef/configsamples/souschef.service
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/cronscripts/
--rwxr-xr-x   0 root         (0) root         (0)      469 2021-01-23 16:08:34.000000 souschef-1.3.6/souschef/cronscripts/souschef_daily.sh
--rw-r--r--   0 root         (0) root         (0)      361 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/dataexec.py
--rw-r--r--   0 root         (0) root         (0)    81444 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/dataload.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/datamigration/
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/datamigration/__init__.py
--rw-r--r--   0 root         (0) root         (0)       64 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/datamigration/admin.py
--rw-r--r--   0 root         (0) root         (0)      101 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/datamigration/apps.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/datamigration/management/
--rw-r--r--   0 root         (0) root         (0)        0 2021-01-23 15:20:34.000000 souschef-1.3.6/souschef/datamigration/management/__init__.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/datamigration/management/commands/
--rw-r--r--   0 root         (0) root         (0)        0 2021-01-23 15:36:11.000000 souschef-1.3.6/souschef/datamigration/management/commands/__init__.py
--rw-r--r--   0 root         (0) root         (0)     2178 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/datamigration/management/commands/importaddresses.py
--rw-r--r--   0 root         (0) root         (0)     3174 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/datamigration/management/commands/importclients.py
--rw-r--r--   0 root         (0) root         (0)     3106 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/datamigration/management/commands/importcontactaddresses.py
--rw-r--r--   0 root         (0) root         (0)     3956 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/datamigration/management/commands/importmeals.py
--rw-r--r--   0 root         (0) root         (0)     2593 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/datamigration/management/commands/importorders.py
--rw-r--r--   0 root         (0) root         (0)     3306 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/datamigration/management/commands/importrelationships.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/datamigration/migrations/
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/datamigration/migrations/__init__.py
--rw-r--r--   0 root         (0) root         (0)       58 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/datamigration/models.py
--rw-r--r--   0 root         (0) root         (0)     9202 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/datamigration/tests.py
--rw-r--r--   0 root         (0) root         (0)       64 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/datamigration/views.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/delivery/
--rwxr-xr-x   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/delivery/__init__.py
--rwxr-xr-x   0 root         (0) root         (0)       64 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/delivery/admin.py
--rwxr-xr-x   0 root         (0) root         (0)       91 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/delivery/apps.py
--rw-r--r--   0 root         (0) root         (0)      906 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/delivery/filters.py
--rw-r--r--   0 root         (0) root         (0)     1406 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/delivery/forms.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/delivery/migrations/
--rw-r--r--   0 root         (0) root         (0)      582 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/delivery/migrations/0001_fix004a.py
--rwxr-xr-x   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/delivery/migrations/__init__.py
--rwxr-xr-x   0 root         (0) root         (0)      218 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/delivery/models.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/delivery/templates/
--rw-r--r--   0 root         (0) root         (0)    12093 2021-03-19 19:46:01.000000 souschef-1.3.6/souschef/delivery/templates/edit_delivery_of_today.html
--rw-r--r--   0 root         (0) root         (0)     3511 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/delivery/templates/ingredients.html
--rw-r--r--   0 root         (0) root         (0)     4057 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/delivery/templates/kitchen_count.html
--rw-r--r--   0 root         (0) root         (0)     1183 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/delivery/templates/kitchen_count_steps.html
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/delivery/templates/partials/
--rw-r--r--   0 root         (0) root         (0)     2622 2021-03-20 15:32:41.000000 souschef-1.3.6/souschef/delivery/templates/partials/generated_orders.html
--rw-r--r--   0 root         (0) root         (0)     1737 2021-03-19 19:57:48.000000 souschef-1.3.6/souschef/delivery/templates/partials/generated_orders_order_row_content.html
--rw-r--r--   0 root         (0) root         (0)     1085 2021-03-19 15:56:24.000000 souschef-1.3.6/souschef/delivery/templates/partials/generated_orders_table_head.html
--rw-r--r--   0 root         (0) root         (0)     4403 2021-03-20 15:19:06.000000 souschef-1.3.6/souschef/delivery/templates/review_orders.html
--rw-r--r--   0 root         (0) root         (0)     3362 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/delivery/templates/route_sheet.html
--rw-r--r--   0 root         (0) root         (0)     4993 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/delivery/templates/routes.html
--rwxr-xr-x   0 root         (0) root         (0)    47234 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/delivery/tests.py
--rw-r--r--   0 root         (0) root         (0)     2978 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/delivery/tsp.py
--rw-r--r--   0 root         (0) root         (0)     1497 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/delivery/urls.py
--rwxr-xr-x   0 root         (0) root         (0)    71958 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/delivery/views.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:06.000000 souschef-1.3.6/souschef/frontend/
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/frontend/images/
--rw-r--r--   0 root         (0) root         (0)   292180 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/frontend/images/bg1.jpg
--rw-r--r--   0 root         (0) root         (0)    21988 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/frontend/images/jenny.jpg
--rw-r--r--   0 root         (0) root         (0)    28209 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/frontend/images/joe.jpg
--rw-r--r--   0 root         (0) root         (0)    23839 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/frontend/images/katrina.jpg
--rwxr-xr-x   0 root         (0) root         (0)      261 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/manage.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/meal/
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/meal/__init__.py
--rw-r--r--   0 root         (0) root         (0)     3639 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/meal/admin.py
--rw-r--r--   0 root         (0) root         (0)       83 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/meal/apps.py
--rw-r--r--   0 root         (0) root         (0)     2290 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/meal/factories.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/meal/migrations/
--rw-r--r--   0 root         (0) root         (0)     4610 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/meal/migrations/0001_fix161f.py
--rw-r--r--   0 root         (0) root         (0)      864 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/meal/migrations/0002_ingredient_ingredient_group.py
--rw-r--r--   0 root         (0) root         (0)      857 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/meal/migrations/0003_fix224a.py
--rw-r--r--   0 root         (0) root         (0)      475 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/meal/migrations/0004_fix004d.py
--rw-r--r--   0 root         (0) root         (0)     1601 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/meal/migrations/0005_fix241b.py
--rw-r--r--   0 root         (0) root         (0)      688 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/meal/migrations/0006_auto_20160826_0007.py
--rw-r--r--   0 root         (0) root         (0)     1055 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/meal/migrations/0007_auto_20170313_1442.py
--rw-r--r--   0 root         (0) root         (0)      714 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/meal/migrations/0008_auto_20180704_1613.py
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/meal/migrations/__init__.py
--rw-r--r--   0 root         (0) root         (0)     8381 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/meal/models.py
--rw-r--r--   0 root         (0) root         (0)      200 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/meal/settings.py
--rw-r--r--   0 root         (0) root         (0)     8022 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/meal/tests.py
--rw-r--r--   0 root         (0) root         (0)       70 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/meal/urls.py
--rw-r--r--   0 root         (0) root         (0)       64 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/meal/views.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/member/
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/__init__.py
--rw-r--r--   0 root         (0) root         (0)     2375 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/admin.py
--rw-r--r--   0 root         (0) root         (0)      122 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/apps.py
--rw-r--r--   0 root         (0) root         (0)     4590 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/factories.py
--rw-r--r--   0 root         (0) root         (0)    21109 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/forms.py
--rw-r--r--   0 root         (0) root         (0)      294 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/formsets.py
--rw-r--r--   0 root         (0) root         (0)     1073 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/formsfield.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/member/management/
--rw-r--r--   0 root         (0) root         (0)        0 2021-01-23 15:20:56.000000 souschef-1.3.6/souschef/member/management/__init__.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/member/management/commands/
--rw-r--r--   0 root         (0) root         (0)        0 2021-01-23 15:35:45.000000 souschef-1.3.6/souschef/member/management/commands/__init__.py
--rw-r--r--   0 root         (0) root         (0)      607 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/management/commands/createclients.py
--rw-r--r--   0 root         (0) root         (0)      406 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/management/commands/createnotes.py
--rw-r--r--   0 root         (0) root         (0)     1643 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/management/commands/processscheduledstatuschange.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/member/migrations/
--rw-r--r--   0 root         (0) root         (0)     9199 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0001_fix161f.py
--rw-r--r--   0 root         (0) root         (0)      559 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0002_auto_20160605_1609.py
--rw-r--r--   0 root         (0) root         (0)     1536 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0003_auto_20160615_2100.py
--rw-r--r--   0 root         (0) root         (0)     3288 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0004_fix004a.py
--rw-r--r--   0 root         (0) root         (0)      565 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0005_fix004a.py
--rw-r--r--   0 root         (0) root         (0)      479 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0006_client_meal_default_week.py
--rw-r--r--   0 root         (0) root         (0)      883 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0007_auto_20160726_1703.py
--rw-r--r--   0 root         (0) root         (0)      565 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0008_auto_20160727_2251.py
--rw-r--r--   0 root         (0) root         (0)      888 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0009_auto_20160728_1443.py
--rw-r--r--   0 root         (0) root         (0)      558 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0010_auto_20160803_2052.py
--rw-r--r--   0 root         (0) root         (0)      492 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0011_client_delivery_note.py
--rw-r--r--   0 root         (0) root         (0)     1788 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0012_clientscheduledstatus.py
--rw-r--r--   0 root         (0) root         (0)      756 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0013_auto_20160820_2322.py
--rw-r--r--   0 root         (0) root         (0)     1606 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0014_auto_20160826_0007.py
--rw-r--r--   0 root         (0) root         (0)      490 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0015_route_client_id_sequence.py
--rw-r--r--   0 root         (0) root         (0)      533 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0016_auto_20160912_1509.py
--rw-r--r--   0 root         (0) root         (0)      640 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0017_auto_20161020_2039.py
--rw-r--r--   0 root         (0) root         (0)      543 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0018_auto_20161110_2352.py
--rw-r--r--   0 root         (0) root         (0)     1125 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0019_auto_20161111_1750.py
--rw-r--r--   0 root         (0) root         (0)      456 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0020_auto_20161122_0458.py
--rw-r--r--   0 root         (0) root         (0)      481 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0021_auto_20161125_2055.py
--rw-r--r--   0 root         (0) root         (0)      592 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0022_auto_20161215_1936.py
--rw-r--r--   0 root         (0) root         (0)      885 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0023_auto_20161220_1401.py
--rw-r--r--   0 root         (0) root         (0)     2661 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0024_auto_20161227_1819.py
--rw-r--r--   0 root         (0) root         (0)      579 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0025_route_vehicle.py
--rw-r--r--   0 root         (0) root         (0)     3345 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0026_change_to_emergency_contacts.py
--rw-r--r--   0 root         (0) root         (0)     1121 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0027_auto_20170313_1442.py
--rw-r--r--   0 root         (0) root         (0)     1883 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0028_change_linked_scheduled_status_relationship.py
--rw-r--r--   0 root         (0) root         (0)     1742 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0029_member_address_fk_to_1to1.py
--rw-r--r--   0 root         (0) root         (0)     1913 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0030_route_deliveryhistory.py
--rw-r--r--   0 root         (0) root         (0)      801 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0031_client_option_allow_reverse_relation.py
--rw-r--r--   0 root         (0) root         (0)     6237 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0032_relationship.py
--rw-r--r--   0 root         (0) root         (0)      828 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0033_auto_20170801_1607.py
--rw-r--r--   0 root         (0) root         (0)      619 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0034_auto_20170816_0850.py
--rw-r--r--   0 root         (0) root         (0)      677 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0035_auto_20210115_1155.py
--rw-r--r--   0 root         (0) root         (0)     1134 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0036_member_addresses.py
--rw-r--r--   0 root         (0) root         (0)      574 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0037_one_address_per_member.py
--rw-r--r--   0 root         (0) root         (0)      666 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/migrations/0038_member_verbose_names.py
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/migrations/__init__.py
--rw-r--r--   0 root         (0) root         (0)    29878 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/models.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/member/signals/
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/signals/__init__.py
--rw-r--r--   0 root         (0) root         (0)      400 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/signals/handlers.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:06.000000 souschef-1.3.6/souschef/member/templates/
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/member/templates/client/
--rw-r--r--   0 root         (0) root         (0)     3988 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/client/base.html
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/member/templates/client/create/
--rw-r--r--   0 root         (0) root         (0)     3868 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/client/create/form.html
--rw-r--r--   0 root         (0) root         (0)     1038 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/client/create/steps.html
--rw-r--r--   0 root         (0) root         (0)     5918 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/client/list.html
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/member/templates/client/partials/
--rw-r--r--   0 root         (0) root         (0)     1030 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/client/partials/birthdays.html
--rw-r--r--   0 root         (0) root         (0)     1391 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/client/partials/filters.html
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/member/templates/client/partials/forms/
--rw-r--r--   0 root         (0) root         (0)     2386 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/client/partials/forms/address_information.html
--rw-r--r--   0 root         (0) root         (0)     2100 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/client/partials/forms/basic_information.html
--rw-r--r--   0 root         (0) root         (0)     1467 2021-03-12 15:24:10.000000 souschef-1.3.6/souschef/member/templates/client/partials/forms/dietary_restriction.html
--rw-r--r--   0 root         (0) root         (0)     1293 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/client/partials/forms/meal_defaults.html
--rw-r--r--   0 root         (0) root         (0)     2480 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/client/partials/forms/payment_information.html
--rw-r--r--   0 root         (0) root         (0)     4373 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/client/partials/forms/relationship_form.html
--rw-r--r--   0 root         (0) root         (0)      549 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/client/partials/forms/relationships.html
--rw-r--r--   0 root         (0) root         (0)     1386 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/client/partials/menu.html
--rw-r--r--   0 root         (0) root         (0)     2017 2021-06-18 20:11:28.000000 souschef-1.3.6/souschef/member/templates/client/partials/order_list.html
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/member/templates/client/update/
--rw-r--r--   0 root         (0) root         (0)     3033 2021-03-12 15:24:10.000000 souschef-1.3.6/souschef/member/templates/client/update/base.html
--rw-r--r--   0 root         (0) root         (0)     2153 2021-03-12 21:55:40.000000 souschef-1.3.6/souschef/member/templates/client/update/status.html
--rw-r--r--   0 root         (0) root         (0)      291 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/client/update/step.html
--rw-r--r--   0 root         (0) root         (0)      149 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/client/update/steps.html
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/member/templates/client/view/
--rw-r--r--   0 root         (0) root         (0)      188 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/client/view/address.html
--rw-r--r--   0 root         (0) root         (0)     4633 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/client/view/allergies.html
--rw-r--r--   0 root         (0) root         (0)     1731 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/client/view/delete_status_confirmation.html
--rw-r--r--   0 root         (0) root         (0)     4471 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/client/view/information.html
--rw-r--r--   0 root         (0) root         (0)     2716 2021-06-11 15:40:13.000000 souschef-1.3.6/souschef/member/templates/client/view/notes.html
--rw-r--r--   0 root         (0) root         (0)      637 2021-03-05 21:39:33.000000 souschef-1.3.6/souschef/member/templates/client/view/orders.html
--rw-r--r--   0 root         (0) root         (0)     1825 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/client/view/payment.html
--rw-r--r--   0 root         (0) root         (0)     1649 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/client/view/referent.html
--rw-r--r--   0 root         (0) root         (0)     2204 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/client/view/status.html
--rw-r--r--   0 root         (0) root         (0)     1622 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/client/view/summary.html
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/member/templates/route/
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/route/delivered_route_detail.html
--rw-r--r--   0 root         (0) root         (0)     5832 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/route/delivery_history_detail.html
--rw-r--r--   0 root         (0) root         (0)     6159 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/route/detail.html
--rw-r--r--   0 root         (0) root         (0)     9150 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/route/edit.html
--rw-r--r--   0 root         (0) root         (0)     1875 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/member/templates/route/list.html
--rw-r--r--   0 root         (0) root         (0)   164462 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/tests.py
--rw-r--r--   0 root         (0) root         (0)     5326 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/urls.py
--rw-r--r--   0 root         (0) root         (0)    56544 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/member/views.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/note/
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/note/__init__.py
--rw-r--r--   0 root         (0) root         (0)      451 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/note/admin.py
--rw-r--r--   0 root         (0) root         (0)       83 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/note/apps.py
--rw-r--r--   0 root         (0) root         (0)      781 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/note/factories.py
--rw-r--r--   0 root         (0) root         (0)     1327 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/note/forms.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/note/migrations/
--rw-r--r--   0 root         (0) root         (0)     1526 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/note/migrations/0001_initial.py
--rw-r--r--   0 root         (0) root         (0)      593 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/note/migrations/0002_auto_20160818_2104.py
--rw-r--r--   0 root         (0) root         (0)      516 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/note/migrations/0003_auto_20160819_2037.py
--rw-r--r--   0 root         (0) root         (0)     1006 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/note/migrations/0004_notepriority.py
--rw-r--r--   0 root         (0) root         (0)     1256 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/note/migrations/0005_note_priority_old_data_migration.py
--rw-r--r--   0 root         (0) root         (0)      546 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/note/migrations/0006_change_priority_field.py
--rw-r--r--   0 root         (0) root         (0)     1323 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/note/migrations/0007_notecategory.py
--rw-r--r--   0 root         (0) root         (0)     1009 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/note/migrations/0008_auto_20170116_1441.py
--rw-r--r--   0 root         (0) root         (0)      836 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/note/migrations/0009_auto_20170116_1543.py
--rw-r--r--   0 root         (0) root         (0)     1147 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/note/migrations/0010_auto_20170313_1442.py
--rw-r--r--   0 root         (0) root         (0)      862 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/note/migrations/0011_auto_20170419_1109.py
--rw-r--r--   0 root         (0) root         (0)      479 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/note/migrations/0012_note_is_deleted.py
--rw-r--r--   0 root         (0) root         (0)      961 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/note/migrations/0013_date_modified.py
--rw-r--r--   0 root         (0) root         (0)      530 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/note/migrations/0014_date_created.py
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/note/migrations/__init__.py
--rw-r--r--   0 root         (0) root         (0)     3962 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/note/models.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/note/templates/
--rw-r--r--   0 root         (0) root         (0)      909 2021-07-09 19:21:52.000000 souschef-1.3.6/souschef/note/templates/note_confirm_delete.html
--rw-r--r--   0 root         (0) root         (0)     1720 2021-07-09 19:00:25.000000 souschef-1.3.6/souschef/note/templates/note_edit.html
--rw-r--r--   0 root         (0) root         (0)     2186 2021-07-09 19:00:30.000000 souschef-1.3.6/souschef/note/templates/notes_add.html
--rw-r--r--   0 root         (0) root         (0)     4080 2021-06-11 15:41:01.000000 souschef-1.3.6/souschef/note/templates/notes_client_list.html
--rw-r--r--   0 root         (0) root         (0)     5780 2021-07-23 15:17:48.000000 souschef-1.3.6/souschef/note/templates/notes_list.html
--rw-r--r--   0 root         (0) root         (0)     9148 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/note/tests.py
--rw-r--r--   0 root         (0) root         (0)      821 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/note/urls.py
--rw-r--r--   0 root         (0) root         (0)     5896 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/note/views.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/notification/
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/notification/__init__.py
--rw-r--r--   0 root         (0) root         (0)      122 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/notification/admin.py
--rw-r--r--   0 root         (0) root         (0)       99 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/notification/apps.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/notification/migrations/
--rw-r--r--   0 root         (0) root         (0)      980 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/notification/migrations/0001_fix161f.py
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/notification/migrations/__init__.py
--rw-r--r--   0 root         (0) root         (0)      606 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/notification/models.py
--rw-r--r--   0 root         (0) root         (0)       61 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/notification/tests.py
--rw-r--r--   0 root         (0) root         (0)       78 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/notification/urls.py
--rw-r--r--   0 root         (0) root         (0)       64 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/notification/views.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/order/
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/order/__init__.py
--rw-r--r--   0 root         (0) root         (0)     1081 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/admin.py
--rw-r--r--   0 root         (0) root         (0)       85 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/apps.py
--rw-r--r--   0 root         (0) root         (0)     1536 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/factories.py
--rw-r--r--   0 root         (0) root         (0)     5536 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/forms.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/order/management/
--rw-r--r--   0 root         (0) root         (0)        0 2021-01-23 15:21:15.000000 souschef-1.3.6/souschef/order/management/__init__.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef/order/management/commands/
--rw-r--r--   0 root         (0) root         (0)        0 2021-01-23 15:36:52.000000 souschef-1.3.6/souschef/order/management/commands/__init__.py
--rw-r--r--   0 root         (0) root         (0)      445 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/management/commands/createorders.py
--rw-r--r--   0 root         (0) root         (0)     1769 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/management/commands/generateorders.py
--rw-r--r--   0 root         (0) root         (0)     1338 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/management/commands/setordersdelivered.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/souschef/order/migrations/
--rw-r--r--   0 root         (0) root         (0)     2602 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/migrations/0001_fix161f.py
--rw-r--r--   0 root         (0) root         (0)      567 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/migrations/0002_auto_20160614_1736.py
--rw-r--r--   0 root         (0) root         (0)      583 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/migrations/0003_auto_20160615_1504.py
--rw-r--r--   0 root         (0) root         (0)      939 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/migrations/0004_fix004a.py
--rw-r--r--   0 root         (0) root         (0)      700 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/migrations/0005_fix241b.py
--rw-r--r--   0 root         (0) root         (0)      564 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/migrations/0006_auto_20160803_2217.py
--rw-r--r--   0 root         (0) root         (0)      396 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/migrations/0007_remove_order_item_component.py
--rw-r--r--   0 root         (0) root         (0)      603 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/migrations/0008_auto_20160912_1509.py
--rw-r--r--   0 root         (0) root         (0)      799 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/migrations/0009_auto_20161012_1919.py
--rw-r--r--   0 root         (0) root         (0)      487 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/migrations/0010_auto_20161012_1921.py
--rw-r--r--   0 root         (0) root         (0)     1854 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/migrations/0011_auto_20161014_1901.py
--rw-r--r--   0 root         (0) root         (0)      448 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/migrations/0012_auto_20161122_0458.py
--rw-r--r--   0 root         (0) root         (0)     1309 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/migrations/0013_orderstatuschange.py
--rw-r--r--   0 root         (0) root         (0)     1007 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/migrations/0014_auto_20161209_2045.py
--rw-r--r--   0 root         (0) root         (0)      548 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/migrations/0015_auto_20170410_1029.py
--rw-r--r--   0 root         (0) root         (0)      739 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/migrations/0016_auto_20180704_1613.py
--rw-r--r--   0 root         (0) root         (0)      528 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/migrations/0017_total_quantity_not_nullable.py
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/order/migrations/__init__.py
--rw-r--r--   0 root         (0) root         (0)     1388 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/mixins.py
--rw-r--r--   0 root         (0) root         (0)    46640 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/models.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/souschef/order/templates/
--rw-r--r--   0 root         (0) root         (0)     5283 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/order/templates/_form.html
--rw-r--r--   0 root         (0) root         (0)     1098 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/order/templates/_order_info.html
--rw-r--r--   0 root         (0) root         (0)       92 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/order/templates/base_order.html
--rw-r--r--   0 root         (0) root         (0)     1227 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/order/templates/create.html
--rw-r--r--   0 root         (0) root         (0)     4421 2021-03-26 14:22:55.000000 souschef-1.3.6/souschef/order/templates/list.html
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/souschef/order/templates/order/
--rw-r--r--   0 root         (0) root         (0)     9056 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/order/templates/order/create_batch.html
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/souschef/order/templates/order/partials/
--rw-r--r--   0 root         (0) root         (0)     1308 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/order/templates/order/partials/filters.html
--rw-r--r--   0 root         (0) root         (0)     1070 2021-07-09 19:21:52.000000 souschef-1.3.6/souschef/order/templates/order_confirm_delete.html
--rw-r--r--   0 root         (0) root         (0)     2315 2021-03-26 15:05:24.000000 souschef-1.3.6/souschef/order/templates/order_update_status.html
--rw-r--r--   0 root         (0) root         (0)     2023 2021-03-26 14:34:44.000000 souschef-1.3.6/souschef/order/templates/update.html
--rw-r--r--   0 root         (0) root         (0)     3240 2021-04-02 19:14:01.000000 souschef-1.3.6/souschef/order/templates/view.html
--rw-r--r--   0 root         (0) root         (0)    65866 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/tests.py
--rw-r--r--   0 root         (0) root         (0)     1157 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/urls.py
--rw-r--r--   0 root         (0) root         (0)    14673 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/order/views.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/souschef/page/
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/page/__init__.py
--rw-r--r--   0 root         (0) root         (0)       64 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/page/admin.py
--rw-r--r--   0 root         (0) root         (0)      124 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/page/apps.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/souschef/page/migrations/
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/page/migrations/__init__.py
--rw-r--r--   0 root         (0) root         (0)       99 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/page/models.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:06.000000 souschef-1.3.6/souschef/page/templates/
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/souschef/page/templates/pages/
--rw-r--r--   0 root         (0) root         (0)      487 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/page/templates/pages/card.html
--rw-r--r--   0 root         (0) root         (0)     7007 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/page/templates/pages/home.html
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/souschef/page/templates/registration/
--rw-r--r--   0 root         (0) root         (0)     1634 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/page/templates/registration/login.html
--rw-r--r--   0 root         (0) root         (0)    10266 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/page/tests.py
--rw-r--r--   0 root         (0) root         (0)      508 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/page/urls.py
--rw-r--r--   0 root         (0) root         (0)     4507 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/page/views.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/souschef/pycrons/
--rw-r--r--   0 root         (0) root         (0)        0 2021-02-12 02:23:19.000000 souschef-1.3.6/souschef/pycrons/__init__.py
--rw-r--r--   0 root         (0) root         (0)      429 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/pycrons/cleaning.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/souschef/sous_chef/
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/sous_chef/__init__.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:06.000000 souschef-1.3.6/souschef/sous_chef/assets/
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/souschef/sous_chef/assets/css/
--rw-r--r--   0 root         (0) root         (0)   655527 2023-05-17 03:19:44.000000 souschef-1.3.6/souschef/sous_chef/assets/css/main.min.css
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/souschef/sous_chef/assets/fonts/
--rw-r--r--   0 root         (0) root         (0)    98640 2023-05-17 03:19:39.000000 souschef-1.3.6/souschef/sous_chef/assets/fonts/brand-icons.eot
--rw-r--r--   0 root         (0) root         (0)   507628 2023-05-17 03:19:39.000000 souschef-1.3.6/souschef/sous_chef/assets/fonts/brand-icons.svg
--rw-r--r--   0 root         (0) root         (0)    98404 2023-05-17 03:19:39.000000 souschef-1.3.6/souschef/sous_chef/assets/fonts/brand-icons.ttf
--rw-r--r--   0 root         (0) root         (0)    63728 2023-05-17 03:19:39.000000 souschef-1.3.6/souschef/sous_chef/assets/fonts/brand-icons.woff
--rw-r--r--   0 root         (0) root         (0)    54488 2023-05-17 03:19:39.000000 souschef-1.3.6/souschef/sous_chef/assets/fonts/brand-icons.woff2
--rw-r--r--   0 root         (0) root         (0)   106004 2023-05-17 03:19:39.000000 souschef-1.3.6/souschef/sous_chef/assets/fonts/icons.eot
--rw-r--r--   0 root         (0) root         (0)    93888 2023-05-17 03:19:43.000000 souschef-1.3.6/souschef/sous_chef/assets/fonts/icons.otf
--rw-r--r--   0 root         (0) root         (0)   390837 2023-05-17 03:19:44.000000 souschef-1.3.6/souschef/sous_chef/assets/fonts/icons.svg
--rw-r--r--   0 root         (0) root         (0)   105784 2023-05-17 03:19:44.000000 souschef-1.3.6/souschef/sous_chef/assets/fonts/icons.ttf
--rw-r--r--   0 root         (0) root         (0)    50524 2023-05-17 03:19:48.000000 souschef-1.3.6/souschef/sous_chef/assets/fonts/icons.woff
--rw-r--r--   0 root         (0) root         (0)    40148 2023-05-17 03:19:48.000000 souschef-1.3.6/souschef/sous_chef/assets/fonts/icons.woff2
--rw-r--r--   0 root         (0) root         (0)    31156 2023-05-17 03:19:48.000000 souschef-1.3.6/souschef/sous_chef/assets/fonts/outline-icons.eot
--rw-r--r--   0 root         (0) root         (0)   107201 2023-05-17 03:19:48.000000 souschef-1.3.6/souschef/sous_chef/assets/fonts/outline-icons.svg
--rw-r--r--   0 root         (0) root         (0)    30928 2023-05-17 03:19:48.000000 souschef-1.3.6/souschef/sous_chef/assets/fonts/outline-icons.ttf
--rw-r--r--   0 root         (0) root         (0)    14712 2023-05-17 03:19:48.000000 souschef-1.3.6/souschef/sous_chef/assets/fonts/outline-icons.woff
--rw-r--r--   0 root         (0) root         (0)    12240 2023-05-17 03:19:48.000000 souschef-1.3.6/souschef/sous_chef/assets/fonts/outline-icons.woff2
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/souschef/sous_chef/assets/images/
--rw-r--r--   0 root         (0) root         (0)   258972 2023-05-17 03:19:51.000000 souschef-1.3.6/souschef/sous_chef/assets/images/bg1.jpg
--rw-r--r--   0 root         (0) root         (0)    11449 2023-05-17 03:19:51.000000 souschef-1.3.6/souschef/sous_chef/assets/images/demo.png
--rw-r--r--   0 root         (0) root         (0)      608 2023-05-17 03:19:51.000000 souschef-1.3.6/souschef/sous_chef/assets/images/favicon.png
--rw-r--r--   0 root         (0) root         (0)    28123 2023-05-17 03:19:43.000000 souschef-1.3.6/souschef/sous_chef/assets/images/flags.png
--rw-r--r--   0 root         (0) root         (0)      490 2023-05-17 03:19:48.000000 souschef-1.3.6/souschef/sous_chef/assets/images/geocoder.png
--rw-r--r--   0 root         (0) root         (0)     1374 2023-05-17 03:19:51.000000 souschef-1.3.6/souschef/sous_chef/assets/images/glyph-marker-icon.png
--rw-r--r--   0 root         (0) root         (0)     1287 2023-05-17 03:19:51.000000 souschef-1.3.6/souschef/sous_chef/assets/images/glyph-marker-icon.svg
--rw-r--r--   0 root         (0) root         (0)    21977 2023-05-17 03:19:51.000000 souschef-1.3.6/souschef/sous_chef/assets/images/jenny.jpg
--rw-r--r--   0 root         (0) root         (0)    26952 2023-05-17 03:19:51.000000 souschef-1.3.6/souschef/sous_chef/assets/images/joe.jpg
--rw-r--r--   0 root         (0) root         (0)    23839 2023-05-17 03:19:51.000000 souschef-1.3.6/souschef/sous_chef/assets/images/katrina.jpg
--rw-r--r--   0 root         (0) root         (0)     2306 2023-05-17 03:19:44.000000 souschef-1.3.6/souschef/sous_chef/assets/images/leaflet.routing.icons.png
--rw-r--r--   0 root         (0) root         (0)     4060 2023-05-17 03:19:48.000000 souschef-1.3.6/souschef/sous_chef/assets/images/leaflet.routing.icons.svg
--rw-r--r--   0 root         (0) root         (0)     6363 2023-05-17 03:19:52.000000 souschef-1.3.6/souschef/sous_chef/assets/images/logo-souschef-coul.png
--rw-r--r--   0 root         (0) root         (0)     6033 2023-05-17 03:19:52.000000 souschef-1.3.6/souschef/sous_chef/assets/images/logo-souschef-nb.png
--rw-r--r--   0 root         (0) root         (0)      891 2023-05-17 03:19:52.000000 souschef-1.3.6/souschef/sous_chef/assets/images/logo.png
--rw-r--r--   0 root         (0) root         (0)    14323 2023-05-17 03:19:49.000000 souschef-1.3.6/souschef/sous_chef/assets/images/markers-matte.png
--rw-r--r--   0 root         (0) root         (0)    30194 2023-05-17 03:19:49.000000 souschef-1.3.6/souschef/sous_chef/assets/images/markers-matte@2x.png
--rw-r--r--   0 root         (0) root         (0)     7946 2023-05-17 03:19:49.000000 souschef-1.3.6/souschef/sous_chef/assets/images/markers-plain.png
--rw-r--r--   0 root         (0) root         (0)      535 2023-05-17 03:19:49.000000 souschef-1.3.6/souschef/sous_chef/assets/images/markers-shadow.png
--rw-r--r--   0 root         (0) root         (0)     1134 2023-05-17 03:19:49.000000 souschef-1.3.6/souschef/sous_chef/assets/images/markers-shadow@2x.png
--rw-r--r--   0 root         (0) root         (0)    36367 2023-05-17 03:19:49.000000 souschef-1.3.6/souschef/sous_chef/assets/images/markers-soft.png
--rw-r--r--   0 root         (0) root         (0)   146362 2023-05-17 03:19:51.000000 souschef-1.3.6/souschef/sous_chef/assets/images/markers-soft@2x.png
--rw-r--r--   0 root         (0) root         (0)      454 2023-05-17 03:19:48.000000 souschef-1.3.6/souschef/sous_chef/assets/images/routing-icon.png
--rw-r--r--   0 root         (0) root         (0)     4831 2023-05-17 03:19:49.000000 souschef-1.3.6/souschef/sous_chef/assets/images/throbber.gif
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/souschef/sous_chef/assets/js/
--rw-r--r--   0 root         (0) root         (0)  1031323 2023-05-17 03:19:39.000000 souschef-1.3.6/souschef/sous_chef/assets/js/leaflet.js
--rw-r--r--   0 root         (0) root         (0)   627692 2023-05-17 03:19:42.000000 souschef-1.3.6/souschef/sous_chef/assets/js/leaflet.min.js
--rw-r--r--   0 root         (0) root         (0)    22295 2023-05-17 03:19:39.000000 souschef-1.3.6/souschef/sous_chef/assets/js/multidatespicker.js
--rw-r--r--   0 root         (0) root         (0)    10453 2023-05-17 03:19:39.000000 souschef-1.3.6/souschef/sous_chef/assets/js/multidatespicker.min.js
--rw-r--r--   0 root         (0) root         (0)  1110472 2023-05-17 03:19:44.000000 souschef-1.3.6/souschef/sous_chef/assets/js/sous-chef.js
--rw-r--r--   0 root         (0) root         (0)   398919 2023-05-17 03:19:48.000000 souschef-1.3.6/souschef/sous_chef/assets/js/sous-chef.min.js
--rw-r--r--   0 root         (0) root         (0)     1436 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/sous_chef/context_processors.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/souschef/sous_chef/formats/
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/sous_chef/formats/__init__.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/souschef/sous_chef/formats/en/
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/sous_chef/formats/en/__init__.py
--rw-r--r--   0 root         (0) root         (0)      186 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/sous_chef/formats/en/formats.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/souschef/sous_chef/formats/fr/
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/sous_chef/formats/fr/__init__.py
--rw-r--r--   0 root         (0) root         (0)      182 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/sous_chef/formats/fr/formats.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/souschef/sous_chef/management/
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/sous_chef/management/__init__.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/souschef/sous_chef/management/commands/
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/sous_chef/management/commands/__init__.py
--rw-r--r--   0 root         (0) root         (0)     1679 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/sous_chef/management/commands/makemessages.py
--rw-r--r--   0 root         (0) root         (0)      536 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/sous_chef/rules.py
--rw-r--r--   0 root         (0) root         (0)     7517 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/sous_chef/settings.py
--rw-r--r--   0 root         (0) root         (0)      227 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/sous_chef/settings_test.py
--rw-r--r--   0 root         (0) root         (0)       59 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/sous_chef/settings_test_fr.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/souschef/sous_chef/templates/
--rw-r--r--   0 root         (0) root         (0)      611 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/sous_chef/templates/404.html
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/souschef/sous_chef/templates/avatar/
--rw-r--r--   0 root         (0) root         (0)     1870 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/sous_chef/templates/avatar/change.html
--rw-r--r--   0 root         (0) root         (0)     1125 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/sous_chef/templates/avatar/confirm_delete.html
--rw-r--r--   0 root         (0) root         (0)     3656 2021-07-23 15:25:58.000000 souschef-1.3.6/souschef/sous_chef/templates/base.html
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/souschef/sous_chef/templates/dashboard/
--rw-r--r--   0 root         (0) root         (0)      771 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/sous_chef/templates/dashboard/statistics.html
--rw-r--r--   0 root         (0) root         (0)     1271 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/sous_chef/templates/splash.html
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/souschef/sous_chef/templates/system/
--rw-r--r--   0 root         (0) root         (0)      219 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/sous_chef/templates/system/_button_export.html
--rw-r--r--   0 root         (0) root         (0)      209 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/sous_chef/templates/system/breadcrumb.html
--rw-r--r--   0 root         (0) root         (0)     2878 2021-07-09 19:03:35.000000 souschef-1.3.6/souschef/sous_chef/templates/system/menu.html
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:08.000000 souschef-1.3.6/souschef/sous_chef/templatetags/
--rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/sous_chef/templatetags/__init__.py
--rw-r--r--   0 root         (0) root         (0)      319 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/sous_chef/templatetags/sous_chef_extras.py
--rw-r--r--   0 root         (0) root         (0)     3100 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/sous_chef/tests.py
--rw-r--r--   0 root         (0) root         (0)     2062 2023-05-17 03:18:08.000000 souschef-1.3.6/souschef/sous_chef/urls.py
--rw-r--r--   0 root         (0) root         (0)      395 2020-11-06 14:25:57.000000 souschef-1.3.6/souschef/sous_chef/wsgi.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-05-17 03:20:07.000000 souschef-1.3.6/souschef.egg-info/
--rw-r--r--   0 root         (0) root         (0)     2249 2023-05-17 03:20:06.000000 souschef-1.3.6/souschef.egg-info/PKG-INFO
--rw-r--r--   0 root         (0) root         (0)    15612 2023-05-17 03:20:06.000000 souschef-1.3.6/souschef.egg-info/SOURCES.txt
--rw-r--r--   0 root         (0) root         (0)        1 2023-05-17 03:20:06.000000 souschef-1.3.6/souschef.egg-info/dependency_links.txt
--rw-r--r--   0 root         (0) root         (0)      462 2023-05-17 03:20:06.000000 souschef-1.3.6/souschef.egg-info/requires.txt
--rw-r--r--   0 root         (0) root         (0)        9 2023-05-17 03:20:06.000000 souschef-1.3.6/souschef.egg-info/top_level.txt
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/
+-rw-r--r--   0 root         (0) root         (0)     5731 2022-10-23 16:08:38.000000 souschef-1.3.7/INSTALL.md
+-rw-r--r--   0 root         (0) root         (0)    33893 2020-11-20 01:08:04.000000 souschef-1.3.7/LICENSE.txt
+-rw-r--r--   0 root         (0) root         (0)      230 2021-01-23 15:51:37.000000 souschef-1.3.7/MANIFEST.in
+-rw-r--r--   0 root         (0) root         (0)     2249 2023-06-09 16:06:01.000000 souschef-1.3.7/PKG-INFO
+-rw-r--r--   0 root         (0) root         (0)     1366 2021-01-22 18:52:15.000000 souschef-1.3.7/README.md
+-rw-r--r--   0 root         (0) root         (0)     1409 2021-01-23 16:03:53.000000 souschef-1.3.7/UPDATE.md
+-rw-r--r--   0 root         (0) root         (0)      274 2023-06-09 16:06:01.000000 souschef-1.3.7/setup.cfg
+-rw-r--r--   0 root         (0) root         (0)     1780 2023-06-09 16:04:34.000000 souschef-1.3.7/setup.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/
+-rw-r--r--   0 root         (0) root         (0)    32621 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/160widthSR-Logo-Screen-PurpleGreen-HI-RGB1.jpg
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/__init__.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/billing/
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/billing/__init__.py
+-rw-r--r--   0 root         (0) root         (0)      315 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/billing/admin.py
+-rw-r--r--   0 root         (0) root         (0)       89 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/billing/apps.py
+-rw-r--r--   0 root         (0) root         (0)      358 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/billing/factories.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/billing/migrations/
+-rw-r--r--   0 root         (0) root         (0)     1266 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/billing/migrations/0001_initial.py
+-rw-r--r--   0 root         (0) root         (0)      524 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/billing/migrations/0002_auto_20161122_0458.py
+-rw-r--r--   0 root         (0) root         (0)      435 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/billing/migrations/0003_auto_20161122_0515.py
+-rw-r--r--   0 root         (0) root         (0)      439 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/billing/migrations/0004_auto_20201030_1540.py
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/billing/migrations/__init__.py
+-rw-r--r--   0 root         (0) root         (0)     5197 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/billing/models.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/billing/templates/
+-rw-r--r--   0 root         (0) root         (0)       42 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/billing/templates/base_billing.html
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/billing/templates/billing/
+-rw-r--r--   0 root         (0) root         (0)     4897 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/billing/templates/billing/add.html
+-rw-r--r--   0 root         (0) root         (0)      863 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/billing/templates/billing/billing_confirm_delete.html
+-rw-r--r--   0 root         (0) root         (0)     3310 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/billing/templates/billing/list.html
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/billing/templates/billing/partials/
+-rw-r--r--   0 root         (0) root         (0)      531 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/billing/templates/billing/partials/statistics.html
+-rw-r--r--   0 root         (0) root         (0)     5508 2021-07-16 15:48:25.000000 souschef-1.3.7/souschef/billing/templates/billing/partials/summary.html
+-rw-r--r--   0 root         (0) root         (0)      864 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/billing/templates/billing/print_summary.html
+-rw-r--r--   0 root         (0) root         (0)      822 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/billing/templates/billing/view.html
+-rw-r--r--   0 root         (0) root         (0)     3407 2021-03-19 15:14:11.000000 souschef-1.3.7/souschef/billing/templates/billing/view_orders.html
+-rw-r--r--   0 root         (0) root         (0)     8559 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/billing/tests.py
+-rw-r--r--   0 root         (0) root         (0)      751 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/billing/urls.py
+-rw-r--r--   0 root         (0) root         (0)    12390 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/billing/views.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/configsamples/
+-rw-r--r--   0 root         (0) root         (0)      809 2021-03-02 23:43:41.000000 souschef-1.3.7/souschef/configsamples/nginx.conf
+-rw-r--r--   0 root         (0) root         (0)      409 2020-12-19 18:25:21.000000 souschef-1.3.7/souschef/configsamples/souschef.service
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/cronscripts/
+-rwxr-xr-x   0 root         (0) root         (0)      469 2021-01-23 16:08:34.000000 souschef-1.3.7/souschef/cronscripts/souschef_daily.sh
+-rw-r--r--   0 root         (0) root         (0)      364 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/dataexec.py
+-rw-r--r--   0 root         (0) root         (0)    76913 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/dataload.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/datamigration/
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/datamigration/__init__.py
+-rw-r--r--   0 root         (0) root         (0)       65 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/datamigration/admin.py
+-rw-r--r--   0 root         (0) root         (0)      101 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/datamigration/apps.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/datamigration/management/
+-rw-r--r--   0 root         (0) root         (0)        0 2021-01-23 15:20:34.000000 souschef-1.3.7/souschef/datamigration/management/__init__.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/datamigration/management/commands/
+-rw-r--r--   0 root         (0) root         (0)        0 2021-01-23 15:36:11.000000 souschef-1.3.7/souschef/datamigration/management/commands/__init__.py
+-rw-r--r--   0 root         (0) root         (0)     2067 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/datamigration/management/commands/importaddresses.py
+-rw-r--r--   0 root         (0) root         (0)     3229 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/datamigration/management/commands/importclients.py
+-rw-r--r--   0 root         (0) root         (0)     2931 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/datamigration/management/commands/importcontactaddresses.py
+-rw-r--r--   0 root         (0) root         (0)     4231 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/datamigration/management/commands/importmeals.py
+-rw-r--r--   0 root         (0) root         (0)     2497 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/datamigration/management/commands/importorders.py
+-rw-r--r--   0 root         (0) root         (0)     3300 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/datamigration/management/commands/importrelationships.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/datamigration/migrations/
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/datamigration/migrations/__init__.py
+-rw-r--r--   0 root         (0) root         (0)       59 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/datamigration/models.py
+-rw-r--r--   0 root         (0) root         (0)     6881 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/datamigration/tests.py
+-rw-r--r--   0 root         (0) root         (0)       65 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/datamigration/views.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/delivery/
+-rwxr-xr-x   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/delivery/__init__.py
+-rwxr-xr-x   0 root         (0) root         (0)       65 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/delivery/admin.py
+-rwxr-xr-x   0 root         (0) root         (0)       91 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/delivery/apps.py
+-rw-r--r--   0 root         (0) root         (0)      999 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/delivery/filters.py
+-rw-r--r--   0 root         (0) root         (0)     1426 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/delivery/forms.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/delivery/migrations/
+-rw-r--r--   0 root         (0) root         (0)      755 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/delivery/migrations/0001_fix004a.py
+-rwxr-xr-x   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/delivery/migrations/__init__.py
+-rwxr-xr-x   0 root         (0) root         (0)      217 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/delivery/models.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/delivery/templates/
+-rw-r--r--   0 root         (0) root         (0)    12093 2021-03-19 19:46:01.000000 souschef-1.3.7/souschef/delivery/templates/edit_delivery_of_today.html
+-rw-r--r--   0 root         (0) root         (0)     3511 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/delivery/templates/ingredients.html
+-rw-r--r--   0 root         (0) root         (0)     4057 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/delivery/templates/kitchen_count.html
+-rw-r--r--   0 root         (0) root         (0)     1183 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/delivery/templates/kitchen_count_steps.html
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/delivery/templates/partials/
+-rw-r--r--   0 root         (0) root         (0)     2622 2021-03-20 15:32:41.000000 souschef-1.3.7/souschef/delivery/templates/partials/generated_orders.html
+-rw-r--r--   0 root         (0) root         (0)     1737 2021-03-19 19:57:48.000000 souschef-1.3.7/souschef/delivery/templates/partials/generated_orders_order_row_content.html
+-rw-r--r--   0 root         (0) root         (0)     1085 2021-03-19 15:56:24.000000 souschef-1.3.7/souschef/delivery/templates/partials/generated_orders_table_head.html
+-rw-r--r--   0 root         (0) root         (0)     4403 2021-03-20 15:19:06.000000 souschef-1.3.7/souschef/delivery/templates/review_orders.html
+-rw-r--r--   0 root         (0) root         (0)     3362 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/delivery/templates/route_sheet.html
+-rw-r--r--   0 root         (0) root         (0)     4993 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/delivery/templates/routes.html
+-rwxr-xr-x   0 root         (0) root         (0)    47156 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/delivery/tests.py
+-rw-r--r--   0 root         (0) root         (0)     2892 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/delivery/tsp.py
+-rw-r--r--   0 root         (0) root         (0)     1559 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/delivery/urls.py
+-rwxr-xr-x   0 root         (0) root         (0)    75409 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/delivery/views.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/frontend/
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/frontend/images/
+-rw-r--r--   0 root         (0) root         (0)   292180 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/frontend/images/bg1.jpg
+-rw-r--r--   0 root         (0) root         (0)    21988 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/frontend/images/jenny.jpg
+-rw-r--r--   0 root         (0) root         (0)    28209 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/frontend/images/joe.jpg
+-rw-r--r--   0 root         (0) root         (0)    23839 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/frontend/images/katrina.jpg
+-rwxr-xr-x   0 root         (0) root         (0)      284 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/manage.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/meal/
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/meal/__init__.py
+-rw-r--r--   0 root         (0) root         (0)     3537 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/meal/admin.py
+-rw-r--r--   0 root         (0) root         (0)       83 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/meal/apps.py
+-rw-r--r--   0 root         (0) root         (0)     2285 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/meal/factories.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/meal/migrations/
+-rw-r--r--   0 root         (0) root         (0)     7413 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/meal/migrations/0001_fix161f.py
+-rw-r--r--   0 root         (0) root         (0)     1182 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/meal/migrations/0002_ingredient_ingredient_group.py
+-rw-r--r--   0 root         (0) root         (0)     1079 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/meal/migrations/0003_fix224a.py
+-rw-r--r--   0 root         (0) root         (0)      475 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/meal/migrations/0004_fix004d.py
+-rw-r--r--   0 root         (0) root         (0)     2125 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/meal/migrations/0005_fix241b.py
+-rw-r--r--   0 root         (0) root         (0)      748 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/meal/migrations/0006_auto_20160826_0007.py
+-rw-r--r--   0 root         (0) root         (0)     1327 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/meal/migrations/0007_auto_20170313_1442.py
+-rw-r--r--   0 root         (0) root         (0)      956 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/meal/migrations/0008_auto_20180704_1613.py
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/meal/migrations/__init__.py
+-rw-r--r--   0 root         (0) root         (0)     8181 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/meal/models.py
+-rw-r--r--   0 root         (0) root         (0)      201 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/meal/settings.py
+-rw-r--r--   0 root         (0) root         (0)     8763 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/meal/tests.py
+-rw-r--r--   0 root         (0) root         (0)       71 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/meal/urls.py
+-rw-r--r--   0 root         (0) root         (0)       65 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/meal/views.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/member/
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/__init__.py
+-rw-r--r--   0 root         (0) root         (0)     2367 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/admin.py
+-rw-r--r--   0 root         (0) root         (0)      122 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/apps.py
+-rw-r--r--   0 root         (0) root         (0)     4440 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/factories.py
+-rw-r--r--   0 root         (0) root         (0)    20623 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/forms.py
+-rw-r--r--   0 root         (0) root         (0)      294 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/formsets.py
+-rw-r--r--   0 root         (0) root         (0)     1001 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/formsfield.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/member/management/
+-rw-r--r--   0 root         (0) root         (0)        0 2021-01-23 15:20:56.000000 souschef-1.3.7/souschef/member/management/__init__.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/member/management/commands/
+-rw-r--r--   0 root         (0) root         (0)        0 2021-01-23 15:35:45.000000 souschef-1.3.7/souschef/member/management/commands/__init__.py
+-rw-r--r--   0 root         (0) root         (0)      578 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/management/commands/createclients.py
+-rw-r--r--   0 root         (0) root         (0)      355 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/management/commands/createnotes.py
+-rw-r--r--   0 root         (0) root         (0)     1595 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/management/commands/processscheduledstatuschange.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/member/migrations/
+-rw-r--r--   0 root         (0) root         (0)    15954 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0001_fix161f.py
+-rw-r--r--   0 root         (0) root         (0)      638 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0002_auto_20160605_1609.py
+-rw-r--r--   0 root         (0) root         (0)     1993 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0003_auto_20160615_2100.py
+-rw-r--r--   0 root         (0) root         (0)     4510 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0004_fix004a.py
+-rw-r--r--   0 root         (0) root         (0)      660 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0005_fix004a.py
+-rw-r--r--   0 root         (0) root         (0)      479 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0006_client_meal_default_week.py
+-rw-r--r--   0 root         (0) root         (0)      973 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0007_auto_20160726_1703.py
+-rw-r--r--   0 root         (0) root         (0)      565 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0008_auto_20160727_2251.py
+-rw-r--r--   0 root         (0) root         (0)      982 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0009_auto_20160728_1443.py
+-rw-r--r--   0 root         (0) root         (0)      558 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0010_auto_20160803_2052.py
+-rw-r--r--   0 root         (0) root         (0)      492 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0011_client_delivery_note.py
+-rw-r--r--   0 root         (0) root         (0)     3558 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0012_clientscheduledstatus.py
+-rw-r--r--   0 root         (0) root         (0)      819 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0013_auto_20160820_2322.py
+-rw-r--r--   0 root         (0) root         (0)     1789 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0014_auto_20160826_0007.py
+-rw-r--r--   0 root         (0) root         (0)      490 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0015_route_client_id_sequence.py
+-rw-r--r--   0 root         (0) root         (0)      628 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0016_auto_20160912_1509.py
+-rw-r--r--   0 root         (0) root         (0)      640 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0017_auto_20161020_2039.py
+-rw-r--r--   0 root         (0) root         (0)      638 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0018_auto_20161110_2352.py
+-rw-r--r--   0 root         (0) root         (0)     1366 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0019_auto_20161111_1750.py
+-rw-r--r--   0 root         (0) root         (0)      503 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0020_auto_20161122_0458.py
+-rw-r--r--   0 root         (0) root         (0)      481 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0021_auto_20161125_2055.py
+-rw-r--r--   0 root         (0) root         (0)      770 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0022_auto_20161215_1936.py
+-rw-r--r--   0 root         (0) root         (0)     1174 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0023_auto_20161220_1401.py
+-rw-r--r--   0 root         (0) root         (0)     2763 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0024_auto_20161227_1819.py
+-rw-r--r--   0 root         (0) root         (0)      737 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0025_route_vehicle.py
+-rw-r--r--   0 root         (0) root         (0)     3793 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0026_change_to_emergency_contacts.py
+-rw-r--r--   0 root         (0) root         (0)     1437 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0027_auto_20170313_1442.py
+-rw-r--r--   0 root         (0) root         (0)     1968 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0028_change_linked_scheduled_status_relationship.py
+-rw-r--r--   0 root         (0) root         (0)     1813 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0029_member_address_fk_to_1to1.py
+-rw-r--r--   0 root         (0) root         (0)     2654 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0030_route_deliveryhistory.py
+-rw-r--r--   0 root         (0) root         (0)      927 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0031_client_option_allow_reverse_relation.py
+-rw-r--r--   0 root         (0) root         (0)     6928 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0032_relationship.py
+-rw-r--r--   0 root         (0) root         (0)      828 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0033_auto_20170801_1607.py
+-rw-r--r--   0 root         (0) root         (0)      619 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0034_auto_20170816_0850.py
+-rw-r--r--   0 root         (0) root         (0)      931 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0035_auto_20210115_1155.py
+-rw-r--r--   0 root         (0) root         (0)     1514 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0036_member_addresses.py
+-rw-r--r--   0 root         (0) root         (0)      653 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0037_one_address_per_member.py
+-rw-r--r--   0 root         (0) root         (0)      666 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/migrations/0038_member_verbose_names.py
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/migrations/__init__.py
+-rw-r--r--   0 root         (0) root         (0)    29031 2023-05-26 22:04:50.000000 souschef-1.3.7/souschef/member/models.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/member/signals/
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/signals/__init__.py
+-rw-r--r--   0 root         (0) root         (0)      401 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/signals/handlers.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/member/templates/
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/member/templates/client/
+-rw-r--r--   0 root         (0) root         (0)     3988 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/client/base.html
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/member/templates/client/create/
+-rw-r--r--   0 root         (0) root         (0)     3868 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/client/create/form.html
+-rw-r--r--   0 root         (0) root         (0)     1038 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/client/create/steps.html
+-rw-r--r--   0 root         (0) root         (0)     5918 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/client/list.html
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/member/templates/client/partials/
+-rw-r--r--   0 root         (0) root         (0)     1030 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/client/partials/birthdays.html
+-rw-r--r--   0 root         (0) root         (0)     1391 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/client/partials/filters.html
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/member/templates/client/partials/forms/
+-rw-r--r--   0 root         (0) root         (0)     2386 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/client/partials/forms/address_information.html
+-rw-r--r--   0 root         (0) root         (0)     2100 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/client/partials/forms/basic_information.html
+-rw-r--r--   0 root         (0) root         (0)     1467 2021-03-12 15:24:10.000000 souschef-1.3.7/souschef/member/templates/client/partials/forms/dietary_restriction.html
+-rw-r--r--   0 root         (0) root         (0)     1293 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/client/partials/forms/meal_defaults.html
+-rw-r--r--   0 root         (0) root         (0)     2480 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/client/partials/forms/payment_information.html
+-rw-r--r--   0 root         (0) root         (0)     4373 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/client/partials/forms/relationship_form.html
+-rw-r--r--   0 root         (0) root         (0)      549 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/client/partials/forms/relationships.html
+-rw-r--r--   0 root         (0) root         (0)     1386 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/client/partials/menu.html
+-rw-r--r--   0 root         (0) root         (0)     2017 2021-06-18 20:11:28.000000 souschef-1.3.7/souschef/member/templates/client/partials/order_list.html
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/member/templates/client/update/
+-rw-r--r--   0 root         (0) root         (0)     3033 2021-03-12 15:24:10.000000 souschef-1.3.7/souschef/member/templates/client/update/base.html
+-rw-r--r--   0 root         (0) root         (0)     2153 2021-03-12 21:55:40.000000 souschef-1.3.7/souschef/member/templates/client/update/status.html
+-rw-r--r--   0 root         (0) root         (0)      291 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/client/update/step.html
+-rw-r--r--   0 root         (0) root         (0)      149 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/client/update/steps.html
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/member/templates/client/view/
+-rw-r--r--   0 root         (0) root         (0)      188 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/client/view/address.html
+-rw-r--r--   0 root         (0) root         (0)     4633 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/client/view/allergies.html
+-rw-r--r--   0 root         (0) root         (0)     1731 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/client/view/delete_status_confirmation.html
+-rw-r--r--   0 root         (0) root         (0)     4471 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/client/view/information.html
+-rw-r--r--   0 root         (0) root         (0)     2716 2021-06-11 15:40:13.000000 souschef-1.3.7/souschef/member/templates/client/view/notes.html
+-rw-r--r--   0 root         (0) root         (0)      637 2021-03-05 21:39:33.000000 souschef-1.3.7/souschef/member/templates/client/view/orders.html
+-rw-r--r--   0 root         (0) root         (0)     1825 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/client/view/payment.html
+-rw-r--r--   0 root         (0) root         (0)     1649 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/client/view/referent.html
+-rw-r--r--   0 root         (0) root         (0)     2204 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/client/view/status.html
+-rw-r--r--   0 root         (0) root         (0)     1622 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/client/view/summary.html
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/member/templates/route/
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/route/delivered_route_detail.html
+-rw-r--r--   0 root         (0) root         (0)     5832 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/route/delivery_history_detail.html
+-rw-r--r--   0 root         (0) root         (0)     6159 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/route/detail.html
+-rw-r--r--   0 root         (0) root         (0)     9150 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/route/edit.html
+-rw-r--r--   0 root         (0) root         (0)     1875 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/member/templates/route/list.html
+-rw-r--r--   0 root         (0) root         (0)   161636 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/tests.py
+-rw-r--r--   0 root         (0) root         (0)     5703 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/member/urls.py
+-rw-r--r--   0 root         (0) root         (0)    55929 2023-06-09 15:57:02.000000 souschef-1.3.7/souschef/member/views.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/note/
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/note/__init__.py
+-rw-r--r--   0 root         (0) root         (0)      588 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/note/admin.py
+-rw-r--r--   0 root         (0) root         (0)       83 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/note/apps.py
+-rw-r--r--   0 root         (0) root         (0)      798 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/note/factories.py
+-rw-r--r--   0 root         (0) root         (0)     1172 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/note/forms.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/note/migrations/
+-rw-r--r--   0 root         (0) root         (0)     2295 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/note/migrations/0001_initial.py
+-rw-r--r--   0 root         (0) root         (0)      672 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/note/migrations/0002_auto_20160818_2104.py
+-rw-r--r--   0 root         (0) root         (0)      546 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/note/migrations/0003_auto_20160819_2037.py
+-rw-r--r--   0 root         (0) root         (0)     1154 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/note/migrations/0004_notepriority.py
+-rw-r--r--   0 root         (0) root         (0)     1351 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/note/migrations/0005_note_priority_old_data_migration.py
+-rw-r--r--   0 root         (0) root         (0)      547 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/note/migrations/0006_change_priority_field.py
+-rw-r--r--   0 root         (0) root         (0)     1471 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/note/migrations/0007_notecategory.py
+-rw-r--r--   0 root         (0) root         (0)     1104 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/note/migrations/0008_auto_20170116_1441.py
+-rw-r--r--   0 root         (0) root         (0)      994 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/note/migrations/0009_auto_20170116_1543.py
+-rw-r--r--   0 root         (0) root         (0)     1416 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/note/migrations/0010_auto_20170313_1442.py
+-rw-r--r--   0 root         (0) root         (0)     1052 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/note/migrations/0011_auto_20170419_1109.py
+-rw-r--r--   0 root         (0) root         (0)      479 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/note/migrations/0012_note_is_deleted.py
+-rw-r--r--   0 root         (0) root         (0)     1038 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/note/migrations/0013_date_modified.py
+-rw-r--r--   0 root         (0) root         (0)      560 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/note/migrations/0014_date_created.py
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/note/migrations/__init__.py
+-rw-r--r--   0 root         (0) root         (0)     3847 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/note/models.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/note/templates/
+-rw-r--r--   0 root         (0) root         (0)      909 2021-07-09 19:21:52.000000 souschef-1.3.7/souschef/note/templates/note_confirm_delete.html
+-rw-r--r--   0 root         (0) root         (0)     1720 2021-07-09 19:00:25.000000 souschef-1.3.7/souschef/note/templates/note_edit.html
+-rw-r--r--   0 root         (0) root         (0)     2186 2021-07-09 19:00:30.000000 souschef-1.3.7/souschef/note/templates/notes_add.html
+-rw-r--r--   0 root         (0) root         (0)     4080 2021-06-11 15:41:01.000000 souschef-1.3.7/souschef/note/templates/notes_client_list.html
+-rw-r--r--   0 root         (0) root         (0)     5780 2021-07-23 15:17:48.000000 souschef-1.3.7/souschef/note/templates/notes_list.html
+-rw-r--r--   0 root         (0) root         (0)     9227 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/note/tests.py
+-rw-r--r--   0 root         (0) root         (0)      804 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/note/urls.py
+-rw-r--r--   0 root         (0) root         (0)     5779 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/note/views.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/notification/
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/notification/__init__.py
+-rw-r--r--   0 root         (0) root         (0)      123 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/notification/admin.py
+-rw-r--r--   0 root         (0) root         (0)       99 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/notification/apps.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/notification/migrations/
+-rw-r--r--   0 root         (0) root         (0)     1312 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/notification/migrations/0001_fix161f.py
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/notification/migrations/__init__.py
+-rw-r--r--   0 root         (0) root         (0)      545 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/notification/models.py
+-rw-r--r--   0 root         (0) root         (0)       62 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/notification/tests.py
+-rw-r--r--   0 root         (0) root         (0)       79 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/notification/urls.py
+-rw-r--r--   0 root         (0) root         (0)       65 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/notification/views.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/order/
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/order/__init__.py
+-rw-r--r--   0 root         (0) root         (0)     1088 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/admin.py
+-rw-r--r--   0 root         (0) root         (0)       85 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/apps.py
+-rw-r--r--   0 root         (0) root         (0)     1432 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/factories.py
+-rw-r--r--   0 root         (0) root         (0)     5321 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/forms.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/order/management/
+-rw-r--r--   0 root         (0) root         (0)        0 2021-01-23 15:21:15.000000 souschef-1.3.7/souschef/order/management/__init__.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/order/management/commands/
+-rw-r--r--   0 root         (0) root         (0)        0 2021-01-23 15:36:52.000000 souschef-1.3.7/souschef/order/management/commands/__init__.py
+-rw-r--r--   0 root         (0) root         (0)      416 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/management/commands/createorders.py
+-rw-r--r--   0 root         (0) root         (0)     1813 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/management/commands/generateorders.py
+-rw-r--r--   0 root         (0) root         (0)     1341 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/management/commands/setordersdelivered.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/order/migrations/
+-rw-r--r--   0 root         (0) root         (0)     4800 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/migrations/0001_fix161f.py
+-rw-r--r--   0 root         (0) root         (0)      646 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/migrations/0002_auto_20160614_1736.py
+-rw-r--r--   0 root         (0) root         (0)      662 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/migrations/0003_auto_20160615_1504.py
+-rw-r--r--   0 root         (0) root         (0)     1101 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/migrations/0004_fix004a.py
+-rw-r--r--   0 root         (0) root         (0)      938 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/migrations/0005_fix241b.py
+-rw-r--r--   0 root         (0) root         (0)      746 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/migrations/0006_auto_20160803_2217.py
+-rw-r--r--   0 root         (0) root         (0)      396 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/migrations/0007_remove_order_item_component.py
+-rw-r--r--   0 root         (0) root         (0)      698 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/migrations/0008_auto_20160912_1509.py
+-rw-r--r--   0 root         (0) root         (0)     1031 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/migrations/0009_auto_20161012_1919.py
+-rw-r--r--   0 root         (0) root         (0)      487 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/migrations/0010_auto_20161012_1921.py
+-rw-r--r--   0 root         (0) root         (0)     2619 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/migrations/0011_auto_20161014_1901.py
+-rw-r--r--   0 root         (0) root         (0)      448 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/migrations/0012_auto_20161122_0458.py
+-rw-r--r--   0 root         (0) root         (0)     2291 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/migrations/0013_orderstatuschange.py
+-rw-r--r--   0 root         (0) root         (0)     1376 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/migrations/0014_auto_20161209_2045.py
+-rw-r--r--   0 root         (0) root         (0)      643 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/migrations/0015_auto_20170410_1029.py
+-rw-r--r--   0 root         (0) root         (0)     1013 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/migrations/0016_auto_20180704_1613.py
+-rw-r--r--   0 root         (0) root         (0)      528 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/migrations/0017_total_quantity_not_nullable.py
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/order/migrations/__init__.py
+-rw-r--r--   0 root         (0) root         (0)     1358 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/mixins.py
+-rw-r--r--   0 root         (0) root         (0)    46140 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/models.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/order/templates/
+-rw-r--r--   0 root         (0) root         (0)     5283 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/order/templates/_form.html
+-rw-r--r--   0 root         (0) root         (0)     1098 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/order/templates/_order_info.html
+-rw-r--r--   0 root         (0) root         (0)       92 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/order/templates/base_order.html
+-rw-r--r--   0 root         (0) root         (0)     1227 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/order/templates/create.html
+-rw-r--r--   0 root         (0) root         (0)     4421 2021-03-26 14:22:55.000000 souschef-1.3.7/souschef/order/templates/list.html
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/order/templates/order/
+-rw-r--r--   0 root         (0) root         (0)     9056 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/order/templates/order/create_batch.html
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/order/templates/order/partials/
+-rw-r--r--   0 root         (0) root         (0)     1308 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/order/templates/order/partials/filters.html
+-rw-r--r--   0 root         (0) root         (0)     1070 2021-07-09 19:21:52.000000 souschef-1.3.7/souschef/order/templates/order_confirm_delete.html
+-rw-r--r--   0 root         (0) root         (0)     2315 2021-03-26 15:05:24.000000 souschef-1.3.7/souschef/order/templates/order_update_status.html
+-rw-r--r--   0 root         (0) root         (0)     2023 2021-03-26 14:34:44.000000 souschef-1.3.7/souschef/order/templates/update.html
+-rw-r--r--   0 root         (0) root         (0)     3240 2021-04-02 19:14:01.000000 souschef-1.3.7/souschef/order/templates/view.html
+-rw-r--r--   0 root         (0) root         (0)    66164 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/tests.py
+-rw-r--r--   0 root         (0) root         (0)     1150 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/urls.py
+-rw-r--r--   0 root         (0) root         (0)    14871 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/order/views.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/page/
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/page/__init__.py
+-rw-r--r--   0 root         (0) root         (0)       65 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/page/admin.py
+-rw-r--r--   0 root         (0) root         (0)      124 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/page/apps.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/page/migrations/
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/page/migrations/__init__.py
+-rw-r--r--   0 root         (0) root         (0)      100 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/page/models.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/page/templates/
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/page/templates/pages/
+-rw-r--r--   0 root         (0) root         (0)      487 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/page/templates/pages/card.html
+-rw-r--r--   0 root         (0) root         (0)     7007 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/page/templates/pages/home.html
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/page/templates/registration/
+-rw-r--r--   0 root         (0) root         (0)     1634 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/page/templates/registration/login.html
+-rw-r--r--   0 root         (0) root         (0)    10123 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/page/tests.py
+-rw-r--r--   0 root         (0) root         (0)      411 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/page/urls.py
+-rw-r--r--   0 root         (0) root         (0)     4861 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/page/views.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/pycrons/
+-rw-r--r--   0 root         (0) root         (0)        0 2021-02-12 02:23:19.000000 souschef-1.3.7/souschef/pycrons/__init__.py
+-rw-r--r--   0 root         (0) root         (0)      429 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/pycrons/cleaning.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/sous_chef/
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/sous_chef/__init__.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef/sous_chef/assets/
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/sous_chef/assets/css/
+-rw-r--r--   0 root         (0) root         (0)   655527 2023-06-09 16:05:44.000000 souschef-1.3.7/souschef/sous_chef/assets/css/main.min.css
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/sous_chef/assets/fonts/
+-rw-r--r--   0 root         (0) root         (0)    98640 2023-06-09 16:05:39.000000 souschef-1.3.7/souschef/sous_chef/assets/fonts/brand-icons.eot
+-rw-r--r--   0 root         (0) root         (0)   507628 2023-06-09 16:05:39.000000 souschef-1.3.7/souschef/sous_chef/assets/fonts/brand-icons.svg
+-rw-r--r--   0 root         (0) root         (0)    98404 2023-06-09 16:05:39.000000 souschef-1.3.7/souschef/sous_chef/assets/fonts/brand-icons.ttf
+-rw-r--r--   0 root         (0) root         (0)    63728 2023-06-09 16:05:39.000000 souschef-1.3.7/souschef/sous_chef/assets/fonts/brand-icons.woff
+-rw-r--r--   0 root         (0) root         (0)    54488 2023-06-09 16:05:39.000000 souschef-1.3.7/souschef/sous_chef/assets/fonts/brand-icons.woff2
+-rw-r--r--   0 root         (0) root         (0)   106004 2023-06-09 16:05:39.000000 souschef-1.3.7/souschef/sous_chef/assets/fonts/icons.eot
+-rw-r--r--   0 root         (0) root         (0)    93888 2023-06-09 16:05:42.000000 souschef-1.3.7/souschef/sous_chef/assets/fonts/icons.otf
+-rw-r--r--   0 root         (0) root         (0)   390837 2023-06-09 16:05:48.000000 souschef-1.3.7/souschef/sous_chef/assets/fonts/icons.svg
+-rw-r--r--   0 root         (0) root         (0)   105784 2023-06-09 16:05:48.000000 souschef-1.3.7/souschef/sous_chef/assets/fonts/icons.ttf
+-rw-r--r--   0 root         (0) root         (0)    50524 2023-06-09 16:05:48.000000 souschef-1.3.7/souschef/sous_chef/assets/fonts/icons.woff
+-rw-r--r--   0 root         (0) root         (0)    40148 2023-06-09 16:05:48.000000 souschef-1.3.7/souschef/sous_chef/assets/fonts/icons.woff2
+-rw-r--r--   0 root         (0) root         (0)    31156 2023-06-09 16:05:48.000000 souschef-1.3.7/souschef/sous_chef/assets/fonts/outline-icons.eot
+-rw-r--r--   0 root         (0) root         (0)   107201 2023-06-09 16:05:49.000000 souschef-1.3.7/souschef/sous_chef/assets/fonts/outline-icons.svg
+-rw-r--r--   0 root         (0) root         (0)    30928 2023-06-09 16:05:49.000000 souschef-1.3.7/souschef/sous_chef/assets/fonts/outline-icons.ttf
+-rw-r--r--   0 root         (0) root         (0)    14712 2023-06-09 16:05:49.000000 souschef-1.3.7/souschef/sous_chef/assets/fonts/outline-icons.woff
+-rw-r--r--   0 root         (0) root         (0)    12240 2023-06-09 16:05:49.000000 souschef-1.3.7/souschef/sous_chef/assets/fonts/outline-icons.woff2
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/sous_chef/assets/images/
+-rw-r--r--   0 root         (0) root         (0)   258972 2023-06-09 16:05:51.000000 souschef-1.3.7/souschef/sous_chef/assets/images/bg1.jpg
+-rw-r--r--   0 root         (0) root         (0)    11449 2023-06-09 16:05:51.000000 souschef-1.3.7/souschef/sous_chef/assets/images/demo.png
+-rw-r--r--   0 root         (0) root         (0)      608 2023-06-09 16:05:51.000000 souschef-1.3.7/souschef/sous_chef/assets/images/favicon.png
+-rw-r--r--   0 root         (0) root         (0)    28123 2023-06-09 16:05:39.000000 souschef-1.3.7/souschef/sous_chef/assets/images/flags.png
+-rw-r--r--   0 root         (0) root         (0)      490 2023-06-09 16:05:48.000000 souschef-1.3.7/souschef/sous_chef/assets/images/geocoder.png
+-rw-r--r--   0 root         (0) root         (0)     1374 2023-06-09 16:05:51.000000 souschef-1.3.7/souschef/sous_chef/assets/images/glyph-marker-icon.png
+-rw-r--r--   0 root         (0) root         (0)     1287 2023-06-09 16:05:51.000000 souschef-1.3.7/souschef/sous_chef/assets/images/glyph-marker-icon.svg
+-rw-r--r--   0 root         (0) root         (0)    21977 2023-06-09 16:05:51.000000 souschef-1.3.7/souschef/sous_chef/assets/images/jenny.jpg
+-rw-r--r--   0 root         (0) root         (0)    26952 2023-06-09 16:05:51.000000 souschef-1.3.7/souschef/sous_chef/assets/images/joe.jpg
+-rw-r--r--   0 root         (0) root         (0)    23839 2023-06-09 16:05:51.000000 souschef-1.3.7/souschef/sous_chef/assets/images/katrina.jpg
+-rw-r--r--   0 root         (0) root         (0)     2306 2023-06-09 16:05:39.000000 souschef-1.3.7/souschef/sous_chef/assets/images/leaflet.routing.icons.png
+-rw-r--r--   0 root         (0) root         (0)     4060 2023-06-09 16:05:44.000000 souschef-1.3.7/souschef/sous_chef/assets/images/leaflet.routing.icons.svg
+-rw-r--r--   0 root         (0) root         (0)     6363 2023-06-09 16:05:51.000000 souschef-1.3.7/souschef/sous_chef/assets/images/logo-souschef-coul.png
+-rw-r--r--   0 root         (0) root         (0)     6033 2023-06-09 16:05:52.000000 souschef-1.3.7/souschef/sous_chef/assets/images/logo-souschef-nb.png
+-rw-r--r--   0 root         (0) root         (0)      891 2023-06-09 16:05:52.000000 souschef-1.3.7/souschef/sous_chef/assets/images/logo.png
+-rw-r--r--   0 root         (0) root         (0)    14323 2023-06-09 16:05:49.000000 souschef-1.3.7/souschef/sous_chef/assets/images/markers-matte.png
+-rw-r--r--   0 root         (0) root         (0)    30194 2023-06-09 16:05:49.000000 souschef-1.3.7/souschef/sous_chef/assets/images/markers-matte@2x.png
+-rw-r--r--   0 root         (0) root         (0)     7946 2023-06-09 16:05:49.000000 souschef-1.3.7/souschef/sous_chef/assets/images/markers-plain.png
+-rw-r--r--   0 root         (0) root         (0)      535 2023-06-09 16:05:49.000000 souschef-1.3.7/souschef/sous_chef/assets/images/markers-shadow.png
+-rw-r--r--   0 root         (0) root         (0)     1134 2023-06-09 16:05:49.000000 souschef-1.3.7/souschef/sous_chef/assets/images/markers-shadow@2x.png
+-rw-r--r--   0 root         (0) root         (0)    36367 2023-06-09 16:05:49.000000 souschef-1.3.7/souschef/sous_chef/assets/images/markers-soft.png
+-rw-r--r--   0 root         (0) root         (0)   146362 2023-06-09 16:05:51.000000 souschef-1.3.7/souschef/sous_chef/assets/images/markers-soft@2x.png
+-rw-r--r--   0 root         (0) root         (0)      454 2023-06-09 16:05:43.000000 souschef-1.3.7/souschef/sous_chef/assets/images/routing-icon.png
+-rw-r--r--   0 root         (0) root         (0)     4831 2023-06-09 16:05:49.000000 souschef-1.3.7/souschef/sous_chef/assets/images/throbber.gif
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/sous_chef/assets/js/
+-rw-r--r--   0 root         (0) root         (0)  1031323 2023-06-09 16:05:39.000000 souschef-1.3.7/souschef/sous_chef/assets/js/leaflet.js
+-rw-r--r--   0 root         (0) root         (0)   627692 2023-06-09 16:05:42.000000 souschef-1.3.7/souschef/sous_chef/assets/js/leaflet.min.js
+-rw-r--r--   0 root         (0) root         (0)    22295 2023-06-09 16:05:39.000000 souschef-1.3.7/souschef/sous_chef/assets/js/multidatespicker.js
+-rw-r--r--   0 root         (0) root         (0)    10453 2023-06-09 16:05:39.000000 souschef-1.3.7/souschef/sous_chef/assets/js/multidatespicker.min.js
+-rw-r--r--   0 root         (0) root         (0)  1110472 2023-06-09 16:05:44.000000 souschef-1.3.7/souschef/sous_chef/assets/js/sous-chef.js
+-rw-r--r--   0 root         (0) root         (0)   398919 2023-06-09 16:05:48.000000 souschef-1.3.7/souschef/sous_chef/assets/js/sous-chef.min.js
+-rw-r--r--   0 root         (0) root         (0)     1542 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/sous_chef/context_processors.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/sous_chef/formats/
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/sous_chef/formats/__init__.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/sous_chef/formats/en/
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/sous_chef/formats/en/__init__.py
+-rw-r--r--   0 root         (0) root         (0)      186 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/sous_chef/formats/en/formats.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/sous_chef/formats/fr/
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/sous_chef/formats/fr/__init__.py
+-rw-r--r--   0 root         (0) root         (0)      182 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/sous_chef/formats/fr/formats.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/sous_chef/management/
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/sous_chef/management/__init__.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/sous_chef/management/commands/
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/sous_chef/management/commands/__init__.py
+-rw-r--r--   0 root         (0) root         (0)     1568 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/sous_chef/management/commands/makemessages.py
+-rw-r--r--   0 root         (0) root         (0)      496 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/sous_chef/rules.py
+-rw-r--r--   0 root         (0) root         (0)     7531 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/sous_chef/settings.py
+-rw-r--r--   0 root         (0) root         (0)      226 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/sous_chef/settings_test.py
+-rw-r--r--   0 root         (0) root         (0)       59 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/sous_chef/settings_test_fr.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/sous_chef/templates/
+-rw-r--r--   0 root         (0) root         (0)      611 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/sous_chef/templates/404.html
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/sous_chef/templates/avatar/
+-rw-r--r--   0 root         (0) root         (0)     1870 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/sous_chef/templates/avatar/change.html
+-rw-r--r--   0 root         (0) root         (0)     1125 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/sous_chef/templates/avatar/confirm_delete.html
+-rw-r--r--   0 root         (0) root         (0)     3656 2021-07-23 15:25:58.000000 souschef-1.3.7/souschef/sous_chef/templates/base.html
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/sous_chef/templates/dashboard/
+-rw-r--r--   0 root         (0) root         (0)      771 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/sous_chef/templates/dashboard/statistics.html
+-rw-r--r--   0 root         (0) root         (0)     1271 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/sous_chef/templates/splash.html
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/sous_chef/templates/system/
+-rw-r--r--   0 root         (0) root         (0)      219 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/sous_chef/templates/system/_button_export.html
+-rw-r--r--   0 root         (0) root         (0)      209 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/sous_chef/templates/system/breadcrumb.html
+-rw-r--r--   0 root         (0) root         (0)     2878 2021-07-09 19:03:35.000000 souschef-1.3.7/souschef/sous_chef/templates/system/menu.html
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:01.000000 souschef-1.3.7/souschef/sous_chef/templatetags/
+-rw-r--r--   0 root         (0) root         (0)        0 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/sous_chef/templatetags/__init__.py
+-rw-r--r--   0 root         (0) root         (0)      319 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/sous_chef/templatetags/sous_chef_extras.py
+-rw-r--r--   0 root         (0) root         (0)     3455 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/sous_chef/tests.py
+-rw-r--r--   0 root         (0) root         (0)     1874 2023-05-26 21:47:13.000000 souschef-1.3.7/souschef/sous_chef/urls.py
+-rw-r--r--   0 root         (0) root         (0)      395 2020-11-06 14:25:57.000000 souschef-1.3.7/souschef/sous_chef/wsgi.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef.egg-info/
+-rw-r--r--   0 root         (0) root         (0)     2249 2023-06-09 16:05:59.000000 souschef-1.3.7/souschef.egg-info/PKG-INFO
+-rw-r--r--   0 root         (0) root         (0)    15612 2023-06-09 16:06:00.000000 souschef-1.3.7/souschef.egg-info/SOURCES.txt
+-rw-r--r--   0 root         (0) root         (0)        1 2023-06-09 16:05:59.000000 souschef-1.3.7/souschef.egg-info/dependency_links.txt
+-rw-r--r--   0 root         (0) root         (0)      462 2023-06-09 16:05:59.000000 souschef-1.3.7/souschef.egg-info/requires.txt
+-rw-r--r--   0 root         (0) root         (0)        9 2023-06-09 16:05:59.000000 souschef-1.3.7/souschef.egg-info/top_level.txt
```

### Comparing `souschef-1.3.6/INSTALL.md` & `souschef-1.3.7/INSTALL.md`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/LICENSE.txt` & `souschef-1.3.7/LICENSE.txt`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/PKG-INFO` & `souschef-1.3.7/PKG-INFO`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: souschef
-Version: 1.3.6
+Version: 1.3.7
 Summary: Webapp used to manage orders for meals-on-wheel delivery
 Home-page: https://github.com/pypa/sous-chef
 Author: Santropol Roulant and Savoir Faire Linux
 Author-email: info@santropolroulant.org
 License: AGPL-3.0
 Keywords: meals-on-wheel
 Platform: UNKNOWN
```

### Comparing `souschef-1.3.6/README.md` & `souschef-1.3.7/README.md`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/UPDATE.md` & `souschef-1.3.7/UPDATE.md`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/setup.py` & `souschef-1.3.7/setup.py`

 * *Files 15% similar despite different names*

```diff
@@ -1,16 +1,15 @@
 import setuptools
 
-
 with open("README.md", "r") as fh:
     long_description = fh.read()
 
 setuptools.setup(
     name="souschef",
-    version="1.3.6",
+    version="1.3.7",
     license="AGPL-3.0",
     author="Santropol Roulant and Savoir Faire Linux",
     author_email="info@santropolroulant.org",
     description="Webapp used to manage orders for meals-on-wheel delivery",
     long_description=long_description,
     long_description_content_type="text/markdown",
     url="https://github.com/pypa/sous-chef",
@@ -24,27 +23,27 @@
         "License :: OSI Approved :: GNU Affero General Public License v3",
         "Operating System :: OS Independent",
         "Programming Language :: JavaScript",
         "Programming Language :: Python :: 3",
         "Topic :: Internet :: WWW/HTTP :: Dynamic Content :: Content Management System",
     ],
     keywords="meals-on-wheel",
-    python_requires='>=3.7',
+    python_requires=">=3.7",
     install_requires=[
-        'django-annoying>=0.10,<0.10.999',
-        'django-avatar>=4.0,<4.0.999',
-        'django-crontab>=0.7.1,<0.7.999',
-        'django-extra-views>=0.9,<0.9.999',
-        'django-filter>=1.0,<1.0.999',
-        'django-formtools>=2.0,<2.0.999',
-        'django-leaflet>=0.22,<0.22.999',
-        'django-localflavor>=1.5,<1.5.999',
-        'django-template-i18n-lint>=1.2,<1.2.999',
-        'django>=1.11,<1.11.999',
-        'factory_boy>=2.8,<2.8.999',
-        'mysqlclient>=1.3,<1.3.999',
-        'pylabels>=1.2,<1.2.999',
-        'reportlab>=3.4,<3.4.999',
-        'rules>=1.2,<1.2.999',
-        'transifex-client>=0.12,<0.12.999',
+        "django-annoying>=0.10,<0.10.999",
+        "django-avatar>=4.0,<4.0.999",
+        "django-crontab>=0.7.1,<0.7.999",
+        "django-extra-views>=0.9,<0.9.999",
+        "django-filter>=1.0,<1.0.999",
+        "django-formtools>=2.0,<2.0.999",
+        "django-leaflet>=0.22,<0.22.999",
+        "django-localflavor>=1.5,<1.5.999",
+        "django-template-i18n-lint>=1.2,<1.2.999",
+        "django>=1.11,<1.11.999",
+        "factory_boy>=2.8,<2.8.999",
+        "mysqlclient>=1.3,<1.3.999",
+        "pylabels>=1.2,<1.2.999",
+        "reportlab>=3.4,<3.4.999",
+        "rules>=1.2,<1.2.999",
+        "transifex-client>=0.12,<0.12.999",
     ],
 )
```

### Comparing `souschef-1.3.6/souschef/160widthSR-Logo-Screen-PurpleGreen-HI-RGB1.jpg` & `souschef-1.3.7/souschef/160widthSR-Logo-Screen-PurpleGreen-HI-RGB1.jpg`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/billing/migrations/0001_initial.py` & `souschef-1.3.7/souschef/member/migrations/0022_auto_20161215_1936.py`

 * *Files 25% similar despite different names*

```diff
@@ -1,30 +1,30 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.10 on 2016-09-12 19:23
+# Generated by Django 1.10 on 2016-12-15 19:36
 from __future__ import unicode_literals
 
-import annoying.fields
 from django.db import migrations, models
 
 
 class Migration(migrations.Migration):
 
-    initial = True
-
     dependencies = [
-        ('order', '0008_auto_20160912_1509'),
+        ("member", "0021_auto_20161125_2055"),
     ]
 
     operations = [
-        migrations.CreateModel(
-            name='Billing',
-            fields=[
-                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
-                ('total_amount', models.DecimalField(decimal_places=2, max_digits=6, verbose_name='total_amount')),
-                ('billing_month', models.IntegerField()),
-                ('billing_year', models.IntegerField()),
-                ('created', models.DateTimeField(auto_now=True)),
-                ('detail', annoying.fields.JSONField()),
-                ('orders', models.ManyToManyField(to='order.Order')),
-            ],
+        migrations.AlterField(
+            model_name="client",
+            name="billing_payment_type",
+            field=models.CharField(
+                choices=[
+                    (" ", "----"),
+                    ("3rd", "3rd Party"),
+                    ("credit", "Credit card"),
+                    ("eft", "EFT"),
+                ],
+                max_length=10,
+                null=True,
+                verbose_name="Payment Type",
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/billing/models.py` & `souschef-1.3.7/souschef/billing/models.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,40 +1,51 @@
 import collections
-from django.db import models
-from django.db.models import Q, Prefetch
-from souschef.order.models import Order, Order_item
-from datetime import datetime, date
+from datetime import (
+    date,
+    datetime,
+)
+
 from annoying.fields import JSONField
+from django.db import models
+from django.db.models import (
+    Prefetch,
+    Q,
+)
 from django.utils.translation import ugettext_lazy as _
-from django_filters import FilterSet, CharFilter
+from django_filters import (
+    CharFilter,
+    FilterSet,
+)
+
+from souschef.order.models import (
+    Order,
+    Order_item,
+)
 
 
 class BillingManager(models.Manager):
-
     def billing_create_new(self, year, month):
         """
         Create a new billing for the given period.
         A period is a month.
-         """
+        """
         # Get all billable orders for the given period
-        billable_orders = Order.objects.get_billable_orders(
-            year, month
-        ).select_related(
-            'client__member'
-        ).only(
-            'client__member__firstname',
-            'client__member__lastname'
-        ).prefetch_related(Prefetch(
-            'orders',
-            queryset=Order_item.objects.all().only(
-                'order__id',
-                'price',
-                'billable_flag'
+        billable_orders = (
+            Order.objects.get_billable_orders(year, month)
+            .select_related("client__member")
+            .only("client__member__firstname", "client__member__lastname")
+            .prefetch_related(
+                Prefetch(
+                    "orders",
+                    queryset=Order_item.objects.all().only(
+                        "order__id", "price", "billable_flag"
+                    ),
+                )
             )
-        ))
+        )
 
         total_amount = calculate_amount_total(billable_orders)
 
         # Create the Billing object
         billing = Billing.objects.create(
             total_amount=total_amount,
             billing_month=month,
@@ -61,32 +72,27 @@
         if billing.count() == 0:
             return None
         else:
             return billing
 
 
 class Billing(models.Model):
-
     class Meta:
         ordering = ["-billing_year", "-billing_month"]
 
     total_amount = models.DecimalField(
-        verbose_name=_('total_amount'),
-        max_digits=8,
-        decimal_places=2
+        verbose_name=_("total_amount"), max_digits=8, decimal_places=2
     )
 
     # Month start with january is 1
     billing_month = models.IntegerField()
 
     billing_year = models.IntegerField()
 
-    created = models.DateTimeField(
-        verbose_name=None, auto_now=True
-    )
+    created = models.DateTimeField(verbose_name=None, auto_now=True)
 
     detail = JSONField()
 
     orders = models.ManyToManyField(Order)
 
     objects = BillingManager()
 
@@ -101,91 +107,76 @@
     @property
     def summary(self):
         """
         Return a summary of every client.
         Format: dictionary {client: info}
         """
         # collect orders by clients
-        kvpairs = map(
-            lambda o: (o.client, o),
-            self.orders.all()
-        )
+        kvpairs = map(lambda o: (o.client, o), self.orders.all())
         d = collections.defaultdict(list)
         for k, v in kvpairs:
             d[k].append(v)
         result = {}
         for client, orders in d.items():
             result[client] = {
-                'total_orders': len(orders),
-                'total_main_dishes': {
-                    'R': 0,  # to be counted
-                    'L': 0
-                },
-                'total_billable_sides': 0,  # to be counted
-                'total_amount': sum(map(lambda o: o.price, orders))
+                "total_orders": len(orders),
+                "total_main_dishes": {"R": 0, "L": 0},  # to be counted
+                "total_billable_sides": 0,  # to be counted
+                "total_amount": sum(map(lambda o: o.price, orders)),
             }
             for o in orders:
                 for o_item in o.orders.all():
-                    if o_item.component_group == 'main_dish':
-                        if o_item.size == 'R':
-                            result[client][
-                                'total_main_dishes'
-                            ]['R'] += o_item.total_quantity
-                        elif o_item.size == 'L':
-                            result[client][
-                                'total_main_dishes'
-                            ]['L'] += o_item.total_quantity
+                    if o_item.component_group == "main_dish":
+                        if o_item.size == "R":
+                            result[client]["total_main_dishes"][
+                                "R"
+                            ] += o_item.total_quantity
+                        elif o_item.size == "L":
+                            result[client]["total_main_dishes"][
+                                "L"
+                            ] += o_item.total_quantity
                     else:
                         if o_item.billable_flag is True:
                             result[client][
-                                'total_billable_sides'
+                                "total_billable_sides"
                             ] += o_item.total_quantity
         return result
 
 
 class BillingFilter(FilterSet):
-    name = CharFilter(
-        method='filter_search',
-        label=_('Search by name')
-    )
+    name = CharFilter(method="filter_search", label=_("Search by name"))
 
-    date = CharFilter(
-        method='filter_period'
-    )
+    date = CharFilter(method="filter_period")
 
     class Meta:
         model = Billing
-        fields = '__all__'
+        fields = "__all__"
 
     def filter_search(self, queryset, field_name, value):
         if not value:
             return queryset
 
         name_contains = Q()
-        names = value.split(' ')
+        names = value.split(" ")
 
         for name in names:
 
-            firstname_contains = Q(
-                client__member__firstname__icontains=name
-            )
+            firstname_contains = Q(client__member__firstname__icontains=name)
 
-            lastname_contains = Q(
-                client__member__lastname__icontains=name
-            )
+            lastname_contains = Q(client__member__lastname__icontains=name)
 
             name_contains |= firstname_contains | lastname_contains
 
         return queryset.filter(name_contains)
 
     def filter_period(self, queryset, field_name, value):
         if not value:
             return queryset
 
-        year, month = value.split('-')
+        year, month = value.split("-")
         return queryset.filter(billing_year=year, billing_month=month)
 
 
 # get the total amount from a list of orders
 def calculate_amount_total(orders):
     total = 0
     for order in orders:
```

### Comparing `souschef-1.3.6/souschef/billing/templates/billing/add.html` & `souschef-1.3.7/souschef/billing/templates/billing/add.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/billing/templates/billing/billing_confirm_delete.html` & `souschef-1.3.7/souschef/billing/templates/billing/billing_confirm_delete.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/billing/templates/billing/list.html` & `souschef-1.3.7/souschef/billing/templates/billing/list.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/billing/templates/billing/partials/statistics.html` & `souschef-1.3.7/souschef/billing/templates/billing/partials/statistics.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/billing/templates/billing/partials/summary.html` & `souschef-1.3.7/souschef/billing/templates/billing/partials/summary.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/billing/templates/billing/print_summary.html` & `souschef-1.3.7/souschef/billing/templates/billing/print_summary.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/billing/templates/billing/view.html` & `souschef-1.3.7/souschef/billing/templates/billing/view.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/billing/templates/billing/view_orders.html` & `souschef-1.3.7/souschef/billing/templates/billing/view_orders.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/billing/tests.py` & `souschef-1.3.7/souschef/billing/tests.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,30 +1,37 @@
-from django.test import TestCase
-from souschef.order.factories import OrderFactory
-from souschef.billing.models import Billing, calculate_amount_total
 import datetime
-from souschef.member.factories import ClientFactory
-from souschef.order.models import Order
+
 from django.contrib.auth.models import User
+from django.test import TestCase
 from django.urls import reverse
+
 from souschef.billing.factories import BillingFactory
+from souschef.billing.models import (
+    Billing,
+    calculate_amount_total,
+)
+from souschef.member.factories import ClientFactory
+from souschef.order.factories import OrderFactory
+from souschef.order.models import Order
 from souschef.sous_chef.tests import TestMixin as SousChefTestMixin
 
 
 class BillingTestCase(TestCase):
 
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     @classmethod
     def setUpTestData(cls):
         cls.client1 = ClientFactory()
         cls.billed_orders = OrderFactory.create_batch(
             10,
             delivery_date=datetime.datetime.today(),
-            client=cls.client1, status="D", )
+            client=cls.client1,
+            status="D",
+        )
         cls.orders = OrderFactory.create_batch(
             10,
             delivery_date=datetime.datetime.today(),
             client=ClientFactory(),
             status="O",
         )
 
@@ -47,184 +54,190 @@
     def test_get_billable_orders_client(self):
         """
         Test that all the delivered orders for a given month and
         a given client are fetched.
         """
         month = datetime.datetime.now().strftime("%m")
         year = datetime.datetime.now().strftime("%Y")
-        orders = Order.objects.get_billable_orders_client(
-            month, year, self.client1
-        )
+        orders = Order.objects.get_billable_orders_client(month, year, self.client1)
         self.assertEqual(len(self.billed_orders), orders.count())
 
 
 class BillingManagerTestCase(TestCase):
 
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def setUp(self):
         self.today = datetime.datetime.today()
         self.billable_orders = OrderFactory.create_batch(
-            10, delivery_date=self.today, status="D", )
+            10,
+            delivery_date=self.today,
+            status="D",
+        )
 
     def test_billing_create_new(self):
-        billing = Billing.objects.billing_create_new(
-            self.today.year, self.today.month)
+        billing = Billing.objects.billing_create_new(self.today.year, self.today.month)
         self.assertEqual(10, billing.orders.all().count())
         self.assertEqual(self.today.month, billing.billing_month)
         self.assertEqual(self.today.year, billing.billing_year)
         # We created 10 orders, with one billable 10$ value item each
         self.assertEqual(50.00, billing.total_amount)
 
     def test_billing_get_period(self):
-        billing = Billing.objects.billing_get_period(
-            self.today.year, self.today.month)
+        billing = Billing.objects.billing_get_period(self.today.year, self.today.month)
         self.assertEqual(None, billing)
 
 
 class RedirectAnonymousUserTestCase(SousChefTestMixin, TestCase):
 
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_anonymous_user_gets_redirect_to_login_page(self):
         check = self.assertRedirectsWithAllMethods
-        check(reverse('billing:list'))
-        check(reverse('billing:create'))
-        check(reverse('billing:add'))
+        check(reverse("billing:list"))
+        check(reverse("billing:create"))
+        check(reverse("billing:add"))
         bill = BillingFactory()
-        check(reverse('billing:view', kwargs={'pk': bill.id}))
-        check(reverse('billing:delete', kwargs={'pk': bill.id}))
+        check(reverse("billing:view", kwargs={"pk": bill.id}))
+        check(reverse("billing:delete", kwargs={"pk": bill.id}))
 
 
 class BillingListViewTestCase(SousChefTestMixin, TestCase):
     def test_redirects_users_who_do_not_have_read_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
-        url = reverse('billing:list')
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
+        url = reverse("billing:list")
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_read_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('billing:list')
+        self.client.login(username="foo", password="secure")
+        url = reverse("billing:list")
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class BillingCreateViewTestCase(SousChefTestMixin, TestCase):
     def test_redirects_users_who_do_not_have_edit_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('billing:create')
+        self.client.login(username="foo", password="secure")
+        url = reverse("billing:create")
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_edit_permission(self):
         # Setup
         user = User.objects.create_superuser(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('billing:create')
+        self.client.login(username="foo", password="secure")
+        url = reverse("billing:create")
         # Run
-        response = self.client.get(
-            url, {'delivery_date': ''}, follow=True)
+        response = self.client.get(url, {"delivery_date": ""}, follow=True)
         # Check
         self.assertEqual(response.status_code, 200)
-        self.assertTrue('error message' in repr(response.content))
-        response = self.client.get(
-            url, {'delivery_date': '2016-1'}, follow=True)
+        self.assertTrue("error message" in repr(response.content))
+        response = self.client.get(url, {"delivery_date": "2016-1"}, follow=True)
         # Check
         self.assertEqual(response.status_code, 200)
-        self.assertEqual(
-            response.redirect_chain[-1][0], reverse('billing:list'))
+        self.assertEqual(response.redirect_chain[-1][0], reverse("billing:list"))
 
 
 class BillingAddViewTestCase(SousChefTestMixin, TestCase):
     def test_redirects_users_who_do_not_have_edit_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('billing:add')
+        self.client.login(username="foo", password="secure")
+        url = reverse("billing:add")
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_edit_permission(self):
         # Setup
         user = User.objects.create_superuser(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('billing:add')
+        self.client.login(username="foo", password="secure")
+        url = reverse("billing:add")
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class BillingSummaryViewTestCase(SousChefTestMixin, TestCase):
     def test_redirects_users_who_do_not_have_read_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
         bill = BillingFactory()
-        url = reverse('billing:view', args=(bill.id, ))
+        url = reverse("billing:view", args=(bill.id,))
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_read_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         bill = BillingFactory()
-        url = reverse('billing:view', args=(bill.id, ))
+        url = reverse("billing:view", args=(bill.id,))
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class BillingDeleteViewTestCase(SousChefTestMixin, TestCase):
     def test_redirects_users_who_do_not_have_edit_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         bill = BillingFactory()
-        url = reverse('billing:delete', args=(bill.id, ))
+        url = reverse("billing:delete", args=(bill.id,))
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_edit_permission(self):
         # Setup
         user = User.objects.create_superuser(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         bill = BillingFactory()
-        url = reverse('billing:delete', args=(bill.id, ))
+        url = reverse("billing:delete", args=(bill.id,))
         # Run
-        response = self.client.post(url, {'next': '/'}, follow=True)
+        response = self.client.post(url, {"next": "/"}, follow=True)
         # Check
         self.assertEqual(response.status_code, 200)
```

### Comparing `souschef-1.3.6/souschef/billing/urls.py` & `souschef-1.3.7/souschef/billing/urls.py`

 * *Files 21% similar despite different names*

```diff
@@ -1,19 +1,26 @@
 from django.conf.urls import url
+from django.utils.translation import ugettext_lazy as _
+
 from souschef.billing.views import (
-    BillingList, BillingCreate, BillingDelete,
-    BillingSummaryView, BillingOrdersView, BillingAdd
+    BillingAdd,
+    BillingCreate,
+    BillingDelete,
+    BillingList,
+    BillingOrdersView,
+    BillingSummaryView,
 )
-from django.utils.translation import ugettext_lazy as _
 
 app_name = "billing"
 
 urlpatterns = [
-    url(_(r'^list/$'), BillingList.as_view(), name="list"),
-    url(_(r'^create/$'), BillingCreate.as_view(), name="create"),
-    url(_(r'^add/$'), BillingAdd.as_view(), name="add"),
-    url(_(r'^view/(?P<pk>\d+)/$'),
-        BillingSummaryView.as_view(), name="view"),
-    url(_(r'^view/(?P<pk>\d+)/orders/$'),
-        BillingOrdersView.as_view(), name="view_orders"),
-    url(_(r'^delete/(?P<pk>\d+)/$'), BillingDelete.as_view(), name='delete'),
+    url(_(r"^list/$"), BillingList.as_view(), name="list"),
+    url(_(r"^create/$"), BillingCreate.as_view(), name="create"),
+    url(_(r"^add/$"), BillingAdd.as_view(), name="add"),
+    url(_(r"^view/(?P<pk>\d+)/$"), BillingSummaryView.as_view(), name="view"),
+    url(
+        _(r"^view/(?P<pk>\d+)/orders/$"),
+        BillingOrdersView.as_view(),
+        name="view_orders",
+    ),
+    url(_(r"^delete/(?P<pk>\d+)/$"), BillingDelete.as_view(), name="delete"),
 ]
```

### Comparing `souschef-1.3.6/souschef/billing/views.py` & `souschef-1.3.7/souschef/billing/views.py`

 * *Files 19% similar despite different names*

```diff
@@ -1,335 +1,352 @@
-import copy
 import collections
+import copy
 
-from django.db.models import Q, Count, Prefetch
-from django.views import generic
+from django.contrib import messages
+from django.contrib.auth.mixins import (
+    LoginRequiredMixin,
+    PermissionRequiredMixin,
+)
+from django.db.models import (
+    Count,
+    Prefetch,
+    Q,
+)
+from django.http import HttpResponseRedirect
+from django.urls import reverse_lazy
 from django.utils.translation import string_concat
 from django.utils.translation import ugettext_lazy as _
-from django.contrib.auth.mixins import LoginRequiredMixin
-from django.contrib.auth.mixins import PermissionRequiredMixin
-from django.contrib import messages
+from django.views import generic
 
 from souschef.billing.models import (
-    Billing, BillingFilter
+    Billing,
+    BillingFilter,
 )
-from souschef.order.models import DeliveredOrdersByMonth
-from django.urls import reverse_lazy
-from souschef.order.models import Order, Order_item
-from django.http import HttpResponseRedirect
 from souschef.member.models import Client
+from souschef.order.models import (
+    DeliveredOrdersByMonth,
+    Order,
+    Order_item,
+)
 
 
-class BillingList(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.ListView):
+class BillingList(LoginRequiredMixin, PermissionRequiredMixin, generic.ListView):
     # Display the billing list
     context_object_name = "billings"
     model = Billing
-    permission_required = 'sous_chef.read'
+    permission_required = "sous_chef.read"
     template_name = "billing/list.html"
 
     def get_context_data(self, **kwargs):
         context = super(BillingList, self).get_context_data(**kwargs)
         uf = BillingFilter(self.request.GET, queryset=self.get_queryset())
-        context['filter'] = uf
+        context["filter"] = uf
 
         return context
 
     def get_queryset(self):
         uf = BillingFilter(self.request.GET)
-        return uf.qs.annotate(Count('orders', distinct=True))
+        return uf.qs.annotate(Count("orders", distinct=True))
 
 
-class BillingCreate(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.CreateView):
+class BillingCreate(LoginRequiredMixin, PermissionRequiredMixin, generic.CreateView):
     # View to create the billing
     context_object_name = "billing"
     model = Billing
-    permission_required = 'sous_chef.edit'
+    permission_required = "sous_chef.edit"
 
     def get(self, request):
-        date = self.request.GET.get('delivery_date', '-')
-        date = date if date != '' else '-'
-        year, month = date.split('-')
+        date = self.request.GET.get("delivery_date", "-")
+        date = date if date != "" else "-"
+        year, month = date.split("-")
 
-        if year == '' or month == '':
+        if year == "" or month == "":
             messages.add_message(
-                self.request, messages.ERROR,
-                _("You must select a period to create a billing and click in "
-                  "the first step 'Preview'")
+                self.request,
+                messages.ERROR,
+                _(
+                    "You must select a period to create a billing and click in "
+                    "the first step 'Preview'"
+                ),
             )
-            return HttpResponseRedirect(reverse_lazy('billing:add'))
+            return HttpResponseRedirect(reverse_lazy("billing:add"))
 
         billing = Billing.objects.billing_create_new(year, month)
 
         messages.add_message(
-            self.request, messages.SUCCESS,
-            _("The billing with the identifier #%s "
-              "has been successfully created." % billing.id)
+            self.request,
+            messages.SUCCESS,
+            _(
+                "The billing with the identifier #%s "
+                "has been successfully created." % billing.id
+            ),
         )
-        return HttpResponseRedirect(reverse_lazy('billing:list'))
+        return HttpResponseRedirect(reverse_lazy("billing:list"))
 
 
-class BillingAdd(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.ListView):
+class BillingAdd(LoginRequiredMixin, PermissionRequiredMixin, generic.ListView):
     context_object_name = "orders"
     model = Order
     paginate_by = 20
-    permission_required = 'sous_chef.edit'
+    permission_required = "sous_chef.edit"
     template_name = "billing/add.html"
 
     def get_context_data(self, **kwargs):
         context = super(BillingAdd, self).get_context_data(**kwargs)
-        uf = DeliveredOrdersByMonth(
-            self.request.GET, queryset=self.get_queryset())
-        context['filter'] = uf
-        text = ''
+        uf = DeliveredOrdersByMonth(self.request.GET, queryset=self.get_queryset())
+        context["filter"] = uf
+        text = ""
         count = 0
         for getVariable in self.request.GET:
             if getVariable == "page":
                 continue
             for getValue in self.request.GET.getlist(getVariable):
                 if count == 0:
                     text += "?" + getVariable + "=" + getValue
                 else:
                     text += "&" + getVariable + "=" + getValue
                 count += 1
 
         text = text + "?" if count == 0 else text + "&"
-        context['get'] = text
+        context["get"] = text
 
         return context
 
     def get_queryset(self):
         uf = DeliveredOrdersByMonth(self.request.GET)
-        return uf.qs.select_related(
-            'client__member'
-        ).only(
-            'status',
-            'delivery_date',
-            'client__member__firstname',
-            'client__member__lastname'
-        ).prefetch_related(Prefetch(
-            'orders',
-            queryset=Order_item.objects.all().only(
-                'order__id',
-                'price',
-                'billable_flag'
+        return (
+            uf.qs.select_related("client__member")
+            .only(
+                "status",
+                "delivery_date",
+                "client__member__firstname",
+                "client__member__lastname",
+            )
+            .prefetch_related(
+                Prefetch(
+                    "orders",
+                    queryset=Order_item.objects.all().only(
+                        "order__id", "price", "billable_flag"
+                    ),
+                )
             )
-        ))
+        )
 
 
 class BillingSummaryView(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.DetailView):
+    LoginRequiredMixin, PermissionRequiredMixin, generic.DetailView
+):
     # Display summary of billing
     model = Billing
-    permission_required = 'sous_chef.read'
+    permission_required = "sous_chef.read"
     template_name = "billing/view.html"
     context_object_name = "billing"
-    queryset = Billing.objects.prefetch_related(Prefetch(
-        'orders',
-        queryset=Order.objects.all().select_related(
-            'client__member'
-        ).only(
-            'client__member__firstname',
-            'client__member__lastname',
-            'client__rate_type',
-            'client__billing_payment_type'
-        ).prefetch_related(Prefetch(
-            'orders',
-            queryset=Order_item.objects.all().only(
-                'order__id',
-                'price',
-                'billable_flag',
-                'size',
-                'component_group',
-                'total_quantity'
-            )
-        ))
-    ))
+    queryset = Billing.objects.prefetch_related(
+        Prefetch(
+            "orders",
+            queryset=Order.objects.all()
+            .select_related("client__member")
+            .only(
+                "client__member__firstname",
+                "client__member__lastname",
+                "client__rate_type",
+                "client__billing_payment_type",
+            )
+            .prefetch_related(
+                Prefetch(
+                    "orders",
+                    queryset=Order_item.objects.all().only(
+                        "order__id",
+                        "price",
+                        "billable_flag",
+                        "size",
+                        "component_group",
+                        "total_quantity",
+                    ),
+                )
+            ),
+        )
+    )
 
     def get_template_names(self):
-        if self.request.method == "GET" and \
-           self.request.GET.get('print'):
-            return ['billing/print_summary.html']
+        if self.request.method == "GET" and self.request.GET.get("print"):
+            return ["billing/print_summary.html"]
         else:
             return super(BillingSummaryView, self).get_template_names()
 
     def get_context_data(self, **kwargs):
         context = super(BillingSummaryView, self).get_context_data(**kwargs)
         billing = self.object
 
         # generate a summary
         zero_statistics = {
-            'total_main_dishes': {
-                'R': 0,
-                'L': 0
-            },
-            'total_billable_sides': 0,
-            'total_amount': 0,
-            'total_deliveries': 0,
+            "total_main_dishes": {"R": 0, "L": 0},
+            "total_billable_sides": 0,
+            "total_amount": 0,
+            "total_deliveries": 0,
         }
         # target dict
         summary = copy.deepcopy(zero_statistics)
-        summary['payment_types_dict'] = collections.defaultdict(
+        summary["payment_types_dict"] = collections.defaultdict(
             lambda: dict(clients=[], **copy.deepcopy(zero_statistics))
         )
         for client, client_summary in billing.summary.items():
             t = client.billing_payment_type
-            summary['payment_types_dict'][t]['total_main_dishes']['R'] += (
-                client_summary['total_main_dishes']['R']
-            )
-            summary['payment_types_dict'][t]['total_main_dishes']['L'] += (
-                client_summary['total_main_dishes']['L']
-            )
-            summary['payment_types_dict'][t]['total_billable_sides'] += (
-                client_summary['total_billable_sides']
-            )
-            summary['payment_types_dict'][t]['total_amount'] += (
-                client_summary['total_amount']
-            )
+            summary["payment_types_dict"][t]["total_main_dishes"][
+                "R"
+            ] += client_summary["total_main_dishes"]["R"]
+            summary["payment_types_dict"][t]["total_main_dishes"][
+                "L"
+            ] += client_summary["total_main_dishes"]["L"]
+            summary["payment_types_dict"][t]["total_billable_sides"] += client_summary[
+                "total_billable_sides"
+            ]
+            summary["payment_types_dict"][t]["total_amount"] += client_summary[
+                "total_amount"
+            ]
             nb_deliveries = client.number_of_deliveries_in_month(
-                billing.billing_year, billing.billing_month)
-            summary['payment_types_dict'][t]['clients'].append({
-                'id': client.id,
-                'firstname': client.member.firstname,
-                'lastname': client.member.lastname,
-                'payment_type': client.get_billing_payment_type_display() if (
-                    client.billing_payment_type is not None) else '',
-                'rate_type': client.get_rate_type_display() if (
-                    client.rate_type != 'default') else '',
-                'total_main_dishes': client_summary['total_main_dishes'],
-                'total_billable_sides': client_summary['total_billable_sides'],
-                'total_amount': client_summary['total_amount'],
-                'delivery_type_verbose': client.delivery_type_verbose,
-                'number_of_deliveries_in_month': nb_deliveries,
-            })
-            summary['total_main_dishes']['R'] += (
-                client_summary['total_main_dishes']['R']
-            )
-            summary['total_main_dishes']['L'] += (
-                client_summary['total_main_dishes']['L']
-            )
-            summary['total_billable_sides'] += (
-                client_summary['total_billable_sides']
+                billing.billing_year, billing.billing_month
             )
-            summary['total_amount'] += (
-                client_summary['total_amount']
-            )
-            summary['total_deliveries'] += nb_deliveries
+            summary["payment_types_dict"][t]["clients"].append(
+                {
+                    "id": client.id,
+                    "firstname": client.member.firstname,
+                    "lastname": client.member.lastname,
+                    "payment_type": client.get_billing_payment_type_display()
+                    if (client.billing_payment_type is not None)
+                    else "",
+                    "rate_type": client.get_rate_type_display()
+                    if (client.rate_type != "default")
+                    else "",
+                    "total_main_dishes": client_summary["total_main_dishes"],
+                    "total_billable_sides": client_summary["total_billable_sides"],
+                    "total_amount": client_summary["total_amount"],
+                    "delivery_type_verbose": client.delivery_type_verbose,
+                    "number_of_deliveries_in_month": nb_deliveries,
+                }
+            )
+            summary["total_main_dishes"]["R"] += client_summary["total_main_dishes"][
+                "R"
+            ]
+            summary["total_main_dishes"]["L"] += client_summary["total_main_dishes"][
+                "L"
+            ]
+            summary["total_billable_sides"] += client_summary["total_billable_sides"]
+            summary["total_amount"] += client_summary["total_amount"]
+            summary["total_deliveries"] += nb_deliveries
 
         # sort clients in each payment type group
-        for payment_type, statistics in summary['payment_types_dict'].items():
-            statistics['clients'].sort(
-                key=lambda c: (c['lastname'], c['firstname'])
-            )
+        for payment_type, statistics in summary["payment_types_dict"].items():
+            statistics["clients"].sort(key=lambda c: (c["lastname"], c["firstname"]))
 
         # reorder the display for supported & non-supported payment types
-        summary['payment_types'] = sorted(
-            summary['payment_types_dict'].items(),
+        summary["payment_types"] = sorted(
+            summary["payment_types_dict"].items(),
             key=lambda tup: {
-                ' ': 0,      # 0th position
-                'credit': 1,    # 1st position
-                'eft': 2,     # 2nd position
-                '3rd': 3,  # 3rd position
-            }.get(tup[0], 99)  # last position(s)
+                " ": 0,  # 0th position
+                "credit": 1,  # 1st position
+                "eft": 2,  # 2nd position
+                "3rd": 3,  # 3rd position
+            }.get(
+                tup[0], 99
+            ),  # last position(s)
         )
 
-        context['summary'] = summary
+        context["summary"] = summary
 
         # Throw a warning if there's any main_dish order with size=None.
         q = Order_item.objects.filter(
-            Q(order__in=billing.orders.all()) &
-            (Q(size__isnull=True) | Q(size='')) &
-            Q(component_group='main_dish')
+            Q(order__in=billing.orders.all())
+            & (Q(size__isnull=True) | Q(size=""))
+            & Q(component_group="main_dish")
         )
         if q.exists():
-            size_none_orders_info = list(q.values_list(
-                'order__id',
-                'order__client__member__firstname',
-                'order__client__member__lastname'
-            ))
+            size_none_orders_info = list(
+                q.values_list(
+                    "order__id",
+                    "order__client__member__firstname",
+                    "order__client__member__lastname",
+                )
+            )
             formatted_htmls = ['<ul class="ui list">']
             for i, f, l in size_none_orders_info:
                 formatted_htmls.append(
                     '<li><a href="{0}" target="_blank">'
-                    '#{1} ({2} {3})'
-                    '</a></li>'.format(
-                        Order(id=i).get_absolute_url(),
-                        i,
-                        f,
-                        l
-                    )
+                    "#{1} ({2} {3})"
+                    "</a></li>".format(Order(id=i).get_absolute_url(), i, f, l)
                 )
-            formatted_htmls.append('</ul>')
-            formatted_html = ''.join(formatted_htmls)
+            formatted_htmls.append("</ul>")
+            formatted_html = "".join(formatted_htmls)
             messages.add_message(
-                self.request, messages.WARNING,
+                self.request,
+                messages.WARNING,
                 string_concat(
-                    _('Warning: the order(s) below have not set a "size" '
-                      'for main dish and thus have been excluded in '
-                      '"Total Main Dishes" column.'),
-                    '<br/>',
-                    formatted_html
-                )
+                    _(
+                        'Warning: the order(s) below have not set a "size" '
+                        "for main dish and thus have been excluded in "
+                        '"Total Main Dishes" column.'
+                    ),
+                    "<br/>",
+                    formatted_html,
+                ),
             )
         return context
 
 
 class BillingOrdersView(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.DetailView):
+    LoginRequiredMixin, PermissionRequiredMixin, generic.DetailView
+):
     # Display orders detail of billing
     model = Billing
-    permission_required = 'sous_chef.read'
+    permission_required = "sous_chef.read"
     template_name = "billing/view_orders.html"
     context_object_name = "billing"
 
-    queryset = Billing.objects.prefetch_related(Prefetch(
-        'orders',
-        queryset=Order.objects.all().select_related(
-            'client__member'
-        ).only(
-            'status',
-            'delivery_date',
-            'client__member__firstname',
-            'client__member__lastname'
-        ).prefetch_related(Prefetch(
-            'orders',
-            queryset=Order_item.objects.all().only(
-                'order__id',
-                'price',
-                'billable_flag'
-            )
-        ))
-    ))
+    queryset = Billing.objects.prefetch_related(
+        Prefetch(
+            "orders",
+            queryset=Order.objects.all()
+            .select_related("client__member")
+            .only(
+                "status",
+                "delivery_date",
+                "client__member__firstname",
+                "client__member__lastname",
+            )
+            .prefetch_related(
+                Prefetch(
+                    "orders",
+                    queryset=Order_item.objects.all().only(
+                        "order__id", "price", "billable_flag"
+                    ),
+                )
+            ),
+        )
+    )
 
     def get_context_data(self, **kwargs):
         context = super(BillingOrdersView, self).get_context_data(**kwargs)
 
-        if self.request.GET.get('client'):
+        if self.request.GET.get("client"):
             # has ?client=client_id
-            client_id = int(self.request.GET['client'])
+            client_id = int(self.request.GET["client"])
             orders = self.object.orders.filter(client__id=client_id)
-            context['orders'] = orders
-            context['client'] = Client.objects.get(id=client_id)
+            context["orders"] = orders
+            context["client"] = Client.objects.get(id=client_id)
         else:
-            context['orders'] = self.object.orders.all()
+            context["orders"] = self.object.orders.all()
 
-        context['total_amount'] = sum(
-            map(lambda o: o.price, context['orders'])
+        context["total_amount"] = sum(map(lambda o: o.price, context["orders"]))
+        context["clients"] = list(
+            set(map(lambda o: o.client, self.object.orders.all()))
         )
-        context['clients'] = list(set(map(
-            lambda o: o.client,
-            self.object.orders.all()
-        )))
         return context
 
 
-class BillingDelete(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.DeleteView):
+class BillingDelete(LoginRequiredMixin, PermissionRequiredMixin, generic.DeleteView):
     model = Billing
-    permission_required = 'sous_chef.edit'
-    template_name = 'billing_confirm_delete.html'
+    permission_required = "sous_chef.edit"
+    template_name = "billing_confirm_delete.html"
 
     def get_success_url(self):
         # 'next' parameter should always be included in POST'ed URL.
-        return self.request.GET.get('next') or self.request.POST['next']
+        return self.request.GET.get("next") or self.request.POST["next"]
```

### Comparing `souschef-1.3.6/souschef/configsamples/nginx.conf` & `souschef-1.3.7/souschef/configsamples/nginx.conf`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/dataload.py` & `souschef-1.3.7/souschef/dataload.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,2222 +1,1889 @@
 # -*- coding: utf-8 -*-
 # flake8: noqa
 
-from souschef.meal.models import Component, Restricted_item, Ingredient
-from souschef.meal.models import Component_ingredient, Incompatibility
+from souschef.meal.models import (
+    Component,
+    Component_ingredient,
+    Incompatibility,
+    Ingredient,
+    Restricted_item,
+)
 
 
 def print_rows(q, heading=""):
     pass
-    print("\n-----------------------------------------------------\n",
-          # q, "\n",
-          heading)
+    print(
+        "\n-----------------------------------------------------\n",
+        # q, "\n",
+        heading,
+    )
     for row in q.all():
         print(row)
 
 
 def insert_all():
     print("\nSTART dataload")
 
     # Rename existing ingredients, components, restricted_items
 
     items = Ingredient.objects.all()
     for item in items:
-        item.name = "OLD"+item.name
+        item.name = "OLD" + item.name
         item.save()
         print("Ingredient item name", item.name)
 
     items = Component.objects.all()
     for item in items:
-        item.name = "OLD"+item.name
+        item.name = "OLD" + item.name
         item.save()
         print("Component item name", item.name)
 
     items = Restricted_item.objects.all()
     for item in items:
-        item.name = "OLD"+item.name
+        item.name = "OLD" + item.name
         item.save()
         print("Restricted_item item name", item.name)
 
     # -----------------------------------------------------------------------------
-    ing_1 = Ingredient.objects.create(
-        name='Butter',
-        ingredient_group='Dairy')
+    ing_1 = Ingredient.objects.create(name="Butter", ingredient_group="Dairy")
     ing_2 = Ingredient.objects.create(
-        name='Cheese : Blue cheese',
-        ingredient_group='Dairy')
+        name="Cheese : Blue cheese", ingredient_group="Dairy"
+    )
     ing_3 = Ingredient.objects.create(
-        name='Cheese : Bocconcini',
-        ingredient_group='Dairy')
-    ing_4 = Ingredient.objects.create(
-        name='Cheese : Cheddar',
-        ingredient_group='Dairy')
+        name="Cheese : Bocconcini", ingredient_group="Dairy"
+    )
+    ing_4 = Ingredient.objects.create(name="Cheese : Cheddar", ingredient_group="Dairy")
     ing_5 = Ingredient.objects.create(
-        name='Cheese : Cottage cheese',
-        ingredient_group='Dairy')
-    ing_6 = Ingredient.objects.create(
-        name='Cheese : Feta',
-        ingredient_group='Dairy')
+        name="Cheese : Cottage cheese", ingredient_group="Dairy"
+    )
+    ing_6 = Ingredient.objects.create(name="Cheese : Feta", ingredient_group="Dairy")
     ing_7 = Ingredient.objects.create(
-        name='Cheese : Goat cheese',
-        ingredient_group='Dairy')
+        name="Cheese : Goat cheese", ingredient_group="Dairy"
+    )
     ing_8 = Ingredient.objects.create(
-        name='Cheese : Mozzarella',
-        ingredient_group='Dairy')
+        name="Cheese : Mozzarella", ingredient_group="Dairy"
+    )
     ing_9 = Ingredient.objects.create(
-        name='Cheese : Parmesan',
-        ingredient_group='Dairy')
+        name="Cheese : Parmesan", ingredient_group="Dairy"
+    )
     ing_10 = Ingredient.objects.create(
-        name='Cheese : Ricotta',
-        ingredient_group='Dairy')
-    ing_11 = Ingredient.objects.create(
-        name='Eggs',
-        ingredient_group='Dairy')
-    ing_12 = Ingredient.objects.create(
-        name='Margarine',
-        ingredient_group='Dairy')
-    ing_13 = Ingredient.objects.create(
-        name='Milk',
-        ingredient_group='Dairy')
-    ing_14 = Ingredient.objects.create(
-        name='Tofu',
-        ingredient_group='Dairy')
-    ing_15 = Ingredient.objects.create(
-        name='Yogurt',
-        ingredient_group='Dairy')
+        name="Cheese : Ricotta", ingredient_group="Dairy"
+    )
+    ing_11 = Ingredient.objects.create(name="Eggs", ingredient_group="Dairy")
+    ing_12 = Ingredient.objects.create(name="Margarine", ingredient_group="Dairy")
+    ing_13 = Ingredient.objects.create(name="Milk", ingredient_group="Dairy")
+    ing_14 = Ingredient.objects.create(name="Tofu", ingredient_group="Dairy")
+    ing_15 = Ingredient.objects.create(name="Yogurt", ingredient_group="Dairy")
     ing_16 = Ingredient.objects.create(
-        name='Almond Powder ',
-        ingredient_group='Dry and Canned goods')
+        name="Almond Powder ", ingredient_group="Dry and Canned goods"
+    )
     ing_17 = Ingredient.objects.create(
-        name='Almonds',
-        ingredient_group='Dry and Canned goods')
+        name="Almonds", ingredient_group="Dry and Canned goods"
+    )
     ing_18 = Ingredient.objects.create(
-        name='Capers',
-        ingredient_group='Dry and Canned goods')
+        name="Capers", ingredient_group="Dry and Canned goods"
+    )
     ing_19 = Ingredient.objects.create(
-        name='Corn meal',
-        ingredient_group='Dry and Canned goods')
+        name="Corn meal", ingredient_group="Dry and Canned goods"
+    )
     ing_20 = Ingredient.objects.create(
-        name='corn starch',
-        ingredient_group='Dry and Canned goods')
+        name="corn starch", ingredient_group="Dry and Canned goods"
+    )
     ing_21 = Ingredient.objects.create(
-        name='Creamed corn',
-        ingredient_group='Dry and Canned goods')
+        name="Creamed corn", ingredient_group="Dry and Canned goods"
+    )
     ing_22 = Ingredient.objects.create(
-        name='Egg noodles',
-        ingredient_group='Dry and Canned goods')
+        name="Egg noodles", ingredient_group="Dry and Canned goods"
+    )
     ing_23 = Ingredient.objects.create(
-        name='Linguini',
-        ingredient_group='Dry and Canned goods')
+        name="Linguini", ingredient_group="Dry and Canned goods"
+    )
     ing_24 = Ingredient.objects.create(
-        name='peanut butter',
-        ingredient_group='Dry and Canned goods')
+        name="peanut butter", ingredient_group="Dry and Canned goods"
+    )
     ing_25 = Ingredient.objects.create(
-        name='peanuts ',
-        ingredient_group='Dry and Canned goods')
+        name="peanuts ", ingredient_group="Dry and Canned goods"
+    )
     ing_26 = Ingredient.objects.create(
-        name='Pickles',
-        ingredient_group='Dry and Canned goods')
+        name="Pickles", ingredient_group="Dry and Canned goods"
+    )
     ing_27 = Ingredient.objects.create(
-        name='Polenta',
-        ingredient_group='Dry and Canned goods')
+        name="Polenta", ingredient_group="Dry and Canned goods"
+    )
     ing_28 = Ingredient.objects.create(
-        name='Rice noodles',
-        ingredient_group='Dry and Canned goods')
+        name="Rice noodles", ingredient_group="Dry and Canned goods"
+    )
     ing_29 = Ingredient.objects.create(
-        name='sesame seeds',
-        ingredient_group='Dry and Canned goods')
+        name="sesame seeds", ingredient_group="Dry and Canned goods"
+    )
     ing_30 = Ingredient.objects.create(
-        name='Sunflower seeds',
-        ingredient_group='Dry and Canned goods')
+        name="Sunflower seeds", ingredient_group="Dry and Canned goods"
+    )
     ing_31 = Ingredient.objects.create(
-        name='Tomato paste',
-        ingredient_group='Dry and Canned goods')
+        name="Tomato paste", ingredient_group="Dry and Canned goods"
+    )
     ing_32 = Ingredient.objects.create(
-        name='Walnuts',
-        ingredient_group='Dry and Canned goods')
+        name="Walnuts", ingredient_group="Dry and Canned goods"
+    )
     ing_33 = Ingredient.objects.create(
-        name='Whole wheat lasagna',
-        ingredient_group='Dry and Canned goods')
+        name="Whole wheat lasagna", ingredient_group="Dry and Canned goods"
+    )
     ing_34 = Ingredient.objects.create(
-        name='Whole wheat linguini ',
-        ingredient_group='Dry and Canned goods')
+        name="Whole wheat linguini ", ingredient_group="Dry and Canned goods"
+    )
     ing_35 = Ingredient.objects.create(
-        name='Whole wheat macaroni',
-        ingredient_group='Dry and Canned goods')
+        name="Whole wheat macaroni", ingredient_group="Dry and Canned goods"
+    )
     ing_36 = Ingredient.objects.create(
-        name='Whole wheat penne ',
-        ingredient_group='Dry and Canned goods')
+        name="Whole wheat penne ", ingredient_group="Dry and Canned goods"
+    )
     ing_37 = Ingredient.objects.create(
-        name='Whole wheat spaghetti',
-        ingredient_group='Dry and Canned goods')
-    ing_38 = Ingredient.objects.create(
-        name='Canned salmon',
-        ingredient_group='Fish')
-    ing_39 = Ingredient.objects.create(
-        name='Canned tuna',
-        ingredient_group='Fish')
-    ing_40 = Ingredient.objects.create(
-        name='Cod',
-        ingredient_group='Fish')
-    ing_41 = Ingredient.objects.create(
-        name='Haddock',
-        ingredient_group='Fish')
-    ing_42 = Ingredient.objects.create(
-        name='Pollock',
-        ingredient_group='Fish')
-    ing_43 = Ingredient.objects.create(
-        name='Basil',
-        ingredient_group='Fresh herbs')
-    ing_44 = Ingredient.objects.create(
-        name='Chives',
-        ingredient_group='Fresh herbs')
-    ing_45 = Ingredient.objects.create(
-        name='Cilantro',
-        ingredient_group='Fresh herbs')
-    ing_46 = Ingredient.objects.create(
-        name='Dill',
-        ingredient_group='Fresh herbs')
-    ing_47 = Ingredient.objects.create(
-        name='Marjoram',
-        ingredient_group='Fresh herbs')
-    ing_48 = Ingredient.objects.create(
-        name='Oregano',
-        ingredient_group='Fresh herbs')
-    ing_49 = Ingredient.objects.create(
-        name='Parsley',
-        ingredient_group='Fresh herbs')
-    ing_50 = Ingredient.objects.create(
-        name='Rosemary',
-        ingredient_group='Fresh herbs')
-    ing_51 = Ingredient.objects.create(
-        name='Thyme',
-        ingredient_group='Fresh herbs')
+        name="Whole wheat spaghetti", ingredient_group="Dry and Canned goods"
+    )
+    ing_38 = Ingredient.objects.create(name="Canned salmon", ingredient_group="Fish")
+    ing_39 = Ingredient.objects.create(name="Canned tuna", ingredient_group="Fish")
+    ing_40 = Ingredient.objects.create(name="Cod", ingredient_group="Fish")
+    ing_41 = Ingredient.objects.create(name="Haddock", ingredient_group="Fish")
+    ing_42 = Ingredient.objects.create(name="Pollock", ingredient_group="Fish")
+    ing_43 = Ingredient.objects.create(name="Basil", ingredient_group="Fresh herbs")
+    ing_44 = Ingredient.objects.create(name="Chives", ingredient_group="Fresh herbs")
+    ing_45 = Ingredient.objects.create(name="Cilantro", ingredient_group="Fresh herbs")
+    ing_46 = Ingredient.objects.create(name="Dill", ingredient_group="Fresh herbs")
+    ing_47 = Ingredient.objects.create(name="Marjoram", ingredient_group="Fresh herbs")
+    ing_48 = Ingredient.objects.create(name="Oregano", ingredient_group="Fresh herbs")
+    ing_49 = Ingredient.objects.create(name="Parsley", ingredient_group="Fresh herbs")
+    ing_50 = Ingredient.objects.create(name="Rosemary", ingredient_group="Fresh herbs")
+    ing_51 = Ingredient.objects.create(name="Thyme", ingredient_group="Fresh herbs")
     ing_52 = Ingredient.objects.create(
-        name='Barley (gluten)',
-        ingredient_group='Grains')
-    ing_53 = Ingredient.objects.create(
-        name='Basmati rice',
-        ingredient_group='Grains')
-    ing_54 = Ingredient.objects.create(
-        name='Breadcrumbs',
-        ingredient_group='Grains')
-    ing_55 = Ingredient.objects.create(
-        name='Brown rice',
-        ingredient_group='Grains')
-    ing_56 = Ingredient.objects.create(
-        name='Buckwheat',
-        ingredient_group='Grains')
+        name="Barley (gluten)", ingredient_group="Grains"
+    )
+    ing_53 = Ingredient.objects.create(name="Basmati rice", ingredient_group="Grains")
+    ing_54 = Ingredient.objects.create(name="Breadcrumbs", ingredient_group="Grains")
+    ing_55 = Ingredient.objects.create(name="Brown rice", ingredient_group="Grains")
+    ing_56 = Ingredient.objects.create(name="Buckwheat", ingredient_group="Grains")
     ing_57 = Ingredient.objects.create(
-        name='Couscous (gluten)',
-        ingredient_group='Grains')
-    ing_58 = Ingredient.objects.create(
-        name='Millet',
-        ingredient_group='Grains')
-    ing_59 = Ingredient.objects.create(
-        name='Oats',
-        ingredient_group='Grains')
-    ing_60 = Ingredient.objects.create(
-        name='Quinoa',
-        ingredient_group='Grains')
-    ing_61 = Ingredient.objects.create(
-        name='White flour',
-        ingredient_group='Grains')
+        name="Couscous (gluten)", ingredient_group="Grains"
+    )
+    ing_58 = Ingredient.objects.create(name="Millet", ingredient_group="Grains")
+    ing_59 = Ingredient.objects.create(name="Oats", ingredient_group="Grains")
+    ing_60 = Ingredient.objects.create(name="Quinoa", ingredient_group="Grains")
+    ing_61 = Ingredient.objects.create(name="White flour", ingredient_group="Grains")
     ing_62 = Ingredient.objects.create(
-        name='Whole wheat flour',
-        ingredient_group='Grains')
-    ing_63 = Ingredient.objects.create(
-        name='Wild rice',
-        ingredient_group='Grains')
+        name="Whole wheat flour", ingredient_group="Grains"
+    )
+    ing_63 = Ingredient.objects.create(name="Wild rice", ingredient_group="Grains")
     ing_64 = Ingredient.objects.create(
-        name='Black beans',
-        ingredient_group='Legumineuse')
-    ing_65 = Ingredient.objects.create(
-        name='Chickpeas',
-        ingredient_group='Legumineuse')
+        name="Black beans", ingredient_group="Legumineuse"
+    )
+    ing_65 = Ingredient.objects.create(name="Chickpeas", ingredient_group="Legumineuse")
     ing_66 = Ingredient.objects.create(
-        name='Kidney beans',
-        ingredient_group='Legumineuse')
-    ing_67 = Ingredient.objects.create(
-        name='Lentils',
-        ingredient_group='Legumineuse')
+        name="Kidney beans", ingredient_group="Legumineuse"
+    )
+    ing_67 = Ingredient.objects.create(name="Lentils", ingredient_group="Legumineuse")
     ing_68 = Ingredient.objects.create(
-        name='White beans',
-        ingredient_group='Legumineuse')
-    ing_69 = Ingredient.objects.create(
-        name='Beef cubes',
-        ingredient_group='Meat')
-    ing_70 = Ingredient.objects.create(
-        name='Chicken',
-        ingredient_group='Meat')
-    ing_71 = Ingredient.objects.create(
-        name='Chicken thighs',
-        ingredient_group='Meat')
-    ing_72 = Ingredient.objects.create(
-        name='Ground beef',
-        ingredient_group='Meat')
-    ing_73 = Ingredient.objects.create(
-        name='Ground porc',
-        ingredient_group='Meat')
-    ing_74 = Ingredient.objects.create(
-        name='Ham',
-        ingredient_group='Meat')
-    ing_75 = Ingredient.objects.create(
-        name='Lamb cubes',
-        ingredient_group='Meat')
-    ing_76 = Ingredient.objects.create(
-        name='Pork sausage',
-        ingredient_group='Meat')
+        name="White beans", ingredient_group="Legumineuse"
+    )
+    ing_69 = Ingredient.objects.create(name="Beef cubes", ingredient_group="Meat")
+    ing_70 = Ingredient.objects.create(name="Chicken", ingredient_group="Meat")
+    ing_71 = Ingredient.objects.create(name="Chicken thighs", ingredient_group="Meat")
+    ing_72 = Ingredient.objects.create(name="Ground beef", ingredient_group="Meat")
+    ing_73 = Ingredient.objects.create(name="Ground porc", ingredient_group="Meat")
+    ing_74 = Ingredient.objects.create(name="Ham", ingredient_group="Meat")
+    ing_75 = Ingredient.objects.create(name="Lamb cubes", ingredient_group="Meat")
+    ing_76 = Ingredient.objects.create(name="Pork sausage", ingredient_group="Meat")
     ing_77 = Ingredient.objects.create(
-        name='Pork toulouse sausage',
-        ingredient_group='Meat')
-    ing_78 = Ingredient.objects.create(
-        name='Roast Beef ',
-        ingredient_group='Meat')
-    ing_79 = Ingredient.objects.create(
-        name='stock',
-        ingredient_group='Meat')
-    ing_80 = Ingredient.objects.create(
-        name='Turkey',
-        ingredient_group='Meat')
-    ing_81 = Ingredient.objects.create(
-        name='Turkey thighs',
-        ingredient_group='Meat')
+        name="Pork toulouse sausage", ingredient_group="Meat"
+    )
+    ing_78 = Ingredient.objects.create(name="Roast Beef ", ingredient_group="Meat")
+    ing_79 = Ingredient.objects.create(name="stock", ingredient_group="Meat")
+    ing_80 = Ingredient.objects.create(name="Turkey", ingredient_group="Meat")
+    ing_81 = Ingredient.objects.create(name="Turkey thighs", ingredient_group="Meat")
     ing_82 = Ingredient.objects.create(
-        name='Apple cider vinegar',
-        ingredient_group='Oils and Sauces')
+        name="Apple cider vinegar", ingredient_group="Oils and Sauces"
+    )
     ing_83 = Ingredient.objects.create(
-        name='Balsamic vinegar',
-        ingredient_group='Oils and Sauces')
+        name="Balsamic vinegar", ingredient_group="Oils and Sauces"
+    )
     ing_84 = Ingredient.objects.create(
-        name='cooking wine',
-        ingredient_group='Oils and Sauces')
+        name="cooking wine", ingredient_group="Oils and Sauces"
+    )
     ing_85 = Ingredient.objects.create(
-        name='Dijon mustard',
-        ingredient_group='Oils and Sauces')
-    ing_86 = Ingredient.objects.create(
-        name='honey',
-        ingredient_group='Oils and Sauces')
+        name="Dijon mustard", ingredient_group="Oils and Sauces"
+    )
+    ing_86 = Ingredient.objects.create(name="honey", ingredient_group="Oils and Sauces")
     ing_87 = Ingredient.objects.create(
-        name='maple sirop',
-        ingredient_group='Oils and Sauces')
+        name="maple sirop", ingredient_group="Oils and Sauces"
+    )
     ing_88 = Ingredient.objects.create(
-        name='Olive oil',
-        ingredient_group='Oils and Sauces')
+        name="Olive oil", ingredient_group="Oils and Sauces"
+    )
     ing_89 = Ingredient.objects.create(
-        name='Prepared mustard',
-        ingredient_group='Oils and Sauces')
+        name="Prepared mustard", ingredient_group="Oils and Sauces"
+    )
     ing_90 = Ingredient.objects.create(
-        name='Red wine (salt)',
-        ingredient_group='Oils and Sauces')
+        name="Red wine (salt)", ingredient_group="Oils and Sauces"
+    )
     ing_91 = Ingredient.objects.create(
-        name='Red wine vinegar',
-        ingredient_group='Oils and Sauces')
+        name="Red wine vinegar", ingredient_group="Oils and Sauces"
+    )
     ing_92 = Ingredient.objects.create(
-        name='Rice vinegar ',
-        ingredient_group='Oils and Sauces')
+        name="Rice vinegar ", ingredient_group="Oils and Sauces"
+    )
     ing_93 = Ingredient.objects.create(
-        name='rice wine vinegar',
-        ingredient_group='Oils and Sauces')
+        name="rice wine vinegar", ingredient_group="Oils and Sauces"
+    )
     ing_94 = Ingredient.objects.create(
-        name='Sesame oil',
-        ingredient_group='Oils and Sauces')
+        name="Sesame oil", ingredient_group="Oils and Sauces"
+    )
     ing_95 = Ingredient.objects.create(
-        name='Soy sauce (gluten, salt)',
-        ingredient_group='Oils and Sauces')
+        name="Soy sauce (gluten, salt)", ingredient_group="Oils and Sauces"
+    )
     ing_96 = Ingredient.objects.create(
-        name='Vinegar',
-        ingredient_group='Oils and Sauces')
+        name="Vinegar", ingredient_group="Oils and Sauces"
+    )
     ing_97 = Ingredient.objects.create(
-        name='White wine',
-        ingredient_group='Oils and Sauces')
+        name="White wine", ingredient_group="Oils and Sauces"
+    )
     ing_98 = Ingredient.objects.create(
-        name='Seafood medley (shrimp, mussels, calamari)',
-        ingredient_group='Seafood')
-    ing_99 = Ingredient.objects.create(
-        name='Shrimp',
-        ingredient_group='Seafood')
-    ing_100 = Ingredient.objects.create(
-        name='Allspice',
-        ingredient_group='Spices')
-    ing_101 = Ingredient.objects.create(
-        name='Bay leaves',
-        ingredient_group='Spices')
-    ing_102 = Ingredient.objects.create(
-        name='Black pepper',
-        ingredient_group='Spices')
-    ing_103 = Ingredient.objects.create(
-        name='Cardamom',
-        ingredient_group='Spices')
-    ing_104 = Ingredient.objects.create(
-        name='Chili',
-        ingredient_group='Spices')
-    ing_105 = Ingredient.objects.create(
-        name='Cinnamon',
-        ingredient_group='Spices')
-    ing_106 = Ingredient.objects.create(
-        name='Cloves',
-        ingredient_group='Spices')
-    ing_107 = Ingredient.objects.create(
-        name='Coriander',
-        ingredient_group='Spices')
-    ing_108 = Ingredient.objects.create(
-        name='Cumin',
-        ingredient_group='Spices')
-    ing_109 = Ingredient.objects.create(
-        name='Curry',
-        ingredient_group='Spices')
-    ing_110 = Ingredient.objects.create(
-        name='Ginger powder',
-        ingredient_group='Spices')
+        name="Seafood medley (shrimp, mussels, calamari)", ingredient_group="Seafood"
+    )
+    ing_99 = Ingredient.objects.create(name="Shrimp", ingredient_group="Seafood")
+    ing_100 = Ingredient.objects.create(name="Allspice", ingredient_group="Spices")
+    ing_101 = Ingredient.objects.create(name="Bay leaves", ingredient_group="Spices")
+    ing_102 = Ingredient.objects.create(name="Black pepper", ingredient_group="Spices")
+    ing_103 = Ingredient.objects.create(name="Cardamom", ingredient_group="Spices")
+    ing_104 = Ingredient.objects.create(name="Chili", ingredient_group="Spices")
+    ing_105 = Ingredient.objects.create(name="Cinnamon", ingredient_group="Spices")
+    ing_106 = Ingredient.objects.create(name="Cloves", ingredient_group="Spices")
+    ing_107 = Ingredient.objects.create(name="Coriander", ingredient_group="Spices")
+    ing_108 = Ingredient.objects.create(name="Cumin", ingredient_group="Spices")
+    ing_109 = Ingredient.objects.create(name="Curry", ingredient_group="Spices")
+    ing_110 = Ingredient.objects.create(name="Ginger powder", ingredient_group="Spices")
     ing_111 = Ingredient.objects.create(
-        name='Herbes de provence',
-        ingredient_group='Spices')
+        name="Herbes de provence", ingredient_group="Spices"
+    )
     ing_112 = Ingredient.objects.create(
-        name='Mustard powder',
-        ingredient_group='Spices')
-    ing_113 = Ingredient.objects.create(
-        name='Nutmeg',
-        ingredient_group='Spices')
-    ing_114 = Ingredient.objects.create(
-        name='Paprika',
-        ingredient_group='Spices')
-    ing_115 = Ingredient.objects.create(
-        name='Sage',
-        ingredient_group='Spices')
-    ing_116 = Ingredient.objects.create(
-        name='Terragon',
-        ingredient_group='Spices')
-    ing_118 = Ingredient.objects.create(
-        name='Turmeric',
-        ingredient_group='Spices')
+        name="Mustard powder", ingredient_group="Spices"
+    )
+    ing_113 = Ingredient.objects.create(name="Nutmeg", ingredient_group="Spices")
+    ing_114 = Ingredient.objects.create(name="Paprika", ingredient_group="Spices")
+    ing_115 = Ingredient.objects.create(name="Sage", ingredient_group="Spices")
+    ing_116 = Ingredient.objects.create(name="Terragon", ingredient_group="Spices")
+    ing_118 = Ingredient.objects.create(name="Turmeric", ingredient_group="Spices")
     ing_119 = Ingredient.objects.create(
-        name='Apples',
-        ingredient_group='Veggies & Fruits')
+        name="Apples", ingredient_group="Veggies & Fruits"
+    )
     ing_120 = Ingredient.objects.create(
-        name='Apricots',
-        ingredient_group='Veggies & Fruits')
+        name="Apricots", ingredient_group="Veggies & Fruits"
+    )
     ing_121 = Ingredient.objects.create(
-        name='Arugula',
-        ingredient_group='Veggies & Fruits')
+        name="Arugula", ingredient_group="Veggies & Fruits"
+    )
     ing_122 = Ingredient.objects.create(
-        name='Artichokes',
-        ingredient_group='Veggies & Fruits')
+        name="Artichokes", ingredient_group="Veggies & Fruits"
+    )
     ing_123 = Ingredient.objects.create(
-        name='Bean sprouts',
-        ingredient_group='Veggies & Fruits')
+        name="Bean sprouts", ingredient_group="Veggies & Fruits"
+    )
     ing_124 = Ingredient.objects.create(
-        name='Beets',
-        ingredient_group='Veggies & Fruits')
+        name="Beets", ingredient_group="Veggies & Fruits"
+    )
     ing_125 = Ingredient.objects.create(
-        name='Bok choy',
-        ingredient_group='Veggies & Fruits')
+        name="Bok choy", ingredient_group="Veggies & Fruits"
+    )
     ing_126 = Ingredient.objects.create(
-        name='Broccoli',
-        ingredient_group='Veggies & Fruits')
+        name="Broccoli", ingredient_group="Veggies & Fruits"
+    )
     ing_127 = Ingredient.objects.create(
-        name='Brussel sprouts',
-        ingredient_group='Veggies & Fruits')
+        name="Brussel sprouts", ingredient_group="Veggies & Fruits"
+    )
     ing_128 = Ingredient.objects.create(
-        name='Cabbage',
-        ingredient_group='Veggies & Fruits')
+        name="Cabbage", ingredient_group="Veggies & Fruits"
+    )
     ing_129 = Ingredient.objects.create(
-        name='Carrots',
-        ingredient_group='Veggies & Fruits')
+        name="Carrots", ingredient_group="Veggies & Fruits"
+    )
     ing_130 = Ingredient.objects.create(
-        name='Cauliflower',
-        ingredient_group='Veggies & Fruits')
+        name="Cauliflower", ingredient_group="Veggies & Fruits"
+    )
     ing_131 = Ingredient.objects.create(
-        name='celery',
-        ingredient_group='Veggies & Fruits')
+        name="celery", ingredient_group="Veggies & Fruits"
+    )
     ing_132 = Ingredient.objects.create(
-        name='Celery root',
-        ingredient_group='Veggies & Fruits')
+        name="Celery root", ingredient_group="Veggies & Fruits"
+    )
     ing_133 = Ingredient.objects.create(
-        name='Chicory',
-        ingredient_group='Veggies & Fruits')
+        name="Chicory", ingredient_group="Veggies & Fruits"
+    )
     ing_134 = Ingredient.objects.create(
-        name='Corn',
-        ingredient_group='Veggies & Fruits')
+        name="Corn", ingredient_group="Veggies & Fruits"
+    )
     ing_135 = Ingredient.objects.create(
-        name='Cranberries',
-        ingredient_group='Veggies & Fruits')
+        name="Cranberries", ingredient_group="Veggies & Fruits"
+    )
     ing_136 = Ingredient.objects.create(
-        name='Cucumber',
-        ingredient_group='Veggies & Fruits')
+        name="Cucumber", ingredient_group="Veggies & Fruits"
+    )
     ing_137 = Ingredient.objects.create(
-        name='Eggplant',
-        ingredient_group='Veggies & Fruits')
+        name="Eggplant", ingredient_group="Veggies & Fruits"
+    )
     ing_138 = Ingredient.objects.create(
-        name='Garlic',
-        ingredient_group='Veggies & Fruits')
+        name="Garlic", ingredient_group="Veggies & Fruits"
+    )
     ing_139 = Ingredient.objects.create(
-        name='Ginger',
-        ingredient_group='Veggies & Fruits')
+        name="Ginger", ingredient_group="Veggies & Fruits"
+    )
     ing_140 = Ingredient.objects.create(
-        name='Green beans',
-        ingredient_group='Veggies & Fruits')
+        name="Green beans", ingredient_group="Veggies & Fruits"
+    )
     ing_141 = Ingredient.objects.create(
-        name='Green peas',
-        ingredient_group='Veggies & Fruits')
+        name="Green peas", ingredient_group="Veggies & Fruits"
+    )
     ing_142 = Ingredient.objects.create(
-        name='Green peppers',
-        ingredient_group='Veggies & Fruits')
+        name="Green peppers", ingredient_group="Veggies & Fruits"
+    )
     ing_143 = Ingredient.objects.create(
-        name='Kale',
-        ingredient_group='Veggies & Fruits')
+        name="Kale", ingredient_group="Veggies & Fruits"
+    )
     ing_144 = Ingredient.objects.create(
-        name='Kolhrabi',
-        ingredient_group='Veggies & Fruits')
+        name="Kolhrabi", ingredient_group="Veggies & Fruits"
+    )
     ing_145 = Ingredient.objects.create(
-        name='Leeks',
-        ingredient_group='Veggies & Fruits')
+        name="Leeks", ingredient_group="Veggies & Fruits"
+    )
     ing_146 = Ingredient.objects.create(
-        name='Lemons',
-        ingredient_group='Veggies & Fruits')
+        name="Lemons", ingredient_group="Veggies & Fruits"
+    )
     ing_147 = Ingredient.objects.create(
-        name='Lettuce',
-        ingredient_group='Veggies & Fruits')
+        name="Lettuce", ingredient_group="Veggies & Fruits"
+    )
     ing_148 = Ingredient.objects.create(
-        name='lime',
-        ingredient_group='Veggies & Fruits')
+        name="lime", ingredient_group="Veggies & Fruits"
+    )
     ing_149 = Ingredient.objects.create(
-        name='mung bean sprouts',
-        ingredient_group='Veggies & Fruits')
+        name="mung bean sprouts", ingredient_group="Veggies & Fruits"
+    )
     ing_150 = Ingredient.objects.create(
-        name='Mushrooms',
-        ingredient_group='Veggies & Fruits')
+        name="Mushrooms", ingredient_group="Veggies & Fruits"
+    )
     ing_151 = Ingredient.objects.create(
-        name='Olives',
-        ingredient_group='Veggies & Fruits')
+        name="Olives", ingredient_group="Veggies & Fruits"
+    )
     ing_152 = Ingredient.objects.create(
-        name='Onions',
-        ingredient_group='Veggies & Fruits')
+        name="Onions", ingredient_group="Veggies & Fruits"
+    )
     ing_153 = Ingredient.objects.create(
-        name='Orange peppers',
-        ingredient_group='Veggies & Fruits')
+        name="Orange peppers", ingredient_group="Veggies & Fruits"
+    )
     ing_154 = Ingredient.objects.create(
-        name='parsnip',
-        ingredient_group='Veggies & Fruits')
+        name="parsnip", ingredient_group="Veggies & Fruits"
+    )
     ing_155 = Ingredient.objects.create(
-        name='Potatoes',
-        ingredient_group='Veggies & Fruits')
+        name="Potatoes", ingredient_group="Veggies & Fruits"
+    )
     ing_156 = Ingredient.objects.create(
-        name='Pumpkin',
-        ingredient_group='Veggies & Fruits')
+        name="Pumpkin", ingredient_group="Veggies & Fruits"
+    )
     ing_157 = Ingredient.objects.create(
-        name='Radish',
-        ingredient_group='Veggies & Fruits')
+        name="Radish", ingredient_group="Veggies & Fruits"
+    )
     ing_158 = Ingredient.objects.create(
-        name='Raisins',
-        ingredient_group='Veggies & Fruits')
+        name="Raisins", ingredient_group="Veggies & Fruits"
+    )
     ing_159 = Ingredient.objects.create(
-        name='Red peppers  ',
-        ingredient_group='Veggies & Fruits')
+        name="Red peppers  ", ingredient_group="Veggies & Fruits"
+    )
     ing_160 = Ingredient.objects.create(
-        name='Snap peas',
-        ingredient_group='Veggies & Fruits')
+        name="Snap peas", ingredient_group="Veggies & Fruits"
+    )
     ing_161 = Ingredient.objects.create(
-        name='Snow peas',
-        ingredient_group='Veggies & Fruits')
+        name="Snow peas", ingredient_group="Veggies & Fruits"
+    )
     ing_162 = Ingredient.objects.create(
-        name='Spinach',
-        ingredient_group='Veggies & Fruits')
+        name="Spinach", ingredient_group="Veggies & Fruits"
+    )
     ing_163 = Ingredient.objects.create(
-        name='squash',
-        ingredient_group='Veggies & Fruits')
+        name="squash", ingredient_group="Veggies & Fruits"
+    )
     ing_164 = Ingredient.objects.create(
-        name='Sweet potatoes',
-        ingredient_group='Veggies & Fruits')
+        name="Sweet potatoes", ingredient_group="Veggies & Fruits"
+    )
     ing_165 = Ingredient.objects.create(
-        name='Swiss chard',
-        ingredient_group='Veggies & Fruits')
+        name="Swiss chard", ingredient_group="Veggies & Fruits"
+    )
     ing_166 = Ingredient.objects.create(
-        name='Tomatoes',
-        ingredient_group='Veggies & Fruits')
+        name="Tomatoes", ingredient_group="Veggies & Fruits"
+    )
     ing_167 = Ingredient.objects.create(
-        name='Turnips',
-        ingredient_group='Veggies & Fruits')
+        name="Turnips", ingredient_group="Veggies & Fruits"
+    )
     ing_168 = Ingredient.objects.create(
-        name='Yellow beans',
-        ingredient_group='Veggies & Fruits')
+        name="Yellow beans", ingredient_group="Veggies & Fruits"
+    )
     ing_169 = Ingredient.objects.create(
-        name='zucchini',
-        ingredient_group='Veggies & Fruits')
+        name="zucchini", ingredient_group="Veggies & Fruits"
+    )
     #
     print_rows(Ingredient.objects)
 
     # -----------------------------------------------------------------------------
     com_1 = Component.objects.create(
-        name='Beef bourguignon',
-        component_group='main_dish')
-    com_2 = Component.objects.create(
-        name='Beef meatballs',
-        component_group='main_dish')
-    com_3 = Component.objects.create(
-        name='Beef meatloaf',
-        component_group='main_dish')
+        name="Beef bourguignon", component_group="main_dish"
+    )
+    com_2 = Component.objects.create(name="Beef meatballs", component_group="main_dish")
+    com_3 = Component.objects.create(name="Beef meatloaf", component_group="main_dish")
     com_4 = Component.objects.create(
-        name='Beet and apple salad',
-        component_group='main_dish')
+        name="Beet and apple salad", component_group="main_dish"
+    )
     com_5 = Component.objects.create(
-        name='Chicken and squash curry',
-        component_group='main_dish')
+        name="Chicken and squash curry", component_group="main_dish"
+    )
     com_6 = Component.objects.create(
-        name='Chicken cacciatore',
-        component_group='main_dish')
+        name="Chicken cacciatore", component_group="main_dish"
+    )
     com_7 = Component.objects.create(
-        name='Chicken pot pie',
-        component_group='main_dish')
+        name="Chicken pot pie", component_group="main_dish"
+    )
     com_8 = Component.objects.create(
-        name='Chicken, vegetable and quinoa couscous',
-        component_group='main_dish')
-    com_9 = Component.objects.create(
-        name='Cod cakes',
-        component_group='main_dish')
-    com_10 = Component.objects.create(
-        name='Coq au vin',
-        component_group='main_dish')
+        name="Chicken, vegetable and quinoa couscous", component_group="main_dish"
+    )
+    com_9 = Component.objects.create(name="Cod cakes", component_group="main_dish")
+    com_10 = Component.objects.create(name="Coq au vin", component_group="main_dish")
     com_11 = Component.objects.create(
-        name='Creamy salmon pasta',
-        component_group='main_dish')
+        name="Creamy salmon pasta", component_group="main_dish"
+    )
     com_12 = Component.objects.create(
-        name='Egg and salmon salad',
-        component_group='main_dish')
+        name="Egg and salmon salad", component_group="main_dish"
+    )
     com_13 = Component.objects.create(
-        name='Eggplant parmesan',
-        component_group='main_dish')
-    com_14 = Component.objects.create(
-        name='Fish chowder',
-        component_group='main_dish')
-    com_15 = Component.objects.create(
-        name='Ginger pork',
-        component_group='main_dish')
+        name="Eggplant parmesan", component_group="main_dish"
+    )
+    com_14 = Component.objects.create(name="Fish chowder", component_group="main_dish")
+    com_15 = Component.objects.create(name="Ginger pork", component_group="main_dish")
     com_16 = Component.objects.create(
-        name='Lemon baked haddock',
-        component_group='main_dish')
+        name="Lemon baked haddock", component_group="main_dish"
+    )
     com_17 = Component.objects.create(
-        name='Macaroni and cheese',
-        component_group='main_dish')
-    com_18 = Component.objects.create(
-        name='Meat pie',
-        component_group='main_dish')
-    com_19 = Component.objects.create(
-        name='Moussaka',
-        component_group='main_dish')
+        name="Macaroni and cheese", component_group="main_dish"
+    )
+    com_18 = Component.objects.create(name="Meat pie", component_group="main_dish")
+    com_19 = Component.objects.create(name="Moussaka", component_group="main_dish")
     com_20 = Component.objects.create(
-        name='Mushroom rice casserole',
-        component_group='main_dish')
-    com_21 = Component.objects.create(
-        name='Nioise salad',
-        component_group='main_dish')
+        name="Mushroom rice casserole", component_group="main_dish"
+    )
+    com_21 = Component.objects.create(name="Nioise salad", component_group="main_dish")
     com_22 = Component.objects.create(
-        name='Peanut chicken with rice noodles',
-        component_group='main_dish')
+        name="Peanut chicken with rice noodles", component_group="main_dish"
+    )
     com_23 = Component.objects.create(
-        name='Penne with pesto and feta',
-        component_group='main_dish')
-    com_24 = Component.objects.create(
-        name='Roast beef',
-        component_group='main_dish')
+        name="Penne with pesto and feta", component_group="main_dish"
+    )
+    com_24 = Component.objects.create(name="Roast beef", component_group="main_dish")
     com_25 = Component.objects.create(
-        name='Salmon and egg salad',
-        component_group='main_dish')
+        name="Salmon and egg salad", component_group="main_dish"
+    )
     com_26 = Component.objects.create(
-        name='Sausage and cabbage',
-        component_group='main_dish')
+        name="Sausage and cabbage", component_group="main_dish"
+    )
     com_27 = Component.objects.create(
-        name='Sausage cassoulet',
-        component_group='main_dish')
-    com_28 = Component.objects.create(
-        name='Seafood pilaf',
-        component_group='main_dish')
+        name="Sausage cassoulet", component_group="main_dish"
+    )
+    com_28 = Component.objects.create(name="Seafood pilaf", component_group="main_dish")
     com_29 = Component.objects.create(
-        name="Shepherd's pie",
-        component_group='main_dish')
+        name="Shepherd's pie", component_group="main_dish"
+    )
     com_30 = Component.objects.create(
-        name='Shrimp and mushroom linguini',
-        component_group='main_dish')
+        name="Shrimp and mushroom linguini", component_group="main_dish"
+    )
     com_31 = Component.objects.create(
-        name='Shrimp stir-fry',
-        component_group='main_dish')
+        name="Shrimp stir-fry", component_group="main_dish"
+    )
     com_32 = Component.objects.create(
-        name='Spaghetti with meat sauce',
-        component_group='main_dish')
+        name="Spaghetti with meat sauce", component_group="main_dish"
+    )
     com_33 = Component.objects.create(
-        name='Turkey with mushroom sauce',
-        component_group='main_dish')
+        name="Turkey with mushroom sauce", component_group="main_dish"
+    )
     com_34 = Component.objects.create(
-        name='Vegatable and chickpea curry',
-        component_group='main_dish')
+        name="Vegatable and chickpea curry", component_group="main_dish"
+    )
     com_35 = Component.objects.create(
-        name='Vegetable fried rice',
-        component_group='main_dish')
+        name="Vegetable fried rice", component_group="main_dish"
+    )
     com_36 = Component.objects.create(
-        name='Vegetable lasagna',
-        component_group='main_dish')
+        name="Vegetable lasagna", component_group="main_dish"
+    )
     com_37 = Component.objects.create(
-        name='Vegetarian chili',
-        component_group='main_dish')
+        name="Vegetarian chili", component_group="main_dish"
+    )
     com_38 = Component.objects.create(
-        name='Vegetarian quiche',
-        component_group='main_dish')
+        name="Vegetarian quiche", component_group="main_dish"
+    )
     com_39 = Component.objects.create(
-        name='Walnut and cranberry rice salad',
-        component_group='main_dish')
+        name="Walnut and cranberry rice salad", component_group="main_dish"
+    )
     #
     print_rows(Component.objects)
 
     # -----------------------------------------------------------------------------
-    com_ing_1 = Component_ingredient.objects.create(
-        component=com_1,
-        ingredient=ing_101)
-    com_ing_2 = Component_ingredient.objects.create(
-        component=com_1,
-        ingredient=ing_69)
-    com_ing_3 = Component_ingredient.objects.create(
-        component=com_1,
-        ingredient=ing_129)
-    com_ing_4 = Component_ingredient.objects.create(
-        component=com_1,
-        ingredient=ing_138)
-    com_ing_5 = Component_ingredient.objects.create(
-        component=com_1,
-        ingredient=ing_150)
-    com_ing_6 = Component_ingredient.objects.create(
-        component=com_1,
-        ingredient=ing_152)
-    com_ing_7 = Component_ingredient.objects.create(
-        component=com_1,
-        ingredient=ing_49)
-    com_ing_8 = Component_ingredient.objects.create(
-        component=com_1,
-        ingredient=ing_90)
-    com_ing_9 = Component_ingredient.objects.create(
-        component=com_1,
-        ingredient=ing_51)
+    com_ing_1 = Component_ingredient.objects.create(component=com_1, ingredient=ing_101)
+    com_ing_2 = Component_ingredient.objects.create(component=com_1, ingredient=ing_69)
+    com_ing_3 = Component_ingredient.objects.create(component=com_1, ingredient=ing_129)
+    com_ing_4 = Component_ingredient.objects.create(component=com_1, ingredient=ing_138)
+    com_ing_5 = Component_ingredient.objects.create(component=com_1, ingredient=ing_150)
+    com_ing_6 = Component_ingredient.objects.create(component=com_1, ingredient=ing_152)
+    com_ing_7 = Component_ingredient.objects.create(component=com_1, ingredient=ing_49)
+    com_ing_8 = Component_ingredient.objects.create(component=com_1, ingredient=ing_90)
+    com_ing_9 = Component_ingredient.objects.create(component=com_1, ingredient=ing_51)
     com_ing_10 = Component_ingredient.objects.create(
-        component=com_1,
-        ingredient=ing_166)
-    com_ing_11 = Component_ingredient.objects.create(
-        component=com_1,
-        ingredient=ing_61)
-    com_ing_12 = Component_ingredient.objects.create(
-        component=com_2,
-        ingredient=ing_54)
-    com_ing_13 = Component_ingredient.objects.create(
-        component=com_2,
-        ingredient=ing_9)
-    com_ing_14 = Component_ingredient.objects.create(
-        component=com_2,
-        ingredient=ing_11)
+        component=com_1, ingredient=ing_166
+    )
+    com_ing_11 = Component_ingredient.objects.create(component=com_1, ingredient=ing_61)
+    com_ing_12 = Component_ingredient.objects.create(component=com_2, ingredient=ing_54)
+    com_ing_13 = Component_ingredient.objects.create(component=com_2, ingredient=ing_9)
+    com_ing_14 = Component_ingredient.objects.create(component=com_2, ingredient=ing_11)
     com_ing_15 = Component_ingredient.objects.create(
-        component=com_2,
-        ingredient=ing_138)
-    com_ing_16 = Component_ingredient.objects.create(
-        component=com_2,
-        ingredient=ing_72)
-    com_ing_17 = Component_ingredient.objects.create(
-        component=com_2,
-        ingredient=ing_13)
+        component=com_2, ingredient=ing_138
+    )
+    com_ing_16 = Component_ingredient.objects.create(component=com_2, ingredient=ing_72)
+    com_ing_17 = Component_ingredient.objects.create(component=com_2, ingredient=ing_13)
     com_ing_18 = Component_ingredient.objects.create(
-        component=com_2,
-        ingredient=ing_152)
-    com_ing_19 = Component_ingredient.objects.create(
-        component=com_2,
-        ingredient=ing_48)
+        component=com_2, ingredient=ing_152
+    )
+    com_ing_19 = Component_ingredient.objects.create(component=com_2, ingredient=ing_48)
     com_ing_20 = Component_ingredient.objects.create(
-        component=com_2,
-        ingredient=ing_166)
+        component=com_2, ingredient=ing_166
+    )
     com_ing_21 = Component_ingredient.objects.create(
-        component=com_2,
-        ingredient=ing_169)
-    com_ing_22 = Component_ingredient.objects.create(
-        component=com_3,
-        ingredient=ing_54)
-    com_ing_23 = Component_ingredient.objects.create(
-        component=com_3,
-        ingredient=ing_55)
-    com_ing_24 = Component_ingredient.objects.create(
-        component=com_3,
-        ingredient=ing_11)
+        component=com_2, ingredient=ing_169
+    )
+    com_ing_22 = Component_ingredient.objects.create(component=com_3, ingredient=ing_54)
+    com_ing_23 = Component_ingredient.objects.create(component=com_3, ingredient=ing_55)
+    com_ing_24 = Component_ingredient.objects.create(component=com_3, ingredient=ing_11)
     com_ing_25 = Component_ingredient.objects.create(
-        component=com_3,
-        ingredient=ing_138)
-    com_ing_26 = Component_ingredient.objects.create(
-        component=com_3,
-        ingredient=ing_72)
-    com_ing_27 = Component_ingredient.objects.create(
-        component=com_3,
-        ingredient=ing_13)
+        component=com_3, ingredient=ing_138
+    )
+    com_ing_26 = Component_ingredient.objects.create(component=com_3, ingredient=ing_72)
+    com_ing_27 = Component_ingredient.objects.create(component=com_3, ingredient=ing_13)
     com_ing_28 = Component_ingredient.objects.create(
-        component=com_3,
-        ingredient=ing_152)
+        component=com_3, ingredient=ing_152
+    )
     com_ing_29 = Component_ingredient.objects.create(
-        component=com_3,
-        ingredient=ing_166)
+        component=com_3, ingredient=ing_166
+    )
     com_ing_30 = Component_ingredient.objects.create(
-        component=com_4,
-        ingredient=ing_119)
+        component=com_4, ingredient=ing_119
+    )
     com_ing_31 = Component_ingredient.objects.create(
-        component=com_4,
-        ingredient=ing_124)
-    com_ing_32 = Component_ingredient.objects.create(
-        component=com_4,
-        ingredient=ing_2)
-    com_ing_33 = Component_ingredient.objects.create(
-        component=com_4,
-        ingredient=ing_85)
+        component=com_4, ingredient=ing_124
+    )
+    com_ing_32 = Component_ingredient.objects.create(component=com_4, ingredient=ing_2)
+    com_ing_33 = Component_ingredient.objects.create(component=com_4, ingredient=ing_85)
     com_ing_34 = Component_ingredient.objects.create(
-        component=com_4,
-        ingredient=ing_138)
+        component=com_4, ingredient=ing_138
+    )
     com_ing_35 = Component_ingredient.objects.create(
-        component=com_4,
-        ingredient=ing_147)
-    com_ing_36 = Component_ingredient.objects.create(
-        component=com_4,
-        ingredient=ing_87)
-    com_ing_37 = Component_ingredient.objects.create(
-        component=com_4,
-        ingredient=ing_88)
+        component=com_4, ingredient=ing_147
+    )
+    com_ing_36 = Component_ingredient.objects.create(component=com_4, ingredient=ing_87)
+    com_ing_37 = Component_ingredient.objects.create(component=com_4, ingredient=ing_88)
     com_ing_38 = Component_ingredient.objects.create(
-        component=com_4,
-        ingredient=ing_152)
-    com_ing_39 = Component_ingredient.objects.create(
-        component=com_5,
-        ingredient=ing_70)
+        component=com_4, ingredient=ing_152
+    )
+    com_ing_39 = Component_ingredient.objects.create(component=com_5, ingredient=ing_70)
     com_ing_40 = Component_ingredient.objects.create(
-        component=com_5,
-        ingredient=ing_129)
+        component=com_5, ingredient=ing_129
+    )
     com_ing_41 = Component_ingredient.objects.create(
-        component=com_5,
-        ingredient=ing_138)
+        component=com_5, ingredient=ing_138
+    )
     com_ing_42 = Component_ingredient.objects.create(
-        component=com_5,
-        ingredient=ing_139)
+        component=com_5, ingredient=ing_139
+    )
     com_ing_43 = Component_ingredient.objects.create(
-        component=com_5,
-        ingredient=ing_152)
+        component=com_5, ingredient=ing_152
+    )
     com_ing_41 = Component_ingredient.objects.create(
-        component=com_5,
-        ingredient=ing_107)
+        component=com_5, ingredient=ing_107
+    )
     com_ing_42 = Component_ingredient.objects.create(
-        component=com_5,
-        ingredient=ing_108)
+        component=com_5, ingredient=ing_108
+    )
     com_ing_43 = Component_ingredient.objects.create(
-        component=com_5,
-        ingredient=ing_118)
+        component=com_5, ingredient=ing_118
+    )
     com_ing_43 = Component_ingredient.objects.create(
-        component=com_5,
-        ingredient=ing_112)
+        component=com_5, ingredient=ing_112
+    )
     com_ing_44 = Component_ingredient.objects.create(
-        component=com_5,
-        ingredient=ing_110)
+        component=com_5, ingredient=ing_110
+    )
     com_ing_45 = Component_ingredient.objects.create(
-        component=com_5,
-        ingredient=ing_163)
+        component=com_5, ingredient=ing_163
+    )
     com_ing_46 = Component_ingredient.objects.create(
-        component=com_5,
-        ingredient=ing_166)
-    com_ing_47 = Component_ingredient.objects.create(
-        component=com_5,
-        ingredient=ing_15)
+        component=com_5, ingredient=ing_166
+    )
+    com_ing_47 = Component_ingredient.objects.create(component=com_5, ingredient=ing_15)
     com_ing_48 = Component_ingredient.objects.create(
-        component=com_5,
-        ingredient=ing_169)
-    com_ing_49 = Component_ingredient.objects.create(
-        component=com_6,
-        ingredient=ing_55)
+        component=com_5, ingredient=ing_169
+    )
+    com_ing_49 = Component_ingredient.objects.create(component=com_6, ingredient=ing_55)
     com_ing_50 = Component_ingredient.objects.create(
-        component=com_6,
-        ingredient=ing_131)
-    com_ing_51 = Component_ingredient.objects.create(
-        component=com_6,
-        ingredient=ing_71)
-    com_ing_52 = Component_ingredient.objects.create(
-        component=com_6,
-        ingredient=ing_84)
+        component=com_6, ingredient=ing_131
+    )
+    com_ing_51 = Component_ingredient.objects.create(component=com_6, ingredient=ing_71)
+    com_ing_52 = Component_ingredient.objects.create(component=com_6, ingredient=ing_84)
     com_ing_53 = Component_ingredient.objects.create(
-        component=com_6,
-        ingredient=ing_138)
+        component=com_6, ingredient=ing_138
+    )
     com_ing_54 = Component_ingredient.objects.create(
-        component=com_6,
-        ingredient=ing_152)
-    com_ing_55 = Component_ingredient.objects.create(
-        component=com_6,
-        ingredient=ing_50)
-    com_ing_56 = Component_ingredient.objects.create(
-        component=com_6,
-        ingredient=ing_79)
-    com_ing_57 = Component_ingredient.objects.create(
-        component=com_6,
-        ingredient=ing_31)
+        component=com_6, ingredient=ing_152
+    )
+    com_ing_55 = Component_ingredient.objects.create(component=com_6, ingredient=ing_50)
+    com_ing_56 = Component_ingredient.objects.create(component=com_6, ingredient=ing_79)
+    com_ing_57 = Component_ingredient.objects.create(component=com_6, ingredient=ing_31)
     com_ing_58 = Component_ingredient.objects.create(
-        component=com_6,
-        ingredient=ing_166)
+        component=com_6, ingredient=ing_166
+    )
     com_ing_59 = Component_ingredient.objects.create(
-        component=com_7,
-        ingredient=ing_129)
+        component=com_7, ingredient=ing_129
+    )
     com_ing_60 = Component_ingredient.objects.create(
-        component=com_7,
-        ingredient=ing_131)
-    com_ing_61 = Component_ingredient.objects.create(
-        component=com_7,
-        ingredient=ing_71)
-    com_ing_62 = Component_ingredient.objects.create(
-        component=com_7,
-        ingredient=ing_11)
+        component=com_7, ingredient=ing_131
+    )
+    com_ing_61 = Component_ingredient.objects.create(component=com_7, ingredient=ing_71)
+    com_ing_62 = Component_ingredient.objects.create(component=com_7, ingredient=ing_11)
     com_ing_63 = Component_ingredient.objects.create(
-        component=com_7,
-        ingredient=ing_138)
-    com_ing_64 = Component_ingredient.objects.create(
-        component=com_7,
-        ingredient=ing_13)
+        component=com_7, ingredient=ing_138
+    )
+    com_ing_64 = Component_ingredient.objects.create(component=com_7, ingredient=ing_13)
     com_ing_65 = Component_ingredient.objects.create(
-        component=com_7,
-        ingredient=ing_152)
-    com_ing_66 = Component_ingredient.objects.create(
-        component=com_7,
-        ingredient=ing_49)
-    com_ing_67 = Component_ingredient.objects.create(
-        component=com_7,
-        ingredient=ing_61)
+        component=com_7, ingredient=ing_152
+    )
+    com_ing_66 = Component_ingredient.objects.create(component=com_7, ingredient=ing_49)
+    com_ing_67 = Component_ingredient.objects.create(component=com_7, ingredient=ing_61)
     com_ing_68 = Component_ingredient.objects.create(
-        component=com_8,
-        ingredient=ing_100)
+        component=com_8, ingredient=ing_100
+    )
     com_ing_69 = Component_ingredient.objects.create(
-        component=com_8,
-        ingredient=ing_103)
-    com_ing_70 = Component_ingredient.objects.create(
-        component=com_8,
-        ingredient=ing_71)
+        component=com_8, ingredient=ing_103
+    )
+    com_ing_70 = Component_ingredient.objects.create(component=com_8, ingredient=ing_71)
     com_ing_71 = Component_ingredient.objects.create(
-        component=com_8,
-        ingredient=ing_105)
+        component=com_8, ingredient=ing_105
+    )
     com_ing_72 = Component_ingredient.objects.create(
-        component=com_8,
-        ingredient=ing_106)
+        component=com_8, ingredient=ing_106
+    )
     com_ing_73 = Component_ingredient.objects.create(
-        component=com_8,
-        ingredient=ing_107)
-    com_ing_74 = Component_ingredient.objects.create(
-        component=com_8,
-        ingredient=ing_57)
+        component=com_8, ingredient=ing_107
+    )
+    com_ing_74 = Component_ingredient.objects.create(component=com_8, ingredient=ing_57)
     com_ing_75 = Component_ingredient.objects.create(
-        component=com_8,
-        ingredient=ing_137)
+        component=com_8, ingredient=ing_137
+    )
     com_ing_76 = Component_ingredient.objects.create(
-        component=com_8,
-        ingredient=ing_138)
+        component=com_8, ingredient=ing_138
+    )
     com_ing_77 = Component_ingredient.objects.create(
-        component=com_8,
-        ingredient=ing_139)
+        component=com_8, ingredient=ing_139
+    )
     com_ing_78 = Component_ingredient.objects.create(
-        component=com_8,
-        ingredient=ing_143)
+        component=com_8, ingredient=ing_143
+    )
     com_ing_79 = Component_ingredient.objects.create(
-        component=com_8,
-        ingredient=ing_146)
+        component=com_8, ingredient=ing_146
+    )
     com_ing_80 = Component_ingredient.objects.create(
-        component=com_8,
-        ingredient=ing_152)
+        component=com_8, ingredient=ing_152
+    )
     com_ing_81 = Component_ingredient.objects.create(
-        component=com_8,
-        ingredient=ing_114)
-    com_ing_82 = Component_ingredient.objects.create(
-        component=com_8,
-        ingredient=ing_60)
+        component=com_8, ingredient=ing_114
+    )
+    com_ing_82 = Component_ingredient.objects.create(component=com_8, ingredient=ing_60)
     com_ing_83 = Component_ingredient.objects.create(
-        component=com_8,
-        ingredient=ing_163)
+        component=com_8, ingredient=ing_163
+    )
     com_ing_84 = Component_ingredient.objects.create(
-        component=com_8,
-        ingredient=ing_166)
-    com_ing_85 = Component_ingredient.objects.create(
-        component=com_9,
-        ingredient=ing_54)
-    com_ing_86 = Component_ingredient.objects.create(
-        component=com_9,
-        ingredient=ing_40)
-    com_ing_87 = Component_ingredient.objects.create(
-        component=com_9,
-        ingredient=ing_46)
-    com_ing_88 = Component_ingredient.objects.create(
-        component=com_9,
-        ingredient=ing_11)
+        component=com_8, ingredient=ing_166
+    )
+    com_ing_85 = Component_ingredient.objects.create(component=com_9, ingredient=ing_54)
+    com_ing_86 = Component_ingredient.objects.create(component=com_9, ingredient=ing_40)
+    com_ing_87 = Component_ingredient.objects.create(component=com_9, ingredient=ing_46)
+    com_ing_88 = Component_ingredient.objects.create(component=com_9, ingredient=ing_11)
     com_ing_89 = Component_ingredient.objects.create(
-        component=com_9,
-        ingredient=ing_138)
+        component=com_9, ingredient=ing_138
+    )
     com_ing_90 = Component_ingredient.objects.create(
-        component=com_9,
-        ingredient=ing_146)
-    com_ing_91 = Component_ingredient.objects.create(
-        component=com_9,
-        ingredient=ing_49)
+        component=com_9, ingredient=ing_146
+    )
+    com_ing_91 = Component_ingredient.objects.create(component=com_9, ingredient=ing_49)
     com_ing_92 = Component_ingredient.objects.create(
-        component=com_9,
-        ingredient=ing_155)
-    com_ing_93 = Component_ingredient.objects.create(
-        component=com_9,
-        ingredient=ing_15)
+        component=com_9, ingredient=ing_155
+    )
+    com_ing_93 = Component_ingredient.objects.create(component=com_9, ingredient=ing_15)
     com_ing_94 = Component_ingredient.objects.create(
-        component=com_10,
-        ingredient=ing_129)
+        component=com_10, ingredient=ing_129
+    )
     com_ing_95 = Component_ingredient.objects.create(
-        component=com_10,
-        ingredient=ing_71)
+        component=com_10, ingredient=ing_71
+    )
     com_ing_96 = Component_ingredient.objects.create(
-        component=com_10,
-        ingredient=ing_84)
+        component=com_10, ingredient=ing_84
+    )
     com_ing_97 = Component_ingredient.objects.create(
-        component=com_10,
-        ingredient=ing_138)
+        component=com_10, ingredient=ing_138
+    )
     com_ing_98 = Component_ingredient.objects.create(
-        component=com_10,
-        ingredient=ing_150)
+        component=com_10, ingredient=ing_150
+    )
     com_ing_99 = Component_ingredient.objects.create(
-        component=com_10,
-        ingredient=ing_152)
+        component=com_10, ingredient=ing_152
+    )
     com_ing_100 = Component_ingredient.objects.create(
-        component=com_10,
-        ingredient=ing_49)
+        component=com_10, ingredient=ing_49
+    )
     com_ing_101 = Component_ingredient.objects.create(
-        component=com_10,
-        ingredient=ing_51)
+        component=com_10, ingredient=ing_51
+    )
     com_ing_102 = Component_ingredient.objects.create(
-        component=com_10,
-        ingredient=ing_61)
+        component=com_10, ingredient=ing_61
+    )
     com_ing_103 = Component_ingredient.objects.create(
-        component=com_11,
-        ingredient=ing_1)
+        component=com_11, ingredient=ing_1
+    )
     com_ing_104 = Component_ingredient.objects.create(
-        component=com_11,
-        ingredient=ing_38)
+        component=com_11, ingredient=ing_38
+    )
     com_ing_105 = Component_ingredient.objects.create(
-        component=com_11,
-        ingredient=ing_129)
+        component=com_11, ingredient=ing_129
+    )
     com_ing_106 = Component_ingredient.objects.create(
-        component=com_11,
-        ingredient=ing_46)
+        component=com_11, ingredient=ing_46
+    )
     com_ing_107 = Component_ingredient.objects.create(
-        component=com_11,
-        ingredient=ing_138)
+        component=com_11, ingredient=ing_138
+    )
     com_ing_108 = Component_ingredient.objects.create(
-        component=com_11,
-        ingredient=ing_146)
+        component=com_11, ingredient=ing_146
+    )
     com_ing_109 = Component_ingredient.objects.create(
-        component=com_11,
-        ingredient=ing_13)
+        component=com_11, ingredient=ing_13
+    )
     com_ing_110 = Component_ingredient.objects.create(
-        component=com_11,
-        ingredient=ing_152)
+        component=com_11, ingredient=ing_152
+    )
     com_ing_111 = Component_ingredient.objects.create(
-        component=com_11,
-        ingredient=ing_166)
+        component=com_11, ingredient=ing_166
+    )
     com_ing_112 = Component_ingredient.objects.create(
-        component=com_11,
-        ingredient=ing_61)
+        component=com_11, ingredient=ing_61
+    )
     com_ing_113 = Component_ingredient.objects.create(
-        component=com_11,
-        ingredient=ing_37)
+        component=com_11, ingredient=ing_37
+    )
     com_ing_114 = Component_ingredient.objects.create(
-        component=com_11,
-        ingredient=ing_169)
+        component=com_11, ingredient=ing_169
+    )
     com_ing_115 = Component_ingredient.objects.create(
-        component=com_12,
-        ingredient=ing_38)
+        component=com_12, ingredient=ing_38
+    )
     com_ing_116 = Component_ingredient.objects.create(
-        component=com_12,
-        ingredient=ing_129)
+        component=com_12, ingredient=ing_129
+    )
     com_ing_117 = Component_ingredient.objects.create(
-        component=com_12,
-        ingredient=ing_46)
+        component=com_12, ingredient=ing_46
+    )
     com_ing_118 = Component_ingredient.objects.create(
-        component=com_12,
-        ingredient=ing_11)
+        component=com_12, ingredient=ing_11
+    )
     com_ing_119 = Component_ingredient.objects.create(
-        component=com_12,
-        ingredient=ing_146)
+        component=com_12, ingredient=ing_146
+    )
     com_ing_120 = Component_ingredient.objects.create(
-        component=com_12,
-        ingredient=ing_147)
+        component=com_12, ingredient=ing_147
+    )
     com_ing_121 = Component_ingredient.objects.create(
-        component=com_12,
-        ingredient=ing_116)
+        component=com_12, ingredient=ing_116
+    )
     com_ing_122 = Component_ingredient.objects.create(
-        component=com_13,
-        ingredient=ing_129)
+        component=com_13, ingredient=ing_129
+    )
     com_ing_123 = Component_ingredient.objects.create(
-        component=com_13,
-        ingredient=ing_131)
+        component=com_13, ingredient=ing_131
+    )
     com_ing_124 = Component_ingredient.objects.create(
-        component=com_13,
-        ingredient=ing_4)
+        component=com_13, ingredient=ing_4
+    )
     com_ing_125 = Component_ingredient.objects.create(
-        component=com_13,
-        ingredient=ing_9)
+        component=com_13, ingredient=ing_9
+    )
     com_ing_126 = Component_ingredient.objects.create(
-        component=com_13,
-        ingredient=ing_137)
+        component=com_13, ingredient=ing_137
+    )
     com_ing_127 = Component_ingredient.objects.create(
-        component=com_13,
-        ingredient=ing_138)
+        component=com_13, ingredient=ing_138
+    )
     com_ing_128 = Component_ingredient.objects.create(
-        component=com_13,
-        ingredient=ing_152)
+        component=com_13, ingredient=ing_152
+    )
     com_ing_129 = Component_ingredient.objects.create(
-        component=com_13,
-        ingredient=ing_90)
+        component=com_13, ingredient=ing_90
+    )
     com_ing_130 = Component_ingredient.objects.create(
-        component=com_13,
-        ingredient=ing_166)
+        component=com_13, ingredient=ing_166
+    )
     com_ing_131 = Component_ingredient.objects.create(
-        component=com_14,
-        ingredient=ing_102)
+        component=com_14, ingredient=ing_102
+    )
     com_ing_132 = Component_ingredient.objects.create(
-        component=com_14,
-        ingredient=ing_1)
+        component=com_14, ingredient=ing_1
+    )
     com_ing_133 = Component_ingredient.objects.create(
-        component=com_14,
-        ingredient=ing_134)
+        component=com_14, ingredient=ing_134
+    )
     com_ing_134 = Component_ingredient.objects.create(
-        component=com_14,
-        ingredient=ing_138)
+        component=com_14, ingredient=ing_138
+    )
     com_ing_135 = Component_ingredient.objects.create(
-        component=com_14,
-        ingredient=ing_41)
+        component=com_14, ingredient=ing_41
+    )
     com_ing_136 = Component_ingredient.objects.create(
-        component=com_14,
-        ingredient=ing_13)
+        component=com_14, ingredient=ing_13
+    )
     com_ing_137 = Component_ingredient.objects.create(
-        component=com_14,
-        ingredient=ing_152)
+        component=com_14, ingredient=ing_152
+    )
     com_ing_138 = Component_ingredient.objects.create(
-        component=com_14,
-        ingredient=ing_155)
+        component=com_14, ingredient=ing_155
+    )
     com_ing_139 = Component_ingredient.objects.create(
-        component=com_14,
-        ingredient=ing_51)
+        component=com_14, ingredient=ing_51
+    )
     com_ing_140 = Component_ingredient.objects.create(
-        component=com_14,
-        ingredient=ing_61)
+        component=com_14, ingredient=ing_61
+    )
     com_ing_141 = Component_ingredient.objects.create(
-        component=com_15,
-        ingredient=ing_129)
+        component=com_15, ingredient=ing_129
+    )
     com_ing_142 = Component_ingredient.objects.create(
-        component=com_15,
-        ingredient=ing_20)
+        component=com_15, ingredient=ing_20
+    )
     com_ing_143 = Component_ingredient.objects.create(
-        component=com_15,
-        ingredient=ing_138)
+        component=com_15, ingredient=ing_138
+    )
     com_ing_144 = Component_ingredient.objects.create(
-        component=com_15,
-        ingredient=ing_139)
+        component=com_15, ingredient=ing_139
+    )
     com_ing_145 = Component_ingredient.objects.create(
-        component=com_15,
-        ingredient=ing_73)
+        component=com_15, ingredient=ing_73
+    )
     com_ing_146 = Component_ingredient.objects.create(
-        component=com_15,
-        ingredient=ing_152)
+        component=com_15, ingredient=ing_152
+    )
     com_ing_147 = Component_ingredient.objects.create(
-        component=com_15,
-        ingredient=ing_28)
+        component=com_15, ingredient=ing_28
+    )
     com_ing_148 = Component_ingredient.objects.create(
-        component=com_15,
-        ingredient=ing_93)
+        component=com_15, ingredient=ing_93
+    )
     com_ing_149 = Component_ingredient.objects.create(
-        component=com_15,
-        ingredient=ing_94)
+        component=com_15, ingredient=ing_94
+    )
     com_ing_150 = Component_ingredient.objects.create(
-        component=com_15,
-        ingredient=ing_29)
+        component=com_15, ingredient=ing_29
+    )
     com_ing_151 = Component_ingredient.objects.create(
-        component=com_15,
-        ingredient=ing_95)
+        component=com_15, ingredient=ing_95
+    )
     com_ing_152 = Component_ingredient.objects.create(
-        component=com_15,
-        ingredient=ing_169)
+        component=com_15, ingredient=ing_169
+    )
     com_ing_153 = Component_ingredient.objects.create(
-        component=com_16,
-        ingredient=ing_102)
+        component=com_16, ingredient=ing_102
+    )
     com_ing_154 = Component_ingredient.objects.create(
-        component=com_16,
-        ingredient=ing_54)
+        component=com_16, ingredient=ing_54
+    )
     com_ing_155 = Component_ingredient.objects.create(
-        component=com_16,
-        ingredient=ing_4)
+        component=com_16, ingredient=ing_4
+    )
     com_ing_156 = Component_ingredient.objects.create(
-        component=com_16,
-        ingredient=ing_11)
+        component=com_16, ingredient=ing_11
+    )
     com_ing_157 = Component_ingredient.objects.create(
-        component=com_16,
-        ingredient=ing_138)
+        component=com_16, ingredient=ing_138
+    )
     com_ing_158 = Component_ingredient.objects.create(
-        component=com_16,
-        ingredient=ing_41)
+        component=com_16, ingredient=ing_41
+    )
     com_ing_159 = Component_ingredient.objects.create(
-        component=com_16,
-        ingredient=ing_146)
+        component=com_16, ingredient=ing_146
+    )
     com_ing_160 = Component_ingredient.objects.create(
-        component=com_16,
-        ingredient=ing_13)
+        component=com_16, ingredient=ing_13
+    )
     com_ing_161 = Component_ingredient.objects.create(
-        component=com_16,
-        ingredient=ing_152)
+        component=com_16, ingredient=ing_152
+    )
     com_ing_162 = Component_ingredient.objects.create(
-        component=com_16,
-        ingredient=ing_155)
+        component=com_16, ingredient=ing_155
+    )
     com_ing_163 = Component_ingredient.objects.create(
-        component=com_16,
-        ingredient=ing_116)
+        component=com_16, ingredient=ing_116
+    )
     com_ing_164 = Component_ingredient.objects.create(
-        component=com_17,
-        ingredient=ing_54)
+        component=com_17, ingredient=ing_54
+    )
     com_ing_165 = Component_ingredient.objects.create(
-        component=com_17,
-        ingredient=ing_1)
+        component=com_17, ingredient=ing_1
+    )
     com_ing_166 = Component_ingredient.objects.create(
-        component=com_17,
-        ingredient=ing_130)
+        component=com_17, ingredient=ing_130
+    )
     com_ing_167 = Component_ingredient.objects.create(
-        component=com_17,
-        ingredient=ing_4)
+        component=com_17, ingredient=ing_4
+    )
     com_ing_168 = Component_ingredient.objects.create(
-        component=com_17,
-        ingredient=ing_9)
+        component=com_17, ingredient=ing_9
+    )
     com_ing_169 = Component_ingredient.objects.create(
-        component=com_17,
-        ingredient=ing_44)
+        component=com_17, ingredient=ing_44
+    )
     com_ing_170 = Component_ingredient.objects.create(
-        component=com_17,
-        ingredient=ing_138)
+        component=com_17, ingredient=ing_138
+    )
     com_ing_171 = Component_ingredient.objects.create(
-        component=com_17,
-        ingredient=ing_141)
+        component=com_17, ingredient=ing_141
+    )
     com_ing_172 = Component_ingredient.objects.create(
-        component=com_17,
-        ingredient=ing_13)
+        component=com_17, ingredient=ing_13
+    )
     com_ing_173 = Component_ingredient.objects.create(
-        component=com_17,
-        ingredient=ing_150)
+        component=com_17, ingredient=ing_150
+    )
     com_ing_174 = Component_ingredient.objects.create(
-        component=com_17,
-        ingredient=ing_112)
+        component=com_17, ingredient=ing_112
+    )
     com_ing_175 = Component_ingredient.objects.create(
-        component=com_17,
-        ingredient=ing_113)
+        component=com_17, ingredient=ing_113
+    )
     com_ing_176 = Component_ingredient.objects.create(
-        component=com_17,
-        ingredient=ing_152)
+        component=com_17, ingredient=ing_152
+    )
     com_ing_177 = Component_ingredient.objects.create(
-        component=com_17,
-        ingredient=ing_49)
+        component=com_17, ingredient=ing_49
+    )
     com_ing_178 = Component_ingredient.objects.create(
-        component=com_17,
-        ingredient=ing_32)
+        component=com_17, ingredient=ing_32
+    )
     com_ing_179 = Component_ingredient.objects.create(
-        component=com_17,
-        ingredient=ing_61)
+        component=com_17, ingredient=ing_61
+    )
     com_ing_180 = Component_ingredient.objects.create(
-        component=com_17,
-        ingredient=ing_35)
+        component=com_17, ingredient=ing_35
+    )
     com_ing_181 = Component_ingredient.objects.create(
-        component=com_18,
-        ingredient=ing_102)
+        component=com_18, ingredient=ing_102
+    )
     com_ing_182 = Component_ingredient.objects.create(
-        component=com_18,
-        ingredient=ing_54)
+        component=com_18, ingredient=ing_54
+    )
     com_ing_183 = Component_ingredient.objects.create(
-        component=com_18,
-        ingredient=ing_105)
+        component=com_18, ingredient=ing_105
+    )
     com_ing_184 = Component_ingredient.objects.create(
-        component=com_18,
-        ingredient=ing_138)
+        component=com_18, ingredient=ing_138
+    )
     com_ing_185 = Component_ingredient.objects.create(
-        component=com_18,
-        ingredient=ing_72)
+        component=com_18, ingredient=ing_72
+    )
     com_ing_186 = Component_ingredient.objects.create(
-        component=com_18,
-        ingredient=ing_73)
+        component=com_18, ingredient=ing_73
+    )
     com_ing_187 = Component_ingredient.objects.create(
-        component=com_18,
-        ingredient=ing_113)
+        component=com_18, ingredient=ing_113
+    )
     com_ing_188 = Component_ingredient.objects.create(
-        component=com_18,
-        ingredient=ing_152)
+        component=com_18, ingredient=ing_152
+    )
     com_ing_189 = Component_ingredient.objects.create(
-        component=com_18,
-        ingredient=ing_155)
+        component=com_18, ingredient=ing_155
+    )
     com_ing_190 = Component_ingredient.objects.create(
-        component=com_18,
-        ingredient=ing_61)
+        component=com_18, ingredient=ing_61
+    )
     com_ing_191 = Component_ingredient.objects.create(
-        component=com_19,
-        ingredient=ing_100)
+        component=com_19, ingredient=ing_100
+    )
     com_ing_192 = Component_ingredient.objects.create(
-        component=com_19,
-        ingredient=ing_1)
+        component=com_19, ingredient=ing_1
+    )
     com_ing_193 = Component_ingredient.objects.create(
-        component=com_19,
-        ingredient=ing_9)
+        component=com_19, ingredient=ing_9
+    )
     com_ing_194 = Component_ingredient.objects.create(
-        component=com_19,
-        ingredient=ing_105)
+        component=com_19, ingredient=ing_105
+    )
     com_ing_195 = Component_ingredient.objects.create(
-        component=com_19,
-        ingredient=ing_137)
+        component=com_19, ingredient=ing_137
+    )
     com_ing_196 = Component_ingredient.objects.create(
-        component=com_19,
-        ingredient=ing_11)
+        component=com_19, ingredient=ing_11
+    )
     com_ing_197 = Component_ingredient.objects.create(
-        component=com_19,
-        ingredient=ing_138)
+        component=com_19, ingredient=ing_138
+    )
     com_ing_198 = Component_ingredient.objects.create(
-        component=com_19,
-        ingredient=ing_72)
+        component=com_19, ingredient=ing_72
+    )
     com_ing_199 = Component_ingredient.objects.create(
-        component=com_19,
-        ingredient=ing_13)
+        component=com_19, ingredient=ing_13
+    )
     com_ing_200 = Component_ingredient.objects.create(
-        component=com_19,
-        ingredient=ing_152)
+        component=com_19, ingredient=ing_152
+    )
     com_ing_201 = Component_ingredient.objects.create(
-        component=com_19,
-        ingredient=ing_48)
+        component=com_19, ingredient=ing_48
+    )
     com_ing_202 = Component_ingredient.objects.create(
-        component=com_19,
-        ingredient=ing_166)
+        component=com_19, ingredient=ing_166
+    )
     com_ing_203 = Component_ingredient.objects.create(
-        component=com_19,
-        ingredient=ing_61)
+        component=com_19, ingredient=ing_61
+    )
     com_ing_204 = Component_ingredient.objects.create(
-        component=com_20,
-        ingredient=ing_102)
+        component=com_20, ingredient=ing_102
+    )
     com_ing_205 = Component_ingredient.objects.create(
-        component=com_20,
-        ingredient=ing_55)
+        component=com_20, ingredient=ing_55
+    )
     com_ing_206 = Component_ingredient.objects.create(
-        component=com_20,
-        ingredient=ing_129)
+        component=com_20, ingredient=ing_129
+    )
     com_ing_207 = Component_ingredient.objects.create(
-        component=com_20,
-        ingredient=ing_9)
+        component=com_20, ingredient=ing_9
+    )
     com_ing_208 = Component_ingredient.objects.create(
-        component=com_20,
-        ingredient=ing_138)
+        component=com_20, ingredient=ing_138
+    )
     com_ing_209 = Component_ingredient.objects.create(
-        component=com_20,
-        ingredient=ing_145)
+        component=com_20, ingredient=ing_145
+    )
     com_ing_210 = Component_ingredient.objects.create(
-        component=com_20,
-        ingredient=ing_47)
+        component=com_20, ingredient=ing_47
+    )
     com_ing_211 = Component_ingredient.objects.create(
-        component=com_20,
-        ingredient=ing_150)
+        component=com_20, ingredient=ing_150
+    )
     com_ing_212 = Component_ingredient.objects.create(
-        component=com_20,
-        ingredient=ing_49)
+        component=com_20, ingredient=ing_49
+    )
     com_ing_213 = Component_ingredient.objects.create(
-        component=com_20,
-        ingredient=ing_116)
+        component=com_20, ingredient=ing_116
+    )
     com_ing_214 = Component_ingredient.objects.create(
-        component=com_20,
-        ingredient=ing_32)
+        component=com_20, ingredient=ing_32
+    )
     com_ing_215 = Component_ingredient.objects.create(
-        component=com_20,
-        ingredient=ing_97)
+        component=com_20, ingredient=ing_97
+    )
     com_ing_216 = Component_ingredient.objects.create(
-        component=com_20,
-        ingredient=ing_63)
+        component=com_20, ingredient=ing_63
+    )
     com_ing_217 = Component_ingredient.objects.create(
-        component=com_20,
-        ingredient=ing_169)
+        component=com_20, ingredient=ing_169
+    )
     com_ing_218 = Component_ingredient.objects.create(
-        component=com_21,
-        ingredient=ing_39)
+        component=com_21, ingredient=ing_39
+    )
     com_ing_219 = Component_ingredient.objects.create(
-        component=com_21,
-        ingredient=ing_129)
+        component=com_21, ingredient=ing_129
+    )
     com_ing_220 = Component_ingredient.objects.create(
-        component=com_21,
-        ingredient=ing_85)
+        component=com_21, ingredient=ing_85
+    )
     com_ing_221 = Component_ingredient.objects.create(
-        component=com_21,
-        ingredient=ing_138)
+        component=com_21, ingredient=ing_138
+    )
     com_ing_222 = Component_ingredient.objects.create(
-        component=com_21,
-        ingredient=ing_140)
+        component=com_21, ingredient=ing_140
+    )
     com_ing_223 = Component_ingredient.objects.create(
-        component=com_21,
-        ingredient=ing_146)
+        component=com_21, ingredient=ing_146
+    )
     com_ing_224 = Component_ingredient.objects.create(
-        component=com_21,
-        ingredient=ing_151)
+        component=com_21, ingredient=ing_151
+    )
     com_ing_225 = Component_ingredient.objects.create(
-        component=com_21,
-        ingredient=ing_152)
+        component=com_21, ingredient=ing_152
+    )
     com_ing_226 = Component_ingredient.objects.create(
-        component=com_21,
-        ingredient=ing_116)
+        component=com_21, ingredient=ing_116
+    )
     com_ing_227 = Component_ingredient.objects.create(
-        component=com_22,
-        ingredient=ing_129)
+        component=com_22, ingredient=ing_129
+    )
     com_ing_228 = Component_ingredient.objects.create(
-        component=com_22,
-        ingredient=ing_71)
+        component=com_22, ingredient=ing_71
+    )
     com_ing_229 = Component_ingredient.objects.create(
-        component=com_22,
-        ingredient=ing_45)
+        component=com_22, ingredient=ing_45
+    )
     com_ing_230 = Component_ingredient.objects.create(
-        component=com_22,
-        ingredient=ing_107)
+        component=com_22, ingredient=ing_107
+    )
     com_ing_231 = Component_ingredient.objects.create(
-        component=com_22,
-        ingredient=ing_138)
+        component=com_22, ingredient=ing_138
+    )
     com_ing_232 = Component_ingredient.objects.create(
-        component=com_22,
-        ingredient=ing_139)
+        component=com_22, ingredient=ing_139
+    )
     com_ing_233 = Component_ingredient.objects.create(
-        component=com_22,
-        ingredient=ing_86)
+        component=com_22, ingredient=ing_86
+    )
     com_ing_234 = Component_ingredient.objects.create(
-        component=com_22,
-        ingredient=ing_148)
+        component=com_22, ingredient=ing_148
+    )
     com_ing_235 = Component_ingredient.objects.create(
-        component=com_22,
-        ingredient=ing_152)
+        component=com_22, ingredient=ing_152
+    )
     com_ing_236 = Component_ingredient.objects.create(
-        component=com_22,
-        ingredient=ing_24)
+        component=com_22, ingredient=ing_24
+    )
     com_ing_237 = Component_ingredient.objects.create(
-        component=com_22,
-        ingredient=ing_25)
+        component=com_22, ingredient=ing_25
+    )
     com_ing_238 = Component_ingredient.objects.create(
-        component=com_22,
-        ingredient=ing_28)
+        component=com_22, ingredient=ing_28
+    )
     com_ing_239 = Component_ingredient.objects.create(
-        component=com_22,
-        ingredient=ing_94)
+        component=com_22, ingredient=ing_94
+    )
     com_ing_240 = Component_ingredient.objects.create(
-        component=com_22,
-        ingredient=ing_95)
+        component=com_22, ingredient=ing_95
+    )
     com_ing_241 = Component_ingredient.objects.create(
-        component=com_22,
-        ingredient=ing_118)
+        component=com_22, ingredient=ing_118
+    )
     com_ing_242 = Component_ingredient.objects.create(
-        component=com_23,
-        ingredient=ing_43)
+        component=com_23, ingredient=ing_43
+    )
     com_ing_243 = Component_ingredient.objects.create(
-        component=com_23,
-        ingredient=ing_129)
+        component=com_23, ingredient=ing_129
+    )
     com_ing_244 = Component_ingredient.objects.create(
-        component=com_23,
-        ingredient=ing_6)
+        component=com_23, ingredient=ing_6
+    )
     com_ing_245 = Component_ingredient.objects.create(
-        component=com_23,
-        ingredient=ing_9)
+        component=com_23, ingredient=ing_9
+    )
     com_ing_246 = Component_ingredient.objects.create(
-        component=com_23,
-        ingredient=ing_138)
+        component=com_23, ingredient=ing_138
+    )
     com_ing_247 = Component_ingredient.objects.create(
-        component=com_23,
-        ingredient=ing_146)
+        component=com_23, ingredient=ing_146
+    )
     com_ing_248 = Component_ingredient.objects.create(
-        component=com_23,
-        ingredient=ing_147)
+        component=com_23, ingredient=ing_147
+    )
     com_ing_249 = Component_ingredient.objects.create(
-        component=com_23,
-        ingredient=ing_152)
+        component=com_23, ingredient=ing_152
+    )
     com_ing_250 = Component_ingredient.objects.create(
-        component=com_23,
-        ingredient=ing_32)
+        component=com_23, ingredient=ing_32
+    )
     com_ing_251 = Component_ingredient.objects.create(
-        component=com_23,
-        ingredient=ing_36)
+        component=com_23, ingredient=ing_36
+    )
     com_ing_252 = Component_ingredient.objects.create(
-        component=com_24,
-        ingredient=ing_129)
+        component=com_24, ingredient=ing_129
+    )
     com_ing_253 = Component_ingredient.objects.create(
-        component=com_24,
-        ingredient=ing_131)
+        component=com_24, ingredient=ing_131
+    )
     com_ing_254 = Component_ingredient.objects.create(
-        component=com_24,
-        ingredient=ing_85)
+        component=com_24, ingredient=ing_85
+    )
     com_ing_255 = Component_ingredient.objects.create(
-        component=com_24,
-        ingredient=ing_138)
+        component=com_24, ingredient=ing_138
+    )
     com_ing_256 = Component_ingredient.objects.create(
-        component=com_24,
-        ingredient=ing_150)
+        component=com_24, ingredient=ing_150
+    )
     com_ing_257 = Component_ingredient.objects.create(
-        component=com_24,
-        ingredient=ing_152)
+        component=com_24, ingredient=ing_152
+    )
     com_ing_258 = Component_ingredient.objects.create(
-        component=com_24,
-        ingredient=ing_78)
+        component=com_24, ingredient=ing_78
+    )
     com_ing_259 = Component_ingredient.objects.create(
-        component=com_25,
-        ingredient=ing_38)
+        component=com_25, ingredient=ing_38
+    )
     com_ing_260 = Component_ingredient.objects.create(
-        component=com_25,
-        ingredient=ing_129)
+        component=com_25, ingredient=ing_129
+    )
     com_ing_261 = Component_ingredient.objects.create(
-        component=com_25,
-        ingredient=ing_46)
+        component=com_25, ingredient=ing_46
+    )
     com_ing_262 = Component_ingredient.objects.create(
-        component=com_25,
-        ingredient=ing_11)
+        component=com_25, ingredient=ing_11
+    )
     com_ing_263 = Component_ingredient.objects.create(
-        component=com_25,
-        ingredient=ing_138)
+        component=com_25, ingredient=ing_138
+    )
     com_ing_264 = Component_ingredient.objects.create(
-        component=com_25,
-        ingredient=ing_146)
+        component=com_25, ingredient=ing_146
+    )
     com_ing_265 = Component_ingredient.objects.create(
-        component=com_25,
-        ingredient=ing_147)
+        component=com_25, ingredient=ing_147
+    )
     com_ing_266 = Component_ingredient.objects.create(
-        component=com_25,
-        ingredient=ing_88)
+        component=com_25, ingredient=ing_88
+    )
     com_ing_267 = Component_ingredient.objects.create(
-        component=com_25,
-        ingredient=ing_152)
+        component=com_25, ingredient=ing_152
+    )
     com_ing_268 = Component_ingredient.objects.create(
-        component=com_26,
-        ingredient=ing_102)
+        component=com_26, ingredient=ing_102
+    )
     com_ing_269 = Component_ingredient.objects.create(
-        component=com_26,
-        ingredient=ing_128)
+        component=com_26, ingredient=ing_128
+    )
     com_ing_270 = Component_ingredient.objects.create(
-        component=com_26,
-        ingredient=ing_138)
+        component=com_26, ingredient=ing_138
+    )
     com_ing_271 = Component_ingredient.objects.create(
-        component=com_26,
-        ingredient=ing_152)
+        component=com_26, ingredient=ing_152
+    )
     com_ing_272 = Component_ingredient.objects.create(
-        component=com_26,
-        ingredient=ing_154)
+        component=com_26, ingredient=ing_154
+    )
     com_ing_273 = Component_ingredient.objects.create(
-        component=com_26,
-        ingredient=ing_77)
+        component=com_26, ingredient=ing_77
+    )
     com_ing_274 = Component_ingredient.objects.create(
-        component=com_26,
-        ingredient=ing_155)
+        component=com_26, ingredient=ing_155
+    )
     com_ing_275 = Component_ingredient.objects.create(
-        component=com_26,
-        ingredient=ing_97)
+        component=com_26, ingredient=ing_97
+    )
     com_ing_276 = Component_ingredient.objects.create(
-        component=com_27,
-        ingredient=ing_101)
+        component=com_27, ingredient=ing_101
+    )
     com_ing_277 = Component_ingredient.objects.create(
-        component=com_27,
-        ingredient=ing_129)
+        component=com_27, ingredient=ing_129
+    )
     com_ing_278 = Component_ingredient.objects.create(
-        component=com_27,
-        ingredient=ing_131)
+        component=com_27, ingredient=ing_131
+    )
     com_ing_279 = Component_ingredient.objects.create(
-        component=com_27,
-        ingredient=ing_138)
+        component=com_27, ingredient=ing_138
+    )
     com_ing_280 = Component_ingredient.objects.create(
-        component=com_27,
-        ingredient=ing_152)
+        component=com_27, ingredient=ing_152
+    )
     com_ing_281 = Component_ingredient.objects.create(
-        component=com_27,
-        ingredient=ing_49)
+        component=com_27, ingredient=ing_49
+    )
     com_ing_282 = Component_ingredient.objects.create(
-        component=com_27,
-        ingredient=ing_77)
+        component=com_27, ingredient=ing_77
+    )
     com_ing_283 = Component_ingredient.objects.create(
-        component=com_27,
-        ingredient=ing_51)
+        component=com_27, ingredient=ing_51
+    )
     com_ing_284 = Component_ingredient.objects.create(
-        component=com_27,
-        ingredient=ing_166)
+        component=com_27, ingredient=ing_166
+    )
     com_ing_285 = Component_ingredient.objects.create(
-        component=com_27,
-        ingredient=ing_68)
+        component=com_27, ingredient=ing_68
+    )
     com_ing_286 = Component_ingredient.objects.create(
-        component=com_28,
-        ingredient=ing_55)
+        component=com_28, ingredient=ing_55
+    )
     com_ing_287 = Component_ingredient.objects.create(
-        component=com_28,
-        ingredient=ing_131)
+        component=com_28, ingredient=ing_131
+    )
     com_ing_288 = Component_ingredient.objects.create(
-        component=com_28,
-        ingredient=ing_138)
+        component=com_28, ingredient=ing_138
+    )
     com_ing_289 = Component_ingredient.objects.create(
-        component=com_28,
-        ingredient=ing_152)
+        component=com_28, ingredient=ing_152
+    )
     com_ing_290 = Component_ingredient.objects.create(
-        component=com_28,
-        ingredient=ing_114)
+        component=com_28, ingredient=ing_114
+    )
     com_ing_291 = Component_ingredient.objects.create(
-        component=com_28,
-        ingredient=ing_49)
+        component=com_28, ingredient=ing_49
+    )
     com_ing_292 = Component_ingredient.objects.create(
-        component=com_28,
-        ingredient=ing_98)
+        component=com_28, ingredient=ing_98
+    )
     com_ing_293 = Component_ingredient.objects.create(
-        component=com_28,
-        ingredient=ing_166)
+        component=com_28, ingredient=ing_166
+    )
     com_ing_294 = Component_ingredient.objects.create(
-        component=com_28,
-        ingredient=ing_97)
+        component=com_28, ingredient=ing_97
+    )
     com_ing_295 = Component_ingredient.objects.create(
-        component=com_29,
-        ingredient=ing_54)
+        component=com_29, ingredient=ing_54
+    )
     com_ing_296 = Component_ingredient.objects.create(
-        component=com_29,
-        ingredient=ing_105)
+        component=com_29, ingredient=ing_105
+    )
     com_ing_297 = Component_ingredient.objects.create(
-        component=com_29,
-        ingredient=ing_106)
+        component=com_29, ingredient=ing_106
+    )
     com_ing_298 = Component_ingredient.objects.create(
-        component=com_29,
-        ingredient=ing_134)
+        component=com_29, ingredient=ing_134
+    )
     com_ing_299 = Component_ingredient.objects.create(
-        component=com_29,
-        ingredient=ing_138)
+        component=com_29, ingredient=ing_138
+    )
     com_ing_300 = Component_ingredient.objects.create(
-        component=com_29,
-        ingredient=ing_72)
+        component=com_29, ingredient=ing_72
+    )
     com_ing_301 = Component_ingredient.objects.create(
-        component=com_29,
-        ingredient=ing_13)
+        component=com_29, ingredient=ing_13
+    )
     com_ing_302 = Component_ingredient.objects.create(
-        component=com_29,
-        ingredient=ing_113)
+        component=com_29, ingredient=ing_113
+    )
     com_ing_303 = Component_ingredient.objects.create(
-        component=com_29,
-        ingredient=ing_152)
+        component=com_29, ingredient=ing_152
+    )
     com_ing_304 = Component_ingredient.objects.create(
-        component=com_29,
-        ingredient=ing_114)
+        component=com_29, ingredient=ing_114
+    )
     com_ing_305 = Component_ingredient.objects.create(
-        component=com_29,
-        ingredient=ing_155)
+        component=com_29, ingredient=ing_155
+    )
     com_ing_306 = Component_ingredient.objects.create(
-        component=com_29,
-        ingredient=ing_115)
+        component=com_29, ingredient=ing_115
+    )
     com_ing_307 = Component_ingredient.objects.create(
-        component=com_29,
-        ingredient=ing_51)
+        component=com_29, ingredient=ing_51
+    )
     com_ing_308 = Component_ingredient.objects.create(
-        component=com_30,
-        ingredient=ing_1)
+        component=com_30, ingredient=ing_1
+    )
     com_ing_309 = Component_ingredient.objects.create(
-        component=com_30,
-        ingredient=ing_138)
+        component=com_30, ingredient=ing_138
+    )
     com_ing_310 = Component_ingredient.objects.create(
-        component=com_30,
-        ingredient=ing_13)
+        component=com_30, ingredient=ing_13
+    )
     com_ing_311 = Component_ingredient.objects.create(
-        component=com_30,
-        ingredient=ing_152)
+        component=com_30, ingredient=ing_152
+    )
     com_ing_312 = Component_ingredient.objects.create(
-        component=com_30,
-        ingredient=ing_99)
+        component=com_30, ingredient=ing_99
+    )
     com_ing_313 = Component_ingredient.objects.create(
-        component=com_30,
-        ingredient=ing_116)
+        component=com_30, ingredient=ing_116
+    )
     com_ing_314 = Component_ingredient.objects.create(
-        component=com_30,
-        ingredient=ing_166)
+        component=com_30, ingredient=ing_166
+    )
     com_ing_315 = Component_ingredient.objects.create(
-        component=com_30,
-        ingredient=ing_61)
+        component=com_30, ingredient=ing_61
+    )
     com_ing_316 = Component_ingredient.objects.create(
-        component=com_31,
-        ingredient=ing_126)
+        component=com_31, ingredient=ing_126
+    )
     com_ing_317 = Component_ingredient.objects.create(
-        component=com_31,
-        ingredient=ing_129)
+        component=com_31, ingredient=ing_129
+    )
     com_ing_318 = Component_ingredient.objects.create(
-        component=com_31,
-        ingredient=ing_138)
+        component=com_31, ingredient=ing_138
+    )
     com_ing_319 = Component_ingredient.objects.create(
-        component=com_31,
-        ingredient=ing_139)
+        component=com_31, ingredient=ing_139
+    )
     com_ing_320 = Component_ingredient.objects.create(
-        component=com_31,
-        ingredient=ing_142)
+        component=com_31, ingredient=ing_142
+    )
     com_ing_321 = Component_ingredient.objects.create(
-        component=com_31,
-        ingredient=ing_149)
+        component=com_31, ingredient=ing_149
+    )
     com_ing_322 = Component_ingredient.objects.create(
-        component=com_31,
-        ingredient=ing_150)
+        component=com_31, ingredient=ing_150
+    )
     com_ing_323 = Component_ingredient.objects.create(
-        component=com_31,
-        ingredient=ing_152)
+        component=com_31, ingredient=ing_152
+    )
     com_ing_324 = Component_ingredient.objects.create(
-        component=com_31,
-        ingredient=ing_159)
+        component=com_31, ingredient=ing_159
+    )
     com_ing_325 = Component_ingredient.objects.create(
-        component=com_31,
-        ingredient=ing_28)
+        component=com_31, ingredient=ing_28
+    )
     com_ing_326 = Component_ingredient.objects.create(
-        component=com_31,
-        ingredient=ing_94)
+        component=com_31, ingredient=ing_94
+    )
     com_ing_327 = Component_ingredient.objects.create(
-        component=com_31,
-        ingredient=ing_29)
+        component=com_31, ingredient=ing_29
+    )
     com_ing_328 = Component_ingredient.objects.create(
-        component=com_31,
-        ingredient=ing_99)
+        component=com_31, ingredient=ing_99
+    )
     com_ing_329 = Component_ingredient.objects.create(
-        component=com_32,
-        ingredient=ing_129)
+        component=com_32, ingredient=ing_129
+    )
     com_ing_330 = Component_ingredient.objects.create(
-        component=com_32,
-        ingredient=ing_9)
+        component=com_32, ingredient=ing_9
+    )
     com_ing_331 = Component_ingredient.objects.create(
-        component=com_32,
-        ingredient=ing_138)
+        component=com_32, ingredient=ing_138
+    )
     com_ing_332 = Component_ingredient.objects.create(
-        component=com_32,
-        ingredient=ing_72)
+        component=com_32, ingredient=ing_72
+    )
     com_ing_333 = Component_ingredient.objects.create(
-        component=com_32,
-        ingredient=ing_150)
+        component=com_32, ingredient=ing_150
+    )
     com_ing_334 = Component_ingredient.objects.create(
-        component=com_32,
-        ingredient=ing_152)
+        component=com_32, ingredient=ing_152
+    )
     com_ing_335 = Component_ingredient.objects.create(
-        component=com_32,
-        ingredient=ing_48)
+        component=com_32, ingredient=ing_48
+    )
     com_ing_336 = Component_ingredient.objects.create(
-        component=com_32,
-        ingredient=ing_31)
+        component=com_32, ingredient=ing_31
+    )
     com_ing_337 = Component_ingredient.objects.create(
-        component=com_32,
-        ingredient=ing_166)
+        component=com_32, ingredient=ing_166
+    )
     com_ing_338 = Component_ingredient.objects.create(
-        component=com_32,
-        ingredient=ing_37)
+        component=com_32, ingredient=ing_37
+    )
     com_ing_339 = Component_ingredient.objects.create(
-        component=com_32,
-        ingredient=ing_169)
+        component=com_32, ingredient=ing_169
+    )
     com_ing_340 = Component_ingredient.objects.create(
-        component=com_33,
-        ingredient=ing_55)
+        component=com_33, ingredient=ing_55
+    )
     com_ing_341 = Component_ingredient.objects.create(
-        component=com_33,
-        ingredient=ing_1)
+        component=com_33, ingredient=ing_1
+    )
     com_ing_342 = Component_ingredient.objects.create(
-        component=com_33,
-        ingredient=ing_131)
+        component=com_33, ingredient=ing_131
+    )
     com_ing_343 = Component_ingredient.objects.create(
-        component=com_33,
-        ingredient=ing_138)
+        component=com_33, ingredient=ing_138
+    )
     com_ing_344 = Component_ingredient.objects.create(
-        component=com_33,
-        ingredient=ing_150)
+        component=com_33, ingredient=ing_150
+    )
     com_ing_345 = Component_ingredient.objects.create(
-        component=com_33,
-        ingredient=ing_152)
+        component=com_33, ingredient=ing_152
+    )
     com_ing_346 = Component_ingredient.objects.create(
-        component=com_33,
-        ingredient=ing_166)
+        component=com_33, ingredient=ing_166
+    )
     com_ing_347 = Component_ingredient.objects.create(
-        component=com_33,
-        ingredient=ing_81)
+        component=com_33, ingredient=ing_81
+    )
     com_ing_348 = Component_ingredient.objects.create(
-        component=com_33,
-        ingredient=ing_61)
+        component=com_33, ingredient=ing_61
+    )
     com_ing_349 = Component_ingredient.objects.create(
-        component=com_33,
-        ingredient=ing_97)
+        component=com_33, ingredient=ing_97
+    )
     com_ing_350 = Component_ingredient.objects.create(
-        component=com_34,
-        ingredient=ing_43)
+        component=com_34, ingredient=ing_43
+    )
     com_ing_351 = Component_ingredient.objects.create(
-        component=com_34,
-        ingredient=ing_128)
+        component=com_34, ingredient=ing_128
+    )
     com_ing_352 = Component_ingredient.objects.create(
-        component=com_34,
-        ingredient=ing_65)
+        component=com_34, ingredient=ing_65
+    )
     com_ing_353 = Component_ingredient.objects.create(
-        component=com_34,
-        ingredient=ing_44)
+        component=com_34, ingredient=ing_44
+    )
     com_ing_354 = Component_ingredient.objects.create(
-        component=com_34,
-        ingredient=ing_45)
+        component=com_34, ingredient=ing_45
+    )
     com_ing_355 = Component_ingredient.objects.create(
-        component=com_34,
-        ingredient=ing_46)
+        component=com_34, ingredient=ing_46
+    )
     com_ing_356 = Component_ingredient.objects.create(
-        component=com_34,
-        ingredient=ing_137)
+        component=com_34, ingredient=ing_137
+    )
     com_ing_357 = Component_ingredient.objects.create(
-        component=com_34,
-        ingredient=ing_138)
+        component=com_34, ingredient=ing_138
+    )
     com_ing_358 = Component_ingredient.objects.create(
-        component=com_34,
-        ingredient=ing_141)
+        component=com_34, ingredient=ing_141
+    )
     com_ing_359 = Component_ingredient.objects.create(
-        component=com_34,
-        ingredient=ing_142)
+        component=com_34, ingredient=ing_142
+    )
     com_ing_360 = Component_ingredient.objects.create(
-        component=com_34,
-        ingredient=ing_47)
+        component=com_34, ingredient=ing_47
+    )
     com_ing_361 = Component_ingredient.objects.create(
-        component=com_34,
-        ingredient=ing_152)
+        component=com_34, ingredient=ing_152
+    )
     com_ing_362 = Component_ingredient.objects.create(
-        component=com_34,
-        ingredient=ing_48)
+        component=com_34, ingredient=ing_48
+    )
     com_ing_363 = Component_ingredient.objects.create(
-        component=com_34,
-        ingredient=ing_49)
+        component=com_34, ingredient=ing_49
+    )
     com_ing_364 = Component_ingredient.objects.create(
-        component=com_34,
-        ingredient=ing_159)
+        component=com_34, ingredient=ing_159
+    )
     com_ing_365 = Component_ingredient.objects.create(
-        component=com_34,
-        ingredient=ing_50)
+        component=com_34, ingredient=ing_50
+    )
     com_ing_366 = Component_ingredient.objects.create(
-        component=com_34,
-        ingredient=ing_163)
+        component=com_34, ingredient=ing_163
+    )
     com_ing_367 = Component_ingredient.objects.create(
-        component=com_34,
-        ingredient=ing_51)
+        component=com_34, ingredient=ing_51
+    )
     com_ing_368 = Component_ingredient.objects.create(
-        component=com_34,
-        ingredient=ing_166)
+        component=com_34, ingredient=ing_166
+    )
     com_ing_369 = Component_ingredient.objects.create(
-        component=com_34,
-        ingredient=ing_169)
+        component=com_34, ingredient=ing_169
+    )
     com_ing_370 = Component_ingredient.objects.create(
-        component=com_35,
-        ingredient=ing_55)
+        component=com_35, ingredient=ing_55
+    )
     com_ing_371 = Component_ingredient.objects.create(
-        component=com_35,
-        ingredient=ing_129)
+        component=com_35, ingredient=ing_129
+    )
     com_ing_372 = Component_ingredient.objects.create(
-        component=com_35,
-        ingredient=ing_45)
+        component=com_35, ingredient=ing_45
+    )
     com_ing_373 = Component_ingredient.objects.create(
-        component=com_35,
-        ingredient=ing_137)
+        component=com_35, ingredient=ing_137
+    )
     com_ing_374 = Component_ingredient.objects.create(
-        component=com_35,
-        ingredient=ing_11)
+        component=com_35, ingredient=ing_11
+    )
     com_ing_375 = Component_ingredient.objects.create(
-        component=com_35,
-        ingredient=ing_138)
+        component=com_35, ingredient=ing_138
+    )
     com_ing_376 = Component_ingredient.objects.create(
-        component=com_35,
-        ingredient=ing_139)
+        component=com_35, ingredient=ing_139
+    )
     com_ing_377 = Component_ingredient.objects.create(
-        component=com_35,
-        ingredient=ing_152)
+        component=com_35, ingredient=ing_152
+    )
     com_ing_378 = Component_ingredient.objects.create(
-        component=com_35,
-        ingredient=ing_92)
+        component=com_35, ingredient=ing_92
+    )
     com_ing_379 = Component_ingredient.objects.create(
-        component=com_35,
-        ingredient=ing_95)
+        component=com_35, ingredient=ing_95
+    )
     com_ing_380 = Component_ingredient.objects.create(
-        component=com_35,
-        ingredient=ing_169)
+        component=com_35, ingredient=ing_169
+    )
     com_ing_381 = Component_ingredient.objects.create(
-        component=com_36,
-        ingredient=ing_4)
+        component=com_36, ingredient=ing_4
+    )
     com_ing_382 = Component_ingredient.objects.create(
-        component=com_36,
-        ingredient=ing_9)
+        component=com_36, ingredient=ing_9
+    )
     com_ing_383 = Component_ingredient.objects.create(
-        component=com_36,
-        ingredient=ing_137)
+        component=com_36, ingredient=ing_137
+    )
     com_ing_384 = Component_ingredient.objects.create(
-        component=com_36,
-        ingredient=ing_138)
+        component=com_36, ingredient=ing_138
+    )
     com_ing_385 = Component_ingredient.objects.create(
-        component=com_36,
-        ingredient=ing_150)
+        component=com_36, ingredient=ing_150
+    )
     com_ing_386 = Component_ingredient.objects.create(
-        component=com_36,
-        ingredient=ing_152)
+        component=com_36, ingredient=ing_152
+    )
     com_ing_387 = Component_ingredient.objects.create(
-        component=com_36,
-        ingredient=ing_48)
+        component=com_36, ingredient=ing_48
+    )
     com_ing_388 = Component_ingredient.objects.create(
-        component=com_36,
-        ingredient=ing_162)
+        component=com_36, ingredient=ing_162
+    )
     com_ing_389 = Component_ingredient.objects.create(
-        component=com_36,
-        ingredient=ing_166)
+        component=com_36, ingredient=ing_166
+    )
     com_ing_390 = Component_ingredient.objects.create(
-        component=com_36,
-        ingredient=ing_33)
+        component=com_36, ingredient=ing_33
+    )
     com_ing_391 = Component_ingredient.objects.create(
-        component=com_36,
-        ingredient=ing_169)
+        component=com_36, ingredient=ing_169
+    )
     com_ing_392 = Component_ingredient.objects.create(
-        component=com_37,
-        ingredient=ing_129)
+        component=com_37, ingredient=ing_129
+    )
     com_ing_393 = Component_ingredient.objects.create(
-        component=com_37,
-        ingredient=ing_65)
+        component=com_37, ingredient=ing_65
+    )
     com_ing_394 = Component_ingredient.objects.create(
-        component=com_37,
-        ingredient=ing_104)
+        component=com_37, ingredient=ing_104
+    )
     com_ing_395 = Component_ingredient.objects.create(
-        component=com_37,
-        ingredient=ing_134)
+        component=com_37, ingredient=ing_134
+    )
     com_ing_396 = Component_ingredient.objects.create(
-        component=com_37,
-        ingredient=ing_108)
+        component=com_37, ingredient=ing_108
+    )
     com_ing_397 = Component_ingredient.objects.create(
-        component=com_37,
-        ingredient=ing_138)
+        component=com_37, ingredient=ing_138
+    )
     com_ing_398 = Component_ingredient.objects.create(
-        component=com_37,
-        ingredient=ing_66)
+        component=com_37, ingredient=ing_66
+    )
     com_ing_399 = Component_ingredient.objects.create(
-        component=com_37,
-        ingredient=ing_152)
+        component=com_37, ingredient=ing_152
+    )
     com_ing_400 = Component_ingredient.objects.create(
-        component=com_37,
-        ingredient=ing_48)
+        component=com_37, ingredient=ing_48
+    )
     com_ing_401 = Component_ingredient.objects.create(
-        component=com_37,
-        ingredient=ing_164)
+        component=com_37, ingredient=ing_164
+    )
     com_ing_402 = Component_ingredient.objects.create(
-        component=com_37,
-        ingredient=ing_166)
+        component=com_37, ingredient=ing_166
+    )
     com_ing_403 = Component_ingredient.objects.create(
-        component=com_37,
-        ingredient=ing_169)
+        component=com_37, ingredient=ing_169
+    )
     com_ing_404 = Component_ingredient.objects.create(
-        component=com_38,
-        ingredient=ing_43)
+        component=com_38, ingredient=ing_43
+    )
     com_ing_405 = Component_ingredient.objects.create(
-        component=com_38,
-        ingredient=ing_4)
+        component=com_38, ingredient=ing_4
+    )
     com_ing_406 = Component_ingredient.objects.create(
-        component=com_38,
-        ingredient=ing_44)
+        component=com_38, ingredient=ing_44
+    )
     com_ing_407 = Component_ingredient.objects.create(
-        component=com_38,
-        ingredient=ing_45)
+        component=com_38, ingredient=ing_45
+    )
     com_ing_408 = Component_ingredient.objects.create(
-        component=com_38,
-        ingredient=ing_46)
+        component=com_38, ingredient=ing_46
+    )
     com_ing_409 = Component_ingredient.objects.create(
-        component=com_38,
-        ingredient=ing_11)
+        component=com_38, ingredient=ing_11
+    )
     com_ing_410 = Component_ingredient.objects.create(
-        component=com_38,
-        ingredient=ing_138)
+        component=com_38, ingredient=ing_138
+    )
     com_ing_411 = Component_ingredient.objects.create(
-        component=com_38,
-        ingredient=ing_47)
+        component=com_38, ingredient=ing_47
+    )
     com_ing_412 = Component_ingredient.objects.create(
-        component=com_38,
-        ingredient=ing_13)
+        component=com_38, ingredient=ing_13
+    )
     com_ing_413 = Component_ingredient.objects.create(
-        component=com_38,
-        ingredient=ing_152)
+        component=com_38, ingredient=ing_152
+    )
     com_ing_414 = Component_ingredient.objects.create(
-        component=com_38,
-        ingredient=ing_48)
+        component=com_38, ingredient=ing_48
+    )
     com_ing_415 = Component_ingredient.objects.create(
-        component=com_38,
-        ingredient=ing_49)
+        component=com_38, ingredient=ing_49
+    )
     com_ing_416 = Component_ingredient.objects.create(
-        component=com_38,
-        ingredient=ing_50)
+        component=com_38, ingredient=ing_50
+    )
     com_ing_417 = Component_ingredient.objects.create(
-        component=com_38,
-        ingredient=ing_162)
+        component=com_38, ingredient=ing_162
+    )
     com_ing_418 = Component_ingredient.objects.create(
-        component=com_38,
-        ingredient=ing_163)
+        component=com_38, ingredient=ing_163
+    )
     com_ing_419 = Component_ingredient.objects.create(
-        component=com_38,
-        ingredient=ing_51)
+        component=com_38, ingredient=ing_51
+    )
     com_ing_420 = Component_ingredient.objects.create(
-        component=com_38,
-        ingredient=ing_61)
+        component=com_38, ingredient=ing_61
+    )
     com_ing_421 = Component_ingredient.objects.create(
-        component=com_39,
-        ingredient=ing_82)
+        component=com_39, ingredient=ing_82
+    )
     com_ing_422 = Component_ingredient.objects.create(
-        component=com_39,
-        ingredient=ing_43)
+        component=com_39, ingredient=ing_43
+    )
     com_ing_423 = Component_ingredient.objects.create(
-        component=com_39,
-        ingredient=ing_55)
+        component=com_39, ingredient=ing_55
+    )
     com_ing_424 = Component_ingredient.objects.create(
-        component=com_39,
-        ingredient=ing_7)
+        component=com_39, ingredient=ing_7
+    )
     com_ing_425 = Component_ingredient.objects.create(
-        component=com_39,
-        ingredient=ing_135)
+        component=com_39, ingredient=ing_135
+    )
     com_ing_426 = Component_ingredient.objects.create(
-        component=com_39,
-        ingredient=ing_138)
+        component=com_39, ingredient=ing_138
+    )
     com_ing_427 = Component_ingredient.objects.create(
-        component=com_39,
-        ingredient=ing_147)
+        component=com_39, ingredient=ing_147
+    )
     com_ing_428 = Component_ingredient.objects.create(
-        component=com_39,
-        ingredient=ing_88)
+        component=com_39, ingredient=ing_88
+    )
     com_ing_429 = Component_ingredient.objects.create(
-        component=com_39,
-        ingredient=ing_152)
+        component=com_39, ingredient=ing_152
+    )
     com_ing_430 = Component_ingredient.objects.create(
-        component=com_39,
-        ingredient=ing_49)
+        component=com_39, ingredient=ing_49
+    )
     com_ing_431 = Component_ingredient.objects.create(
-        component=com_39,
-        ingredient=ing_32)
+        component=com_39, ingredient=ing_32
+    )
     com_ing_432 = Component_ingredient.objects.create(
-        component=com_39,
-        ingredient=ing_63)
+        component=com_39, ingredient=ing_63
+    )
     #
     print_rows(Component_ingredient.objects.filter(date=None))
 
     # -----------------------------------------------------------------------------
     ri_1 = Restricted_item.objects.create(
-        name='fish',
-        restricted_item_group='fish&seafood',
-        description='')
+        name="fish", restricted_item_group="fish&seafood", description=""
+    )
     ri_2 = Restricted_item.objects.create(
-        name='seafood',
-        restricted_item_group='fish&seafood',
-        description='')
+        name="seafood", restricted_item_group="fish&seafood", description=""
+    )
     ri_3 = Restricted_item.objects.create(
-        name='beef',
-        restricted_item_group='meat',
-        description='')
+        name="beef", restricted_item_group="meat", description=""
+    )
     ri_4 = Restricted_item.objects.create(
-        name='lamb',
-        restricted_item_group='meat',
-        description='gluten, salt')
+        name="lamb", restricted_item_group="meat", description="gluten, salt"
+    )
     ri_5 = Restricted_item.objects.create(
-        name='pork',
-        restricted_item_group='meat',
-        description='text')
+        name="pork", restricted_item_group="meat", description="text"
+    )
     ri_6 = Restricted_item.objects.create(
-        name='poultry',
-        restricted_item_group='meat',
-        description='text')
+        name="poultry", restricted_item_group="meat", description="text"
+    )
     ri_7 = Restricted_item.objects.create(
-        name='sausage',
-        restricted_item_group='meat',
-        description='text')
+        name="sausage", restricted_item_group="meat", description="text"
+    )
     ri_8 = Restricted_item.objects.create(
-        name='turkey ',
-        restricted_item_group='meat',
-        description='text')
+        name="turkey ", restricted_item_group="meat", description="text"
+    )
     ri_9 = Restricted_item.objects.create(
-        name='nuts ',
-        restricted_item_group='nuts&seeds',
-        description='')
+        name="nuts ", restricted_item_group="nuts&seeds", description=""
+    )
     ri_10 = Restricted_item.objects.create(
-        name='peanut butter',
-        restricted_item_group='nuts&seeds',
-        description='')
+        name="peanut butter", restricted_item_group="nuts&seeds", description=""
+    )
     ri_11 = Restricted_item.objects.create(
-        name='peanuts',
-        restricted_item_group='nuts&seeds',
-        description='gluten, salt')
+        name="peanuts", restricted_item_group="nuts&seeds", description="gluten, salt"
+    )
     ri_12 = Restricted_item.objects.create(
-        name='seeds',
-        restricted_item_group='nuts&seeds',
-        description='text')
+        name="seeds", restricted_item_group="nuts&seeds", description="text"
+    )
     ri_13 = Restricted_item.objects.create(
-        name='dairy',
-        restricted_item_group='other',
-        description='text')
+        name="dairy", restricted_item_group="other", description="text"
+    )
     ri_14 = Restricted_item.objects.create(
-        name='gluten',
-        restricted_item_group='other',
-        description='text')
+        name="gluten", restricted_item_group="other", description="text"
+    )
     ri_15 = Restricted_item.objects.create(
-        name='spicy',
-        restricted_item_group='other',
-        description='text')
+        name="spicy", restricted_item_group="other", description="text"
+    )
     ri_16 = Restricted_item.objects.create(
-        name='green veggies',
-        restricted_item_group='vegetables',
-        description='')
+        name="green veggies", restricted_item_group="vegetables", description=""
+    )
     ri_17 = Restricted_item.objects.create(
-        name='leafy greens',
-        restricted_item_group='vegetables',
-        description='')
+        name="leafy greens", restricted_item_group="vegetables", description=""
+    )
     ri_18 = Restricted_item.objects.create(
-        name='legumes',
-        restricted_item_group='vegetables',
-        description='gluten, salt')
+        name="legumes", restricted_item_group="vegetables", description="gluten, salt"
+    )
     #
     print_rows(Restricted_item.objects)
 
     # -----------------------------------------------------------------------------
-    inc_1 = Incompatibility.objects.create(
-        restricted_item=ri_3, ingredient=ing_69)
-    inc_2 = Incompatibility.objects.create(
-        restricted_item=ri_3, ingredient=ing_72)
-    inc_3 = Incompatibility.objects.create(
-        restricted_item=ri_3, ingredient=ing_78)
-    inc_4 = Incompatibility.objects.create(
-        restricted_item=ri_13, ingredient=ing_1)
-    inc_5 = Incompatibility.objects.create(
-        restricted_item=ri_13, ingredient=ing_2)
-    inc_6 = Incompatibility.objects.create(
-        restricted_item=ri_13, ingredient=ing_3)
-    inc_7 = Incompatibility.objects.create(
-        restricted_item=ri_13, ingredient=ing_4)
-    inc_8 = Incompatibility.objects.create(
-        restricted_item=ri_13, ingredient=ing_5)
-    inc_9 = Incompatibility.objects.create(
-        restricted_item=ri_13, ingredient=ing_6)
-    inc_10 = Incompatibility.objects.create(
-        restricted_item=ri_13, ingredient=ing_7)
-    inc_11 = Incompatibility.objects.create(
-        restricted_item=ri_13, ingredient=ing_8)
-    inc_12 = Incompatibility.objects.create(
-        restricted_item=ri_13, ingredient=ing_9)
-    inc_13 = Incompatibility.objects.create(
-        restricted_item=ri_13, ingredient=ing_10)
-    inc_14 = Incompatibility.objects.create(
-        restricted_item=ri_13, ingredient=ing_13)
-    inc_15 = Incompatibility.objects.create(
-        restricted_item=ri_13, ingredient=ing_15)
-    inc_16 = Incompatibility.objects.create(
-        restricted_item=ri_1, ingredient=ing_38)
-    inc_17 = Incompatibility.objects.create(
-        restricted_item=ri_1, ingredient=ing_39)
-    inc_18 = Incompatibility.objects.create(
-        restricted_item=ri_1, ingredient=ing_40)
-    inc_19 = Incompatibility.objects.create(
-        restricted_item=ri_1, ingredient=ing_41)
-    inc_20 = Incompatibility.objects.create(
-        restricted_item=ri_1, ingredient=ing_42)
-    inc_21 = Incompatibility.objects.create(
-        restricted_item=ri_14, ingredient=ing_52)
-    inc_22 = Incompatibility.objects.create(
-        restricted_item=ri_14, ingredient=ing_54)
-    inc_23 = Incompatibility.objects.create(
-        restricted_item=ri_14, ingredient=ing_57)
-    inc_24 = Incompatibility.objects.create(
-        restricted_item=ri_14, ingredient=ing_95)
-    inc_25 = Incompatibility.objects.create(
-        restricted_item=ri_14, ingredient=ing_61)
-    inc_26 = Incompatibility.objects.create(
-        restricted_item=ri_14, ingredient=ing_62)
-    inc_27 = Incompatibility.objects.create(
-        restricted_item=ri_14, ingredient=ing_33)
-    inc_28 = Incompatibility.objects.create(
-        restricted_item=ri_14, ingredient=ing_34)
-    inc_29 = Incompatibility.objects.create(
-        restricted_item=ri_14, ingredient=ing_35)
-    inc_30 = Incompatibility.objects.create(
-        restricted_item=ri_14, ingredient=ing_36)
-    inc_31 = Incompatibility.objects.create(
-        restricted_item=ri_14, ingredient=ing_37)
-    inc_32 = Incompatibility.objects.create(
-        restricted_item=ri_16, ingredient=ing_121)
-    inc_33 = Incompatibility.objects.create(
-        restricted_item=ri_16, ingredient=ing_125)
-    inc_34 = Incompatibility.objects.create(
-        restricted_item=ri_16, ingredient=ing_126)
-    inc_35 = Incompatibility.objects.create(
-        restricted_item=ri_16, ingredient=ing_127)
-    inc_36 = Incompatibility.objects.create(
-        restricted_item=ri_16, ingredient=ing_133)
-    inc_37 = Incompatibility.objects.create(
-        restricted_item=ri_16, ingredient=ing_136)
-    inc_38 = Incompatibility.objects.create(
-        restricted_item=ri_16, ingredient=ing_140)
-    inc_39 = Incompatibility.objects.create(
-        restricted_item=ri_16, ingredient=ing_141)
-    inc_40 = Incompatibility.objects.create(
-        restricted_item=ri_16, ingredient=ing_142)
-    inc_41 = Incompatibility.objects.create(
-        restricted_item=ri_16, ingredient=ing_143)
-    inc_42 = Incompatibility.objects.create(
-        restricted_item=ri_16, ingredient=ing_147)
-    inc_43 = Incompatibility.objects.create(
-        restricted_item=ri_16, ingredient=ing_160)
-    inc_44 = Incompatibility.objects.create(
-        restricted_item=ri_16, ingredient=ing_161)
-    inc_45 = Incompatibility.objects.create(
-        restricted_item=ri_16, ingredient=ing_162)
-    inc_46 = Incompatibility.objects.create(
-        restricted_item=ri_16, ingredient=ing_165)
-    inc_47 = Incompatibility.objects.create(
-        restricted_item=ri_16, ingredient=ing_169)
-    inc_48 = Incompatibility.objects.create(
-        restricted_item=ri_4, ingredient=ing_75)
-    inc_49 = Incompatibility.objects.create(
-        restricted_item=ri_17, ingredient=ing_121)
-    inc_50 = Incompatibility.objects.create(
-        restricted_item=ri_17, ingredient=ing_133)
-    inc_51 = Incompatibility.objects.create(
-        restricted_item=ri_17, ingredient=ing_143)
-    inc_52 = Incompatibility.objects.create(
-        restricted_item=ri_17, ingredient=ing_147)
-    inc_53 = Incompatibility.objects.create(
-        restricted_item=ri_17, ingredient=ing_162)
-    inc_54 = Incompatibility.objects.create(
-        restricted_item=ri_17, ingredient=ing_165)
-    inc_55 = Incompatibility.objects.create(
-        restricted_item=ri_18, ingredient=ing_64)
-    inc_56 = Incompatibility.objects.create(
-        restricted_item=ri_18, ingredient=ing_65)
-    inc_57 = Incompatibility.objects.create(
-        restricted_item=ri_18, ingredient=ing_66)
-    inc_58 = Incompatibility.objects.create(
-        restricted_item=ri_18, ingredient=ing_67)
-    inc_59 = Incompatibility.objects.create(
-        restricted_item=ri_18, ingredient=ing_14)
-    inc_60 = Incompatibility.objects.create(
-        restricted_item=ri_18, ingredient=ing_68)
-    inc_61 = Incompatibility.objects.create(
-        restricted_item=ri_9, ingredient=ing_16)
-    inc_62 = Incompatibility.objects.create(
-        restricted_item=ri_9, ingredient=ing_17)
-    inc_63 = Incompatibility.objects.create(
-        restricted_item=ri_9, ingredient=ing_24)
-    inc_64 = Incompatibility.objects.create(
-        restricted_item=ri_9, ingredient=ing_25)
-    inc_65 = Incompatibility.objects.create(
-        restricted_item=ri_9, ingredient=ing_32)
-    inc_66 = Incompatibility.objects.create(
-        restricted_item=ri_10, ingredient=ing_24)
-    inc_67 = Incompatibility.objects.create(
-        restricted_item=ri_11, ingredient=ing_24)
-    inc_68 = Incompatibility.objects.create(
-        restricted_item=ri_11, ingredient=ing_25)
-    inc_69 = Incompatibility.objects.create(
-        restricted_item=ri_5, ingredient=ing_73)
-    inc_70 = Incompatibility.objects.create(
-        restricted_item=ri_5, ingredient=ing_74)
-    inc_71 = Incompatibility.objects.create(
-        restricted_item=ri_5, ingredient=ing_77)
-    inc_72 = Incompatibility.objects.create(
-        restricted_item=ri_6, ingredient=ing_71)
-    inc_73 = Incompatibility.objects.create(
-        restricted_item=ri_6, ingredient=ing_81)
-    inc_74 = Incompatibility.objects.create(
-        restricted_item=ri_7, ingredient=ing_77)
-    inc_75 = Incompatibility.objects.create(
-        restricted_item=ri_2, ingredient=ing_98)
-    inc_76 = Incompatibility.objects.create(
-        restricted_item=ri_2, ingredient=ing_99)
-    inc_77 = Incompatibility.objects.create(
-        restricted_item=ri_12, ingredient=ing_30)
-    inc_78 = Incompatibility.objects.create(
-        restricted_item=ri_15, ingredient=ing_104)
-    inc_79 = Incompatibility.objects.create(
-        restricted_item=ri_15, ingredient=ing_109)
-    inc_80 = Incompatibility.objects.create(
-        restricted_item=ri_8, ingredient=ing_81)
+    inc_1 = Incompatibility.objects.create(restricted_item=ri_3, ingredient=ing_69)
+    inc_2 = Incompatibility.objects.create(restricted_item=ri_3, ingredient=ing_72)
+    inc_3 = Incompatibility.objects.create(restricted_item=ri_3, ingredient=ing_78)
+    inc_4 = Incompatibility.objects.create(restricted_item=ri_13, ingredient=ing_1)
+    inc_5 = Incompatibility.objects.create(restricted_item=ri_13, ingredient=ing_2)
+    inc_6 = Incompatibility.objects.create(restricted_item=ri_13, ingredient=ing_3)
+    inc_7 = Incompatibility.objects.create(restricted_item=ri_13, ingredient=ing_4)
+    inc_8 = Incompatibility.objects.create(restricted_item=ri_13, ingredient=ing_5)
+    inc_9 = Incompatibility.objects.create(restricted_item=ri_13, ingredient=ing_6)
+    inc_10 = Incompatibility.objects.create(restricted_item=ri_13, ingredient=ing_7)
+    inc_11 = Incompatibility.objects.create(restricted_item=ri_13, ingredient=ing_8)
+    inc_12 = Incompatibility.objects.create(restricted_item=ri_13, ingredient=ing_9)
+    inc_13 = Incompatibility.objects.create(restricted_item=ri_13, ingredient=ing_10)
+    inc_14 = Incompatibility.objects.create(restricted_item=ri_13, ingredient=ing_13)
+    inc_15 = Incompatibility.objects.create(restricted_item=ri_13, ingredient=ing_15)
+    inc_16 = Incompatibility.objects.create(restricted_item=ri_1, ingredient=ing_38)
+    inc_17 = Incompatibility.objects.create(restricted_item=ri_1, ingredient=ing_39)
+    inc_18 = Incompatibility.objects.create(restricted_item=ri_1, ingredient=ing_40)
+    inc_19 = Incompatibility.objects.create(restricted_item=ri_1, ingredient=ing_41)
+    inc_20 = Incompatibility.objects.create(restricted_item=ri_1, ingredient=ing_42)
+    inc_21 = Incompatibility.objects.create(restricted_item=ri_14, ingredient=ing_52)
+    inc_22 = Incompatibility.objects.create(restricted_item=ri_14, ingredient=ing_54)
+    inc_23 = Incompatibility.objects.create(restricted_item=ri_14, ingredient=ing_57)
+    inc_24 = Incompatibility.objects.create(restricted_item=ri_14, ingredient=ing_95)
+    inc_25 = Incompatibility.objects.create(restricted_item=ri_14, ingredient=ing_61)
+    inc_26 = Incompatibility.objects.create(restricted_item=ri_14, ingredient=ing_62)
+    inc_27 = Incompatibility.objects.create(restricted_item=ri_14, ingredient=ing_33)
+    inc_28 = Incompatibility.objects.create(restricted_item=ri_14, ingredient=ing_34)
+    inc_29 = Incompatibility.objects.create(restricted_item=ri_14, ingredient=ing_35)
+    inc_30 = Incompatibility.objects.create(restricted_item=ri_14, ingredient=ing_36)
+    inc_31 = Incompatibility.objects.create(restricted_item=ri_14, ingredient=ing_37)
+    inc_32 = Incompatibility.objects.create(restricted_item=ri_16, ingredient=ing_121)
+    inc_33 = Incompatibility.objects.create(restricted_item=ri_16, ingredient=ing_125)
+    inc_34 = Incompatibility.objects.create(restricted_item=ri_16, ingredient=ing_126)
+    inc_35 = Incompatibility.objects.create(restricted_item=ri_16, ingredient=ing_127)
+    inc_36 = Incompatibility.objects.create(restricted_item=ri_16, ingredient=ing_133)
+    inc_37 = Incompatibility.objects.create(restricted_item=ri_16, ingredient=ing_136)
+    inc_38 = Incompatibility.objects.create(restricted_item=ri_16, ingredient=ing_140)
+    inc_39 = Incompatibility.objects.create(restricted_item=ri_16, ingredient=ing_141)
+    inc_40 = Incompatibility.objects.create(restricted_item=ri_16, ingredient=ing_142)
+    inc_41 = Incompatibility.objects.create(restricted_item=ri_16, ingredient=ing_143)
+    inc_42 = Incompatibility.objects.create(restricted_item=ri_16, ingredient=ing_147)
+    inc_43 = Incompatibility.objects.create(restricted_item=ri_16, ingredient=ing_160)
+    inc_44 = Incompatibility.objects.create(restricted_item=ri_16, ingredient=ing_161)
+    inc_45 = Incompatibility.objects.create(restricted_item=ri_16, ingredient=ing_162)
+    inc_46 = Incompatibility.objects.create(restricted_item=ri_16, ingredient=ing_165)
+    inc_47 = Incompatibility.objects.create(restricted_item=ri_16, ingredient=ing_169)
+    inc_48 = Incompatibility.objects.create(restricted_item=ri_4, ingredient=ing_75)
+    inc_49 = Incompatibility.objects.create(restricted_item=ri_17, ingredient=ing_121)
+    inc_50 = Incompatibility.objects.create(restricted_item=ri_17, ingredient=ing_133)
+    inc_51 = Incompatibility.objects.create(restricted_item=ri_17, ingredient=ing_143)
+    inc_52 = Incompatibility.objects.create(restricted_item=ri_17, ingredient=ing_147)
+    inc_53 = Incompatibility.objects.create(restricted_item=ri_17, ingredient=ing_162)
+    inc_54 = Incompatibility.objects.create(restricted_item=ri_17, ingredient=ing_165)
+    inc_55 = Incompatibility.objects.create(restricted_item=ri_18, ingredient=ing_64)
+    inc_56 = Incompatibility.objects.create(restricted_item=ri_18, ingredient=ing_65)
+    inc_57 = Incompatibility.objects.create(restricted_item=ri_18, ingredient=ing_66)
+    inc_58 = Incompatibility.objects.create(restricted_item=ri_18, ingredient=ing_67)
+    inc_59 = Incompatibility.objects.create(restricted_item=ri_18, ingredient=ing_14)
+    inc_60 = Incompatibility.objects.create(restricted_item=ri_18, ingredient=ing_68)
+    inc_61 = Incompatibility.objects.create(restricted_item=ri_9, ingredient=ing_16)
+    inc_62 = Incompatibility.objects.create(restricted_item=ri_9, ingredient=ing_17)
+    inc_63 = Incompatibility.objects.create(restricted_item=ri_9, ingredient=ing_24)
+    inc_64 = Incompatibility.objects.create(restricted_item=ri_9, ingredient=ing_25)
+    inc_65 = Incompatibility.objects.create(restricted_item=ri_9, ingredient=ing_32)
+    inc_66 = Incompatibility.objects.create(restricted_item=ri_10, ingredient=ing_24)
+    inc_67 = Incompatibility.objects.create(restricted_item=ri_11, ingredient=ing_24)
+    inc_68 = Incompatibility.objects.create(restricted_item=ri_11, ingredient=ing_25)
+    inc_69 = Incompatibility.objects.create(restricted_item=ri_5, ingredient=ing_73)
+    inc_70 = Incompatibility.objects.create(restricted_item=ri_5, ingredient=ing_74)
+    inc_71 = Incompatibility.objects.create(restricted_item=ri_5, ingredient=ing_77)
+    inc_72 = Incompatibility.objects.create(restricted_item=ri_6, ingredient=ing_71)
+    inc_73 = Incompatibility.objects.create(restricted_item=ri_6, ingredient=ing_81)
+    inc_74 = Incompatibility.objects.create(restricted_item=ri_7, ingredient=ing_77)
+    inc_75 = Incompatibility.objects.create(restricted_item=ri_2, ingredient=ing_98)
+    inc_76 = Incompatibility.objects.create(restricted_item=ri_2, ingredient=ing_99)
+    inc_77 = Incompatibility.objects.create(restricted_item=ri_12, ingredient=ing_30)
+    inc_78 = Incompatibility.objects.create(restricted_item=ri_15, ingredient=ing_104)
+    inc_79 = Incompatibility.objects.create(restricted_item=ri_15, ingredient=ing_109)
+    inc_80 = Incompatibility.objects.create(restricted_item=ri_8, ingredient=ing_81)
     #
     print_rows(Incompatibility.objects)
 
     # =====================================================
     print("END dataload")
```

### Comparing `souschef-1.3.6/souschef/datamigration/management/commands/importaddresses.py` & `souschef-1.3.7/souschef/datamigration/management/commands/importaddresses.py`

 * *Files 5% similar despite different names*

```diff
@@ -1,39 +1,46 @@
 import csv
 
 from django.core.management.base import BaseCommand
-from souschef.member.models import Member, Address, Contact, EMAIL, HOME
+
+from souschef.member.models import (
+    EMAIL,
+    HOME,
+    Address,
+    Contact,
+    Member,
+)
 
 
 class Command(BaseCommand):
-    help = 'Data: import clients from given csv file.'
+    help = "Data: import clients from given csv file."
 
     ROW_MID = 0
     ROW_ADDRESS1 = 3
     ROW_APARTMENT = 4
     ROW_CITY = 5
     ROW_POSTAL_CODE = 6
     ROW_PHONE = 7
     ROW_EMAIL = 8
 
     def add_arguments(self, parser):
         parser.add_argument(
-            '--file',
+            "--file",
             default=False,
-            help='Import mock data instead of actual data',
+            help="Import mock data instead of actual data",
         )
 
     def handle(self, *args, **options):
-        if options['file']:
-            file = 'mock_addresses.csv'
+        if options["file"]:
+            file = "mock_addresses.csv"
         else:
-            file = 'clients_address.csv'
+            file = "clients_address.csv"
 
         with open(file) as f:
-            reader = csv.reader(f, delimiter=';')
+            reader = csv.reader(f, delimiter=";")
             for row in reader:
                 try:
                     member = Member.objects.get(mid=row[self.ROW_MID])
                     # if member.address is not None:
                     #    member.address.delete()
                     address = Address.objects.create(
                         street=row[self.ROW_ADDRESS1],
@@ -44,23 +51,18 @@
 
                     member.address = address
                     member.save()
 
                     contacts = Contact.objects.filter(member=member)
                     contacts.delete()
 
-                    if row[self.ROW_PHONE] != '':
+                    if row[self.ROW_PHONE] != "":
                         Contact.objects.create(
-                            type=HOME,
-                            value=row[self.ROW_PHONE],
-                            member=member
+                            type=HOME, value=row[self.ROW_PHONE], member=member
                         )
-                    if row[self.ROW_EMAIL] != '':
+                    if row[self.ROW_EMAIL] != "":
                         Contact.objects.create(
-                            type=EMAIL,
-                            value=row[self.ROW_EMAIL],
-                            member=member
+                            type=EMAIL, value=row[self.ROW_EMAIL], member=member
                         )
 
                 except Member.DoesNotExist:
-                    self.stdout.write(
-                        self.style.WARNING('Non existing member'))
+                    self.stdout.write(self.style.WARNING("Non existing member"))
```

### Comparing `souschef-1.3.6/souschef/datamigration/management/commands/importclients.py` & `souschef-1.3.7/souschef/datamigration/management/commands/importclients.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,17 +1,22 @@
 import csv
 from datetime import date
 
-from django.core.management.base import BaseCommand
 from django.core.management import call_command
-from souschef.member.models import Client, Member, Route
+from django.core.management.base import BaseCommand
+
+from souschef.member.models import (
+    Client,
+    Member,
+    Route,
+)
 
 
 class Command(BaseCommand):
-    help = 'Data: import clients from given csv file.'
+    help = "Data: import clients from given csv file."
 
     ROW_MID = 0
     ROW_FIRSTNAME = 1
     ROW_LASTNAME = 2
     ROW_BIRTHDATE = 3
     ROW_STATUS = 4
     ROW_CREATED = 5
@@ -21,49 +26,49 @@
     ROW_ALERT = 9
     ROW_DELIVERY_NOTES = 10
     ROW_DELIVERY_TYPE = 11
     ROW_ROUTE = 12
 
     def add_arguments(self, parser):
         parser.add_argument(
-            '--file',
+            "--file",
             default=False,
-            help='Import mock data instead of actual data',
+            help="Import mock data instead of actual data",
         )
 
     def handle(self, *args, **options):
         # Load fixtures for the routes
-        fixture_filename = 'routes.json'
-        call_command('loaddata', fixture_filename)
+        fixture_filename = "routes.json"
+        call_command("loaddata", fixture_filename)
 
-        if options['file']:
-            file = 'mock_clients.csv'
+        if options["file"]:
+            file = "mock_clients.csv"
         else:
-            file = 'clients.csv'
+            file = "clients.csv"
 
         with open(file) as f:
-            reader = csv.reader(f, delimiter=';')
+            reader = csv.reader(f, delimiter=";")
             for row in reader:
 
-                row_created = row[
-                    self.ROW_CREATED] if row[
-                    self.ROW_CREATED] != '' else date.today()
+                row_created = (
+                    row[self.ROW_CREATED]
+                    if row[self.ROW_CREATED] != ""
+                    else date.today()
+                )
 
                 member, created = Member.objects.update_or_create(
                     mid=row[self.ROW_MID],
                     defaults={
                         "firstname": row[self.ROW_FIRSTNAME],
                         "lastname": row[self.ROW_LASTNAME],
                         "updated_at": row_created,
-                    }
+                    },
                 )
 
-                route, created = Route.objects.get_or_create(
-                    name=row[self.ROW_ROUTE]
-                )
+                route, created = Route.objects.get_or_create(name=row[self.ROW_ROUTE])
                 if created:
                     err_msg = "A new route has been created."
                     self.stdout.write(self.style.WARNING(err_msg))
                     route = None
 
                 client, created = Client.objects.update_or_create(
                     member=member,
@@ -72,24 +77,26 @@
                         "birthdate": row[self.ROW_BIRTHDATE],
                         "status": row[self.ROW_STATUS],
                         "gender": row[self.ROW_GENDER],
                         "alert": row[self.ROW_ALERT],
                         "delivery_type": row[self.ROW_DELIVERY_TYPE],
                         "delivery_note": row[self.ROW_DELIVERY_NOTES],
                         "route": route,
-                        'language': row[self.ROW_LANG],
-                        'rate_type': row[self.ROW_PAYSCALE],
-                    }
+                        "language": row[self.ROW_LANG],
+                        "rate_type": row[self.ROW_PAYSCALE],
+                    },
                 )
 
                 self.stdout.write(
                     self.style.SUCCESS(
-                        '{} successfully {}.'.format(
-                            client,
-                            'created' if created else 'updated')))
+                        "{} successfully {}.".format(
+                            client, "created" if created else "updated"
+                        )
+                    )
+                )
 
                 # Override creation date
                 client.member.created_at = row_created
 
                 client.member.save()
 
                 # Add Client option meals_schedule
```

### Comparing `souschef-1.3.6/souschef/datamigration/management/commands/importcontactaddresses.py` & `souschef-1.3.7/souschef/datamigration/management/commands/importcontactaddresses.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,43 +1,51 @@
 import csv
 
 from django.core.management.base import BaseCommand
-from souschef.member.models import Member, Address, Contact
-from souschef.member.models import EMAIL, HOME, CELL, WORK
+
+from souschef.member.models import (
+    CELL,
+    EMAIL,
+    HOME,
+    WORK,
+    Address,
+    Contact,
+    Member,
+)
 
 
 class Command(BaseCommand):
-    help = 'Data: import clients from given csv file.'
+    help = "Data: import clients from given csv file."
 
     ROW_RID = 0
     ROW_ADDRESS1 = 3
     ROW_APARTMENT = 4
     ROW_CITY = 5
     ROW_POSTAL_CODE = 6
     ROW_HOME_PHONE = 7
     ROW_CELL_PHONE = 8
     ROW_WORK_PHONE = 9
     ROW_EXT = 10
     ROW_EMAIL = 11
 
     def add_arguments(self, parser):
         parser.add_argument(
-            '--file',
+            "--file",
             default=False,
-            help='Import mock data instead of actual data',
+            help="Import mock data instead of actual data",
         )
 
     def handle(self, *args, **options):
-        if options['file']:
-            file = 'mock_contactaddresses.csv'
+        if options["file"]:
+            file = "mock_contactaddresses.csv"
         else:
-            file = 'contact_address.csv'
+            file = "contact_address.csv"
 
         with open(file) as f:
-            reader = csv.reader(f, delimiter=';')
+            reader = csv.reader(f, delimiter=";")
             for row in reader:
                 try:
                     member = Member.objects.get(rid=row[self.ROW_RID])
 
                     address = Address.objects.create(
                         street=row[self.ROW_ADDRESS1],
                         apartment=row[self.ROW_APARTMENT],
@@ -47,43 +55,38 @@
 
                     member.address = address
                     member.save()
 
                     contacts = Contact.objects.filter(member=member)
                     contacts.delete()
 
-                    if row[self.ROW_HOME_PHONE] != '' \
-                            and len(row[self.ROW_HOME_PHONE]) >= 7:
+                    if (
+                        row[self.ROW_HOME_PHONE] != ""
+                        and len(row[self.ROW_HOME_PHONE]) >= 7
+                    ):
                         Contact.objects.create(
-                            type=HOME,
-                            value=row[self.ROW_HOME_PHONE],
-                            member=member
+                            type=HOME, value=row[self.ROW_HOME_PHONE], member=member
                         )
-                    if row[self.ROW_CELL_PHONE] != ''\
-                            and len(row[self.ROW_CELL_PHONE]) >= 7:
+                    if (
+                        row[self.ROW_CELL_PHONE] != ""
+                        and len(row[self.ROW_CELL_PHONE]) >= 7
+                    ):
                         Contact.objects.create(
-                            type=CELL,
-                            value=row[self.ROW_CELL_PHONE],
-                            member=member
+                            type=CELL, value=row[self.ROW_CELL_PHONE], member=member
                         )
 
-                    if row[self.ROW_WORK_PHONE] != ''\
-                            and len(row[self.ROW_WORK_PHONE]) >= 7:
+                    if (
+                        row[self.ROW_WORK_PHONE] != ""
+                        and len(row[self.ROW_WORK_PHONE]) >= 7
+                    ):
                         work = row[self.ROW_WORK_PHONE]
-                        if row[self.ROW_EXT] != '':
-                            work += '  #' + row[self.ROW_EXT]
+                        if row[self.ROW_EXT] != "":
+                            work += "  #" + row[self.ROW_EXT]
 
+                        Contact.objects.create(type=WORK, value=work, member=member)
+                    if row[self.ROW_EMAIL] != "":
                         Contact.objects.create(
-                            type=WORK,
-                            value=work,
-                            member=member
-                        )
-                    if row[self.ROW_EMAIL] != '':
-                        Contact.objects.create(
-                            type=EMAIL,
-                            value=row[self.ROW_EMAIL],
-                            member=member
+                            type=EMAIL, value=row[self.ROW_EMAIL], member=member
                         )
 
                 except Member.DoesNotExist:
-                    self.stdout.write(
-                        self.style.WARNING('Non existing member'))
+                    self.stdout.write(self.style.WARNING("Non existing member"))
```

### Comparing `souschef-1.3.6/souschef/datamigration/management/commands/importmeals.py` & `souschef-1.3.7/souschef/datamigration/management/commands/importmeals.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,16 +1,28 @@
 import csv
 
 from django.core.management.base import BaseCommand
-from souschef.member.models import Client, Member
-from souschef.member.models import Option, Client_option
+
+from souschef.member.models import (
+    Client,
+    Client_option,
+    Member,
+    Option,
+)
 
 
 class Command(BaseCommand):
-    help = 'Data: import clients relationships from given csv file.'
+    """
+    **Warning!**
+    This command has been modified without keeping trace of why a long time
+    ago and the tests were outdated. Please try to avoid using this function
+    since we will try to deprecate it in the future.
+    """
+
+    help = "Data: import clients relationships from given csv file."
 
     ROW_MID = 0
     ROW_MON = 1
     ROW_TUE = 2
     ROW_WED = 3
     ROW_THU = 4
     ROW_FRI = 5
@@ -18,87 +30,86 @@
     ROW_FOOD_PREP_PUREE = 7
     ROW_FOOD_PREP_CUT = 8
     ROW_MLABEL = 9
     ROW_ING_BEEF = 10
 
     def add_arguments(self, parser):
         parser.add_argument(
-            '--file',
+            "--file",
             default=False,
-            help='Import mock data instead of actual data',
+            help="Import mock data instead of actual data",
         )
 
     def handle(self, *args, **options):
-        if options['file']:
-            file = 'mock_meals.csv'
+        if options["file"]:
+            file = "mock_meals.csv"
         else:
-            file = 'clients_meals.csv'
+            file = "clients_meals.csv"
 
-        food_prep_puree = Option.objects.get(
-            name='Puree all'
-        )
-        food_prep_cut = Option.objects.get(
-            name='Cut up meat'
-        )
+        food_prep_puree = Option.objects.get(name="Puree all")
+        food_prep_cut = Option.objects.get(name="Cut up meat")
 
         with open(file) as f:
-            reader = csv.reader(f, delimiter=';')
+            reader = csv.reader(f, delimiter=";")
             for row in reader:
                 try:
                     member = Member.objects.get(mid=row[self.ROW_MID])
                     client = Client.objects.get(member=member)
                     days = [
                         self.ROW_MON,
                         self.ROW_TUE,
                         self.ROW_WED,
                         self.ROW_THU,
                         self.ROW_FRI,
-                        self.ROW_SAT
+                        self.ROW_SAT,
                     ]
                     meals_schedule = []
                     prefs = {}
 
                     for day in days:
                         if row[day] != "":
                             meals_schedule.append(row[day])
                             delivery_day = day - 1
                             # Hack: there is no column Thursday in the csv file
                             if delivery_day > 3:
                                 delivery_day -= 1
 
-                            prefs['size_' + row[day]] = \
-                                row[11 + (delivery_day * 10) + 1]
-                            prefs['main_dish_' + row[day] + '_quantity'] = \
-                                int(row[11 + (delivery_day * 10) + 0])
-                            prefs['dessert_' + row[day] + '_quantity'] = \
-                                int(row[11 + (delivery_day * 10) + 5])
-                            prefs['fruit_salad_' + row[day] + '_quantity'] = \
-                                int(row[11 + (delivery_day * 10) + 2])
-                            prefs['green_salad_' + row[day] + '_quantity'] = \
-                                int(row[11 + (delivery_day * 10) + 3])
-                            prefs['pudding_' + row[day] + '_quantity'] = \
-                                int(row[11 + (delivery_day * 10) + 6])
-                            prefs['diabetic_' + row[day] + '_quantity'] = \
-                                int(row[11 + (delivery_day * 10) + 4])
+                            prefs["size_" + row[day]] = row[
+                                11 + (delivery_day * 10) + 1
+                            ]
+                            prefs["main_dish_" + row[day] + "_quantity"] = int(
+                                row[11 + (delivery_day * 10) + 0]
+                            )
+                            prefs["dessert_" + row[day] + "_quantity"] = int(
+                                row[11 + (delivery_day * 10) + 5]
+                            )
+                            prefs["fruit_salad_" + row[day] + "_quantity"] = int(
+                                row[11 + (delivery_day * 10) + 2]
+                            )
+                            prefs["green_salad_" + row[day] + "_quantity"] = int(
+                                row[11 + (delivery_day * 10) + 3]
+                            )
+                            prefs["pudding_" + row[day] + "_quantity"] = int(
+                                row[11 + (delivery_day * 10) + 6]
+                            )
+                            prefs["diabetic_" + row[day] + "_quantity"] = int(
+                                row[11 + (delivery_day * 10) + 4]
+                            )
 
                     client.set_simple_meals_schedule(meals_schedule)
                     client.meal_default_week = prefs
                     client.save()
 
                     # Food preparation
-                    if row[self.ROW_FOOD_PREP_CUT] == '1':
+                    if row[self.ROW_FOOD_PREP_CUT] == "1":
                         Client_option.objects.create(
-                            client=client,
-                            option=food_prep_cut
+                            client=client, option=food_prep_cut
                         )
-                    if row[self.ROW_FOOD_PREP_PUREE] == '1':
+                    if row[self.ROW_FOOD_PREP_PUREE] == "1":
                         Client_option.objects.create(
-                            client=client,
-                            option=food_prep_puree
+                            client=client, option=food_prep_puree
                         )
 
                 except Member.DoesNotExist:
-                    self.stdout.write(
-                        self.style.WARNING('Non existing member'))
+                    self.stdout.write(self.style.WARNING("Non existing member"))
                 except Client.DoesNotExist:
-                    self.stdout.write(
-                        self.style.WARNING('Non existing client'))
+                    self.stdout.write(self.style.WARNING("Non existing client"))
```

### Comparing `souschef-1.3.6/souschef/datamigration/management/commands/importorders.py` & `souschef-1.3.7/souschef/datamigration/management/commands/importorders.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,72 +1,72 @@
 import csv
 
 from django.core.management.base import BaseCommand
-from souschef.member.models import Client, Member
+
+from souschef.member.models import (
+    Client,
+    Member,
+)
 from souschef.order.models import Order
 
 
 class Command(BaseCommand):
-    help = 'Data: import clients relationships from given csv file.'
+    help = "Data: import clients relationships from given csv file."
 
     ROW_MID = 0
     ROW_DATE = 1
     ROW_STATUS = 2
     ROW_MAIN_DISH_QUANTITY = 3
     ROW_SIZE = 4
     ROW_FRUIT_SALAD = 5
     ROW_GREEN_SALAD = 6
     ROW_DIABETIC_DESSERT = 7
     ROW_DESSERT = 8
     ROW_PUDDING = 9
 
     def add_arguments(self, parser):
         parser.add_argument(
-            '--file',
+            "--file",
             default=False,
-            help='Import mock data instead of actual data',
+            help="Import mock data instead of actual data",
         )
 
     def handle(self, *args, **options):
-        if options['file']:
-            file = 'mock_orders.csv'
+        if options["file"]:
+            file = "mock_orders.csv"
         else:
-            file = 'clients_orders.csv'
+            file = "clients_orders.csv"
 
         with open(file) as f:
-            reader = csv.reader(f, delimiter=';')
+            reader = csv.reader(f, delimiter=";")
             for row in reader:
                 try:
                     member = Member.objects.get(mid=row[self.ROW_MID])
                     client = Client.objects.get(member=member)
                     delivery_date = row[self.ROW_DATE]
                     prices = Order.objects.get_client_prices(client)
                     items = {
-                        'main_dish_default_quantity':
-                            int(row[self.ROW_MAIN_DISH_QUANTITY]),
-                        'dessert_default_quantity':
-                            int(row[self.ROW_DESSERT]),
-                        'diabetic_default_quantity':
-                            int(row[self.ROW_DIABETIC_DESSERT]),
-                        'fruit_salad_default_quantity':
-                            int(row[self.ROW_FRUIT_SALAD]),
-                        'green_salad_default_quantity':
-                            int(row[self.ROW_GREEN_SALAD]),
-                        'pudding_default_quantity':
-                            int(row[self.ROW_PUDDING]),
-                        'compote_default_quantity': 0,
-                        'size_default': row[self.ROW_SIZE],
+                        "main_dish_default_quantity": int(
+                            row[self.ROW_MAIN_DISH_QUANTITY]
+                        ),
+                        "dessert_default_quantity": int(row[self.ROW_DESSERT]),
+                        "diabetic_default_quantity": int(
+                            row[self.ROW_DIABETIC_DESSERT]
+                        ),
+                        "fruit_salad_default_quantity": int(row[self.ROW_FRUIT_SALAD]),
+                        "green_salad_default_quantity": int(row[self.ROW_GREEN_SALAD]),
+                        "pudding_default_quantity": int(row[self.ROW_PUDDING]),
+                        "compote_default_quantity": 0,
+                        "size_default": row[self.ROW_SIZE],
                     }
 
                     order = Order.objects.create_order(
                         delivery_date, client, items, prices
                     )
 
                     order.status = row[self.ROW_STATUS]
                     order.save()
 
                 except Member.DoesNotExist:
-                    self.stdout.write(
-                        self.style.WARNING('Non existing member'))
+                    self.stdout.write(self.style.WARNING("Non existing member"))
                 except Client.DoesNotExist:
-                    self.stdout.write(
-                        self.style.WARNING('Non existing client'))
+                    self.stdout.write(self.style.WARNING("Non existing client"))
```

### Comparing `souschef-1.3.6/souschef/datamigration/management/commands/importrelationships.py` & `souschef-1.3.7/souschef/datamigration/management/commands/importrelationships.py`

 * *Files 22% similar despite different names*

```diff
@@ -1,19 +1,21 @@
 import csv
 from datetime import date
 
 from django.core.management.base import BaseCommand
 
 from souschef.member.models import (
-    Client, Member, Referencing, EmergencyContact
+    Client,
+    Member,
+    Relationship,
 )
 
 
 class Command(BaseCommand):
-    help = 'Data: import clients relationships from given csv file.'
+    help = "Data: import clients relationships from given csv file."
 
     ROW_MID = 0
     ROW_RID = 1
     ROW_FIRSTNAME = 2
     ROW_LASTNAME = 3
     ROW_EMERGENCY = 4
     ROW_REFERENT = 5
@@ -25,67 +27,68 @@
     ROW_APARTMENT = 11
     ROW_POSTAL_CODE = 12
     ROW_CITY = 13
     ROW_PHONE = 14
 
     def add_arguments(self, parser):
         parser.add_argument(
-            '--file',
+            "--file",
             default=False,
-            help='Import mock data instead of actual data',
+            help="Import mock data instead of actual data",
         )
 
     def handle(self, *args, **options):
-        if options['file']:
-            file = 'mock_relationships.csv'
+        if options["file"]:
+            file = "mock_relationships.csv"
         else:
-            file = 'clients_relationships.csv'
+            file = "clients_relationships.csv"
 
         with open(file) as f:
-            reader = csv.reader(f, delimiter=';')
+            reader = csv.reader(f, delimiter=";")
             for row in reader:
                 try:
                     member = Member.objects.get(mid=row[self.ROW_MID])
                     client = Client.objects.get(member=member)
 
-                    if row[self.ROW_FIRSTNAME] != '':
+                    if row[self.ROW_FIRSTNAME] != "":
 
-                        relationship, created = \
-                            Member.objects.update_or_create(
-                                rid=row[self.ROW_RID], defaults={
-                                    "firstname": row[
-                                        self.ROW_FIRSTNAME], "lastname": row[
-                                        self.ROW_LASTNAME],
-                                    "work_information": row[
-                                        self.ROW_WORK_INFORMATION]})
-
-                        if row[self.ROW_EMERGENCY] == '1':
-                            EmergencyContact.objects.create(
-                                client=client,
-                                member=relationship,
-                                relationship=row[self.ROW_RELATIONSHIP]
-                            )
-                            self.stdout.write(
-                                self.style.SUCCESS(
-                                    'Added an emergency Relationship.'
-                                ))
-                        if row[self.ROW_BILLTO] == '1':
+                        relationship, created = Member.objects.update_or_create(
+                            rid=row[self.ROW_RID],
+                            defaults={
+                                "firstname": row[self.ROW_FIRSTNAME],
+                                "lastname": row[self.ROW_LASTNAME],
+                                "work_information": row[self.ROW_WORK_INFORMATION],
+                            },
+                        )
+
+                        type_of_relation = []
+                        extra_fields = {}
+                        if row[self.ROW_REFERENT] == "1":
+                            type_of_relation.append(Relationship.REFERENT)
+                            extra_fields["referral_reason"] = row[self.ROW_REASON]
+                            extra_fields["referral_date"] = str(date.today())
+                        if row[self.ROW_EMERGENCY] == "1":
+                            type_of_relation.append(Relationship.EMERGENCY)
+
+                        Relationship.objects.create(
+                            client=client,
+                            member=relationship,
+                            type=type_of_relation,
+                            nature=row[self.ROW_RELATIONSHIP],
+                            extra_fields=extra_fields,
+                        )
+
+                        self.stdout.write(
+                            self.style.SUCCESS("Added a new Relationship.")
+                        )
+
+                        if row[self.ROW_BILLTO] == "1":
                             self.stdout.write(
-                                self.style.SUCCESS(
-                                    'Added a blling Relationship.'
-                                ))
+                                self.style.SUCCESS("Added a blling Relationship.")
+                            )
                             client.billing_member = relationship
-                        if row[self.ROW_REFERENT] == '1':
-                            Referencing.objects.create(
-                                referent=relationship,
-                                client=client,
-                                referral_reason=row[self.ROW_REASON],
-                                date=date.today(), )
-
-                        client.save()
+                            client.save()
 
                 except Member.DoesNotExist:
-                    self.stdout.write(
-                        self.style.WARNING('Non existing member'))
+                    self.stdout.write(self.style.WARNING("Non existing member"))
                 except Client.DoesNotExist:
-                    self.stdout.write(
-                        self.style.WARNING('Non existing client'))
+                    self.stdout.write(self.style.WARNING("Non existing client"))
```

### Comparing `souschef-1.3.6/souschef/delivery/filters.py` & `souschef-1.3.7/souschef/delivery/filters.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,30 +1,37 @@
 from functools import reduce
 
+import django_filters
 from django.db.models import Q
 from django.utils.translation import ugettext_lazy as _
-import django_filters
 
 from souschef.order.models import Order
 
 
 class KitchenCountOrderFilter(django_filters.FilterSet):
-    """ Defines the filters used to filter orders in the Kitchen Count. """
+    """Defines the filters used to filter orders in the Kitchen Count."""
 
     client_name = django_filters.CharFilter(
-        method='filter_client', label=_('Search by client name'))
+        method="filter_client", label=_("Search by client name")
+    )
 
     class Meta:
         model = Order
-        fields = '__all__'
+        fields = "__all__"
 
     def filter_client(self, queryset, field_name, value):
-        """ Filters the orders using client names. """
+        """Filters the orders using client names."""
         if not value:
             return queryset
 
-        bits = value.split(' ')
-        queryset = queryset.filter(reduce(
-            lambda q, name: q | Q(client__member__firstname__icontains=name) |
-            Q(client__member__lastname__icontains=name), bits, Q()))
+        bits = value.split(" ")
+        queryset = queryset.filter(
+            reduce(
+                lambda q, name: q
+                | Q(client__member__firstname__icontains=name)
+                | Q(client__member__lastname__icontains=name),
+                bits,
+                Q(),
+            )
+        )
 
         return queryset
```

### Comparing `souschef-1.3.6/souschef/delivery/forms.py` & `souschef-1.3.7/souschef/delivery/forms.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,38 +1,43 @@
 from django import forms
-from django.utils.translation import ugettext_lazy as _
 from django.db.models.functions import Lower
+from django.utils.translation import ugettext_lazy as _
 
 from souschef.meal.models import (
-    COMPONENT_GROUP_CHOICES_MAIN_DISH, Component, Ingredient)
+    COMPONENT_GROUP_CHOICES_MAIN_DISH,
+    Component,
+    Ingredient,
+)
 
 
 class DishIngredientsForm(forms.Form):
     maindish = forms.ModelChoiceField(
         label=_("Today's main dish:"),
-        queryset=Component.objects.order_by(Lower('name')).filter(
-            component_group=COMPONENT_GROUP_CHOICES_MAIN_DISH),
-        widget=forms.Select(attrs={'class': 'ui dropdown maindish'}),
+        queryset=Component.objects.order_by(Lower("name")).filter(
+            component_group=COMPONENT_GROUP_CHOICES_MAIN_DISH
+        ),
+        widget=forms.Select(attrs={"class": "ui dropdown maindish"}),
     )
 
     ingredients = forms.ModelMultipleChoiceField(
-        label=_('Select main dish ingredients:'),
-        queryset=Ingredient.objects.order_by(Lower('name')).all(),
+        label=_("Select main dish ingredients:"),
+        queryset=Ingredient.objects.order_by(Lower("name")).all(),
         widget=forms.SelectMultiple(
-            attrs={'class': 'ui fluid search dropdown mainingredients'}),
+            attrs={"class": "ui fluid search dropdown mainingredients"}
+        ),
         required=False,
     )
 
     sides_ingredients = forms.ModelMultipleChoiceField(
-        label=_('Select sides ingredients:'),
-        queryset=Ingredient.objects.order_by(Lower('name')).all(),
+        label=_("Select sides ingredients:"),
+        queryset=Ingredient.objects.order_by(Lower("name")).all(),
         widget=forms.SelectMultiple(
-            attrs={'class': 'ui fluid search dropdown sidesingredients'}),
+            attrs={"class": "ui fluid search dropdown sidesingredients"}
+        ),
         required=False,
     )
 
     def clean_sides_ingredients(self):
-        data = self.cleaned_data['sides_ingredients']
+        data = self.cleaned_data["sides_ingredients"]
         if not data:
-            raise forms.ValidationError(
-                _("Please choose some Sides ingredients"))
+            raise forms.ValidationError(_("Please choose some Sides ingredients"))
         return data
```

### Comparing `souschef-1.3.6/souschef/delivery/migrations/0001_fix004a.py` & `souschef-1.3.7/souschef/note/migrations/0003_auto_20160819_2037.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,25 +1,23 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.9.5 on 2016-06-23 10:04
+# Generated by Django 1.10 on 2016-08-19 20:37
 from __future__ import unicode_literals
 
 from django.db import migrations, models
+import django.utils.timezone
 
 
 class Migration(migrations.Migration):
 
-    initial = True
-
     dependencies = [
+        ("note", "0002_auto_20160818_2104"),
     ]
 
     operations = [
-        migrations.CreateModel(
-            name='Delivery',
-            fields=[
-                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
-            ],
-            options={
-                'verbose_name_plural': 'deliveries',
-            },
+        migrations.AlterField(
+            model_name="note",
+            name="date",
+            field=models.DateTimeField(
+                default=django.utils.timezone.now, verbose_name="Date"
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/delivery/templates/edit_delivery_of_today.html` & `souschef-1.3.7/souschef/delivery/templates/edit_delivery_of_today.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/delivery/templates/ingredients.html` & `souschef-1.3.7/souschef/delivery/templates/ingredients.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/delivery/templates/kitchen_count.html` & `souschef-1.3.7/souschef/delivery/templates/kitchen_count.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/delivery/templates/kitchen_count_steps.html` & `souschef-1.3.7/souschef/delivery/templates/kitchen_count_steps.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/delivery/templates/partials/generated_orders.html` & `souschef-1.3.7/souschef/delivery/templates/partials/generated_orders.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/delivery/templates/partials/generated_orders_order_row_content.html` & `souschef-1.3.7/souschef/delivery/templates/partials/generated_orders_order_row_content.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/delivery/templates/partials/generated_orders_table_head.html` & `souschef-1.3.7/souschef/delivery/templates/partials/generated_orders_table_head.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/delivery/templates/review_orders.html` & `souschef-1.3.7/souschef/delivery/templates/review_orders.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/delivery/templates/route_sheet.html` & `souschef-1.3.7/souschef/delivery/templates/route_sheet.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/delivery/templates/routes.html` & `souschef-1.3.7/souschef/delivery/templates/routes.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/delivery/tests.py` & `souschef-1.3.7/souschef/delivery/tests.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,739 +1,798 @@
 import datetime
 import json
 
-from django.db.models import Q
-from django.test import RequestFactory
-from django.test import TestCase
 from django.contrib.auth.models import User
-from django.urls import reverse_lazy, reverse
+from django.db.models import Q
+from django.test import (
+    RequestFactory,
+    TestCase,
+)
+from django.urls import (
+    reverse,
+    reverse_lazy,
+)
 from django.utils import timezone as tz
-from django.utils.translation import ugettext_lazy, ugettext
-
-from souschef.meal.models import (Menu, Component, Component_ingredient, Ingredient,
-                         COMPONENT_GROUP_CHOICES_SIDES)
-from souschef.meal.factories import (IngredientFactory, ComponentFactory,
-                            ComponentIngredientFactory,
-                            IncompatibilityFactory, RestrictedItemFactory)
+from django.utils.translation import (
+    ugettext,
+    ugettext_lazy,
+)
+
+from souschef.meal.factories import (
+    ComponentFactory,
+    ComponentIngredientFactory,
+    IncompatibilityFactory,
+    IngredientFactory,
+    RestrictedItemFactory,
+)
+from souschef.meal.models import (
+    COMPONENT_GROUP_CHOICES_SIDES,
+    Component,
+    Component_ingredient,
+    Ingredient,
+    Menu,
+)
+from souschef.member.factories import (
+    AddressFactory,
+    ClientFactory,
+    DeliveryHistoryFactory,
+    MemberFactory,
+    RouteFactory,
+)
+from souschef.member.models import (
+    DAYS_OF_WEEK,
+    Client,
+    Client_avoid_ingredient,
+    DeliveryHistory,
+    Member,
+    Restriction,
+    Route,
+)
 from souschef.order.models import Order
-from souschef.member.models import (Client, Member, Route, Restriction, DAYS_OF_WEEK,
-                           Client_avoid_ingredient, DeliveryHistory)
-from souschef.member.factories import (AddressFactory, MemberFactory, ClientFactory,
-                              RouteFactory, DeliveryHistoryFactory)
 from souschef.sous_chef.tests import TestMixin as SousChefTestMixin
 
 from .filters import KitchenCountOrderFilter
 
 
 class KitchenCountReportTestCase(SousChefTestMixin, TestCase):
 
     # This data set includes 'Ground porc' clashing ingredient
     # This data set includes 'Tracy' client lastname
     #   and his side dish is 'compote'
-    fixtures = ['sample_data']
+    fixtures = ["sample_data"]
 
     @classmethod
     def setUpTestData(cls):
         Menu.create_menu_and_components(
             datetime.date(2016, 5, 21),
-            ['Ginger pork',
-             'Green Salad', 'Fruit Salad',
-             'Day s Dessert', 'Day s Diabetic Dessert',
-             'Day s Pudding', 'Day s Compote'])
+            [
+                "Ginger pork",
+                "Green Salad",
+                "Fruit Salad",
+                "Day s Dessert",
+                "Day s Diabetic Dessert",
+                "Day s Pudding",
+                "Day s Compote",
+            ],
+        )
 
     def setUp(self):
         self.force_login()
 
     def test_clashing_ingredient(self):
         """An ingredient we know will clash must be in the page"""
         self.today = datetime.date.today()
         # create orders today
         clients = Client.active.all()
-        Order.objects.auto_create_orders(
-            self.today, clients)
+        Order.objects.auto_create_orders(self.today, clients)
         # main dish and its ingredients today
-        main_dishes = Component.objects.filter(name='Ginger pork')
+        main_dishes = Component.objects.filter(name="Ginger pork")
         main_dish = main_dishes[0]
-        dish_ingredients = Component.get_recipe_ingredients(
-            main_dish.id)
+        dish_ingredients = Component.get_recipe_ingredients(main_dish.id)
         for ing in dish_ingredients:
             ci = Component_ingredient(
-                component=main_dish,
-                ingredient=ing,
-                date=self.today)
+                component=main_dish, ingredient=ing, date=self.today
+            )
             ci.save()
         # Add extra ingredient so that more clashing clients will
         #  require two pages on the PDF kitchen count report
-        extra = Ingredient.objects.get(name='Walnuts')
+        extra = Ingredient.objects.get(name="Walnuts")
         ci = Component_ingredient(
-            component=main_dish,
-            ingredient=extra,
-            date=self.today)
+            component=main_dish, ingredient=extra, date=self.today
+        )
         ci.save()
         # add sides ingredient
         sides_component = Component.objects.get(
-            component_group=COMPONENT_GROUP_CHOICES_SIDES)
-        extra = Ingredient.objects.get(name='Cabbage')
+            component_group=COMPONENT_GROUP_CHOICES_SIDES
+        )
+        extra = Ingredient.objects.get(name="Cabbage")
         ci = Component_ingredient(
-            component=sides_component,
-            ingredient=extra,
-            date=self.today)
+            component=sides_component, ingredient=extra, date=self.today
+        )
         ci.save()
         # menu today
         Menu.create_menu_and_components(
             self.today,
-            ['Ginger pork',
-             'Green Salad', 'Fruit Salad',
-             'Day s Dessert', 'Day s Diabetic Dessert',
-             'Day s Pudding', 'Day s Compote'])
-        response = self.client.get(reverse_lazy('delivery:kitchen_count'))
-        self.assertTrue(b'Ground porc' in response.content)
+            [
+                "Ginger pork",
+                "Green Salad",
+                "Fruit Salad",
+                "Day s Dessert",
+                "Day s Diabetic Dessert",
+                "Day s Pudding",
+                "Day s Compote",
+            ],
+        )
+        response = self.client.get(reverse_lazy("delivery:kitchen_count"))
+        self.assertTrue(b"Ground porc" in response.content)
 
     def test_no_components(self):
         """No orders on this day therefore no component summary"""
-        response = self.client.get(reverse_lazy(
-            'delivery:kitchen_count_date',
-            kwargs={'year': '2015', 'month': '05', 'day': '21'}
-        ))
-        response = self.client.get('/delivery/kitchen_count/2015/05/21/')
-        self.assertTrue(b'SUBTOTAL' not in response.content)
+        response = self.client.get(
+            reverse_lazy(
+                "delivery:kitchen_count_date",
+                kwargs={"year": "2015", "month": "05", "day": "21"},
+            )
+        )
+        response = self.client.get("/delivery/kitchen_count/2015/05/21/")
+        self.assertTrue(b"SUBTOTAL" not in response.content)
 
     def test_labels_show_restrictions(self):
         """An ingredient we know will clash must be in the labels"""
         # generate orders today
         self.today = datetime.date.today()
         clients = Client.active.all()
-        Order.objects.auto_create_orders(
-            self.today, clients)
+        Order.objects.auto_create_orders(self.today, clients)
         # main dish and its ingredients today
-        main_dishes = Component.objects.filter(name='Ginger pork')
+        main_dishes = Component.objects.filter(name="Ginger pork")
         main_dish = main_dishes[0]
-        dish_ingredients = Component.get_recipe_ingredients(
-            main_dish.id)
+        dish_ingredients = Component.get_recipe_ingredients(main_dish.id)
         for ing in dish_ingredients:
             ci = Component_ingredient(
-                component=main_dish,
-                ingredient=ing,
-                date=self.today)
+                component=main_dish, ingredient=ing, date=self.today
+            )
             ci.save()
         # Add sides ingredient
         sides_component = Component.objects.get(
-            component_group=COMPONENT_GROUP_CHOICES_SIDES)
+            component_group=COMPONENT_GROUP_CHOICES_SIDES
+        )
         # This ingredient is in the restrictions of some clients in the data
-        sides_ingredient = Ingredient.objects.get(name='Brussel sprouts')
+        sides_ingredient = Ingredient.objects.get(name="Brussel sprouts")
         ci = Component_ingredient(
-            component=sides_component,
-            ingredient=sides_ingredient,
-            date=self.today)
+            component=sides_component, ingredient=sides_ingredient, date=self.today
+        )
         ci.save()
         # menu today
         Menu.create_menu_and_components(
             self.today,
-            ['Ginger pork',
-             'Green Salad', 'Fruit Salad',
-             'Day s Dessert', 'Day s Diabetic Dessert',
-             'Day s Pudding', 'Day s Compote', 'Days Sides'])
-
-        self.client.get(reverse_lazy('delivery:kitchen_count'))
-        response = self.client.get(reverse_lazy('delivery:mealLabels'))
-        self.assertTrue('ReportLab' in repr(response.content))
+            [
+                "Ginger pork",
+                "Green Salad",
+                "Fruit Salad",
+                "Day s Dessert",
+                "Day s Diabetic Dessert",
+                "Day s Pudding",
+                "Day s Compote",
+                "Days Sides",
+            ],
+        )
+
+        self.client.get(reverse_lazy("delivery:kitchen_count"))
+        response = self.client.get(reverse_lazy("delivery:mealLabels"))
+        self.assertTrue("ReportLab" in repr(response.content))
 
     def test_pdf_report_show_restrictions(self):
         """An ingredient we know will clash must be in the pdf report"""
         # generate orders today
         self.today = datetime.date.today()
         clients = Client.active.all()
-        Order.objects.auto_create_orders(
-            self.today, clients)
+        Order.objects.auto_create_orders(self.today, clients)
         Menu.create_menu_and_components(
             self.today,
-            ['Ginger pork',
-             'Green Salad', 'Fruit Salad',
-             'Day s Dessert', 'Day s Diabetic Dessert',
-             'Day s Pudding', 'Day s Compote'])
-
-        self.client.get('/delivery/kitchen_count/')
-        response = self.client.get('/delivery/viewDownloadKitchenCount/')
-        self.assertTrue('ReportLab' in repr(response.content))
+            [
+                "Ginger pork",
+                "Green Salad",
+                "Fruit Salad",
+                "Day s Dessert",
+                "Day s Diabetic Dessert",
+                "Day s Pudding",
+                "Day s Compote",
+            ],
+        )
+
+        self.client.get("/delivery/kitchen_count/")
+        response = self.client.get("/delivery/viewDownloadKitchenCount/")
+        self.assertTrue("ReportLab" in repr(response.content))
 
 
 class ChooseDayMainDishIngredientsTestCase(SousChefTestMixin, TestCase):
 
-    fixtures = ['sample_data']
+    fixtures = ["sample_data"]
 
     @classmethod
     def setUpTestData(cls):
         # This data set includes 'Ginger pork' main dish
         # This data set includes 'Coq au vin' main dish
         # This data set includes 'Ground porc' main dish ingredient
         # This data set includes 'Pepper' available ingredient
         # create orders for today
         clients = Client.active.all()
-        Order.objects.auto_create_orders(
-            datetime.date.today(),
-            clients)
+        Order.objects.auto_create_orders(datetime.date.today(), clients)
 
     def setUp(self):
         self.force_login()
 
     def test_known_ingredients(self):
         """Two ingredients we know must be in the page"""
-        response = self.client.get(reverse_lazy('delivery:meal'))
-        self.assertTrue(b'Ground porc' in response.content and
-                        b'Pepper' in response.content)
+        response = self.client.get(reverse_lazy("delivery:meal"))
+        self.assertTrue(
+            b"Ground porc" in response.content and b"Pepper" in response.content
+        )
 
     def test_date_with_dish_next(self):
         """From ingredient choice go to Kitchen Count Report."""
-        response = self.client.get(reverse_lazy('delivery:meal'))
-        maindish = Component.objects.get(name='Ginger pork')
-        cis = Component_ingredient.objects.filter(
-            date=None, component=maindish)
+        response = self.client.get(reverse_lazy("delivery:meal"))
+        maindish = Component.objects.get(name="Ginger pork")
+        cis = Component_ingredient.objects.filter(date=None, component=maindish)
         ing_ids = [ci.ingredient.id for ci in cis]
         req = {}
-        req['_update'] = 'Confirm all ingredients'
-        req['maindish'] = str(maindish.id)
-        req['ingredients'] = ing_ids
-        req['sides_ingredients'] = [
-            Ingredient.objects.filter(name='zucchini').first().id]
-        response = self.client.post(reverse_lazy('delivery:meal'), req)
-        response = self.client.get(reverse_lazy('delivery:kitchen_count'))
-        self.assertTrue(b'Ginger pork' in response.content)
+        req["_update"] = "Confirm all ingredients"
+        req["maindish"] = str(maindish.id)
+        req["ingredients"] = ing_ids
+        req["sides_ingredients"] = [
+            Ingredient.objects.filter(name="zucchini").first().id
+        ]
+        response = self.client.post(reverse_lazy("delivery:meal"), req)
+        response = self.client.get(reverse_lazy("delivery:kitchen_count"))
+        self.assertTrue(b"Ginger pork" in response.content)
 
     def test_remember_day_ingredients(self):
         """After Kitchen Count Report we remember chosen ingredients."""
-        response = self.client.get(reverse_lazy('delivery:meal'))
-        maindish = Component.objects.get(name='Ginger pork')
-        cis = Component_ingredient.objects.filter(
-            date=None, component=maindish)
+        response = self.client.get(reverse_lazy("delivery:meal"))
+        maindish = Component.objects.get(name="Ginger pork")
+        cis = Component_ingredient.objects.filter(date=None, component=maindish)
         ing_ids = [ci.ingredient.id for ci in cis]
         req = {}
-        req['_update'] = 'Confirm all ingredients'
-        req['maindish'] = str(maindish.id)
-        req['ingredients'] = ing_ids
-        req['sides_ingredients'] = [
-            Ingredient.objects.filter(name='Onions').first().id]
-        response = self.client.post(reverse_lazy('delivery:meal'), req)
-        response = self.client.get(reverse_lazy('delivery:kitchen_count'))
-        self.assertTrue(b'Ginger pork' in response.content)
-        response = self.client.get(reverse_lazy('delivery:meal'))
-        self.assertTrue(b'Ginger pork' in response.content)
+        req["_update"] = "Confirm all ingredients"
+        req["maindish"] = str(maindish.id)
+        req["ingredients"] = ing_ids
+        req["sides_ingredients"] = [Ingredient.objects.filter(name="Onions").first().id]
+        response = self.client.post(reverse_lazy("delivery:meal"), req)
+        response = self.client.get(reverse_lazy("delivery:kitchen_count"))
+        self.assertTrue(b"Ginger pork" in response.content)
+        response = self.client.get(reverse_lazy("delivery:meal"))
+        self.assertTrue(b"Ginger pork" in response.content)
 
     def test_restore_dish_recipe(self):
         """Restore dish ingredients to those of recipe."""
         # dish : Ginger pork with added Pepper
-        response = self.client.get(reverse_lazy('delivery:meal'))
-        maindish = Component.objects.get(name='Ginger pork')
-        cis = Component_ingredient.objects.filter(
-            date=None, component=maindish)
+        response = self.client.get(reverse_lazy("delivery:meal"))
+        maindish = Component.objects.get(name="Ginger pork")
+        cis = Component_ingredient.objects.filter(date=None, component=maindish)
         ing_ids = [ci.ingredient.id for ci in cis]
         # dish and added ingredient must be in kitchen count
         req = {}
-        req['_update'] = 'Confirm all ingredients'
-        req['maindish'] = str(maindish.id)
-        req['ingredients'] = ing_ids + \
-            [Ingredient.objects.get(name='Pepper').id]
-        req['sides_ingredients'] = [Ingredient.objects.all().first().id]
-        response = self.client.post(reverse_lazy('delivery:meal'), req)
-        response = self.client.get(reverse_lazy('delivery:kitchen_count'))
-        self.assertTrue(b'Ginger pork' in response.content and
-                        b'Pepper' in response.content)
+        req["_update"] = "Confirm all ingredients"
+        req["maindish"] = str(maindish.id)
+        req["ingredients"] = ing_ids + [Ingredient.objects.get(name="Pepper").id]
+        req["sides_ingredients"] = [Ingredient.objects.all().first().id]
+        response = self.client.post(reverse_lazy("delivery:meal"), req)
+        response = self.client.get(reverse_lazy("delivery:kitchen_count"))
+        self.assertTrue(
+            b"Ginger pork" in response.content and b"Pepper" in response.content
+        )
         # restore recipe
         response = self.client.post(
-            reverse_lazy('delivery:meal'),
-            {'_restore': 'Restore recipe'}
+            reverse_lazy("delivery:meal"), {"_restore": "Restore recipe"}
         )
         # update ingredients
         req = {}
-        req['_update'] = 'Confirm all ingredients'
-        req['maindish'] = str(maindish.id)
-        req['ingredients'] = ing_ids
-        req['sides_ingredients'] = [Ingredient.objects.all().first().id]
-        response = self.client.post(reverse_lazy('delivery:meal'), req)
+        req["_update"] = "Confirm all ingredients"
+        req["maindish"] = str(maindish.id)
+        req["ingredients"] = ing_ids
+        req["sides_ingredients"] = [Ingredient.objects.all().first().id]
+        response = self.client.post(reverse_lazy("delivery:meal"), req)
         # check that we have Ginger pork with no Pepper in Kitchen count
-        response = self.client.get(reverse_lazy('delivery:kitchen_count'))
-        self.assertTrue(b'Ginger pork' in response.content and
-                        b'Pepper' not in response.content)
+        response = self.client.get(reverse_lazy("delivery:kitchen_count"))
+        self.assertTrue(
+            b"Ginger pork" in response.content and b"Pepper" not in response.content
+        )
 
     def test_change_main_dish(self):
         """Change dish then go directly to Kitchen Count Report."""
-        maindish = Component.objects.get(name='Coq au vin')
-        cis = Component_ingredient.objects.filter(
-            date=None, component=maindish)
+        maindish = Component.objects.get(name="Coq au vin")
+        cis = Component_ingredient.objects.filter(date=None, component=maindish)
         ing_ids = [ci.ingredient.id for ci in cis]
 
-        response = self.client.get(
-            reverse_lazy('delivery:meal_id', args=[maindish.id]))
+        response = self.client.get(reverse_lazy("delivery:meal_id", args=[maindish.id]))
         req = {}
-        req['_update'] = 'Update ingredients'
-        req['maindish'] = str(maindish.id)
-        req['ingredients'] = ing_ids
-        req['sides_ingredients'] = [Ingredient.objects.all().first().id]
-        response = self.client.post(reverse_lazy('delivery:meal'), req)
-        response = self.client.get(reverse_lazy('delivery:kitchen_count'))
-        self.assertTrue(b'Coq au vin' in response.content)
+        req["_update"] = "Update ingredients"
+        req["maindish"] = str(maindish.id)
+        req["ingredients"] = ing_ids
+        req["sides_ingredients"] = [Ingredient.objects.all().first().id]
+        response = self.client.post(reverse_lazy("delivery:meal"), req)
+        response = self.client.get(reverse_lazy("delivery:kitchen_count"))
+        self.assertTrue(b"Coq au vin" in response.content)
 
     def test_post_invalid_form(self):
         """Invalid form."""
-        response = self.client.get(reverse_lazy('delivery:meal'))
+        response = self.client.get(reverse_lazy("delivery:meal"))
         req = {}
-        req['_update'] = 'Next: Print Kitchen Count'
-        req['maindish'] = 'wrong'
-        response = self.client.post(reverse_lazy('delivery:meal'), req)
+        req["_update"] = "Next: Print Kitchen Count"
+        req["maindish"] = "wrong"
+        response = self.client.post(reverse_lazy("delivery:meal"), req)
 
         self.assertIn(
             ugettext(
-                'Select a valid choice. That choice is not one of '
-                'the available choices.').encode(response.charset),
-            response.content
+                "Select a valid choice. That choice is not one of "
+                "the available choices."
+            ).encode(response.charset),
+            response.content,
         )
 
     def test_if_valid_no_red_sign(self):
         o = Order.objects.first()
         o.delivery_date = tz.now()
         o.save()
-        response = self.client.get(reverse('delivery:order'))
-        self.assertNotIn(b'<i class="warning sign red icon"></i>',
-                         response.content)
-        response = self.client.get(reverse('delivery:refresh_orders'))
-        self.assertNotIn(b'<i class="warning sign red icon"></i>',
-                         response.content)
+        response = self.client.get(reverse("delivery:order"))
+        self.assertNotIn(b'<i class="warning sign red icon"></i>', response.content)
+        response = self.client.get(reverse("delivery:refresh_orders"))
+        self.assertNotIn(b'<i class="warning sign red icon"></i>', response.content)
 
     def test_no_route_error(self):
         o = Order.objects.first()
         o.delivery_date = tz.now()
         o.save()
         c = o.client
         c.route = None
         c.save()
-        response = self.client.get(reverse('delivery:order'))
-        self.assertIn(b'<i class="warning sign red icon"></i>',
-                      response.content)
-        response = self.client.get(reverse('delivery:refresh_orders'))
-        self.assertIn(b'<i class="warning sign red icon"></i>',
-                      response.content)
+        response = self.client.get(reverse("delivery:order"))
+        self.assertIn(b'<i class="warning sign red icon"></i>', response.content)
+        response = self.client.get(reverse("delivery:refresh_orders"))
+        self.assertIn(b'<i class="warning sign red icon"></i>', response.content)
 
     def test_not_geolocalized_error(self):
         o = Order.objects.first()
         o.delivery_date = tz.now()
         o.save()
         c = o.client
         c.member.address.latitude = None
         c.member.address.longitude = None
         c.member.address.save()
-        response = self.client.get(reverse('delivery:order'))
-        self.assertIn(b'<i class="warning sign red icon"></i>',
-                      response.content)
-        response = self.client.get(reverse('delivery:refresh_orders'))
-        self.assertIn(b'<i class="warning sign red icon"></i>',
-                      response.content)
+        response = self.client.get(reverse("delivery:order"))
+        self.assertIn(b'<i class="warning sign red icon"></i>', response.content)
+        response = self.client.get(reverse("delivery:refresh_orders"))
+        self.assertIn(b'<i class="warning sign red icon"></i>', response.content)
 
     def test_redirects_users_who_do_not_have_read_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
-        url = reverse('delivery:meal')
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
+        url = reverse("delivery:meal")
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_read_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('delivery:meal')
+        self.client.login(username="foo", password="secure")
+        url = reverse("delivery:meal")
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
-    def test_disable_form_fields_for_users_that_do_not_have_edit_permission(self):  # noqa
+    def test_disable_form_fields_for_users_that_do_not_have_edit_permission(
+        self,
+    ):  # noqa
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('delivery:meal')
+        self.client.login(username="foo", password="secure")
+        url = reverse("delivery:meal")
         # Run
         response = self.client.get(url)
         # Check
-        for field in response.context['form']:
+        for field in response.context["form"]:
             assert field.field.disabled
 
-    def test_do_not_allow_users_that_do_not_have_edit_permission_to_post_data(self):  # noqa
+    def test_do_not_allow_users_that_do_not_have_edit_permission_to_post_data(
+        self,
+    ):  # noqa
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('delivery:meal')
+        self.client.login(username="foo", password="secure")
+        url = reverse("delivery:meal")
         # Run
         response = self.client.post(url)
         # Check
         self.assertEqual(response.status_code, 403)
 
 
 class DeliveryRouteSheetTestCase(SousChefTestMixin, TestCase):
 
     # This data set includes 'Blondin' client lastname
     #   in 'Centre Sud' route
     # This data set includes 'Tracy' client lastname
     #   in 'Mile-End' route
     #   and his side dish is 'compote'
-    fixtures = ['sample_data']
+    fixtures = ["sample_data"]
 
     def setUp(self):
         # generate orders today
         self.today = datetime.date.today()
         clients = Client.active.all()
-        Order.objects.auto_create_orders(
-            self.today, clients)
-        self.route_id = Route.objects.get(name='Centre Sud').id
+        Order.objects.auto_create_orders(self.today, clients)
+        self.route_id = Route.objects.get(name="Centre Sud").id
         self.force_login()
 
     def test_query(self):
         """Sample route sheet query."""
         route_list = Order.get_delivery_list(self.today, self.route_id)
-        self.assertTrue('Blondin' in repr(route_list))
+        self.assertTrue("Blondin" in repr(route_list))
 
     def test_extra_similar_sides(self):
         """Test cumulative quantities for similar side dishes."""
         # Add two separate extra compote order items for 'Tracy'
-        member = Member.objects.filter(lastname='Tracy')[0]
+        member = Member.objects.filter(lastname="Tracy")[0]
         client = Client.objects.get(member=member.id)
         order = Order.objects.get(client=client.id, delivery_date=self.today)
         self.assertEqual(order.client.id, client.id)
-        mile_end_id = Route.objects.get(name='Mile-End').id
+        mile_end_id = Route.objects.get(name="Mile-End").id
         route_list = Order.get_delivery_list(self.today, mile_end_id)
-        self.assertTrue('Tracy' in repr(route_list))
+        self.assertTrue("Tracy" in repr(route_list))
 
     def test_sheet(self):
         """Sample route sheet page."""
-        client = Client.objects.filter(member__lastname='Blondin')[0]
+        client = Client.objects.filter(member__lastname="Blondin")[0]
         route = Route.objects.get(pk=self.route_id)
         DeliveryHistoryFactory(
-            route=route,
-            date=tz.datetime.today(),
-            client_id_sequence=[client.id]
+            route=route, date=tz.datetime.today(), client_id_sequence=[client.id]
         )
         response = self.client.get(
-            reverse_lazy('delivery:route_sheet', args=[self.route_id]))
-        self.assertTrue(b'Blondin' in response.content)
+            reverse_lazy("delivery:route_sheet", args=[self.route_id])
+        )
+        self.assertTrue(b"Blondin" in response.content)
 
     def test_redirects_users_who_do_not_have_read_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
-        url = reverse('delivery:route_sheet', args=[self.route_id])
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
+        url = reverse("delivery:route_sheet", args=[self.route_id])
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_read_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         DeliveryHistoryFactory(
-            route=Route.objects.get(pk=self.route_id),
-            date=tz.datetime.today()
+            route=Route.objects.get(pk=self.route_id), date=tz.datetime.today()
         )
-        url = reverse('delivery:route_sheet', args=[self.route_id])
+        url = reverse("delivery:route_sheet", args=[self.route_id])
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class RedirectAnonymousUserTestCase(SousChefTestMixin, TestCase):
 
-    fixtures = ['sample_data']
+    fixtures = ["sample_data"]
 
     def test_anonymous_user_gets_redirect_to_login_page(self):
         check = self.assertRedirectsWithAllMethods
-        check(reverse('delivery:order'))
-        check(reverse('delivery:meal'))
+        check(reverse("delivery:order"))
+        check(reverse("delivery:meal"))
         meal = Component.objects.first()
         meal_id = meal.id
-        check(reverse('delivery:meal_id', kwargs={'id': meal_id}))
-        check(reverse('delivery:routes'))
-        check(reverse('delivery:kitchen_count'))
-        check(reverse('delivery:kitchen_count_date', kwargs={
-            'year': 2016,
-            'month': 11,
-            'day': 30
-        }))
-        check(reverse('delivery:mealLabels'))
-        check(reverse('delivery:route_sheet', kwargs={'pk': 1}))
-        check(reverse('delivery:refresh_orders'))
+        check(reverse("delivery:meal_id", kwargs={"id": meal_id}))
+        check(reverse("delivery:routes"))
+        check(reverse("delivery:kitchen_count"))
+        check(
+            reverse(
+                "delivery:kitchen_count_date",
+                kwargs={"year": 2016, "month": 11, "day": 30},
+            )
+        )
+        check(reverse("delivery:mealLabels"))
+        check(reverse("delivery:route_sheet", kwargs={"pk": 1}))
+        check(reverse("delivery:refresh_orders"))
 
 
 class OrderlistViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['sample_data']
+    fixtures = ["sample_data"]
 
     def setUp(self):
         super(OrderlistViewTestCase, self).setUp()
         self.force_login()
 
     def test_can_filter_orders_by_client_names(self):
         # Setup
         Order.objects.all().update(delivery_date=tz.now())
-        url = reverse('delivery:order')
+        url = reverse("delivery:order")
         # Run
-        response = self.client.get(url, {'client_name': 'john'})
+        response = self.client.get(url, {"client_name": "john"})
         # Check
         self.assertEqual(
-            set(response.context['orders']),
-            set(Order.objects.filter(
-                Q(client__member__firstname__icontains='john') |
-                Q(client__member__lastname__icontains='john')
-            )))
+            set(response.context["orders"]),
+            set(
+                Order.objects.filter(
+                    Q(client__member__firstname__icontains="john")
+                    | Q(client__member__lastname__icontains="john")
+                )
+            ),
+        )
 
     def test_redirects_users_who_do_not_have_read_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
-        url = reverse('delivery:order')
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
+        url = reverse("delivery:order")
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_read_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('delivery:order')
+        self.client.login(username="foo", password="secure")
+        url = reverse("delivery:order")
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class KitchenCountOrderFilterTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['sample_data']
+    fixtures = ["sample_data"]
 
     def setUp(self):
         super(KitchenCountOrderFilterTestCase, self).setUp()
         self.factory = RequestFactory()
 
     def test_can_filter_orders_by_client_names(self):
         # Setup
         queryset = Order.objects.all()
-        request_1 = self.factory.get('/')
-        request_2 = self.factory.get('/', {'client_name': 'john doe'})
+        request_1 = self.factory.get("/")
+        request_2 = self.factory.get("/", {"client_name": "john doe"})
         # Run
         filterset_1 = KitchenCountOrderFilter(request_1.GET, queryset)
         filterset_2 = KitchenCountOrderFilter(request_2.GET, queryset)
         # Check
         self.assertEqual(filterset_1.qs.count(), queryset.count())
         self.assertTrue(filterset_2.qs.count())
         self.assertEqual(
             set(filterset_2.qs),
-            set(Order.objects.filter(
-                Q(client__member__firstname__icontains='john') |
-                Q(client__member__firstname__icontains='doe') |
-                Q(client__member__lastname__icontains='john') |
-                Q(client__member__lastname__icontains='doe')
-            )))
+            set(
+                Order.objects.filter(
+                    Q(client__member__firstname__icontains="john")
+                    | Q(client__member__firstname__icontains="doe")
+                    | Q(client__member__lastname__icontains="john")
+                    | Q(client__member__lastname__icontains="doe")
+                )
+            ),
+        )
 
 
 class RoutesInformationViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['sample_data']
+    fixtures = ["sample_data"]
 
     def setUp(self):
         super(RoutesInformationViewTestCase, self).setUp()
         self.force_login()
 
     def test_can_embed_additional_route_sheet_information_when_printing(self):
         # Setup
-        url = reverse('delivery:routes')
+        url = reverse("delivery:routes")
         # Run
         response_1 = self.client.get(url)
-        response_2 = self.client.get(url, {'print': 'yes'})
+        response_2 = self.client.get(url, {"print": "yes"})
         # Check
-        self.assertNotIn('routes_dict', response_1)
-        self.assertIn('routes_dict', response_2)
+        self.assertNotIn("routes_dict", response_1)
+        self.assertIn("routes_dict", response_2)
 
     def test_redirects_users_who_do_not_have_read_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
-        url = reverse('delivery:routes')
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
+        url = reverse("delivery:routes")
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_read_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('delivery:routes')
+        self.client.login(username="foo", password="secure")
+        url = reverse("delivery:routes")
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class KitchenCountViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['sample_data']
+    fixtures = ["sample_data"]
 
     def test_redirects_users_who_do_not_have_read_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
-        url = reverse('delivery:kitchen_count')
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
+        url = reverse("delivery:kitchen_count")
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_read_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('delivery:kitchen_count')
+        self.client.login(username="foo", password="secure")
+        url = reverse("delivery:kitchen_count")
 
         # main dish and its ingredients today
-        main_dishes = Component.objects.filter(name='Ginger pork')
+        main_dishes = Component.objects.filter(name="Ginger pork")
         main_dish = main_dishes[0]
-        dish_ingredients = Component.get_recipe_ingredients(
-            main_dish.id)
+        dish_ingredients = Component.get_recipe_ingredients(main_dish.id)
         for ing in dish_ingredients:
             ci = Component_ingredient(
-                component=main_dish,
-                ingredient=ing,
-                date=datetime.date.today())
+                component=main_dish, ingredient=ing, date=datetime.date.today()
+            )
             ci.save()
         # Add sides ingredient
         sides_component = Component.objects.get(
-            component_group=COMPONENT_GROUP_CHOICES_SIDES)
-        sides_ingredient = Ingredient.objects.get(name='Brussel sprouts')
+            component_group=COMPONENT_GROUP_CHOICES_SIDES
+        )
+        sides_ingredient = Ingredient.objects.get(name="Brussel sprouts")
         ci = Component_ingredient(
             component=sides_component,
             ingredient=sides_ingredient,
-            date=datetime.date.today())
+            date=datetime.date.today(),
+        )
         ci.save()
 
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class MealLabelsViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['sample_data']
+    fixtures = ["sample_data"]
 
     def test_redirects_users_who_do_not_have_read_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
-        url = reverse('delivery:mealLabels')
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
+        url = reverse("delivery:mealLabels")
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_read_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('delivery:mealLabels')
+        self.client.login(username="foo", password="secure")
+        url = reverse("delivery:mealLabels")
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class RefreshOrderViewTestCase(SousChefTestMixin, TestCase):
-
     def test_redirects_users_who_do_not_have_edit_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('delivery:refresh_orders')
+        self.client.login(username="foo", password="secure")
+        url = reverse("delivery:refresh_orders")
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_edit_permission(self):
         # Setup
         user = User.objects.create_superuser(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('delivery:refresh_orders')
+        self.client.login(username="foo", password="secure")
+        url = reverse("delivery:refresh_orders")
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
     def test_refresh_create_only_if_scheduled_today(self):
         """
         Refs bug #734.
         If a client is ongoing but don't have scheduled delivery,
         then don't create his order.
         """
         meals_default = {}
         data = {
-            'main_dish_{}_quantity': 2,
-            'size_{}': 'R',
-            'dessert_{}_quantity': 0,
-            'diabetic_dessert_{}_quantity': 0,
-            'fruit_salad_{}_quantity': 1,
-            'green_salad_{}_quantity': 1,
-            'pudding_{}_quantity': 1,
-            'compote_{}_quantity': 0,
+            "main_dish_{}_quantity": 2,
+            "size_{}": "R",
+            "dessert_{}_quantity": 0,
+            "diabetic_dessert_{}_quantity": 0,
+            "fruit_salad_{}_quantity": 1,
+            "green_salad_{}_quantity": 1,
+            "pudding_{}_quantity": 1,
+            "compote_{}_quantity": 0,
         }
         for day, _ in DAYS_OF_WEEK:
             for key_tmpl, value in data.items():
                 meals_default[key_tmpl.format(day)] = value
 
         ongoing_clients = ClientFactory.create_batch(
-            10, status=Client.ACTIVE, delivery_type='O',
+            10,
+            status=Client.ACTIVE,
+            delivery_type="O",
             meal_default_week=meals_default,
-            route=RouteFactory()
+            route=RouteFactory(),
         )
 
         # The meal schedule should exclude today.
         schedule_delivery = []
         weekday = datetime.date.today().weekday()
         for i, t in enumerate(DAYS_OF_WEEK):
             if i != weekday:
                 schedule_delivery.append(t[0])
 
         for c in ongoing_clients:
             c.set_simple_meals_schedule(schedule_delivery)
 
         self.force_login()
-        url = reverse('delivery:refresh_orders')
+        url = reverse("delivery:refresh_orders")
         response = self.client.get(url)
         self.assertEqual(response.status_code, 200)
 
-        self.assertEqual(
-            Order.objects.all().count(),
-            0  # No order should be created.
-        )
+        self.assertEqual(Order.objects.all().count(), 0)  # No order should be created.
 
 
 class ExcludeMalconfiguredClientsTestCase(SousChefTestMixin, TestCase):
     """
     Test 4 clients:
     - c_valid: correctly configured
                id==10, avoid veggie_10->chicken_10, avoid wine_10
@@ -755,23 +814,21 @@
             "main_dish_friday_quantity": 1,
             "main_dish_monday_quantity": 1,
             "main_dish_saturday_quantity": 1,
             "main_dish_sunday_quantity": 1,
             "main_dish_thursday_quantity": 1,
             "main_dish_tuesday_quantity": 1,
             "main_dish_wednesday_quantity": 1,
-
             "size_friday": "L",
             "size_monday": "L",
             "size_saturday": "L",
             "size_sunday": "L",
             "size_thursday": "L",
             "size_tuesday": "L",
             "size_wednesday": "L",
-
             "dessert_friday_quantity": 1,
             "dessert_monday_quantity": 1,
             "dessert_saturday_quantity": 1,
             "dessert_sunday_quantity": 1,
             "dessert_thursday_quantity": 1,
             "dessert_tuesday_quantity": 1,
             "dessert_wednesday_quantity": 1,
@@ -781,263 +838,252 @@
         cls.c_valid = ClientFactory(
             pk=10,
             status=Client.ACTIVE,
             delivery_type="O",  # ongoing
             route=cls.route1,
             meal_default_week=meal_default_week,
             member=MemberFactory(
-                firstname="Valid",
-                lastname="Valid",
-                address=AddressFactory()
-            )
+                firstname="Valid", lastname="Valid", address=AddressFactory()
+            ),
         )
         cls.c_nr = ClientFactory(
             pk=20,
             status=Client.ACTIVE,
             delivery_type="O",  # ongoing
             route=None,
             meal_default_week=meal_default_week,
             member=MemberFactory(
-                firstname="Nronly",
-                lastname="Nronly",
-                address=AddressFactory()
-            )
+                firstname="Nronly", lastname="Nronly", address=AddressFactory()
+            ),
         )
         cls.c_ng = ClientFactory(
             pk=30,
             status=Client.ACTIVE,
             delivery_type="O",  # ongoing
             route=cls.route2,
             meal_default_week=meal_default_week,
             member=MemberFactory(
                 firstname="Ngonly",
                 lastname="Ngonly",
-                address=AddressFactory(
-                    latitude=None
-                )
-            )
+                address=AddressFactory(latitude=None),
+            ),
         )
         cls.c_nrng = ClientFactory(
             pk=40,
             status=Client.ACTIVE,
             delivery_type="O",  # ongoing
             route=None,
             meal_default_week=meal_default_week,
             member=MemberFactory(
                 firstname="Nrng",
                 lastname="Nrng",
-                address=AddressFactory(
-                    longitude=None
-                )
-            )
+                address=AddressFactory(longitude=None),
+            ),
         )
 
-        cls.main_dish = ComponentFactory(
-            name="coq au vin",
-            component_group="main_dish")
-        cls.sides = ComponentFactory(
-            name="sides",
-            component_group="sides")
+        cls.main_dish = ComponentFactory(name="coq au vin", component_group="main_dish")
+        cls.sides = ComponentFactory(name="sides", component_group="sides")
 
         cls.ingred_chickens = []
         cls.ingred_wines = []
         for client in (cls.c_valid, cls.c_nr, cls.c_ng, cls.c_nrng):
             # Ensure that orders are created when refrshing orders.
-            client.set_simple_meals_schedule([
-                'monday', 'tuesday', 'wednesday', 'thursday', 'friday',
-                'saturday', 'sunday'])
+            client.set_simple_meals_schedule(
+                [
+                    "monday",
+                    "tuesday",
+                    "wednesday",
+                    "thursday",
+                    "friday",
+                    "saturday",
+                    "sunday",
+                ]
+            )
 
             # client-specific ingredient (for testing clashes)
             this_chicken = IngredientFactory(
-                name="chicken_{0}".format(client.id),
-                ingredient_group="meat")
+                name="chicken_{0}".format(client.id), ingredient_group="meat"
+            )
             this_wine = IngredientFactory(
-                name="wine_{0}".format(client.id),
-                ingredient_group="oils_and_sauces")
+                name="wine_{0}".format(client.id), ingredient_group="oils_and_sauces"
+            )
 
             # add them to main_dish
-            ComponentIngredientFactory(
-                component=cls.main_dish,
-                ingredient=this_chicken)
-            ComponentIngredientFactory(
-                component=cls.main_dish,
-                ingredient=this_wine)
+            ComponentIngredientFactory(component=cls.main_dish, ingredient=this_chicken)
+            ComponentIngredientFactory(component=cls.main_dish, ingredient=this_wine)
 
             # all special veggies, special winehaters
             this_incompatib = IncompatibilityFactory(
                 restricted_item=RestrictedItemFactory(
-                    name="veggie_{0}".format(client.id),
-                    restricted_item_group="meat"
+                    name="veggie_{0}".format(client.id), restricted_item_group="meat"
                 ),
-                ingredient=this_chicken
+                ingredient=this_chicken,
             )
             Restriction.objects.create(
-                client=client,
-                restricted_item=this_incompatib.restricted_item)
-            Client_avoid_ingredient.objects.create(
-                client=client,
-                ingredient=this_wine)
+                client=client, restricted_item=this_incompatib.restricted_item
+            )
+            Client_avoid_ingredient.objects.create(client=client, ingredient=this_wine)
 
             # keep track of these chickens and wines
             cls.ingred_chickens.append(this_chicken)
             cls.ingred_wines.append(this_wine)
 
     def setUp(self):
         self.force_login()
 
     def _refresh_orders(self):
-        return self.client.get(reverse('delivery:refresh_orders'))
+        return self.client.get(reverse("delivery:refresh_orders"))
 
     def _today_meal(self):
-        return self.client.post(reverse('delivery:meal'), {
-            'maindish': [str(self.main_dish.id)],
-            '_update': ['Next: Print Kitchen Count'],
-            'ingredients': map(
-                lambda ingred: str(ingred.id),
-                self.ingred_chickens + self.ingred_wines
-            ),
-            'sides_ingredients': map(
-                lambda ingred: str(ingred.id),
-                self.ingred_chickens
-            )
-        })
+        return self.client.post(
+            reverse("delivery:meal"),
+            {
+                "maindish": [str(self.main_dish.id)],
+                "_update": ["Next: Print Kitchen Count"],
+                "ingredients": map(
+                    lambda ingred: str(ingred.id),
+                    self.ingred_chickens + self.ingred_wines,
+                ),
+                "sides_ingredients": map(
+                    lambda ingred: str(ingred.id), self.ingred_chickens
+                ),
+            },
+        )
 
     def test_step_1__review_orders(self):
-        response = self.client.get(reverse('delivery:order'))
-        self.assertEqual(
-            len(response.context['orders']), 0
-        )
+        response = self.client.get(reverse("delivery:order"))
+        self.assertEqual(len(response.context["orders"]), 0)
         self.assertEqual(
-            response.content.count(
-                b'<i class="warning sign red icon"></i>'
-            ), 0
+            response.content.count(b'<i class="warning sign red icon"></i>'), 0
         )
         # refresh to create orders
         response = self._refresh_orders()
+        self.assertEqual(len(response.context["orders"]), 4)
         self.assertEqual(
-            len(response.context['orders']), 4
-        )
-        self.assertEqual(
-            response.content.count(
-                b'<i class="warning sign red icon"></i>'
-            ), 3
+            response.content.count(b'<i class="warning sign red icon"></i>'), 3
         )
 
     def test_step_3__component_table(self):
         _ = self._refresh_orders()
         response = self._today_meal()
         self.assertRedirects(response, reverse("delivery:meal"))
         response = self.client.get(reverse("delivery:kitchen_count"))
-        component_lines = response.context['component_lines']
+        component_lines = response.context["component_lines"]
         main_dish_component_line = next(
-            cl for cl in component_lines
-            if cl.component_group == ugettext_lazy('Main Dish')
+            cl
+            for cl in component_lines
+            if cl.component_group == ugettext_lazy("Main Dish")
         )
         self.assertEqual(main_dish_component_line.rqty, 0)
         # only c_valid
         self.assertEqual(main_dish_component_line.lqty, 1)
 
     def test_step_3__clashing_ingredients_restrictions_table(self):
         _ = self._refresh_orders()
         response = self._today_meal()
         self.assertRedirects(response, reverse("delivery:meal"))
         response = self.client.get(reverse("delivery:kitchen_count"))
-        meal_lines = response.context['meal_lines']
+        meal_lines = response.context["meal_lines"]
 
         # contains c_valid (10)
         ml_valid_clash = next(
-            ml for ml in meal_lines
-            if 'chicken_10' in ml.ingr_clash and
-            'wine_10' in ml.ingr_clash
-        )
-        self.assertEqual(ml_valid_clash.rqty, '0')
-        self.assertEqual(ml_valid_clash.lqty, '1')
-        ml_valid_restrict = next(
-            ml for ml in meal_lines
-            if 'veggie_10' in ml.rest_item
-        )
-        self.assertIn('Valid', ml_valid_restrict.client)
+            ml
+            for ml in meal_lines
+            if "chicken_10" in ml.ingr_clash and "wine_10" in ml.ingr_clash
+        )
+        self.assertEqual(ml_valid_clash.rqty, "0")
+        self.assertEqual(ml_valid_clash.lqty, "1")
+        ml_valid_restrict = next(ml for ml in meal_lines if "veggie_10" in ml.rest_item)
+        self.assertIn("Valid", ml_valid_restrict.client)
 
         # doesn't contain c_nronly (20)
-        self.assertRaises(StopIteration, lambda: next(
-            ml for ml in meal_lines
-            if 'chicken_20' in ml.ingr_clash and
-            'wine_20' in ml.ingr_clash
-        ))
-        self.assertRaises(StopIteration, lambda: next(
-            ml for ml in meal_lines
-            if 'veggie_20' in ml.rest_item
-        ))
+        self.assertRaises(
+            StopIteration,
+            lambda: next(
+                ml
+                for ml in meal_lines
+                if "chicken_20" in ml.ingr_clash and "wine_20" in ml.ingr_clash
+            ),
+        )
+        self.assertRaises(
+            StopIteration,
+            lambda: next(ml for ml in meal_lines if "veggie_20" in ml.rest_item),
+        )
 
         # doesn't contain c_ngonly (30)
-        self.assertRaises(StopIteration, lambda: next(
-            ml for ml in meal_lines
-            if 'chicken_30' in ml.ingr_clash and
-            'wine_30' in ml.ingr_clash
-        ))
-        self.assertRaises(StopIteration, lambda: next(
-            ml for ml in meal_lines
-            if 'veggie_30' in ml.rest_item
-        ))
+        self.assertRaises(
+            StopIteration,
+            lambda: next(
+                ml
+                for ml in meal_lines
+                if "chicken_30" in ml.ingr_clash and "wine_30" in ml.ingr_clash
+            ),
+        )
+        self.assertRaises(
+            StopIteration,
+            lambda: next(ml for ml in meal_lines if "veggie_30" in ml.rest_item),
+        )
 
         # doesn't contain c_nrng (40)
-        self.assertRaises(StopIteration, lambda: next(
-            ml for ml in meal_lines
-            if 'chicken_40' in ml.ingr_clash and
-            'wine_40' in ml.ingr_clash
-        ))
-        self.assertRaises(StopIteration, lambda: next(
-            ml for ml in meal_lines
-            if 'veggie_40' in ml.rest_item
-        ))
+        self.assertRaises(
+            StopIteration,
+            lambda: next(
+                ml
+                for ml in meal_lines
+                if "chicken_40" in ml.ingr_clash and "wine_40" in ml.ingr_clash
+            ),
+        )
+        self.assertRaises(
+            StopIteration,
+            lambda: next(ml for ml in meal_lines if "veggie_40" in ml.rest_item),
+        )
 
         # TOTAL SPECIALS
         ml_last = meal_lines[-1]
         self.assertEqual(ml_last.ingr_clash, "TOTAL SPECIALS")
-        self.assertEqual(ml_last.rqty, '0')
-        self.assertEqual(ml_last.lqty, '1')
+        self.assertEqual(ml_last.rqty, "0")
+        self.assertEqual(ml_last.lqty, "1")
 
     def test_step_3__labels(self):
         _ = self._refresh_orders()
         response = self._today_meal()
         self.assertRedirects(response, reverse("delivery:meal"))
         response = self.client.get(reverse("delivery:kitchen_count"))
-        num_labels = response.context['num_labels']
+        num_labels = response.context["num_labels"]
         self.assertEqual(num_labels, 1)  # only c_valid
 
     def test_step_4__routes_before_organizing(self):
         """
         Should ignore route==None and non geolocalized clients.
         When the delivery history doesn't exist or it's invalid,
         don't let route sheet and route sheets work.
         """
         _ = self._refresh_orders()
         _ = self._today_meal()
         response = self.client.get(reverse("delivery:routes"))
-        route_orders_tuples = response.context['route_details']
-        route_orders_dict = dict(map(
-            lambda t: (t[0], t[1:]), route_orders_tuples
-        ))
+        route_orders_tuples = response.context["route_details"]
+        route_orders_dict = dict(map(lambda t: (t[0], t[1:]), route_orders_tuples))
         self.assertIn(self.route1, route_orders_dict)
         self.assertEqual(route_orders_dict[self.route1][0], 1)
         self.assertIn(self.route2, route_orders_dict)
         self.assertEqual(route_orders_dict[self.route2][0], 0)
         # Assert not configured
-        self.assertFalse(response.context['all_configured'])
-        self.assertFalse(DeliveryHistory.objects.filter(
-            route=self.route1,
-            date=tz.datetime.today()
-        ).exists())
-        self.assertFalse(DeliveryHistory.objects.filter(
-            route=self.route2,
-            date=tz.datetime.today()
-        ).exists())
+        self.assertFalse(response.context["all_configured"])
+        self.assertFalse(
+            DeliveryHistory.objects.filter(
+                route=self.route1, date=tz.datetime.today()
+            ).exists()
+        )
+        self.assertFalse(
+            DeliveryHistory.objects.filter(
+                route=self.route2, date=tz.datetime.today()
+            ).exists()
+        )
         # Assert print doesn't work
-        response = self.client.get(reverse("delivery:routes"),
-                                   {'print': 'yes'})
+        response = self.client.get(reverse("delivery:routes"), {"print": "yes"})
         self.assertEqual(response.status_code, 404)
         # Assert route sheets don't exist
         response = self.client.get(
             reverse("delivery:route_sheet", args=[self.route1.pk])
         )
         self.assertEqual(response.status_code, 404)
         response = self.client.get(
@@ -1047,183 +1093,170 @@
 
         # Try invalid DeliveryHistory
         DeliveryHistory.objects.create(
             route=self.route1,
             date=tz.datetime.today(),
             # As long as this sequence is not exactly same as the clients',
             # it's always invalid, even if it contains all the clients.
-            client_id_sequence=[999999, 888888, self.c_valid.pk]
+            client_id_sequence=[999999, 888888, self.c_valid.pk],
         )
         # Assert print doesn't work
-        response = self.client.get(reverse("delivery:routes"),
-                                   {'print': 'yes'})
+        response = self.client.get(reverse("delivery:routes"), {"print": "yes"})
         self.assertEqual(response.status_code, 404)
 
     def test_step_4__routes_after_organizing(self):
         """
         Should ignore route==None and not geolocalized
         """
         _ = self._refresh_orders()
         _ = self._today_meal()
         # Work on Route 1
         response = self.client.post(
             reverse("delivery:create_delivery_of_today", args=[self.route1.pk])
         )
         self.assertRedirects(
-            response,
-            reverse("delivery:edit_delivery_of_today", args=[self.route1.pk])
+            response, reverse("delivery:edit_delivery_of_today", args=[self.route1.pk])
+        )
+        self.assertTrue(
+            DeliveryHistory.objects.filter(
+                route=self.route1, date=tz.datetime.today()
+            ).exists()
         )
-        self.assertTrue(DeliveryHistory.objects.filter(
-            route=self.route1,
-            date=tz.datetime.today()
-        ).exists())
         response = self.client.get(
             reverse("delivery:edit_delivery_of_today", args=[self.route1.pk])
         )
         self.assertEqual(response.status_code, 200)
         response = self.client.post(
             reverse("delivery:edit_delivery_of_today", args=[self.route1.pk]),
             {
-                'vehicle': 'walking',
-                'comments': 'My bicycle is broken',
-                'client_id_sequence': json.dumps([self.c_valid.pk])
-            }
-        )
-        self.assertRedirects(
-            response,
-            reverse("delivery:routes")
+                "vehicle": "walking",
+                "comments": "My bicycle is broken",
+                "client_id_sequence": json.dumps([self.c_valid.pk]),
+            },
         )
+        self.assertRedirects(response, reverse("delivery:routes"))
 
         # Assert configured because Route 2 is empty.
         response = self.client.get(reverse("delivery:routes"))
-        self.assertTrue(response.context['all_configured'])
+        self.assertTrue(response.context["all_configured"])
 
         # Assert Route 2 doesn't allow the creation of delivery
         response = self.client.post(
             reverse("delivery:create_delivery_of_today", args=[self.route2.pk])
         )
         self.assertEqual(response.status_code, 404)
-        self.assertFalse(DeliveryHistory.objects.filter(
-            route=self.route2,
-            date=tz.datetime.today()
-        ).exists())
+        self.assertFalse(
+            DeliveryHistory.objects.filter(
+                route=self.route2, date=tz.datetime.today()
+            ).exists()
+        )
         response = self.client.get(
             reverse("delivery:edit_delivery_of_today", args=[self.route2.pk])
         )
         self.assertEqual(response.status_code, 404)
         response = self.client.post(
             reverse("delivery:edit_delivery_of_today", args=[self.route2.pk])
         )
         self.assertEqual(response.status_code, 404)
 
         # Assert print works
-        response = self.client.get(reverse("delivery:routes"),
-                                   {'print': 'yes'})
+        response = self.client.get(reverse("delivery:routes"), {"print": "yes"})
         self.assertEqual(response.status_code, 200)
         # Check print result
-        routes_dict = json.loads(response['routes_dict'])
+        routes_dict = json.loads(response["routes_dict"])
         # only route1 has one client
         route1 = routes_dict[str(self.route1.id)]
-        self.assertEqual(len(route1['detail_lines']), 1)
+        self.assertEqual(len(route1["detail_lines"]), 1)
         # route2 doesn't exist.
         self.assertNotIn(str(self.route2.id), routes_dict)
 
         # check output page : use data in header because cannot read PDF
-        route_name_list = \
-            [item['route'] for item in routes_dict.values()]
+        route_name_list = [item["route"] for item in routes_dict.values()]
         self.assertIn(self.route1.name, route_name_list)
         self.assertNotIn(self.route2.name, route_name_list)
 
         # Assert route sheets exist and check route sheets
         # Route 1
         response1 = self.client.get(
             reverse("delivery:route_sheet", args=[self.route1.pk])
         )
         self.assertEqual(response1.status_code, 200)
         # 1 dessert 1 L main_dish
-        summary_line1 = response1.context['summary_lines']
+        summary_line1 = response1.context["summary_lines"]
         main_dish_line1 = next(
-            l for l in summary_line1 if l.component_group == 'main_dish'
+            ln for ln in summary_line1 if ln.component_group == "main_dish"
         )
         self.assertEqual(main_dish_line1.rqty, 0)
         self.assertEqual(main_dish_line1.lqty, 1)
         dessert_line1 = next(
-            l for l in summary_line1 if l.component_group == 'dessert'
+            ln for ln in summary_line1 if ln.component_group == "dessert"
         )
         self.assertEqual(dessert_line1.rqty, 1)
         # 1 client
-        detail_line1 = response1.context['detail_lines']
+        detail_line1 = response1.context["detail_lines"]
         self.assertEqual(len(detail_line1), 1)
-        self.assertEqual(detail_line1[0].firstname, 'Valid')
-        self.assertEqual(detail_line1[0].lastname, 'Valid')
+        self.assertEqual(detail_line1[0].firstname, "Valid")
+        self.assertEqual(detail_line1[0].lastname, "Valid")
 
         # Route 2 - not found
         response2 = self.client.get(
             reverse("delivery:route_sheet", args=[self.route2.pk])
         )
         self.assertEqual(response2.status_code, 404)
 
 
 class RouteSheetReportTestCase(SousChefTestMixin, TestCase):
     # PDF route sheets report generation
-    fixtures = ['sample_data']
+    fixtures = ["sample_data"]
 
     def setUp(self):
         self.force_login()
 
     def test_route_sheet_report(self):
         # generate orders today
-        Order.objects.auto_create_orders(
-            datetime.date.today(), Client.active.all())
+        Order.objects.auto_create_orders(datetime.date.today(), Client.active.all())
 
         # list all the routes
         response = self.client.get(reverse("delivery:routes"))
         self.assertEqual(response.status_code, 200)
         # get details of each route : {route:(order_count, ...), ...}
-        route_orders_dict = dict(map(
-            lambda t: (t[0], t[1:]),
-            response.context['route_details']
-        ))
+        route_orders_dict = dict(
+            map(lambda t: (t[0], t[1:]), response.context["route_details"])
+        )
 
         # create history and organize clients for the non empty routes
         for route, num in route_orders_dict.items():
             if num[0] > 0:
 
                 # route has clients with orders : create delivery history
                 response = self.client.post(
-                    reverse("delivery:create_delivery_of_today",
-                            args=[route.pk])
+                    reverse("delivery:create_delivery_of_today", args=[route.pk])
                 )
                 self.assertRedirects(
                     response,
-                    reverse("delivery:edit_delivery_of_today",
-                            args=[route.pk])
+                    reverse("delivery:edit_delivery_of_today", args=[route.pk]),
                 )
 
                 # get the clients in the route
                 response = self.client.get(
-                    reverse("delivery:edit_delivery_of_today",
-                            args=[route.pk])
+                    reverse("delivery:edit_delivery_of_today", args=[route.pk])
                 )
                 self.assertEqual(response.status_code, 200)
                 client_pks = [
-                    item.pk for item
-                    in response.context['clients_on_delivery_history']]
+                    item.pk for item in response.context["clients_on_delivery_history"]
+                ]
 
                 # organize the clients in the route
                 response = self.client.post(
-                    reverse("delivery:edit_delivery_of_today",
-                            args=[route.pk]),
+                    reverse("delivery:edit_delivery_of_today", args=[route.pk]),
                     {
-                        'vehicle': 'walking',
-                        'comments': 'Nice day !',
-                        'client_id_sequence': json.dumps(client_pks)
-                    }
+                        "vehicle": "walking",
+                        "comments": "Nice day !",
+                        "client_id_sequence": json.dumps(client_pks),
+                    },
                 )
-                self.assertRedirects(
-                    response, reverse("delivery:routes"))
+                self.assertRedirects(response, reverse("delivery:routes"))
 
         # generate the PDF route sheets of all the routes
-        response = self.client.get(reverse("delivery:routes"),
-                                   {'print': 'yes'})
+        response = self.client.get(reverse("delivery:routes"), {"print": "yes"})
         self.assertEqual(response.status_code, 200)
-        self.assertTrue('ReportLab' in repr(response.content))
+        self.assertTrue("ReportLab" in repr(response.content))
```

### Comparing `souschef-1.3.6/souschef/delivery/tsp.py` & `souschef-1.3.7/souschef/delivery/tsp.py`

 * *Files 3% similar despite different names*

```diff
@@ -1,27 +1,24 @@
 import itertools
 
 
 class Node:
-
     def __init__(self, id, latitude, longitude):
         self.id = id
         self.latitude = latitude
         self.longitude = longitude
 
     def __str__(self):
-        return "Node({0}, {1}, {2})".format(self.id, self.latitude,
-                                            self.longitude)
+        return "Node({0}, {1}, {2})".format(self.id, self.latitude, self.longitude)
 
     def __repr__(self):
         return str(self)
 
 
 class Solution:
-
     def __init__(self, tour, value):
         self.tour = tour
         self.value = value
 
 
 def pairwise(iterable):
     """s -> (s0,s1), (s1,s2), (s2, s3), ...
@@ -31,15 +28,15 @@
     a, b = itertools.tee(iterable)
     next(b, None)
     return zip(a, b)
 
 
 def reverse_subtour(tour, start, end):
     """Returns a new list with the subtour reversed"""
-    return tour[:start] + list(reversed(tour[start:end + 1])) + tour[end + 1:]
+    return tour[:start] + list(reversed(tour[start : end + 1])) + tour[end + 1 :]
 
 
 def solve(tour):
     """Solves the Traveling Salesman Problem (TSP) with a heuristic.
 
     Args:
         tour: List of nodes (Node) representing a tour. Even if a tour
@@ -60,16 +57,15 @@
 
     improved = True
     while improved:
         improved = False
         best_candidate = Solution(best_solution.tour, best_solution.value)
 
         for candidate_tour in two_opt_neighbors(best_solution.tour):
-            candidate = Solution(candidate_tour,
-                                 tour_squared_distance(candidate_tour))
+            candidate = Solution(candidate_tour, tour_squared_distance(candidate_tour))
 
             # We use the squared distance since the square root
             # function is monotone increasing, so comparing squared
             # distance is equivalent to comparing distances.
             if candidate.value < best_candidate.value:
                 best_candidate = candidate
 
@@ -79,16 +75,15 @@
 
     return best_solution.tour
 
 
 def squared_distance(a, b):
     """Squared euclidean distance"""
 
-    return (a.latitude - b.latitude) ** 2 + \
-        (a.longitude - b.longitude) ** 2
+    return (a.latitude - b.latitude) ** 2 + (a.longitude - b.longitude) ** 2
 
 
 def tour_squared_distance(tour):
     # "+ tour[0]" => add the distance for returning to the starting
     # point
     distance = 0
     for a, b in pairwise(tour + [tour[0]]):
```

### Comparing `souschef-1.3.6/souschef/delivery/views.py` & `souschef-1.3.7/souschef/delivery/views.py`

 * *Files 22% similar despite different names*

```diff
@@ -1,299 +1,325 @@
 import collections
 import datetime
-from datetime import date
 import json
 import os
-from shutil import copyfile
 import textwrap
+from datetime import date
+from shutil import copyfile
 
+import labels  # package pylabels
 from django.conf import settings
 from django.contrib import messages
-from django.contrib.auth.mixins import LoginRequiredMixin
-from django.contrib.auth.mixins import PermissionRequiredMixin
+from django.contrib.admin.models import LogEntry
+from django.contrib.auth.mixins import (
+    LoginRequiredMixin,
+    PermissionRequiredMixin,
+)
 from django.core.exceptions import PermissionDenied
-from django.shortcuts import render, get_object_or_404
+from django.db.models.functions import Lower
+from django.http import (
+    Http404,
+    HttpResponse,
+    HttpResponseRedirect,
+)
+from django.shortcuts import (
+    get_object_or_404,
+    render,
+)
+from django.urls import (
+    reverse,
+    reverse_lazy,
+)
 from django.utils import timezone
 from django.utils.translation import ugettext
 from django.utils.translation import ugettext_lazy as _
 from django.views import generic
-from django.http import HttpResponseRedirect, HttpResponse, Http404
-from django.urls import reverse_lazy, reverse
-from django.contrib.admin.models import LogEntry, ADDITION
-from django.db.models.functions import Lower
 from django_filters.views import FilterView
-
-import labels  # package pylabels
-
 from reportlab.graphics import shapes as rl_shapes
-from reportlab.lib import (
-    colors as rl_colors, enums as rl_enums)
-from reportlab.lib.styles import (
-    getSampleStyleSheet as rl_getSampleStyleSheet,
-    ParagraphStyle as RLParagraphStyle)
+from reportlab.lib import colors as rl_colors
+from reportlab.lib import enums as rl_enums
+from reportlab.lib.styles import ParagraphStyle as RLParagraphStyle
+from reportlab.lib.styles import getSampleStyleSheet as rl_getSampleStyleSheet
 from reportlab.lib.units import inch as rl_inch
 from reportlab.pdfbase import pdfmetrics as rl_pdfmetrics
-from reportlab.platypus import (
-    PageBreak as RLPageBreak,
-    Paragraph as RLParagraph,
-    SimpleDocTemplate as RLSimpleDocTemplate,
-    Spacer as RLSpacer,
-    Table as RLTable,
-    TableStyle as RLTableStyle)
+from reportlab.platypus import PageBreak as RLPageBreak
+from reportlab.platypus import Paragraph as RLParagraph
+from reportlab.platypus import SimpleDocTemplate as RLSimpleDocTemplate
+from reportlab.platypus import Spacer as RLSpacer
+from reportlab.platypus import Table as RLTable
+from reportlab.platypus import TableStyle as RLTableStyle
 
 from souschef.meal.models import (
     COMPONENT_GROUP_CHOICES,
     COMPONENT_GROUP_CHOICES_MAIN_DISH,
     COMPONENT_GROUP_CHOICES_SIDES,
     Component,
-    Menu, Menu_component,
-    Component_ingredient)
-from souschef.member.models import Client, Route, DeliveryHistory
+    Component_ingredient,
+    Menu,
+    Menu_component,
+)
+from souschef.member.models import (
+    Client,
+    DeliveryHistory,
+    Route,
+)
 from souschef.order.models import (
-    component_group_sorting,
     ORDER_STATUS_CANCELLED,
     ORDER_STATUS_ORDERED,
-    Order,
     SIZE_CHOICES_LARGE,
     SIZE_CHOICES_REGULAR,
+    Order,
+    component_group_sorting,
 )
+
+from . import tsp
 from .filters import KitchenCountOrderFilter
 from .forms import DishIngredientsForm
-from . import tsp
-
 
-LOGO_IMAGE = os.path.join(settings.BASE_DIR, "160widthSR-Logo-Screen-PurpleGreen-HI-RGB1.jpg")
+LOGO_IMAGE = os.path.join(
+    settings.BASE_DIR,
+    "160widthSR-Logo-Screen-PurpleGreen-HI-RGB1.jpg",
+)
 DELIVERY_STARTING_POINT_LAT_LONG = (45.516564, -73.575145)  # Santropol Roulant
 
 
 def get_orders_for_kitchen_count(order_statuses):
-    return Order.objects.get_orders(order_statuses=order_statuses).order_by(
-            'client__route__pk', 'pk'
-        ).prefetch_related('orders').select_related(
-            'client__member',
-            'client__route',
-            'client__member__address'
-        ).only(
-            'delivery_date',
-            'status',
-            'client__member__firstname',
-            'client__member__lastname',
-            'client__route__name',
-            'client__member__address__latitude',
-            'client__member__address__longitude'
+    return (
+        Order.objects.get_orders(order_statuses=order_statuses)
+        .order_by("client__route__pk", "pk")
+        .prefetch_related("orders")
+        .select_related("client__member", "client__route", "client__member__address")
+        .only(
+            "delivery_date",
+            "status",
+            "client__member__firstname",
+            "client__member__lastname",
+            "client__route__name",
+            "client__member__address__latitude",
+            "client__member__address__longitude",
         )
+    )
 
 
 def get_number_of_orders_in_status(orders, status):
     return len([o for o in orders if o.status == status])
 
 
 def get_has_orders_in_status(orders, status):
     return get_number_of_orders_in_status(orders, status) > 0
 
 
 def get_kitchen_count_context():
-    orders = get_orders_for_kitchen_count((ORDER_STATUS_ORDERED, ORDER_STATUS_CANCELLED))
+    orders = get_orders_for_kitchen_count(
+        (ORDER_STATUS_ORDERED, ORDER_STATUS_CANCELLED)
+    )
+
     return {
-        'orders': orders,
-        'has_ordered_orders': get_has_orders_in_status(orders, ORDER_STATUS_ORDERED),
-        'has_cancelled_orders': get_has_orders_in_status(orders, ORDER_STATUS_CANCELLED),
-        'nb_of_ordered_orders': get_number_of_orders_in_status(orders, ORDER_STATUS_ORDERED),
+        "orders": orders,
+        "has_ordered_orders": get_has_orders_in_status(orders, ORDER_STATUS_ORDERED),
+        "has_cancelled_orders": get_has_orders_in_status(
+            orders, ORDER_STATUS_CANCELLED
+        ),
+        "nb_of_ordered_orders": get_number_of_orders_in_status(
+            orders, ORDER_STATUS_ORDERED
+        ),
     }
 
 
 class Orderlist(LoginRequiredMixin, PermissionRequiredMixin, FilterView):
     # Display all the order on a given day
-    context_object_name = 'orders'
+    context_object_name = "orders"
     filterset_class = KitchenCountOrderFilter
     model = Order
-    permission_required = 'sous_chef.read'
-    template_name = 'review_orders.html'
+    permission_required = "sous_chef.read"
+    template_name = "review_orders.html"
 
     def get_queryset(self):
-        return get_orders_for_kitchen_count((ORDER_STATUS_ORDERED, ORDER_STATUS_CANCELLED))
+        return get_orders_for_kitchen_count(
+            (ORDER_STATUS_ORDERED, ORDER_STATUS_CANCELLED)
+        )
 
     def get_context_data(self, **kwargs):
         context = super(Orderlist, self).get_context_data(**kwargs)
-        context['orders_refresh_date'] = None
+        context["orders_refresh_date"] = None
         if LogEntry.objects.exists():
-            log = LogEntry.objects.latest('action_time')
-            context['orders_refresh_date'] = log
+            log = LogEntry.objects.latest("action_time")
+            context["orders_refresh_date"] = log
 
-        # See also get_kitchen_count_context, used for the "Generate orders" button.
-        context['has_ordered_orders'] = get_has_orders_in_status(
-            context['orders'], ORDER_STATUS_ORDERED)
-        context['has_cancelled_orders'] = get_has_orders_in_status(
-            context['orders'], ORDER_STATUS_CANCELLED)
-        context['nb_of_ordered_orders'] = get_number_of_orders_in_status(
-            context['orders'], ORDER_STATUS_ORDERED)
+        # See also get_kitchen_count_context, used for the
+        # "Generate orders" button.
+        context["has_ordered_orders"] = get_has_orders_in_status(
+            context["orders"], ORDER_STATUS_ORDERED
+        )
+        context["has_cancelled_orders"] = get_has_orders_in_status(
+            context["orders"], ORDER_STATUS_CANCELLED
+        )
+        context["nb_of_ordered_orders"] = get_number_of_orders_in_status(
+            context["orders"], ORDER_STATUS_ORDERED
+        )
         print(context)
         return context
 
 
-class MealInformation(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.View):
+class MealInformation(LoginRequiredMixin, PermissionRequiredMixin, generic.View):
     # Choose today's main dish and its ingredients
-    permission_required = 'sous_chef.read'
+    permission_required = "sous_chef.read"
 
     def get(self, request, **kwargs):
         # Display today's main dish and its ingredients
 
         #  get sides component
         try:
             sides_component = Component.objects.get(
-                component_group=COMPONENT_GROUP_CHOICES_SIDES)
+                component_group=COMPONENT_GROUP_CHOICES_SIDES
+            )
         except Component.DoesNotExist:
             raise Exception(
-                "The database must contain exactly one component " +
-                "having 'Component group' = 'Sides' ")
+                "The database must contain exactly one component "
+                + "having 'Component group' = 'Sides' "
+            )
 
         date = datetime.date.today()
-        main_dishes = Component.objects.order_by(Lower('name')).filter(
-            component_group=COMPONENT_GROUP_CHOICES_MAIN_DISH)
+        main_dishes = Component.objects.order_by(Lower("name")).filter(
+            component_group=COMPONENT_GROUP_CHOICES_MAIN_DISH
+        )
 
-        if 'id' in kwargs:
+        if "id" in kwargs:
             # today's main dish has been chosen by user (onchange)
-            main_dish = Component.objects.get(id=int(kwargs['id']))
+            main_dish = Component.objects.get(id=int(kwargs["id"]))
             # delete all existing ingredients for the date except for sides
-            Component_ingredient.objects. \
-                filter(date=date). \
-                exclude(component=sides_component). \
-                delete()
+            Component_ingredient.objects.filter(date=date).exclude(
+                component=sides_component
+            ).delete()
         else:
             # see if a menu exists for today
             menu_comps = Menu_component.objects.filter(
                 menu__date=date,
-                component__component_group=COMPONENT_GROUP_CHOICES_MAIN_DISH)
+                component__component_group=COMPONENT_GROUP_CHOICES_MAIN_DISH,
+            )
             if menu_comps:
                 # main dish is known in today's menu
                 main_dish = menu_comps[0].component
             else:
                 # take first main dish
                 main_dish = main_dishes[0]
 
-        recipe_ingredients = Component.get_recipe_ingredients(
-            main_dish.id)
+        recipe_ingredients = Component.get_recipe_ingredients(main_dish.id)
         # see if existing chosen ingredients for the main dish
-        dish_ingredients = Component.get_day_ingredients(
-            main_dish.id, date)
+        dish_ingredients = Component.get_day_ingredients(main_dish.id, date)
         # see if existing chosen ingredients for the sides
-        sides_ingredients = Component.get_day_ingredients(
-            sides_component.id, date)
+        sides_ingredients = Component.get_day_ingredients(sides_component.id, date)
         # need this for restore button
-        recipe_changed = (
-            len(dish_ingredients) > 0 and
-            set(dish_ingredients) != set(recipe_ingredients)
+        recipe_changed = len(dish_ingredients) > 0 and set(dish_ingredients) != set(
+            recipe_ingredients
         )
         # need this for update ingredients button
-        ingredients_changed = (
-            len(dish_ingredients) == 0 or
-            len(sides_ingredients) == 0
-        )
+        ingredients_changed = len(dish_ingredients) == 0 or len(sides_ingredients) == 0
 
         if not dish_ingredients:
             # get recipe ingredients for the main dish
             dish_ingredients = recipe_ingredients
         form = DishIngredientsForm(
             initial={
-                'maindish': main_dish.id,
-                'ingredients': dish_ingredients,
-                'sides_ingredients': sides_ingredients})
+                "maindish": main_dish.id,
+                "ingredients": dish_ingredients,
+                "sides_ingredients": sides_ingredients,
+            }
+        )
         # The form should be read-only if the user does not have the
         # permission to edit data.
-        if not request.user.has_perm('sous_chef.edit'):
-            [setattr(form.fields[k], 'disabled', True) for k in form.fields]
+        if not request.user.has_perm("sous_chef.edit"):
+            [setattr(form.fields[k], "disabled", True) for k in form.fields]
 
         return render(
             request,
-            'ingredients.html',
-            {'form': form,
-             'date': str(date),
-             'recipe_changed': recipe_changed,
-             'ingredients_changed': ingredients_changed}
+            "ingredients.html",
+            {
+                "form": form,
+                "date": str(date),
+                "recipe_changed": recipe_changed,
+                "ingredients_changed": ingredients_changed,
+            },
         )
 
     def post(self, request):
         # Choose ingredients in today's main dish and in Sides
 
         # Prevent users to go further if they don't have the permission
         # to edit data.
-        if not request.user.has_perm('sous_chef.edit'):
+        if not request.user.has_perm("sous_chef.edit"):
             raise PermissionDenied
 
         # print("Pick Ingredients POST request=", request.POST)  # For DEBUG
         date = datetime.date.today()
         form = DishIngredientsForm(request.POST)
         # get sides component
         try:
             sides_component = Component.objects.get(
-                component_group=COMPONENT_GROUP_CHOICES_SIDES)
+                component_group=COMPONENT_GROUP_CHOICES_SIDES
+            )
         except Component.DoesNotExist:
             raise Exception(
-                "The database must contain exactly one component " +
-                "having 'Component group' = 'Sides' ")
+                "The database must contain exactly one component "
+                + "having 'Component group' = 'Sides' "
+            )
 
-        if '_restore' in request.POST:
+        if "_restore" in request.POST:
             # restore ingredients of main dish to those in recipe
             # delete all existing ingredients for the date except for sides
-            Component_ingredient.objects. \
-                filter(date=date). \
-                exclude(component=sides_component). \
-                delete()
-            return HttpResponseRedirect(
-                reverse_lazy("delivery:meal"))
-        elif '_update' in request.POST:
+            Component_ingredient.objects.filter(date=date).exclude(
+                component=sides_component
+            ).delete()
+            return HttpResponseRedirect(reverse_lazy("delivery:meal"))
+        elif "_update" in request.POST:
             # update ingredients of main dish and ingredients of sides
             if form.is_valid():
-                ingredients = form.cleaned_data['ingredients']
-                sides_ingredients = form.cleaned_data['sides_ingredients']
-                component = form.cleaned_data['maindish']
+                ingredients = form.cleaned_data["ingredients"]
+                sides_ingredients = form.cleaned_data["sides_ingredients"]
+                component = form.cleaned_data["maindish"]
                 # delete all main dish and sides ingredients for the date
                 Component_ingredient.objects.filter(date=date).delete()
                 # add revised ingredients for the date + dish
                 for ing in ingredients:
                     ci = Component_ingredient(
-                        component=component,
-                        ingredient=ing,
-                        date=date)
+                        component=component, ingredient=ing, date=date
+                    )
                     ci.save()
                 # add revised ingredients for the date + sides
                 for ing in sides_ingredients:
                     ci = Component_ingredient(
-                        component=sides_component,
-                        ingredient=ing,
-                        date=date)
+                        component=sides_component, ingredient=ing, date=date
+                    )
                     ci.save()
                 # Create menu and its components for today
                 compnames = [component.name]  # main dish
                 # take first sorted name of each other component group
                 for group, ignore in COMPONENT_GROUP_CHOICES:
                     if group != COMPONENT_GROUP_CHOICES_MAIN_DISH:
-                        compname = Component.objects.order_by(
-                            Lower('name')).filter(
-                                component_group=group
-                            )
+                        compname = Component.objects.order_by(Lower("name")).filter(
+                            component_group=group
+                        )
                         if compname:
                             compnames.append(compname[0].name)
                 Menu.create_menu_and_components(date, compnames)
-                return HttpResponseRedirect(
-                    reverse_lazy("delivery:meal"))
+                return HttpResponseRedirect(reverse_lazy("delivery:meal"))
         # END IF
         return render(
             request,
-            'ingredients.html',
-            {'form': form,
-             'date': str(date),
-             'recipe_changed': False,
-             'ingredients_changed': True}
+            "ingredients.html",
+            {
+                "form": form,
+                "date": str(date),
+                "recipe_changed": False,
+                "ingredients_changed": True,
+            },
         )
 
 
-class RoutesInformation(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.View):
+class RoutesInformation(LoginRequiredMixin, PermissionRequiredMixin, generic.View):
     """Display route list page or download the route sheets report.
 
     Display all the route information for a given day.
 
     The view must first determine whether each of the routes with orders
     has been "organized by the user".
 
@@ -303,247 +329,316 @@
     on the page.
 
     If the request includes argument "print=yes", the view obtains
     for each route the detailed orders to be delivered, sorts them in the
     chosen sequence and combines all the routes in a PDF report that
     is stored in the BASE_DIR and then downloaded by the browser.
     """
-    permission_required = 'sous_chef.read'
+
+    permission_required = "sous_chef.read"
 
     @property
     def doprint(self):
-        return self.request.GET.get('print', False)
+        return self.request.GET.get("print", False)
 
     def get(self, request, *args, **kwargs):
         routes = Route.objects.all()
         route_details = []
         all_configured = True
         for route in routes:
             clients = Order.objects.get_shippable_orders_by_route(
-                route.id, exclude_non_geolocalized=True).values_list(
-                    'client__pk', flat=True)
+                route.id, exclude_non_geolocalized=True
+            ).values_list("client__pk", flat=True)
             order_count = len(clients)
             try:
                 delivery_history = DeliveryHistory.objects.get(
-                    route=route,
-                    date=timezone.datetime.today()
+                    route=route, date=timezone.datetime.today()
                 )
                 set1 = set(delivery_history.client_id_sequence)
                 set2 = set(clients)
-                has_organised = 'yes' if set1 == set2 else 'invalid'
+                has_organised = "yes" if set1 == set2 else "invalid"
             except DeliveryHistory.DoesNotExist:
                 delivery_history = None
-                has_organised = 'no'
+                has_organised = "no"
             except TypeError:
                 # `client_id_sequence` is not iterable.
-                has_organised = 'invalid'
+                has_organised = "invalid"
 
-            route_details.append(
-                (route, order_count, has_organised, delivery_history)
-            )
-            if order_count > 0 and has_organised != 'yes':
+            route_details.append((route, order_count, has_organised, delivery_history))
+            if order_count > 0 and has_organised != "yes":
                 all_configured = False
 
         if not self.doprint:
             # display list of delivery routes on web page
-            return render(request, 'routes.html',
-                          {'route_details': route_details,
-                           'all_configured': all_configured})
+            return render(
+                request,
+                "routes.html",
+                {"route_details": route_details, "all_configured": all_configured},
+            )
         else:
             # download route sheets report as PDF
             if not all_configured:
                 raise Http404
             today = timezone.datetime.today()
             routes_dict = {}
-            for delivery_history in DeliveryHistory.objects.filter(
-                    date=today
-            ):
-                route_list = Order.get_delivery_list(
-                    today, delivery_history.route_id
-                )
+            for delivery_history in DeliveryHistory.objects.filter(date=today):
+                route_list = Order.get_delivery_list(today, delivery_history.route_id)
                 route_list = sort_sequence_ids(
                     route_list, delivery_history.client_id_sequence
                 )
                 summary_lines, detail_lines = drs_make_lines(route_list)
                 routes_dict[delivery_history.route_id] = {
-                    'route': delivery_history.route,
-                    'summary_lines': summary_lines,
-                    'detail_lines': detail_lines
+                    "route": delivery_history.route,
+                    "summary_lines": summary_lines,
+                    "detail_lines": detail_lines,
                 }
             # generate PDF report
             MultiRouteReport.routes_make_pages(routes_dict)
             try:
                 f = open(settings.ROUTE_SHEETS_FILE, "rb")
             except Exception:
                 raise Http404("File " + settings.ROUTE_SHEETS_FILE + " does not exist")
-            response = HttpResponse(content_type='application/pdf')
-            response['Content-Disposition'] = \
-                'attachment; filename="routesheets{}.pdf"'. \
-                format(datetime.date.today().strftime("%Y%m%d"))
+            response = HttpResponse(content_type="application/pdf")
+            response[
+                "Content-Disposition"
+            ] = 'attachment; filename="routesheets{}.pdf"'.format(
+                datetime.date.today().strftime("%Y%m%d")
+            )
             # add serializable data in response header to be used in unit tests
             routes_dict_fortest = {}
             for key, item in routes_dict.items():
                 routes_dict_fortest[key] = {
-                    'route': item['route'].name,
-                    'detail_lines': [client.lastname
-                                     for client in item['detail_lines']],
+                    "route": item["route"].name,
+                    "detail_lines": [
+                        client.lastname for client in item["detail_lines"]
+                    ],
                 }
-            response['routes_dict'] = json.dumps(routes_dict_fortest)
+            response["routes_dict"] = json.dumps(routes_dict_fortest)
             #
             response.write(f.read())
             f.close()
             return response
 
 
-class CreateDeliveryOfToday(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.View):
-    permission_required = 'sous_chef.edit'
+class CreateDeliveryOfToday(LoginRequiredMixin, PermissionRequiredMixin, generic.View):
+    permission_required = "sous_chef.edit"
 
     def post(self, request, pk, *args, **kwargs):
         route = get_object_or_404(Route, pk=pk)
         if not Order.objects.get_shippable_orders_by_route(
-                route.id, exclude_non_geolocalized=True).exists():
+            route.id, exclude_non_geolocalized=True
+        ).exists():
             # No clients on this route.
             raise Http404
 
         try:
-            DeliveryHistory.objects.get(
-                route=route, date=timezone.datetime.today()
-            )
+            DeliveryHistory.objects.get(route=route, date=timezone.datetime.today())
         except DeliveryHistory.DoesNotExist:
             DeliveryHistory.objects.create(
-                route=route, date=timezone.datetime.today(),
-                vehicle=route.vehicle
+                route=route, date=timezone.datetime.today(), vehicle=route.vehicle
             )
         return HttpResponseRedirect(
-            reverse('delivery:edit_delivery_of_today', kwargs={'pk': pk})
+            reverse("delivery:edit_delivery_of_today", kwargs={"pk": pk})
         )
 
 
 class EditDeliveryOfToday(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.edit.UpdateView):
+    LoginRequiredMixin, PermissionRequiredMixin, generic.edit.UpdateView
+):
     model = DeliveryHistory
-    fields = ('vehicle', 'client_id_sequence', 'comments')
-    permission_required = 'sous_chef.edit'
-    template_name = 'edit_delivery_of_today.html'
+    fields = ("vehicle", "client_id_sequence", "comments")
+    permission_required = "sous_chef.edit"
+    template_name = "edit_delivery_of_today.html"
 
     def get_object(self, *args, **kwargs):
         return get_object_or_404(
-            DeliveryHistory.objects.select_related('route'),
-            route=self.kwargs.get('pk'),
-            date=timezone.datetime.today()
+            DeliveryHistory.objects.select_related("route"),
+            route=self.kwargs.get("pk"),
+            date=timezone.datetime.today(),
         )
 
     def get_context_data(self, **kwargs):
         context = super(EditDeliveryOfToday, self).get_context_data(**kwargs)
-        context['delivery_history'] = self.object
+        context["delivery_history"] = self.object
         # This needs to be placed on the top when refactoring Route module.
         # It causes circular dependancy in current code structure.
         from souschef.member.views import get_clients_on_delivery_history  # noqa
-        context['clients_on_delivery_history'] = (
-            get_clients_on_delivery_history(
-                self.object,
-                func_add_warning_message=lambda m: messages.add_message(
-                    self.request, messages.ERROR, m)
-            )
+
+        context["clients_on_delivery_history"] = get_clients_on_delivery_history(
+            self.object,
+            func_add_warning_message=lambda m: messages.add_message(
+                self.request, messages.ERROR, m
+            ),
         )
         return context
 
     def get_success_url(self):
-        return reverse_lazy('delivery:routes')
+        return reverse_lazy("delivery:routes")
 
     def form_valid(self, form):
         response = super(EditDeliveryOfToday, self).form_valid(form)
         messages.add_message(
-            self.request, messages.SUCCESS,
-            _("Today's delivery on route %(route_name)s has been updated.") % {
-                'route_name': self.object.route.name
-            }
+            self.request,
+            messages.SUCCESS,
+            _("Today's delivery on route %(route_name)s has been updated.")
+            % {"route_name": self.object.route.name},
         )
         return response
 
 
 # Route sheet report classes and functions.
 
+
 def defineStyles(my_styles):
     """Define common styles for ReportLab objects.
 
     Adds reportlab.lib.styles.ParagraphStyle objects to my_styles.
 
     Args:
         my_styles: A reportlab.lib.styles.StyleSheet1 object.
     """
-    my_styles.add(RLParagraphStyle(
-        name='SmallRight', fontName='Helvetica',
-        fontSize=7, alignment=rl_enums.TA_RIGHT))
-
-    my_styles.add(RLParagraphStyle(
-        name='NormalLeft', fontName='Helvetica',
-        fontSize=10, alignment=rl_enums.TA_LEFT))
-    my_styles.add(RLParagraphStyle(
-        name='NormalLeftBold', fontName='Helvetica-Bold',
-        fontSize=10, alignment=rl_enums.TA_LEFT))
-    my_styles.add(RLParagraphStyle(
-        name='NormalCenter', fontName='Helvetica',
-        fontSize=10, alignment=rl_enums.TA_CENTER))
-    my_styles.add(RLParagraphStyle(
-        name='NormalCenterBold', fontName='Helvetica-Bold',
-        fontSize=10, alignment=rl_enums.TA_CENTER))
-    my_styles.add(RLParagraphStyle(
-        name='NormalRight', fontName='Helvetica',
-        fontSize=10, alignment=rl_enums.TA_RIGHT))
-    my_styles.add(RLParagraphStyle(
-        name='NormalRightBold', fontName='Helvetica-Bold',
-        fontSize=10, alignment=rl_enums.TA_RIGHT))
-
-    my_styles.add(RLParagraphStyle(
-        name='LargeLeft', fontName='Helvetica',
-        fontSize=12, alignment=rl_enums.TA_LEFT))
-    my_styles.add(RLParagraphStyle(
-        name='LargeCenter', fontName='Helvetica',
-        fontSize=12, alignment=rl_enums.TA_CENTER))
-    my_styles.add(RLParagraphStyle(
-        name='LargeRight', fontName='Helvetica',
-        fontSize=12, alignment=rl_enums.TA_RIGHT))
-    my_styles.add(RLParagraphStyle(
-        name='LargeBoldLeft', fontName='Helvetica-Bold',
-        fontSize=12, alignment=rl_enums.TA_LEFT))
-    my_styles.add(RLParagraphStyle(
-        name='LargeBoldRight', fontName='Helvetica-Bold',
-        fontSize=12, alignment=rl_enums.TA_RIGHT))
-
-    my_styles.add(RLParagraphStyle(
-        name='VeryLargeBoldLeft', fontName='Helvetica-Bold',
-        fontSize=14, alignment=rl_enums.TA_LEFT,
-        spaceAfter=5))
-
-    my_styles.add(RLParagraphStyle(
-        name='HugeBoldCenter', fontName='Helvetica-Bold',
-        fontSize=20, alignment=rl_enums.TA_CENTER))
+    my_styles.add(
+        RLParagraphStyle(
+            name="SmallRight",
+            fontName="Helvetica",
+            fontSize=7,
+            alignment=rl_enums.TA_RIGHT,
+        )
+    )
+
+    my_styles.add(
+        RLParagraphStyle(
+            name="NormalLeft",
+            fontName="Helvetica",
+            fontSize=10,
+            alignment=rl_enums.TA_LEFT,
+        )
+    )
+    my_styles.add(
+        RLParagraphStyle(
+            name="NormalLeftBold",
+            fontName="Helvetica-Bold",
+            fontSize=10,
+            alignment=rl_enums.TA_LEFT,
+        )
+    )
+    my_styles.add(
+        RLParagraphStyle(
+            name="NormalCenter",
+            fontName="Helvetica",
+            fontSize=10,
+            alignment=rl_enums.TA_CENTER,
+        )
+    )
+    my_styles.add(
+        RLParagraphStyle(
+            name="NormalCenterBold",
+            fontName="Helvetica-Bold",
+            fontSize=10,
+            alignment=rl_enums.TA_CENTER,
+        )
+    )
+    my_styles.add(
+        RLParagraphStyle(
+            name="NormalRight",
+            fontName="Helvetica",
+            fontSize=10,
+            alignment=rl_enums.TA_RIGHT,
+        )
+    )
+    my_styles.add(
+        RLParagraphStyle(
+            name="NormalRightBold",
+            fontName="Helvetica-Bold",
+            fontSize=10,
+            alignment=rl_enums.TA_RIGHT,
+        )
+    )
+
+    my_styles.add(
+        RLParagraphStyle(
+            name="LargeLeft",
+            fontName="Helvetica",
+            fontSize=12,
+            alignment=rl_enums.TA_LEFT,
+        )
+    )
+    my_styles.add(
+        RLParagraphStyle(
+            name="LargeCenter",
+            fontName="Helvetica",
+            fontSize=12,
+            alignment=rl_enums.TA_CENTER,
+        )
+    )
+    my_styles.add(
+        RLParagraphStyle(
+            name="LargeRight",
+            fontName="Helvetica",
+            fontSize=12,
+            alignment=rl_enums.TA_RIGHT,
+        )
+    )
+    my_styles.add(
+        RLParagraphStyle(
+            name="LargeBoldLeft",
+            fontName="Helvetica-Bold",
+            fontSize=12,
+            alignment=rl_enums.TA_LEFT,
+        )
+    )
+    my_styles.add(
+        RLParagraphStyle(
+            name="LargeBoldRight",
+            fontName="Helvetica-Bold",
+            fontSize=12,
+            alignment=rl_enums.TA_RIGHT,
+        )
+    )
+
+    my_styles.add(
+        RLParagraphStyle(
+            name="VeryLargeBoldLeft",
+            fontName="Helvetica-Bold",
+            fontSize=14,
+            alignment=rl_enums.TA_LEFT,
+            spaceAfter=5,
+        )
+    )
+
+    my_styles.add(
+        RLParagraphStyle(
+            name="HugeBoldCenter",
+            fontName="Helvetica-Bold",
+            fontSize=20,
+            alignment=rl_enums.TA_CENTER,
+        )
+    )
 
 
 class MultiRouteReport(object):
     """Namespace for Route sheet report data structures and logic.
 
     This class is never instantiated.
 
     Uses ReportLab see http://www.reportlab.com/documentation/faq/
     """
+
     # (class attribute) last page number on which a ReportLab Table has split
     table_split = None
 
     # (class attribute) report document instance
     document = None
 
     # (class attribute) page number on which route starts
     route_start_page = None
 
     class RLMultiRouteTable(RLTable):
-        """Custom table for route sheets that is monitored for table splits.
-        """
+        """Custom table for route sheets that is monitored for table splits."""
+
         def onSplit(self, table, **kwargs):
             """Override method to detect table splits.
 
             ReportLab calls this twice for each split :
               first call has the table with rows that fit on current page,
               second call has the table with the rest of the rows.
             """
@@ -555,17 +650,16 @@
             #       repr(table._cellvalues[1][0][0].text),
             #       "LAST CLIENT _cellvalues[-1][0][0].text=",
             #       repr(table._cellvalues[-1][0][0].text),
             # )
             super().onSplit(table, **kwargs)
 
     class RLMultiRouteDocTemplate(RLSimpleDocTemplate):
-        """Custom document template for route sheets having multiple tables.
+        """Custom document template for route sheets having multiple tables."""
 
-        """
         def __init__(self, *args, **kwargs):
             """Init class and ensure that we have a page footer function.
 
             Args:
                 *args
                     (required)
                         route_sheets_file : string, a file name.
@@ -574,46 +668,43 @@
                         footerFunc : callable, draws the footer.
                     (optional, see also reportlab SimpleDocTemplate)
                         leftMargin : integer, inches.
                         rightMargin : integer, inches.
                         bottomMargin : integer, inches.
             """
             try:
-                self.footerFunc = kwargs.pop('footerFunc')
+                self.footerFunc = kwargs.pop("footerFunc")
             except KeyError:
-                raise KeyError(self.__class__.__name__ +
-                               " missing kwarg : footerFunc")
+                raise KeyError(self.__class__.__name__ + " missing kwarg : footerFunc")
             super().__init__(*args, **kwargs)
 
         def afterPage(self, *args, **kwargs):
             """Override method for footer and blanks based on table splits.
 
             If table has split on this page, insert footer that tells reader
             to look for continuation on back side or on next sheet.
             If table finishes on the front side of a page, insert a blank
             page after it if necessary to ensure that two sided printing will
             show the next table on the front side of the next sheet.
             """
             if MultiRouteReport.table_split == self.page:
                 # table has split, therefore route continues on next page
-                if (self.page -
-                        MultiRouteReport.route_start_page + 1) % 2 != 0:
+                if (self.page - MultiRouteReport.route_start_page + 1) % 2 != 0:
                     # split occured at bottom of front side of sheet (odd page)
                     self.footerFunc(
-                        self,
-                        '** SUITE AU VERSO / CONTINUED ON REVERSE SIDE **')
+                        self, "** SUITE AU VERSO / CONTINUED ON REVERSE SIDE **"
+                    )
                 else:
                     # split occured at bottom of back side of sheet (even page)
                     self.footerFunc(
-                        self,
-                        '** VOIR FEUILLE SUIVANTE / SEE NEXT SHEET **')
+                        self, "** VOIR FEUILLE SUIVANTE / SEE NEXT SHEET **"
+                    )
             else:
                 # no table split means route finishes on this page
-                if (self.page -
-                        MultiRouteReport.route_start_page + 1) % 2 != 0:
+                if (self.page - MultiRouteReport.route_start_page + 1) % 2 != 0:
                     # route finishes on odd page, add a blank page
                     self.canv.showPage()
                 # the next route, if any, will start on next document page
                 MultiRouteReport.route_start_page = self.page + 1
 
     # static method
     def routes_make_pages(routes_dict):
@@ -647,306 +738,387 @@
             """Draw the header and footer.
 
             Args:
                 canvas : A reportlab.pdfgen.canvas.Canvas object.
                 doc : A reportlab.platypus.SimpleDocTemplate object.
             """
             canvas.saveState()
-            canvas.setFont('Helvetica-Bold', 12)
+            canvas.setFont("Helvetica-Bold", 12)
             canvas.drawString(
-                x=1.5 * rl_inch, y=PAGE_HEIGHT + 0.30 * rl_inch,
-                text='Santropol Roulant')
-            canvas.setFont('Helvetica', 12)
+                x=1.5 * rl_inch,
+                y=PAGE_HEIGHT + 0.30 * rl_inch,
+                text="Santropol Roulant",
+            )
+            canvas.setFont("Helvetica", 12)
             canvas.drawString(
-                x=1.5 * rl_inch, y=PAGE_HEIGHT + 0.15 * rl_inch,
-                text='Tel. : (514) 284-9335')
-            canvas.setFont('Helvetica', 10)
+                x=1.5 * rl_inch,
+                y=PAGE_HEIGHT + 0.15 * rl_inch,
+                text="Tel. : (514) 284-9335",
+            )
+            canvas.setFont("Helvetica", 10)
             canvas.drawString(
-                x=1.5 * rl_inch, y=PAGE_HEIGHT - 0.0 * rl_inch,
-                text='{}'.format(
-                    datetime.date.today().strftime('%a., %d %B %Y')))
+                x=1.5 * rl_inch,
+                y=PAGE_HEIGHT - 0.0 * rl_inch,
+                text="{}".format(datetime.date.today().strftime("%a., %d %B %Y")),
+            )
             canvas.drawString(
-                x=3.25 * rl_inch, y=PAGE_HEIGHT + 0.30 * rl_inch,
-                text='(Ce document contient des informations CONFIDENTIELLES.)'
+                x=3.25 * rl_inch,
+                y=PAGE_HEIGHT + 0.30 * rl_inch,
+                text="(Ce document contient des informations CONFIDENTIELLES.)",
             )
             canvas.drawString(
-                x=3.25 * rl_inch, y=PAGE_HEIGHT + 0.15 * rl_inch,
-                text='(This document contains CONFIDENTIAL information.)')
+                x=3.25 * rl_inch,
+                y=PAGE_HEIGHT + 0.15 * rl_inch,
+                text="(This document contains CONFIDENTIAL information.)",
+            )
             canvas.drawRightString(
-                x=PAGE_WIDTH - 0.75 * rl_inch, y=PAGE_HEIGHT + 0.30 * rl_inch,
-                text='Page {:d}'.format(
-                    doc.page - MultiRouteReport.route_start_page + 1))
+                x=PAGE_WIDTH - 0.75 * rl_inch,
+                y=PAGE_HEIGHT + 0.30 * rl_inch,
+                text="Page {:d}".format(
+                    doc.page - MultiRouteReport.route_start_page + 1
+                ),
+            )
             canvas.drawInlineImage(
                 LOGO_IMAGE,
-                0.5 * rl_inch, PAGE_HEIGHT - 0.2 * rl_inch,
-                width=0.8 * rl_inch, height=0.7 * rl_inch)
+                0.5 * rl_inch,
+                PAGE_HEIGHT - 0.2 * rl_inch,
+                width=0.8 * rl_inch,
+                height=0.7 * rl_inch,
+            )
             canvas.restoreState()
 
         def drawFooter(doc, text):
             """Draw the page footer.
 
             Args:
                 doc : A reportlab.platypus.SimpleDocTemplate object.
                 text : A string to place in the footer.
             """
             doc.canv.saveState()
-            doc.canv.setFont('Helvetica', 14)
+            doc.canv.setFont("Helvetica", 14)
             doc.canv.drawCentredString(
-                x=4.0 * rl_inch,
-                y=PAGE_HEIGHT - 10.5 * rl_inch,
-                text=text)
+                x=4.0 * rl_inch, y=PAGE_HEIGHT - 10.5 * rl_inch, text=text
+            )
             doc.canv.restoreState()
 
         def go():
             """Generate the pages.
 
             Returns:
                 An integer : The number of pages generated.
             """
             doc = MultiRouteReport.RLMultiRouteDocTemplate(
                 settings.ROUTE_SHEETS_FILE,
                 leftMargin=0.5 * rl_inch,
                 rightMargin=0.5 * rl_inch,
                 bottomMargin=0.5 * rl_inch,
-                footerFunc=drawFooter)
+                footerFunc=drawFooter,
+            )
             # initialize
             MultiRouteReport.table_split = 0
             MultiRouteReport.document = doc
             MultiRouteReport.route_start_page = 1
             story = []
             first_route = True
 
             # TODO Loop over routes
             for route in routes_dict.values():
-                if not route['summary_lines']:
+                if not route["summary_lines"]:
                     # empty route : skip it
                     continue
                 # begin Summary section
                 if not first_route:
                     # next route must start on a new page
                     story.append(RLPageBreak())
                 rows = []
                 rows.append(
-                    [RLParagraph('PLAT / DISH', styles['NormalLeftBold']),
-                     RLParagraph('Qt / Qty', styles['NormalCenterBold'])])
-                for sl in route['summary_lines']:
-                    rows.append([RLParagraph(sl.component_group_trans,
-                                             styles['NormalLeft']),
-                                 RLParagraph(str(sl.rqty + sl.lqty),
-                                             styles['NormalCenter'])])
+                    [
+                        RLParagraph("PLAT / DISH", styles["NormalLeftBold"]),
+                        RLParagraph("Qt / Qty", styles["NormalCenterBold"]),
+                    ]
+                )
+                for sl in route["summary_lines"]:
+                    rows.append(
+                        [
+                            RLParagraph(sl.component_group_trans, styles["NormalLeft"]),
+                            RLParagraph(str(sl.rqty + sl.lqty), styles["NormalCenter"]),
+                        ]
+                    )
                 tab = MultiRouteReport.RLMultiRouteTable(
                     rows,
                     colWidths=(100, 60),
-                    style=[('VALIGN', (0, 0), (-1, -1), 'TOP'),
-                           ('GRID', (0, 0), (-1, -1), 1, rl_colors.black),
-                           ('ALIGN', (0, 0), (-1, -1), 'RIGHT')],
-                    hAlign='LEFT')
+                    style=[
+                        ("VALIGN", (0, 0), (-1, -1), "TOP"),
+                        ("GRID", (0, 0), (-1, -1), 1, rl_colors.black),
+                        ("ALIGN", (0, 0), (-1, -1), "RIGHT"),
+                    ],
+                    hAlign="LEFT",
+                )
                 story.append(tab)
                 # end Summary section
 
                 # Route name
                 story.append(RLSpacer(1, 0.25 * rl_inch))
-                story.append(RLParagraph(route['route'].name,
-                                         styles['HugeBoldCenter']))
+                story.append(RLParagraph(route["route"].name, styles["HugeBoldCenter"]))
                 story.append(RLSpacer(1, 0.25 * rl_inch))
-                story.append(RLParagraph('- DBUT DE LA ROUTE / START ROUTE -',
-                                         styles['LargeLeft']))
+                story.append(
+                    RLParagraph(
+                        "- DBUT DE LA ROUTE / START ROUTE -", styles["LargeLeft"]
+                    )
+                )
                 story.append(RLSpacer(1, 0.125 * rl_inch))
 
                 # begin Detail section
                 rows = []
                 line = 0
-                tab_style = RLTableStyle(
-                    [('VALIGN', (0, 0), (-1, -1), 'TOP')])
-                rows.append([RLParagraph('Client', styles['NormalLeft']),
-                             RLParagraph('Note', styles['NormalLeft']),
-                             RLParagraph('Items', styles['NormalLeft']),
-                             RLParagraph('', styles['NormalLeft'])])
-                tab_style.add('LINEABOVE',
-                              (0, 0), (-1, 0), 1, rl_colors.black)
+                tab_style = RLTableStyle([("VALIGN", (0, 0), (-1, -1), "TOP")])
+                rows.append(
+                    [
+                        RLParagraph("Client", styles["NormalLeft"]),
+                        RLParagraph("Note", styles["NormalLeft"]),
+                        RLParagraph("Items", styles["NormalLeft"]),
+                        RLParagraph("", styles["NormalLeft"]),
+                    ]
+                )
+                tab_style.add("LINEABOVE", (0, 0), (-1, 0), 1, rl_colors.black)
                 line += 1
-                for c in route['detail_lines']:
-                    tab_style.add('LINEABOVE',
-                                  (0, line), (-1, line), 1, rl_colors.black)
-                    rows.append([
-                        # client
-                        [RLParagraph(c.firstname + ' ' + c.lastname,
-                                     styles['VeryLargeBoldLeft']),
-                         RLParagraph(c.street,
-                                     styles['LargeLeft']),
-                         RLParagraph(
-                             'Apt ' + c.apartment,
-                             styles['LargeLeft']) if c.apartment else [],
-                         RLParagraph(c.phone,
-                                     styles['LargeLeft'])],
-                        # note
-                        RLParagraph(c.delivery_note,
-                                    styles['LargeLeft']),
-                        # items
-                        ([RLParagraph(i.component_group_trans,
-                                      styles['LargeLeft'])
-                          for i in c.delivery_items] +
-                         [RLParagraph("Facture / Bill",
-                                      styles['LargeLeft'])
-                          if c.include_a_bill else []]),
-                        # quantity
-                        [RLParagraph(str(i.total_quantity),
-                                     styles['LargeRight'])
-                         for i in c.delivery_items]])
+                for c in route["detail_lines"]:
+                    tab_style.add(
+                        "LINEABOVE", (0, line), (-1, line), 1, rl_colors.black
+                    )
+                    rows.append(
+                        [
+                            # client
+                            [
+                                RLParagraph(
+                                    c.firstname + " " + c.lastname,
+                                    styles["VeryLargeBoldLeft"],
+                                ),
+                                RLParagraph(c.street, styles["LargeLeft"]),
+                                RLParagraph("Apt " + c.apartment, styles["LargeLeft"])
+                                if c.apartment
+                                else [],
+                                RLParagraph(c.phone, styles["LargeLeft"]),
+                            ],
+                            # note
+                            RLParagraph(c.delivery_note, styles["LargeLeft"]),
+                            # items
+                            (
+                                [
+                                    RLParagraph(
+                                        i.component_group_trans, styles["LargeLeft"]
+                                    )
+                                    for i in c.delivery_items
+                                ]
+                                + [
+                                    RLParagraph("Facture / Bill", styles["LargeLeft"])
+                                    if c.include_a_bill
+                                    else []
+                                ]
+                            ),
+                            # quantity
+                            [
+                                RLParagraph(str(i.total_quantity), styles["LargeRight"])
+                                for i in c.delivery_items
+                            ],
+                        ]
+                    )
                     line += 1
                 # END for
                 # add row for number of clients
-                rows.append([
-                    [RLParagraph("- FIN DE LA ROUTE -", styles['LargeLeft']),
-                     RLParagraph("- END OF ROUTE- ", styles['LargeLeft'])],
-                    [RLParagraph("Nombre d'arrts :", styles['LargeRight']),
-                     RLParagraph("Number of Stops :", styles['LargeRight'])],
-                    RLParagraph(str(line - 1), styles['LargeLeft']),
-                    RLParagraph("", styles['LargeLeft'])])
+                rows.append(
+                    [
+                        [
+                            RLParagraph("- FIN DE LA ROUTE -", styles["LargeLeft"]),
+                            RLParagraph("- END OF ROUTE- ", styles["LargeLeft"]),
+                        ],
+                        [
+                            RLParagraph("Nombre d'arrts :", styles["LargeRight"]),
+                            RLParagraph("Number of Stops :", styles["LargeRight"]),
+                        ],
+                        RLParagraph(str(line - 1), styles["LargeLeft"]),
+                        RLParagraph("", styles["LargeLeft"]),
+                    ]
+                )
                 #
-                tab_style.add('LINEBELOW',
-                              (0, line - 1), (-1, line - 1), 1,
-                              rl_colors.black)
+                tab_style.add(
+                    "LINEBELOW", (0, line - 1), (-1, line - 1), 1, rl_colors.black
+                )
                 tab = MultiRouteReport.RLMultiRouteTable(
-                              rows,
-                              colWidths=(140, 255, 100, 20),
-                              repeatRows=1)
+                    rows, colWidths=(140, 255, 100, 20), repeatRows=1
+                )
                 tab.setStyle(tab_style)
                 story.append(tab)
                 # end Detail section
                 first_route = False
             # END for
 
             # build full document
-            doc.build(story,
-                      onFirstPage=drawHeader, onLaterPages=drawHeader)
+            doc.build(
+                story,
+                onFirstPage=drawHeader,
+                onLaterPages=drawHeader,
+            )
+
             # Copy the route sheets file to keep a history
-            destination_of_copy = f"{settings.ROUTE_SHEETS_FILE.rstrip('.pdf')}_{datetime.date.today().strftime('%Y%m%d')}.pdf"
+            name = settings.ROUTE_SHEETS_FILE.rstrip(".pdf")
+            time = datetime.date.today().strftime("%Y%m%d")
+            destination_of_copy = f"{name}_{time}.pdf"
             copyfile(settings.ROUTE_SHEETS_FILE, destination_of_copy)
+
             return doc.page  # number of last page
+
         # END def
         return go()  # returns number of pages generated
 
+
 # END Route sheet report.
 
 
 # Kitchen count report view, helper classes and functions
 
-class KitchenCount(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.View):
-    permission_required = 'sous_chef.read'
+
+class KitchenCount(LoginRequiredMixin, PermissionRequiredMixin, generic.View):
+    permission_required = "sous_chef.read"
 
     def get(self, request, *args, **kwargs):
-        if reverse('delivery:downloadKitchenCount') in request.path:
+        if reverse("delivery:downloadKitchenCount") in request.path:
             # download kitchen count report as PDF
             try:
                 f = open(settings.KITCHEN_COUNT_FILE, "rb")
             except Exception:
                 raise Http404("File " + settings.KITCHEN_COUNT_FILE + " does not exist")
-            response = HttpResponse(content_type='application/pdf')
-            response['Content-Disposition'] = \
-                'attachment; filename="kitchencount{}.pdf"'. \
-                format(datetime.date.today().strftime("%Y%m%d"))
+            response = HttpResponse(content_type="application/pdf")
+            response[
+                "Content-Disposition"
+            ] = 'attachment; filename="kitchencount{}.pdf"'.format(
+                datetime.date.today().strftime("%Y%m%d")
+            )
             response.write(f.read())
             f.close()
             return response
         else:
             # Display kitchen count report for given delivery date
             #   or for today by default; generate meal labels
-            if 'year' in kwargs and 'month' in kwargs and 'day' in kwargs:
+            if "year" in kwargs and "month" in kwargs and "day" in kwargs:
                 date = datetime.date(
-                    int(kwargs['year']), int(kwargs['month']),
-                    int(kwargs['day']))
+                    int(kwargs["year"]), int(kwargs["month"]), int(kwargs["day"])
+                )
             else:
                 date = datetime.date.today()
             #  get sides component
             try:
                 sides_component = Component.objects.get(
-                    component_group=COMPONENT_GROUP_CHOICES_SIDES)
+                    component_group=COMPONENT_GROUP_CHOICES_SIDES
+                )
             except Component.DoesNotExist:
                 raise Exception(
-                    "The database must contain exactly one component " +
-                    "having 'Component group' = 'Sides' ")
+                    "The database must contain exactly one component "
+                    + "having 'Component group' = 'Sides' "
+                )
             # check if main dish ingredients were confirmed
-            main_ingredients = Component_ingredient.objects. \
-                filter(date=date). \
-                exclude(component=sides_component)
+            main_ingredients = Component_ingredient.objects.filter(date=date).exclude(
+                component=sides_component
+            )
             # check if sides ingredients were confirmed
-            sides_ingredients = Component_ingredient.objects. \
-                filter(component=sides_component, date=date)
+            sides_ingredients = Component_ingredient.objects.filter(
+                component=sides_component, date=date
+            )
             if len(main_ingredients) == 0 or len(sides_ingredients) == 0:
                 # some ingredients not confirmed, must go back one step
                 messages.add_message(
-                    self.request, messages.WARNING,
-                    _("Please check main dish and confirm" +
-                      " all ingredients before proceeding to kitchen count")
+                    self.request,
+                    messages.WARNING,
+                    _(
+                        "Please check main dish and confirm"
+                        + " all ingredients before proceeding to kitchen count"
+                    ),
                 )
-                return HttpResponseRedirect(
-                    reverse_lazy("delivery:meal"))
+                return HttpResponseRedirect(reverse_lazy("delivery:meal"))
 
             kitchen_list_unfiltered = Order.get_kitchen_items(date)
 
             # filter out route=None clients and not geolocalized clients
             kitchen_list = {}
-            geolocalized_client_ids = list(Client.objects.filter(
-                pk__in=kitchen_list_unfiltered.keys(),
-                member__address__latitude__isnull=False,
-                member__address__longitude__isnull=False
-            ).values_list('pk', flat=True))
+            geolocalized_client_ids = list(
+                Client.objects.filter(
+                    pk__in=kitchen_list_unfiltered.keys(),
+                    member__address__latitude__isnull=False,
+                    member__address__longitude__isnull=False,
+                ).values_list("pk", flat=True)
+            )
 
             for client_id, kitchen_item in kitchen_list_unfiltered.items():
-                if kitchen_item.routename is not None \
-                   and client_id in geolocalized_client_ids:
+                if (
+                    kitchen_item.routename is not None
+                    and client_id in geolocalized_client_ids
+                ):
                     kitchen_list[client_id] = kitchen_item
 
             component_lines, meal_lines = kcr_make_lines(kitchen_list, date)
             if component_lines:
                 # we have orders today
-                num_pages = kcr_make_pages(     # kitchen count as PDF
-                    date,
-                    component_lines,                    # summary
-                    meal_lines)                         # detail
-                num_labels = kcr_make_labels(   # meal labels as PDF
+                num_pages = kcr_make_pages(  # kitchen count as PDF
+                    date, component_lines, meal_lines  # summary
+                )  # detail
+                num_labels = kcr_make_labels(  # meal labels as PDF
                     date,
-                    kitchen_list,                       # KitchenItems
-                    component_lines[0].name,            # main dish name
-                    component_lines[0].ingredients)     # main dish ingredients
+                    kitchen_list,  # KitchenItems
+                    component_lines[0].name,  # main dish name
+                    component_lines[0].ingredients,
+                )  # main dish ingredients
             else:
                 # no orders today
                 num_pages = 0
                 num_labels = 0
-            return render(request, 'kitchen_count.html',
-                          {'component_lines': component_lines,
-                           'meal_lines': meal_lines,
-                           'num_pages': num_pages,
-                           'num_labels': num_labels})
+            return render(
+                request,
+                "kitchen_count.html",
+                {
+                    "component_lines": component_lines,
+                    "meal_lines": meal_lines,
+                    "num_pages": num_pages,
+                    "num_labels": num_labels,
+                },
+            )
 
 
-component_line_fields = [          # Component summary Line on Kitchen Count.
+component_line_fields = [  # Component summary Line on Kitchen Count.
     # field name       default value
-    'component_group', '',    # ex. main dish, dessert etc
-    'rqty', 0,     # Quantity of regular size main dishes
-    'lqty', 0,     # Quantity of large size main dishes
-    'name', '',    # String : component name
-    'ingredients'      '']    # String : today's ingredients in main dish
-ComponentLine = collections.namedtuple(
-    'ComponentLine', component_line_fields[0::2])
+    "component_group",
+    "",  # ex. main dish, dessert etc
+    "rqty",
+    0,  # Quantity of regular size main dishes
+    "lqty",
+    0,  # Quantity of large size main dishes
+    "name",
+    "",  # String : component name
+    "ingredients" "",
+]  # String : today's ingredients in main dish
+ComponentLine = collections.namedtuple("ComponentLine", component_line_fields[0::2])
 
 
-meal_line_fields = [               # Special Meal Line on Kitchen Count.
+meal_line_fields = [  # Special Meal Line on Kitchen Count.
     # field name       default value
-    'client', '',     # String : Lastname and abbreviated first name
-    'rqty', '',     # String : Quantity of regular size main dishes
-    'lqty', '',     # String : Quantity of large size main dishes
-    'ingr_clash', '',     # String : Ingredients that clash
-    'rest_ingr', '',     # String : Other ingredients to avoid
-    'rest_item', '',     # String : Restricted items
-    'span', '1']   # Number of lines to "rowspan" in table
-MealLine = collections.namedtuple(
-    'MealLine', meal_line_fields[0::2])
+    "client",
+    "",  # String : Lastname and abbreviated first name
+    "rqty",
+    "",  # String : Quantity of regular size main dishes
+    "lqty",
+    "",  # String : Quantity of large size main dishes
+    "ingr_clash",
+    "",  # String : Ingredients that clash
+    "rest_ingr",
+    "",  # String : Other ingredients to avoid
+    "rest_item",
+    "",  # String : Restricted items
+    "span",
+    "1",
+]  # Number of lines to "rowspan" in table
+MealLine = collections.namedtuple("MealLine", meal_line_fields[0::2])
 
 
 def meal_line(kititm):
     """Builds a line for the main section of the Kitchen Count Report.
 
     Given a client's special requirements, assemble the fields of a line
     that will be displayed / printed in the Kitchen Count Report.
@@ -954,25 +1126,28 @@
     Args:
         kititm : A KitchenItem object (see order/models)
 
     Returns:
         A MealLine object
     """
     return MealLine(
-        client=kititm.lastname + ', ' + kititm.firstname[0:2] + '.',
-        rqty=(str(kititm.meal_qty)
-              if kititm.meal_size == SIZE_CHOICES_REGULAR else ''),
-        lqty=(str(kititm.meal_qty)
-              if kititm.meal_size == SIZE_CHOICES_LARGE else ''),
-        ingr_clash='',
-        rest_ingr=', '.join(
-            sorted(list(set(kititm.avoid_ingredients) -
-                        set(kititm.incompatible_ingredients)))),
-        rest_item=', '.join(kititm.restricted_items),
-        span='1')
+        client=kititm.lastname + ", " + kititm.firstname[0:2] + ".",
+        rqty=(str(kititm.meal_qty) if kititm.meal_size == SIZE_CHOICES_REGULAR else ""),
+        lqty=(str(kititm.meal_qty) if kititm.meal_size == SIZE_CHOICES_LARGE else ""),
+        ingr_clash="",
+        rest_ingr=", ".join(
+            sorted(
+                list(
+                    set(kititm.avoid_ingredients) - set(kititm.incompatible_ingredients)
+                )
+            )
+        ),
+        rest_item=", ".join(kititm.restricted_items),
+        span="1",
+    )
 
 
 def kcr_cumulate(regular, large, meal):
     """Count cumulative meal quantities by size.
 
     Based on the size and on the number of servings of the 'meal',
     calculate the new cumulative quantities by size.
@@ -1010,71 +1185,92 @@
     Returns:
         A tuple. First value is the component (dishes) summary lines. The
           second value is the special meals lines.
     """
     # Build component summary
     component_lines = {}
     for k, item in kitchen_list.items():
-        for component_group, meal_component \
-                in item.meal_components.items():
+        for component_group, meal_component in item.meal_components.items():
             component_lines.setdefault(
                 component_group,
                 ComponentLine(
                     # find the translated name of the component group
-                    component_group=next(cg for cg in COMPONENT_GROUP_CHOICES
-                                         if cg[0] == component_group)[1],
+                    component_group=next(
+                        cg for cg in COMPONENT_GROUP_CHOICES if cg[0] == component_group
+                    )[1],
                     rqty=0,
                     lqty=0,
-                    name='',
-                    ingredients=''))
-            if (component_group == COMPONENT_GROUP_CHOICES_MAIN_DISH and
-                    component_lines[component_group].name == ''):
+                    name="",
+                    ingredients="",
+                ),
+            )
+            if (
+                component_group == COMPONENT_GROUP_CHOICES_MAIN_DISH
+                and component_lines[component_group].name == ""
+            ):
                 # not yet got main dish name and ingredients, do it
-                component_lines[component_group] = \
-                    component_lines[component_group]._replace(
-                        name=meal_component.name,
-                        ingredients=", ".join(
-                            [ing.name for ing in
-                             Component.get_day_ingredients(
-                                 meal_component.id, date)]))
-            if (component_group == COMPONENT_GROUP_CHOICES_MAIN_DISH and
-                    item.meal_size == SIZE_CHOICES_LARGE):
-                component_lines[component_group] = \
-                    component_lines[component_group]._replace(
-                        lqty=(component_lines[component_group].lqty +
-                              meal_component.qty))
+                component_lines[component_group] = component_lines[
+                    component_group
+                ]._replace(
+                    name=meal_component.name,
+                    ingredients=", ".join(
+                        [
+                            ing.name
+                            for ing in Component.get_day_ingredients(
+                                meal_component.id, date
+                            )
+                        ]
+                    ),
+                )
+            if (
+                component_group == COMPONENT_GROUP_CHOICES_MAIN_DISH
+                and item.meal_size == SIZE_CHOICES_LARGE
+            ):
+                component_lines[component_group] = component_lines[
+                    component_group
+                ]._replace(
+                    lqty=(component_lines[component_group].lqty + meal_component.qty)
+                )
             else:
-                component_lines[component_group] = \
-                    component_lines[component_group]._replace(
-                        rqty=(component_lines[component_group].rqty +
-                              meal_component.qty))
+                component_lines[component_group] = component_lines[
+                    component_group
+                ]._replace(
+                    rqty=(component_lines[component_group].rqty + meal_component.qty)
+                )
         # END FOR
     # END FOR
     # Sort component summary
     items = component_lines.items()
     if items:
-        component_lines_sorted = \
-            [component_lines[COMPONENT_GROUP_CHOICES_MAIN_DISH]]
+        component_lines_sorted = [component_lines[COMPONENT_GROUP_CHOICES_MAIN_DISH]]
         component_lines_sorted.extend(
-            sorted([v for k, v in items if
-                    k != COMPONENT_GROUP_CHOICES_MAIN_DISH],
-                   key=lambda x: x.component_group))
+            sorted(
+                [v for k, v in items if k != COMPONENT_GROUP_CHOICES_MAIN_DISH],
+                key=lambda x: x.component_group,
+            )
+        )
     else:
         component_lines_sorted = []
 
     # Build special meal lines
 
     meal_lines = []
     rtotal, ltotal = (0, 0)
     # Ingredients clashes (and other columns)
     rsubtotal, lsubtotal = (0, 0)
-    clients = iter(sorted(
-        [(ke, val) for ke, val in kitchen_list.items() if
-         val.incompatible_ingredients],
-        key=lambda x: x[1].incompatible_ingredients))
+    clients = iter(
+        sorted(
+            [
+                (ke, val)
+                for ke, val in kitchen_list.items()
+                if val.incompatible_ingredients
+            ],
+            key=lambda x: x[1].incompatible_ingredients,
+        )
+    )
 
     # first line of a combination of ingredients
     line_start = 0
     rsubtotal, lsubtotal = (0, 0)
     k, v = next(clients, (0, 0))  # has end sentinel
     while k > 0:
         if rsubtotal == 0 and lsubtotal == 0:
@@ -1085,32 +1281,36 @@
         rsubtotal, lsubtotal = kcr_cumulate(rsubtotal, lsubtotal, v)
         k, v = next(clients, (0, 0))
         if k == 0 or combination != v.incompatible_ingredients:
             # last line of this combination of ingredients
             line_end = len(meal_lines)
             # set rowspan to total number of lines for this combination
             meal_lines[line_start] = meal_lines[line_start]._replace(
-                client='SUBTOTAL',
+                client="SUBTOTAL",
                 rqty=str(rsubtotal),
                 lqty=str(lsubtotal),
-                ingr_clash=', '.join(combination),
-                span=str(line_end - line_start))
+                ingr_clash=", ".join(combination),
+                span=str(line_end - line_start),
+            )
             rtotal, ltotal = (rtotal + rsubtotal, ltotal + lsubtotal)
             rsubtotal, lsubtotal = (0, 0)
             # hide ingredients for lines following the first
             for j in range(line_start + 1, line_end):
-                meal_lines[j] = meal_lines[j]._replace(span='-1')
+                meal_lines[j] = meal_lines[j]._replace(span="-1")
             # Add a blank line as separator
             meal_lines.append(MealLine(*meal_line_fields[1::2]))
             # first line of next combination of ingredients
             line_start = len(meal_lines)
     # END WHILE
 
-    meal_lines.append(MealLine(*meal_line_fields[1::2])._replace(
-        rqty=str(rtotal), lqty=str(ltotal), ingr_clash='TOTAL SPECIALS'))
+    meal_lines.append(
+        MealLine(*meal_line_fields[1::2])._replace(
+            rqty=str(rtotal), lqty=str(ltotal), ingr_clash="TOTAL SPECIALS"
+        )
+    )
 
     return (component_lines_sorted, meal_lines)
 
 
 def kcr_make_pages(date, component_lines, meal_lines):
     """Generate the kitchen count report pages as a PDF file.
 
@@ -1136,39 +1336,44 @@
     def drawHeader(canvas, doc):
         """Draw the header part common to all pages.
 
         Args:
             canvas : A reportlab.pdfgen.canvas.Canvas object.
             doc : A reportlab.platypus.SimpleDocTemplate object.
         """
-        canvas.setFont('Helvetica', 14)
-        canvas.drawString(
-            x=1.9 * rl_inch, y=PAGE_HEIGHT,
-            text='Kitchen count report')
-        canvas.setFont('Helvetica', 9)
+        canvas.setFont("Helvetica", 14)
+        canvas.drawString(x=1.9 * rl_inch, y=PAGE_HEIGHT, text="Kitchen count report")
+        canvas.setFont("Helvetica", 9)
         canvas.drawRightString(
-            x=6.0 * rl_inch, y=PAGE_HEIGHT,
-            text='{}'.format(datetime.date.today().strftime('%a., %d %B %Y')))
+            x=6.0 * rl_inch,
+            y=PAGE_HEIGHT,
+            text="{}".format(datetime.date.today().strftime("%a., %d %B %Y")),
+        )
         canvas.drawRightString(
-            x=PAGE_WIDTH - 0.75 * rl_inch, y=PAGE_HEIGHT,
-            text='Page {:d}'.format(doc.page))
+            x=PAGE_WIDTH - 0.75 * rl_inch,
+            y=PAGE_HEIGHT,
+            text="Page {:d}".format(doc.page),
+        )
 
     def myFirstPage(canvas, doc):
         """Draw the complete header for the first page.
 
         Args:
             canvas : A reportlab.pdfgen.canvas.Canvas object.
             doc : A reportlab.platypus.SimpleDocTemplate object.
         """
         canvas.saveState()
         drawHeader(canvas, doc)
         canvas.drawInlineImage(
             LOGO_IMAGE,
-            0.75 * rl_inch, PAGE_HEIGHT - 1.0 * rl_inch,
-            width=1.0 * rl_inch, height=1.0 * rl_inch)
+            0.75 * rl_inch,
+            PAGE_HEIGHT - 1.0 * rl_inch,
+            width=1.0 * rl_inch,
+            height=1.0 * rl_inch,
+        )
         canvas.restoreState()
 
     def myLaterPages(canvas, doc):
         """Draw the complete header for all pages except the first one.
 
         Args:
             canvas : A reportlab.pdfgen.canvas.Canvas object.
@@ -1186,154 +1391,195 @@
         """
         doc = RLSimpleDocTemplate(settings.KITCHEN_COUNT_FILE)
         story = []
 
         # begin Summary section
         story.append(RLSpacer(1, 0.25 * rl_inch))
         rows = []
-        rows.append(['',
-                     RLParagraph('TOTAL', styles['NormalCenter']),
-                     '',
-                     RLParagraph('Menu', styles['NormalLeft']),
-                     RLParagraph('Ingredients', styles['NormalLeft'])])
-        rows.append(['',
-                     RLParagraph('Regular', styles['SmallRight']),
-                     RLParagraph('Large', styles['SmallRight']),
-                     '',
-                     ''])
+        rows.append(
+            [
+                "",
+                RLParagraph("TOTAL", styles["NormalCenter"]),
+                "",
+                RLParagraph("Menu", styles["NormalLeft"]),
+                RLParagraph("Ingredients", styles["NormalLeft"]),
+            ]
+        )
+        rows.append(
+            [
+                "",
+                RLParagraph("Regular", styles["SmallRight"]),
+                RLParagraph("Large", styles["SmallRight"]),
+                "",
+                "",
+            ]
+        )
         for cl in component_lines:
-            rows.append([cl.component_group,
-                         cl.rqty,
-                         cl.lqty,
-                         cl.name,
-                         RLParagraph(cl.ingredients, styles['NormalLeft'])])
-        tab = RLTable(rows,
-                      colWidths=(100, 40, 40, 120, 220),
-                      style=[('VALIGN', (0, 0), (-1, 1), 'TOP'),
-                             ('VALIGN', (0, 2), (-1, -1), 'BOTTOM'),
-                             ('GRID', (1, 0), (-1, 1), 1, rl_colors.black),
-                             ('SPAN', (1, 0), (2, 0)),
-                             ('ALIGN', (1, 2), (2, -1), 'RIGHT'),
-                             ('SPAN', (3, 0), (3, 1)),
-                             ('SPAN', (4, 0), (4, 1))])
+            rows.append(
+                [
+                    cl.component_group,
+                    cl.rqty,
+                    cl.lqty,
+                    cl.name,
+                    RLParagraph(cl.ingredients, styles["NormalLeft"]),
+                ]
+            )
+        tab = RLTable(
+            rows,
+            colWidths=(100, 40, 40, 120, 220),
+            style=[
+                ("VALIGN", (0, 0), (-1, 1), "TOP"),
+                ("VALIGN", (0, 2), (-1, -1), "BOTTOM"),
+                ("GRID", (1, 0), (-1, 1), 1, rl_colors.black),
+                ("SPAN", (1, 0), (2, 0)),
+                ("ALIGN", (1, 2), (2, -1), "RIGHT"),
+                ("SPAN", (3, 0), (3, 1)),
+                ("SPAN", (4, 0), (4, 1)),
+            ],
+        )
         story.append(tab)
         story.append(RLSpacer(1, 0.25 * rl_inch))
         # end Summary section
 
         # begin Detail section
         rows = []
         line = 0
-        tab_style = RLTableStyle(
-            [('VALIGN', (0, 0), (-1, -1), 'TOP')])
-        rows.append([RLParagraph('Clashing ingredients', styles['NormalLeft']),
-                     RLParagraph('Regular', styles['NormalRight']),
-                     RLParagraph('Large', styles['NormalRight']),
-                     '',
-                     RLParagraph('Client', styles['NormalLeft']),
-                     RLParagraph('Other restrictions', styles['NormalLeft'])])
-        tab_style.add('LINEABOVE',
-                      (0, line), (-1, line), 1, rl_colors.black)
-        tab_style.add('LINEBEFORE',
-                      (0, line), (0, line), 1, rl_colors.black)
-        tab_style.add('LINEAFTER',
-                      (-1, line), (-1, line), 1, rl_colors.black)
+        tab_style = RLTableStyle([("VALIGN", (0, 0), (-1, -1), "TOP")])
+        rows.append(
+            [
+                RLParagraph("Clashing ingredients", styles["NormalLeft"]),
+                RLParagraph("Regular", styles["NormalRight"]),
+                RLParagraph("Large", styles["NormalRight"]),
+                "",
+                RLParagraph("Client", styles["NormalLeft"]),
+                RLParagraph("Other restrictions", styles["NormalLeft"]),
+            ]
+        )
+        tab_style.add("LINEABOVE", (0, line), (-1, line), 1, rl_colors.black)
+        tab_style.add("LINEBEFORE", (0, line), (0, line), 1, rl_colors.black)
+        tab_style.add("LINEAFTER", (-1, line), (-1, line), 1, rl_colors.black)
         line += 1
         for ml in meal_lines:
             if ml.ingr_clash and not ml.client:
                 # Total line at the bottom
-                rows.append([RLParagraph(ml.ingr_clash,
-                                         styles['NormalLeftBold']),
-                             RLParagraph(ml.rqty, styles['NormalRightBold']),
-                             RLParagraph(ml.lqty, styles['NormalRightBold']),
-                             '',
-                             '',
-                             ''])
-                tab_style.add('LINEABOVE',
-                              (0, line), (-1, line), 1, rl_colors.black)
+                rows.append(
+                    [
+                        RLParagraph(ml.ingr_clash, styles["NormalLeftBold"]),
+                        RLParagraph(ml.rqty, styles["NormalRightBold"]),
+                        RLParagraph(ml.lqty, styles["NormalRightBold"]),
+                        "",
+                        "",
+                        "",
+                    ]
+                )
+                tab_style.add("LINEABOVE", (0, line), (-1, line), 1, rl_colors.black)
             elif ml.ingr_clash or ml.client:
                 # not a blank separator line
-                if ml.span != '-1':
+                if ml.span != "-1":
                     # line has ingredient clash data
-                    tab_style.add('SPAN',
-                                  (0, line), (0, line + int(ml.span) - 1))
-                    tab_style.add('LINEABOVE',
-                                  (0, line), (-1, line), 1, rl_colors.black)
+                    tab_style.add("SPAN", (0, line), (0, line + int(ml.span) - 1))
+                    tab_style.add(
+                        "LINEABOVE", (0, line), (-1, line), 1, rl_colors.black
+                    )
                     # for dashes, must use LINEABOVE because dashes do not work
                     #   with LINEBELOW; seems to be a bug in ReportLab see :
                     #   reportlab/platypus/tables.py line # 1309
-                    tab_style.add('LINEABOVE',           # op
-                                  (1, line + 1),         # start
-                                  (-1, line + 1),        # stop
-                                  1,                     # weight
-                                  rl_colors.black,       # color
-                                  None,                  # cap
-                                  [1, 2])                # dashes
-                    value = RLParagraph(ml.ingr_clash, styles['LargeBoldLeft'])
+                    tab_style.add(
+                        "LINEABOVE",  # op
+                        (1, line + 1),  # start
+                        (-1, line + 1),  # stop
+                        1,  # weight
+                        rl_colors.black,  # color
+                        None,  # cap
+                        [1, 2],
+                    )  # dashes
+                    value = RLParagraph(ml.ingr_clash, styles["LargeBoldLeft"])
                 else:
                     # span = -1 means clash data must be blanked out
                     #   because it is the same as the initial spanned row
-                    value = ''
+                    value = ""
                 # END IF
-                if ml.client == 'SUBTOTAL':
-                    client = ''
-                    qty_style = 'LargeBoldRight'
+                if ml.client == "SUBTOTAL":
+                    client = ""
+                    qty_style = "LargeBoldRight"
                 else:
                     client = ml.client
-                    qty_style = 'NormalRight'
-                rows.append([
-                    value,
-                    RLParagraph(ml.rqty, styles[qty_style]),
-                    RLParagraph(ml.lqty, styles[qty_style]),
-                    '',
-                    RLParagraph(client, styles['NormalLeft']),
-                    [RLParagraph(
-                        ml.rest_ingr +
-                        (' ;' if ml.rest_ingr and ml.rest_item else ''),
-                        styles['NormalLeft']),
-                     RLParagraph(ml.rest_item, styles['NormalLeftBold'])]])
+                    qty_style = "NormalRight"
+                rows.append(
+                    [
+                        value,
+                        RLParagraph(ml.rqty, styles[qty_style]),
+                        RLParagraph(ml.lqty, styles[qty_style]),
+                        "",
+                        RLParagraph(client, styles["NormalLeft"]),
+                        [
+                            RLParagraph(
+                                ml.rest_ingr
+                                + (" ;" if ml.rest_ingr and ml.rest_item else ""),
+                                styles["NormalLeft"],
+                            ),
+                            RLParagraph(ml.rest_item, styles["NormalLeftBold"]),
+                        ],
+                    ]
+                )
                 # END IF
                 line += 1
             # END IF
         # END FOR
-        tab = RLTable(rows,
-                      colWidths=(150, 50, 50, 20, 100, 150),
-                      repeatRows=1)
+        tab = RLTable(rows, colWidths=(150, 50, 50, 20, 100, 150), repeatRows=1)
         tab.setStyle(tab_style)
         story.append(tab)
         story.append(RLSpacer(1, 1 * rl_inch))
         # end Detail section
 
         # build full document
         doc.build(story, onFirstPage=myFirstPage, onLaterPages=myLaterPages)
         # Copy the kitchen count file to keep a history
-        destination_of_copy = f"{settings.KITCHEN_COUNT_FILE.rstrip('.pdf')}_{datetime.date.today().strftime('%Y%m%d')}.pdf"
+        destination_of_copy = (
+            f"{settings.KITCHEN_COUNT_FILE.rstrip('.pdf')}"
+            f"_{datetime.date.today().strftime('%Y%m%d')}"
+            f".pdf"
+        )
         copyfile(settings.KITCHEN_COUNT_FILE, destination_of_copy)
         return doc.page
+
     return go()  # returns number of pages generated
 
+
 # END Kitchen count report view, helper classes and functions
 
 
 # Meal labels generation data structures and functions.
 
-meal_label_fields = [                         # Contents for Meal Labels.
+meal_label_fields = [  # Contents for Meal Labels.
     # field name, default value
-    'sortkey', '',          # key for sorting
-    'route', '',            # String : Route name
-    'name', '',             # String : Last + First abbreviated
-    'date', '',             # String : Delivery date
-    'size', '',             # String : Regular or Large
-    'main_dish_name', '',   # String
-    'dish_clashes', [],   # List of strings
-    'preparations', [],   # List of strings
-    'sides_clashes', [],    # List of strings
-    'other_restrictions', [],   # List of strings
-    'ingredients', []]  # List of strings
-MealLabel = collections.namedtuple(
-    'MealLabel', meal_label_fields[0::2])
+    "sortkey",
+    "",  # key for sorting
+    "route",
+    "",  # String : Route name
+    "name",
+    "",  # String : Last + First abbreviated
+    "date",
+    "",  # String : Delivery date
+    "size",
+    "",  # String : Regular or Large
+    "main_dish_name",
+    "",  # String
+    "dish_clashes",
+    [],  # List of strings
+    "preparations",
+    [],  # List of strings
+    "sides_clashes",
+    [],  # List of strings
+    "other_restrictions",
+    [],  # List of strings
+    "ingredients",
+    [],
+]  # List of strings
+MealLabel = collections.namedtuple("MealLabel", meal_label_fields[0::2])
 
 
 def draw_label(label, width, height, data):
     """Draw a single Meal Label on the sheet.
 
     Callback function that is used by the labels generator.
 
@@ -1344,91 +1590,155 @@
         data : A MealLabel namedtuple.
     """
     # dimensions are in font points (72 points = 1 inch)
     # Line 1
     vertic_pos = height * 0.85
     horiz_margin = 9  # distance from edge of label 9/72 = 1/8 inch
     if data.name:
-        label.add(rl_shapes.String(
-            horiz_margin, vertic_pos, data.name,
-            fontName="Helvetica-Bold", fontSize=12))
+        label.add(
+            rl_shapes.String(
+                horiz_margin,
+                vertic_pos,
+                data.name,
+                fontName="Helvetica-Bold",
+                fontSize=12,
+            )
+        )
     if data.route:
-        label.add(rl_shapes.String(
-            width / 2.0, vertic_pos, data.route,
-            fontName="Helvetica-Oblique", fontSize=10, textAnchor="middle"))
+        label.add(
+            rl_shapes.String(
+                width / 2.0,
+                vertic_pos,
+                data.route,
+                fontName="Helvetica-Oblique",
+                fontSize=10,
+                textAnchor="middle",
+            )
+        )
     if data.date:
-        label.add(rl_shapes.String(
-            width - horiz_margin, vertic_pos, data.date,
-            fontName="Helvetica", fontSize=10, textAnchor="end"))
+        label.add(
+            rl_shapes.String(
+                width - horiz_margin,
+                vertic_pos,
+                data.date,
+                fontName="Helvetica",
+                fontSize=10,
+                textAnchor="end",
+            )
+        )
     # Line 2
     vertic_pos -= 14
     if data.main_dish_name:
-        label.add(rl_shapes.String(
-            horiz_margin, vertic_pos, data.main_dish_name,
-            fontName="Helvetica-Bold", fontSize=10))
+        label.add(
+            rl_shapes.String(
+                horiz_margin,
+                vertic_pos,
+                data.main_dish_name,
+                fontName="Helvetica-Bold",
+                fontSize=10,
+            )
+        )
     if data.size:
-        label.add(rl_shapes.String(
-            width - horiz_margin, vertic_pos, data.size,
-            fontName="Helvetica-Bold", fontSize=10, textAnchor="end"))
+        label.add(
+            rl_shapes.String(
+                width - horiz_margin,
+                vertic_pos,
+                data.size,
+                fontName="Helvetica-Bold",
+                fontSize=10,
+                textAnchor="end",
+            )
+        )
     # Line(s) 3
     vertic_pos -= 12
     if data.dish_clashes:
         for line in data.dish_clashes:
-            label.add(rl_shapes.String(
-                horiz_margin, vertic_pos, line,
-                fontName="Helvetica", fontSize=9))
+            label.add(
+                rl_shapes.String(
+                    horiz_margin, vertic_pos, line, fontName="Helvetica", fontSize=9
+                )
+            )
             vertic_pos -= 10
     # Line(s) 4
     if data.preparations:
         # draw prefix
-        label.add(rl_shapes.String(
-            horiz_margin, vertic_pos, data.preparations[0],
-            fontName="Helvetica", fontSize=9))
+        label.add(
+            rl_shapes.String(
+                horiz_margin,
+                vertic_pos,
+                data.preparations[0],
+                fontName="Helvetica",
+                fontSize=9,
+            )
+        )
         # measure prefix length to offset first line
         offset = rl_pdfmetrics.stringWidth(
-            data.preparations[0], fontName="Helvetica", fontSize=9)
+            data.preparations[0], fontName="Helvetica", fontSize=9
+        )
         for line in data.preparations[1:]:
-            label.add(rl_shapes.String(
-                horiz_margin + offset, vertic_pos, line,
-                fontName="Helvetica-Bold", fontSize=9))
+            label.add(
+                rl_shapes.String(
+                    horiz_margin + offset,
+                    vertic_pos,
+                    line,
+                    fontName="Helvetica-Bold",
+                    fontSize=9,
+                )
+            )
             offset = 0.0  # Only first line is offset at right of prefix
             vertic_pos -= 10
     # Line(s) 5
     if data.sides_clashes:
         # draw prefix
-        label.add(rl_shapes.String(
-            horiz_margin, vertic_pos, data.sides_clashes[0],
-            fontName="Helvetica", fontSize=9))
+        label.add(
+            rl_shapes.String(
+                horiz_margin,
+                vertic_pos,
+                data.sides_clashes[0],
+                fontName="Helvetica",
+                fontSize=9,
+            )
+        )
         # measure prefix length to offset first line
         offset = rl_pdfmetrics.stringWidth(
-            data.sides_clashes[0], fontName="Helvetica", fontSize=9)
+            data.sides_clashes[0], fontName="Helvetica", fontSize=9
+        )
         for line in data.sides_clashes[1:]:
-            label.add(rl_shapes.String(
-                horiz_margin + offset, vertic_pos, line,
-                fontName="Helvetica-Bold", fontSize=9))
+            label.add(
+                rl_shapes.String(
+                    horiz_margin + offset,
+                    vertic_pos,
+                    line,
+                    fontName="Helvetica-Bold",
+                    fontSize=9,
+                )
+            )
             offset = 0.0  # Only first line is offset at right of prefix
             vertic_pos -= 10
     # Line(s) 6
     if data.other_restrictions:
         for line in data.other_restrictions:
-            label.add(rl_shapes.String(
-                horiz_margin, vertic_pos, line,
-                fontName="Helvetica", fontSize=9))
+            label.add(
+                rl_shapes.String(
+                    horiz_margin, vertic_pos, line, fontName="Helvetica", fontSize=9
+                )
+            )
             vertic_pos -= 10
     # Line(s) 7
     if data.ingredients:
         for line in data.ingredients:
-            label.add(rl_shapes.String(
-                horiz_margin, vertic_pos, line,
-                fontName="Helvetica", fontSize=8))
+            label.add(
+                rl_shapes.String(
+                    horiz_margin, vertic_pos, line, fontName="Helvetica", fontSize=8
+                )
+            )
             vertic_pos -= 9
 
 
-def kcr_make_labels(date, kitchen_list,
-                    main_dish_name, main_dish_ingredients):
+def kcr_make_labels(date, kitchen_list, main_dish_name, main_dish_ingredients):
     """Generate Meal Labels sheets as a PDF file.
 
     Generate a label for each main dish serving to be delivered. The
     sheet format is "Avery 5162" 8,5 X 11 inches, 2 cols X 7 lines.
 
     Uses pylabels package - see https://github.com/bcbnz/pylabels
     and ReportLab
@@ -1463,179 +1773,200 @@
         column_gap=gutter,
         label_width=(sheet_width - 2.0 * horiz_margin - gutter) / columns,
         label_height=(sheet_height - 2.0 * vertic_margin) / rows,
         top_margin=vertic_margin,
         bottom_margin=vertic_margin,
         left_margin=horiz_margin,
         right_margin=horiz_margin,
-        corner_radius=1.5)
+        corner_radius=1.5,
+    )
 
     sheet = labels.Sheet(specs, draw_label, border=False)
 
     meal_labels = []
     for kititm in kitchen_list.values():
         meal_label = MealLabel(*meal_label_fields[1::2])
         meal_label = meal_label._replace(
             route=kititm.routename.upper(),
             date="{}".format(date.strftime("%a, %b-%d")),
             main_dish_name=main_dish_name,
-            name=kititm.lastname + ", " + kititm.firstname[0:2] + ".")
+            name=kititm.lastname + ", " + kititm.firstname[0:2] + ".",
+        )
         if kititm.meal_size == SIZE_CHOICES_LARGE:
-            meal_label = meal_label._replace(size=ugettext('LARGE'))
+            meal_label = meal_label._replace(size=ugettext("LARGE"))
         if kititm.incompatible_ingredients:
             meal_label = meal_label._replace(
-                main_dish_name='_______________________________________',
+                main_dish_name="_______________________________________",
                 dish_clashes=textwrap.wrap(
-                    ugettext('Restrictions') + ' : {}'.format(
-                        ' , '.join(kititm.incompatible_ingredients)),
+                    ugettext("Restrictions")
+                    + " : {}".format(" , ".join(kititm.incompatible_ingredients)),
                     width=65,
-                    break_long_words=False, break_on_hyphens=False))
+                    break_long_words=False,
+                    break_on_hyphens=False,
+                ),
+            )
         elif not kititm.sides_clashes:
             meal_label = meal_label._replace(
                 ingredients=textwrap.wrap(
-                    ugettext('Ingredients') + ' : {}'.format(
-                        main_dish_ingredients),
+                    ugettext("Ingredients") + " : {}".format(main_dish_ingredients),
                     width=74,
-                    break_long_words=False, break_on_hyphens=False))
+                    break_long_words=False,
+                    break_on_hyphens=False,
+                )
+            )
         if kititm.preparation:
-            prefix = ugettext('Preparation') + ' : '
+            prefix = ugettext("Preparation") + " : "
             # wrap all text including prefix
             preparation_list = textwrap.wrap(
-                prefix + ' , '.join(kititm.preparation),
+                prefix + " , ".join(kititm.preparation),
                 width=65,
                 break_long_words=False,
-                break_on_hyphens=False)
+                break_on_hyphens=False,
+            )
             # remove prefix from first line
-            preparation_list[0] = preparation_list[0][len(prefix):]
-            meal_label = meal_label._replace(
-                preparations=[prefix] + preparation_list)
+            preparation_list[0] = preparation_list[0][len(prefix) :]
+            meal_label = meal_label._replace(preparations=[prefix] + preparation_list)
         if kititm.sides_clashes:
-            prefix = ugettext('Sides clashes') + ' : '
+            prefix = ugettext("Sides clashes") + " : "
             # wrap all text including prefix
             sides_clashes_list = textwrap.wrap(
-                prefix + ' , '.join(kititm.sides_clashes),
+                prefix + " , ".join(kititm.sides_clashes),
                 width=65,
                 break_long_words=False,
-                break_on_hyphens=False)
+                break_on_hyphens=False,
+            )
             # remove prefix from first line
-            sides_clashes_list[0] = sides_clashes_list[0][len(prefix):]
+            sides_clashes_list[0] = sides_clashes_list[0][len(prefix) :]
             meal_label = meal_label._replace(
-                sides_clashes=[prefix] + sides_clashes_list)
+                sides_clashes=[prefix] + sides_clashes_list
+            )
         other_restrictions = []
         if kititm.sides_clashes:
             other_restrictions.extend(
-                sorted(list(set(kititm.avoid_ingredients) -
-                            set(kititm.sides_clashes))))
+                sorted(list(set(kititm.avoid_ingredients) - set(kititm.sides_clashes)))
+            )
             other_restrictions.extend(
-                sorted(list(set(kititm.restricted_items) -
-                            set(kititm.sides_clashes))))
+                sorted(list(set(kititm.restricted_items) - set(kititm.sides_clashes)))
+            )
         else:
             other_restrictions.extend(
-                sorted(list(set(kititm.avoid_ingredients) -
-                            set(kititm.incompatible_ingredients))))
+                sorted(
+                    list(
+                        set(kititm.avoid_ingredients)
+                        - set(kititm.incompatible_ingredients)
+                    )
+                )
+            )
             other_restrictions.extend(
-                sorted(list(set(kititm.restricted_items) -
-                            set(kititm.incompatible_ingredients))))
+                sorted(
+                    list(
+                        set(kititm.restricted_items)
+                        - set(kititm.incompatible_ingredients)
+                    )
+                )
+            )
         if other_restrictions:
             meal_label = meal_label._replace(
                 other_restrictions=textwrap.wrap(
-                    ugettext('Other restrictions') + ' : {}'.format(
-                        ' , '.join(other_restrictions)),
+                    ugettext("Other restrictions")
+                    + " : {}".format(" , ".join(other_restrictions)),
                     width=65,
-                    break_long_words=False, break_on_hyphens=False))
+                    break_long_words=False,
+                    break_on_hyphens=False,
+                )
+            )
         for j in range(1, kititm.meal_qty + 1):
             meal_labels.append(meal_label)
 
     # find max lengths of fields to sort on
     routew = 0
     namew = 0
     for label in meal_labels:
         routew = max(routew, len(label.route))
         namew = max(namew, len(label.name))
     # generate grouping and sorting key
     for j in range(len(meal_labels)):
-        route = ''  # for groups 1, 2 and 3 : sort by name
-        if meal_labels[j].dish_clashes:     # has dish restrictions
+        route = ""  # for groups 1, 2 and 3 : sort by name
+        if meal_labels[j].dish_clashes:  # has dish restrictions
             group = 1
         elif meal_labels[j].sides_clashes:  # has sides restrictions
             group = 2
-        elif meal_labels[j].preparations:   # has food preparations
+        elif meal_labels[j].preparations:  # has food preparations
             group = 3
-        else:                               # regular meal
+        else:  # regular meal
             group = 4
-            route = meal_labels[j].route        # sort by route, name
+            route = meal_labels[j].route  # sort by route, name
         meal_labels[j] = meal_labels[j]._replace(
-            sortkey='{grp:1}{rou:{rouw}}{nam:{namw}}'.format(
-                grp=group,
-                rou=route, rouw=routew,
-                nam=meal_labels[j].name, namw=namew))
+            sortkey="{grp:1}{rou:{rouw}}{nam:{namw}}".format(
+                grp=group, rou=route, rouw=routew, nam=meal_labels[j].name, namw=namew
+            )
+        )
     # generate labels into PDF
     for label in sorted(meal_labels, key=lambda x: x.sortkey):
         sheet.add_label(label)
 
     if sheet.label_count > 0:
         sheet.save(settings.MEAL_LABELS_FILE)
     # Copy the meal labels file to keep a history
-    destination_of_copy = f"{settings.MEAL_LABELS_FILE.rstrip('.pdf')}_{datetime.date.today().strftime('%Y%m%d')}.pdf"
+    destination_of_copy = (
+        f"{settings.MEAL_LABELS_FILE.rstrip('.pdf')}_"
+        f"{datetime.date.today().strftime('%Y%m%d')}.pdf"
+    )
     copyfile(settings.MEAL_LABELS_FILE, destination_of_copy)
     return sheet.label_count
 
+
 # END Meal labels
 
 
 # Delivery route sheet view, helper classes and functions.
 
 
-class MealLabels(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.View):
-    permission_required = 'sous_chef.read'
+class MealLabels(LoginRequiredMixin, PermissionRequiredMixin, generic.View):
+    permission_required = "sous_chef.read"
 
     def get(self, request, **kwargs):
         try:
             f = open(settings.MEAL_LABELS_FILE, "rb")
         except Exception:
             raise Http404("File " + settings.MEAL_LABELS_FILE + " does not exist")
-        response = HttpResponse(content_type='application/pdf')
-        response['Content-Disposition'] = \
-            'attachment; filename="labels{}.pdf"'. \
-            format(datetime.date.today().strftime("%Y%m%d"))
+        response = HttpResponse(content_type="application/pdf")
+        response["Content-Disposition"] = 'attachment; filename="labels{}.pdf"'.format(
+            datetime.date.today().strftime("%Y%m%d")
+        )
         response.write(f.read())
         f.close()
         return response
 
 
-class DeliveryRouteSheet(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.View):
-    permission_required = 'sous_chef.read'
+class DeliveryRouteSheet(LoginRequiredMixin, PermissionRequiredMixin, generic.View):
+    permission_required = "sous_chef.read"
 
     def get(self, request, **kwargs):
         today = timezone.datetime.today()
         delivery_history = get_object_or_404(
-            DeliveryHistory,
-            route__pk=kwargs['pk'],
-            date=today
+            DeliveryHistory, route__pk=kwargs["pk"], date=today
         )
         route_list = Order.get_delivery_list(today, delivery_history.route_id)
-        route_list = sort_sequence_ids(
-            route_list, delivery_history.client_id_sequence
-        )
+        route_list = sort_sequence_ids(route_list, delivery_history.client_id_sequence)
         summary_lines, detail_lines = drs_make_lines(route_list)
-        return render(request, 'route_sheet.html',
-                      {'route': delivery_history.route,
-                       'summary_lines': summary_lines,
-                       'detail_lines': detail_lines})
+        return render(
+            request,
+            "route_sheet.html",
+            {
+                "route": delivery_history.route,
+                "summary_lines": summary_lines,
+                "detail_lines": detail_lines,
+            },
+        )
 
 
-RouteSummaryLine = \
-    collections.namedtuple(
-        'RouteSummaryLine',
-        ['component_group',
-         'component_group_trans',
-         'rqty',
-         'lqty'])
+RouteSummaryLine = collections.namedtuple(
+    "RouteSummaryLine", ["component_group", "component_group_trans", "rqty", "lqty"]
+)
 
 
 def drs_make_lines(route_list):
     # generate all the lines for the delivery route sheet
 
     summary_lines = {}
     for k, item in route_list.items():
@@ -1643,31 +1974,36 @@
             component_group = delivery_item.component_group
             if component_group:
                 line = summary_lines.setdefault(
                     component_group,
                     RouteSummaryLine(
                         component_group,
                         # find the translated name of the component group
-                        next(cg for cg in COMPONENT_GROUP_CHOICES
-                             if cg[0] == component_group)[1],
+                        next(
+                            cg
+                            for cg in COMPONENT_GROUP_CHOICES
+                            if cg[0] == component_group
+                        )[1],
                         rqty=0,
-                        lqty=0))
-                if (component_group == COMPONENT_GROUP_CHOICES_MAIN_DISH and
-                        delivery_item.size == SIZE_CHOICES_LARGE):
-                    summary_lines[component_group] = \
-                        line._replace(lqty=line.lqty +
-                                      delivery_item.total_quantity)
-                elif component_group != '':
-                    summary_lines[component_group] = \
-                        line._replace(rqty=line.rqty +
-                                      delivery_item.total_quantity)
-
-    summary_lines_sorted = sorted(
-        summary_lines.values(),
-        key=component_group_sorting)
+                        lqty=0,
+                    ),
+                )
+                if (
+                    component_group == COMPONENT_GROUP_CHOICES_MAIN_DISH
+                    and delivery_item.size == SIZE_CHOICES_LARGE
+                ):
+                    summary_lines[component_group] = line._replace(
+                        lqty=line.lqty + delivery_item.total_quantity
+                    )
+                elif component_group != "":
+                    summary_lines[component_group] = line._replace(
+                        rqty=line.rqty + delivery_item.total_quantity
+                    )
+
+    summary_lines_sorted = sorted(summary_lines.values(), key=component_group_sorting)
     return summary_lines_sorted, list(route_list.values())
 
 
 def sort_sequence_ids(unordered_dic, seq):
     """Sort items in a dictionary according to a sequence of keys.
 
     Build an ordered dictionary using ordering of keys in 'seq' but
@@ -1687,14 +2023,15 @@
                 od[k] = None
     # place all values from unordered_dic into ordered dict;
     #   keys not in seq will be added at the end.
     for k, val in unordered_dic.items():
         od[k] = val
     return od
 
+
 # END Delivery route sheet view, helper classes and functions
 
 
 def calculateRoutePointsEuclidean(data):
     """Find shortest path for points on route assuming 2D plane.
 
     Since the
@@ -1706,38 +2043,35 @@
     Args:
         data : A list of waypoints for leaflet.js
 
     Returns:
         An optimized list of waypoints.
     """
     node_to_waypoint = {}
-    nodes = [tsp.Node(None,
-                      DELIVERY_STARTING_POINT_LAT_LONG[0],
-                      DELIVERY_STARTING_POINT_LAT_LONG[1])]
+    nodes = [
+        tsp.Node(
+            None,
+            DELIVERY_STARTING_POINT_LAT_LONG[0],
+            DELIVERY_STARTING_POINT_LAT_LONG[1],
+        )
+    ]
     for waypoint in data:
-        node = tsp.Node(waypoint['id'], float(waypoint['latitude']),
-                        float(waypoint['longitude']))
+        node = tsp.Node(
+            waypoint["id"], float(waypoint["latitude"]), float(waypoint["longitude"])
+        )
         node_to_waypoint[node] = waypoint
         nodes.append(node)
     # Optimize waypoints by solving the Travelling Salesman Problem
     nodes = tsp.solve(nodes)
     # Guard against starting point which is not in node_to_waypoint
-    return [node_to_waypoint[node] for
-            node in nodes if node in node_to_waypoint]
+    return [node_to_waypoint[node] for node in nodes if node in node_to_waypoint]
 
 
-class RefreshOrderView(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.View):
-    permission_required = 'sous_chef.edit'
+class RefreshOrderView(LoginRequiredMixin, PermissionRequiredMixin, generic.View):
+    permission_required = "sous_chef.edit"
 
     def get(self, request):
         delivery_date = date.today()
         clients = Client.ongoing.all()
         Order.objects.auto_create_orders(delivery_date, clients)
-        LogEntry.objects.log_action(
-            user_id=1, content_type_id=1,
-            object_id="", object_repr="Generation of orders for " + str(
-                datetime.datetime.now().strftime('%m %d %Y %H:%M')),
-            action_flag=ADDITION,
-        )
         context = get_kitchen_count_context()
-        return render(request, 'partials/generated_orders.html', context)
+        return render(request, "partials/generated_orders.html", context)
```

### Comparing `souschef-1.3.6/souschef/frontend/images/bg1.jpg` & `souschef-1.3.7/souschef/frontend/images/bg1.jpg`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/frontend/images/jenny.jpg` & `souschef-1.3.7/souschef/frontend/images/jenny.jpg`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/frontend/images/joe.jpg` & `souschef-1.3.7/souschef/frontend/images/joe.jpg`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/frontend/images/katrina.jpg` & `souschef-1.3.7/souschef/frontend/images/katrina.jpg`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/meal/admin.py` & `souschef-1.3.7/souschef/meal/admin.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,15 +1,21 @@
 from django.contrib import admin
 from django.db.models.functions import Lower
-from souschef.meal.models import (Component, Restricted_item,
-                         Ingredient, Component_ingredient,
-                         Incompatibility, Menu,
-                         COMPONENT_GROUP_CHOICES,
-                         INGREDIENT_GROUP_CHOICES,
-                         RESTRICTED_ITEM_GROUP_CHOICES)
+
+from souschef.meal.models import (
+    COMPONENT_GROUP_CHOICES,
+    INGREDIENT_GROUP_CHOICES,
+    RESTRICTED_ITEM_GROUP_CHOICES,
+    Component,
+    Component_ingredient,
+    Incompatibility,
+    Ingredient,
+    Menu,
+    Restricted_item,
+)
 
 
 class ComponentsInline(admin.TabularInline):
     model = Menu.components.through
 
 
 class ComponentIngredientInline(admin.TabularInline):
@@ -18,84 +24,95 @@
 
 class IncompatibilityInline(admin.TabularInline):
     model = Incompatibility
 
 
 class MenuAdmin(admin.ModelAdmin):
     """Allows accessing menu components within the Menu admin."""
-    inlines = [
-        ComponentsInline
-    ]
+
+    inlines = [ComponentsInline]
 
 
 class ComponentAdmin(admin.ModelAdmin):
     """Allows accessing ingredients within the Component admin."""
-    inlines = [
-        ComponentIngredientInline
-    ]
-    list_display = ('name', 'component_group')
-    search_fields = ('name',)
+
+    inlines = [ComponentIngredientInline]
+    list_display = ("name", "component_group")
+    search_fields = ("name",)
 
     def get_ordering(self, request):
-        return [Lower('name')]
+        return [Lower("name")]
 
     def get_search_results(self, request, queryset, search_term):
         # search for group choices in their display value instead of DB value
         queryset, use_distinct = super().get_search_results(
-            request, queryset, search_term)
-        search_list = [choice[0] for
-                       choice in COMPONENT_GROUP_CHOICES
-                       if search_term.lower() in choice[1].lower()]
+            request, queryset, search_term
+        )
+        search_list = [
+            choice[0]
+            for choice in COMPONENT_GROUP_CHOICES
+            if search_term.lower() in choice[1].lower()
+        ]
         if search_list:
-            queryset |= self.model.objects.filter(
-                component_group__in=search_list)
+            queryset |= self.model.objects.filter(component_group__in=search_list)
         return queryset, use_distinct
 
 
 class IngredientAdmin(admin.ModelAdmin):
     """Allows more control over the display of ingredients in the admin."""
-    list_display = ('name', 'ingredient_group',)
-    search_fields = ('name',)
+
+    list_display = (
+        "name",
+        "ingredient_group",
+    )
+    search_fields = ("name",)
 
     def get_ordering(self, request):
-        return [Lower('name')]
+        return [Lower("name")]
 
     def get_search_results(self, request, queryset, search_term):
         # search for group choices in their display value instead of DB value
         queryset, use_distinct = super().get_search_results(
-            request, queryset, search_term)
-        search_list = [choice[0] for
-                       choice in INGREDIENT_GROUP_CHOICES
-                       if search_term.lower() in choice[1].lower()]
+            request, queryset, search_term
+        )
+        search_list = [
+            choice[0]
+            for choice in INGREDIENT_GROUP_CHOICES
+            if search_term.lower() in choice[1].lower()
+        ]
         if search_list:
-            queryset |= self.model.objects.filter(
-                ingredient_group__in=search_list)
+            queryset |= self.model.objects.filter(ingredient_group__in=search_list)
         return queryset, use_distinct
 
 
 class Restricted_itemAdmin(admin.ModelAdmin):
     """Allows accessing ingredients within the Restricted_item admin."""
-    inlines = [
-        IncompatibilityInline
-    ]
-    list_display = ('name', 'restricted_item_group',)
-    search_fields = ('name',)
+
+    inlines = [IncompatibilityInline]
+    list_display = (
+        "name",
+        "restricted_item_group",
+    )
+    search_fields = ("name",)
 
     def get_ordering(self, request):
-        return [Lower('name')]
+        return [Lower("name")]
 
     def get_search_results(self, request, queryset, search_term):
         # search for group choices in their display value instead of DB value
         queryset, use_distinct = super().get_search_results(
-            request, queryset, search_term)
-        search_list = [choice[0] for
-                       choice in RESTRICTED_ITEM_GROUP_CHOICES
-                       if search_term.lower() in choice[1].lower()]
+            request, queryset, search_term
+        )
+        search_list = [
+            choice[0]
+            for choice in RESTRICTED_ITEM_GROUP_CHOICES
+            if search_term.lower() in choice[1].lower()
+        ]
         if search_list:
-            queryset |= self.model.objects.filter(
-                restricted_item_group__in=search_list)
+            queryset |= self.model.objects.filter(restricted_item_group__in=search_list)
         return queryset, use_distinct
 
+
 admin.site.register(Component, ComponentAdmin)
 admin.site.register(Restricted_item, Restricted_itemAdmin)
 admin.site.register(Ingredient, IngredientAdmin)
 admin.site.register(Menu, MenuAdmin)
```

### Comparing `souschef-1.3.6/souschef/meal/factories.py` & `souschef-1.3.7/souschef/meal/factories.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,102 +1,100 @@
 # coding=utf-8
 
-import factory
 import random
+
+import factory
 from faker import Factory as FakerFactory
+
 from souschef.meal.models import (
-    Ingredient, Component, Component_ingredient, Incompatibility,
-    Restricted_item, INGREDIENT_GROUP_CHOICES, COMPONENT_GROUP_CHOICES,
-    RESTRICTED_ITEM_GROUP_CHOICES, Menu, Menu_component
+    COMPONENT_GROUP_CHOICES,
+    INGREDIENT_GROUP_CHOICES,
+    RESTRICTED_ITEM_GROUP_CHOICES,
+    Component,
+    Component_ingredient,
+    Incompatibility,
+    Ingredient,
+    Menu,
+    Menu_component,
+    Restricted_item,
 )
 
 fake = FakerFactory.create()
 
 
 class IngredientFactory(factory.DjangoModelFactory):
-
     class Meta:
         model = Ingredient
 
     name = fake.word()
 
     description = fake.sentence(nb_words=10, variable_nb_words=True)
 
     ingredient_group = factory.LazyAttribute(
         lambda x: random.choice(INGREDIENT_GROUP_CHOICES)[0]
     )
 
 
 class ComponentFactory(factory.DjangoModelFactory):
-
     class Meta:
         model = Component
 
     name = fake.word()
 
     description = fake.sentence(nb_words=10, variable_nb_words=True)
 
     component_group = factory.LazyAttribute(
         lambda x: random.choice(COMPONENT_GROUP_CHOICES)[0]
     )
 
 
 class ComponentIngredientFactory(factory.DjangoModelFactory):
-
     class Meta:
         model = Component_ingredient
 
     component = factory.SubFactory(ComponentFactory)
 
     ingredient = factory.SubFactory(IngredientFactory)
 
 
 class RestrictedItemFactory(factory.DjangoModelFactory):
-
     class Meta:
         model = Restricted_item
 
     name = fake.word()
 
     description = fake.sentence(nb_words=10, variable_nb_words=True)
 
     restricted_item_group = factory.LazyAttribute(
         lambda x: random.choice(RESTRICTED_ITEM_GROUP_CHOICES)[0]
     )
 
 
 class IncompatibilityFactory(factory.DjangoModelFactory):
-
     class Meta:
         model = Incompatibility
 
     restricted_item = factory.SubFactory(RestrictedItemFactory)
 
     ingredient = factory.SubFactory(Ingredient)
 
 
 class MenuFactory(factory.DjangoModelFactory):
-
     class Meta:
         model = Menu
 
-    date = factory.LazyAttribute(lambda x: fake.date_time_between(
-        start_date="-1y",
-        end_date="+1y",
-        tzinfo=None
-    )
+    date = factory.LazyAttribute(
+        lambda x: fake.date_time_between(start_date="-1y", end_date="+1y", tzinfo=None)
     )
 
     menu_component = factory.RelatedFactory(
-        'meal.factories.MenuComponentFactory',
-        'menu'
+        "meal.factories.MenuComponentFactory", "menu"
     )
 
 
 class MenuComponentFactory(factory.DjangoModelFactory):
-
     class Meta:
         model = Menu_component
 
     menu = factory.SubFactory(MenuFactory)
 
     component = factory.SubFactory(ComponentFactory)
```

### Comparing `souschef-1.3.6/souschef/meal/migrations/0003_fix224a.py` & `souschef-1.3.7/souschef/meal/migrations/0003_fix224a.py`

 * *Files 22% similar despite different names*

```diff
@@ -4,21 +4,33 @@
 
 from django.db import migrations, models
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('meal', '0002_ingredient_ingredient_group'),
+        ("meal", "0002_ingredient_ingredient_group"),
     ]
 
     operations = [
         migrations.AlterModelOptions(
-            name='ingredient',
-            options={'verbose_name_plural': 'ingredients'},
+            name="ingredient",
+            options={"verbose_name_plural": "ingredients"},
         ),
         migrations.AlterField(
-            model_name='component',
-            name='component_group',
-            field=models.CharField(choices=[('main dish', 'Main dish'), ('dessert', 'Dessert'), ('diabetic dessert', 'Diabetic dessert'), ('fruit salad', 'Fruit salad'), ('green salad', 'Green salad'), ('pudding', 'Pudding'), ('compote', 'Compote')], max_length=100, verbose_name='component group'),
+            model_name="component",
+            name="component_group",
+            field=models.CharField(
+                choices=[
+                    ("main dish", "Main dish"),
+                    ("dessert", "Dessert"),
+                    ("diabetic dessert", "Diabetic dessert"),
+                    ("fruit salad", "Fruit salad"),
+                    ("green salad", "Green salad"),
+                    ("pudding", "Pudding"),
+                    ("compote", "Compote"),
+                ],
+                max_length=100,
+                verbose_name="component group",
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/meal/migrations/0006_auto_20160826_0007.py` & `souschef-1.3.7/souschef/meal/migrations/0006_auto_20160826_0007.py`

 * *Files 24% similar despite different names*

```diff
@@ -4,22 +4,26 @@
 
 from django.db import migrations, models
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('meal', '0005_fix241b'),
+        ("meal", "0005_fix241b"),
     ]
 
     operations = [
         migrations.AddField(
-            model_name='menu',
-            name='components',
-            field=models.ManyToManyField(through='meal.Menu_component', to='meal.Component'),
+            model_name="menu",
+            name="components",
+            field=models.ManyToManyField(
+                through="meal.Menu_component", to="meal.Component"
+            ),
         ),
         migrations.AddField(
-            model_name='restricted_item',
-            name='ingredients',
-            field=models.ManyToManyField(through='meal.Incompatibility', to='meal.Ingredient'),
+            model_name="restricted_item",
+            name="ingredients",
+            field=models.ManyToManyField(
+                through="meal.Incompatibility", to="meal.Ingredient"
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/meal/migrations/0007_auto_20170313_1442.py` & `souschef-1.3.7/souschef/meal/migrations/0007_auto_20170313_1442.py`

 * *Files 22% similar despite different names*

```diff
@@ -4,25 +4,40 @@
 
 from django.db import migrations, models
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('meal', '0006_auto_20160826_0007'),
+        ("meal", "0006_auto_20160826_0007"),
     ]
 
     operations = [
         migrations.AlterModelOptions(
-            name='component',
-            options={'verbose_name_plural': 'components (Dishes and recipes)'},
+            name="component",
+            options={"verbose_name_plural": "components (Dishes and recipes)"},
         ),
         migrations.AlterModelOptions(
-            name='restricted_item',
-            options={'verbose_name_plural': 'restricted items (Restriction categories)'},
+            name="restricted_item",
+            options={
+                "verbose_name_plural": "restricted items (Restriction categories)"
+            },
         ),
         migrations.AlterField(
-            model_name='component',
-            name='component_group',
-            field=models.CharField(choices=[('main_dish', 'Main Dish'), ('dessert', 'Dessert'), ('diabetic', 'Diabetic Dessert'), ('fruit_salad', 'Fruit Salad'), ('green_salad', 'Green Salad'), ('pudding', 'Pudding'), ('compote', 'Compote'), ('sides', 'Sides')], max_length=100, verbose_name='component group'),
+            model_name="component",
+            name="component_group",
+            field=models.CharField(
+                choices=[
+                    ("main_dish", "Main Dish"),
+                    ("dessert", "Dessert"),
+                    ("diabetic", "Diabetic Dessert"),
+                    ("fruit_salad", "Fruit Salad"),
+                    ("green_salad", "Green Salad"),
+                    ("pudding", "Pudding"),
+                    ("compote", "Compote"),
+                    ("sides", "Sides"),
+                ],
+                max_length=100,
+                verbose_name="component group",
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/meal/models.py` & `souschef-1.3.7/souschef/meal/models.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,218 +1,204 @@
 from django.db import models
 from django.utils.translation import ugettext_lazy as _
 
 COMPONENT_GROUP_CHOICES = (
-    ('main_dish', _('Main Dish')),
-    ('dessert', _('Dessert')),
-    ('diabetic', _('Diabetic')),
-    ('fruit_salad', _('Fruit Salad')),
-    ('green_salad', _('Green Salad')),
-    ('pudding', _('Pudding')),
-    ('compote', _('Compote')),
-    ('sides', _('Sides')),
+    ("main_dish", _("Main Dish")),
+    ("dessert", _("Dessert")),
+    ("diabetic", _("Diabetic")),
+    ("fruit_salad", _("Fruit Salad")),
+    ("green_salad", _("Green Salad")),
+    ("pudding", _("Pudding")),
+    ("compote", _("Compote")),
+    ("sides", _("Sides")),
 )
 
 COMPONENT_GROUP_CHOICES_MAIN_DISH = COMPONENT_GROUP_CHOICES[0][0]
 COMPONENT_GROUP_CHOICES_SIDES = COMPONENT_GROUP_CHOICES[7][0]
 
 INGREDIENT_GROUP_CHOICES = (
-    ('meat', _('Meat')),
-    ('dairy', _('Dairy')),
-    ('fish', _('Fish')),
-    ('seafood', _('Seafood')),
-    ('veggies_and_fruits', _('Veggies and fruits')),
-    ('legumineuse', _('Legumineuse')),
-    ('grains', _('Grains')),
-    ('fresh_herbs', _('Fresh herbs')),
-    ('spices', _('Spices')),
-    ('dry_and_canned_goods', _('Dry and canned goods')),
-    ('oils_and_sauces', _('Oils and sauces')),
+    ("meat", _("Meat")),
+    ("dairy", _("Dairy")),
+    ("fish", _("Fish")),
+    ("seafood", _("Seafood")),
+    ("veggies_and_fruits", _("Veggies and fruits")),
+    ("legumineuse", _("Legumineuse")),
+    ("grains", _("Grains")),
+    ("fresh_herbs", _("Fresh herbs")),
+    ("spices", _("Spices")),
+    ("dry_and_canned_goods", _("Dry and canned goods")),
+    ("oils_and_sauces", _("Oils and sauces")),
 )
 
 RESTRICTED_ITEM_GROUP_CHOICES = (
-    ('meat', _('Meat')),
-    ('vegetables', _('Vegetables')),
-    ('seafood', _('Seafood')),
-    ('seeds and nuts', _('Seeds and nuts')),
-    ('other', _('Other')),
+    ("meat", _("Meat")),
+    ("vegetables", _("Vegetables")),
+    ("seafood", _("Seafood")),
+    ("seeds and nuts", _("Seeds and nuts")),
+    ("other", _("Other")),
 )
 
 
 class Ingredient(models.Model):
     class Meta:
-        verbose_name_plural = _('ingredients')
+        verbose_name_plural = _("ingredients")
 
     # Information about the ingredient (in the recipe of a component)
     name = models.CharField(
         max_length=50,
-        verbose_name=_('name'),
+        verbose_name=_("name"),
         unique=True,
     )
 
     description = models.TextField(
-        verbose_name=_('description'),
+        verbose_name=_("description"),
         blank=True,
         null=True,
     )
 
     ingredient_group = models.CharField(
         max_length=100,
         choices=INGREDIENT_GROUP_CHOICES,
-        verbose_name=_('ingredient group')
+        verbose_name=_("ingredient group"),
     )
 
     def __str__(self):
         return self.name
 
 
 class Component(models.Model):
-
     class Meta:
-        verbose_name_plural = _('components (Dishes and recipes)')
+        verbose_name_plural = _("components (Dishes and recipes)")
 
     # Meal component (ex. main dish, vegetable, seasonal) information
     name = models.CharField(
         max_length=50,
-        verbose_name=_('name'),
+        verbose_name=_("name"),
         unique=True,
     )
 
     description = models.TextField(
-        verbose_name=_('description'),
+        verbose_name=_("description"),
         blank=True,
         null=True,
     )
 
     component_group = models.CharField(
         max_length=100,
         choices=COMPONENT_GROUP_CHOICES,
-        verbose_name=_('component group')
+        verbose_name=_("component group"),
     )
 
     def __str__(self):
         return self.name
 
     @staticmethod
     def get_day_ingredients(component_id, delivery_date):
         """Returns a list of the actual ingredients
         of a component for the delivery date."""
-        q = Component_ingredient.objects.\
-            select_related('ingredient').\
-            filter(component__id=component_id, date=delivery_date)
+        q = Component_ingredient.objects.select_related("ingredient").filter(
+            component__id=component_id, date=delivery_date
+        )
         return [ci.ingredient for ci in q]
 
     @staticmethod
     def get_recipe_ingredients(component_id):
         """Returns a list of the ingredients in the recipe of a component."""
-        q = Component_ingredient.objects.\
-            select_related('ingredient').\
-            filter(component__id=component_id, date=None)
+        q = Component_ingredient.objects.select_related("ingredient").filter(
+            component__id=component_id, date=None
+        )
         return [ci.ingredient for ci in q]
 
 
 class Component_ingredient(models.Model):
     component = models.ForeignKey(
-        'meal.Component',
-        verbose_name=_('component'),
-        related_name='+',
-        on_delete=models.CASCADE
+        "meal.Component",
+        verbose_name=_("component"),
+        related_name="+",
+        on_delete=models.CASCADE,
     )
 
     ingredient = models.ForeignKey(
-        'meal.Ingredient',
-        verbose_name=_('ingredient'),
-        related_name='+',
-        on_delete=models.CASCADE
+        "meal.Ingredient",
+        verbose_name=_("ingredient"),
+        related_name="+",
+        on_delete=models.CASCADE,
     )
 
     date = models.DateField(
-        verbose_name=_('date'),
+        verbose_name=_("date"),
         blank=True,
         null=True,
     )
 
     def __str__(self):
         if self.date:
-            return "<{}> includes <{}> on <{}>". \
-                format(self.component.name,
-                       self.ingredient.name,
-                       self.date)
+            return "<{}> includes <{}> on <{}>".format(
+                self.component.name, self.ingredient.name, self.date
+            )
         else:
-            return "<{}> contains <{}>". \
-                format(self.component.name,
-                       self.ingredient.name)
+            return "<{}> contains <{}>".format(
+                self.component.name, self.ingredient.name
+            )
 
 
 class Restricted_item(models.Model):
-
     class Meta:
-        verbose_name_plural = _('restricted items (Restriction categories)')
+        verbose_name_plural = _("restricted items (Restriction categories)")
 
     # Information about restricted item categories that some clients never eat
     #   for allergy or other reasons (ex. Gluten, Nuts, Pork)
-    name = models.CharField(
-        max_length=50,
-        verbose_name=_('name')
-    )
+    name = models.CharField(max_length=50, verbose_name=_("name"))
 
     description = models.TextField(
-        verbose_name=_('description'),
+        verbose_name=_("description"),
         blank=True,
         null=True,
     )
 
     restricted_item_group = models.CharField(
         max_length=100,
         choices=RESTRICTED_ITEM_GROUP_CHOICES,
-        verbose_name=_('restricted item group')
+        verbose_name=_("restricted item group"),
     )
 
-    ingredients = models.ManyToManyField(
-        'meal.Ingredient',
-        through='Incompatibility'
-    )
+    ingredients = models.ManyToManyField("meal.Ingredient", through="Incompatibility")
 
     def __str__(self):
         return self.name
 
 
 class Incompatibility(models.Model):
 
     restricted_item = models.ForeignKey(
-        'meal.Restricted_item',
-        verbose_name=_('restricted item'),
-        related_name='+',
-        on_delete=models.CASCADE
+        "meal.Restricted_item",
+        verbose_name=_("restricted item"),
+        related_name="+",
+        on_delete=models.CASCADE,
     )
 
     ingredient = models.ForeignKey(
-        'meal.Ingredient',
-        verbose_name=_('ingredient'),
-        related_name='+',
-        on_delete=models.CASCADE
+        "meal.Ingredient",
+        verbose_name=_("ingredient"),
+        related_name="+",
+        on_delete=models.CASCADE,
     )
 
     def __str__(self):
-        return "{} <clash> {}".format(self.restricted_item.name,
-                                      self.ingredient.name)
+        return "{} <clash> {}".format(self.restricted_item.name, self.ingredient.name)
 
 
 class Menu(models.Model):
-
     class Meta:
-        verbose_name_plural = _('menus')
+        verbose_name_plural = _("menus")
 
     # Menu information for a specific date
-    date = models.DateField(verbose_name=_('date'))
+    date = models.DateField(verbose_name=_("date"))
 
-    components = models.ManyToManyField(
-        'meal.Component',
-        through="Menu_component"
-    )
+    components = models.ManyToManyField("meal.Component", through="Menu_component")
 
     def __str__(self):
         return "Menu for {}".format(str(self.date))
 
     @staticmethod
     def create_menu_and_components(menu_date, dish_names):
         """Create the menu and its components for the date.
@@ -247,44 +233,43 @@
             for menu in menus[1:]:
                 Menu.objects.filter(id=menu.id).delete()
             # reuse the first one
             menu = menus[0]
         for dish_name in dish_names:
             components = Component.objects.filter(name=dish_name)
             if not components:
-                raise Exception(
-                    "Component ", dish_name, " does not exist")
+                raise Exception("Component ", dish_name, " does not exist")
             component = components[0]
             if component_groups.get(component.component_group):
                 raise Exception(
-                    "Menu can only have one dish for component group " +
-                    component.component_group)
+                    "Menu can only have one dish for component group "
+                    + component.component_group
+                )
             component_groups[component.component_group] = dish_name
             menu_component = Menu_component(menu=menu, component=component)
             menu_component.save()
             num_menu_comp_created += 1
         # END FOR
         if not component_groups.get(COMPONENT_GROUP_CHOICES_MAIN_DISH):
             raise Exception(
-                "Menu must include one dish for component group " +
-                COMPONENT_GROUP_CHOICES_MAIN_DISH)
+                "Menu must include one dish for component group "
+                + COMPONENT_GROUP_CHOICES_MAIN_DISH
+            )
         return num_menu_comp_created
 
 
 class Menu_component(models.Model):
     menu = models.ForeignKey(
-        'meal.Menu',
-        verbose_name=_('menu'),
-        related_name='+',
-        on_delete=models.CASCADE
+        "meal.Menu", verbose_name=_("menu"), related_name="+", on_delete=models.CASCADE
     )
 
     component = models.ForeignKey(
-        'meal.Component',
-        verbose_name=_('component'),
-        related_name='+',
-        on_delete=models.CASCADE
+        "meal.Component",
+        verbose_name=_("component"),
+        related_name="+",
+        on_delete=models.CASCADE,
     )
 
     def __str__(self):
-        return "On {} <menu includes> {}".format(str(self.menu.date),
-                                                 self.component.name)
+        return "On {} <menu includes> {}".format(
+            str(self.menu.date), self.component.name
+        )
```

### Comparing `souschef-1.3.6/souschef/meal/tests.py` & `souschef-1.3.7/souschef/meal/tests.py`

 * *Files 15% similar despite different names*

```diff
@@ -1,214 +1,265 @@
 import datetime
 
 from django.contrib.auth.models import User
 from django.test import TestCase
 
-from souschef.meal.models import Component, Component_ingredient
-from souschef.meal.models import Ingredient, Incompatibility
-from souschef.meal.models import Menu, Menu_component, Restricted_item
+from souschef.meal.models import (
+    Component,
+    Component_ingredient,
+    Incompatibility,
+    Ingredient,
+    Menu,
+    Menu_component,
+    Restricted_item,
+)
 
 
 class ComponentTestCase(TestCase):
-
     @classmethod
     def setUpTestData(cls):
-         Component.objects.create(
-            name='Coq au vin', component_group='main dish')
+        Component.objects.create(
+            name="Coq au vin",
+            component_group="main dish",
+        )
 
     def test_str_is_fullname(self):
         """Component's string representation is its name"""
-        name = 'Coq au vin'
+        name = "Coq au vin"
         component = Component.objects.get(name=name)
         self.assertEqual(name, str(component))
 
 
 class Component_ingredientTestCase(TestCase):
-
     @classmethod
     def setUpTestData(cls):
         component = Component.objects.create(
-            name='Coq au vin', component_group='main dish')
+            name="Coq au vin", component_group="main dish"
+        )
         ingredient = Ingredient.objects.create(
-            name='Green peas', ingredient_group='veggies and fruits')
-        Component_ingredient.objects.create(component=component,
-                                            ingredient=ingredient)
+            name="Green peas", ingredient_group="veggies and fruits"
+        )
+        Component_ingredient.objects.create(component=component, ingredient=ingredient)
 
     def test_str_includes_all_names(self):
         """A Component_ingredient's string representation includes the name
         of the component and the name of the ingredient.
         """
-        component = Component.objects.get(name='Coq au vin')
-        ingredient = Ingredient.objects.get(name='Green peas')
+        component = Component.objects.get(name="Coq au vin")
+        ingredient = Ingredient.objects.get(name="Green peas")
         component_ingredient = Component_ingredient.objects.get(
-            component=component, ingredient=ingredient)
+            component=component, ingredient=ingredient
+        )
         self.assertTrue(component.name in str(component_ingredient))
         self.assertTrue(ingredient.name in str(component_ingredient))
 
 
 class IncompatibilityTestCase(TestCase):
-
     @classmethod
     def setUpTestData(cls):
         restricted_item = Restricted_item.objects.create(
-            name='pork', restricted_item_group='meat')
-        ingredient = Ingredient.objects.create(
-            name='ham', ingredient_group='meat')
-        Incompatibility.objects.create(restricted_item=restricted_item,
-                                       ingredient=ingredient)
+            name="pork", restricted_item_group="meat"
+        )
+        ingredient = Ingredient.objects.create(name="ham", ingredient_group="meat")
+        Incompatibility.objects.create(
+            restricted_item=restricted_item, ingredient=ingredient
+        )
 
     def test_str_includes_all_names(self):
         """Incompatibility's string representation includes the name
         of the restricted_item and the name of the ingredient.
         """
-        restricted_item = Restricted_item.objects.get(name='pork')
-        ingredient = Ingredient.objects.get(name='ham')
+        restricted_item = Restricted_item.objects.get(name="pork")
+        ingredient = Ingredient.objects.get(name="ham")
         incompatibility = Incompatibility.objects.get(
-            restricted_item=restricted_item, ingredient=ingredient)
+            restricted_item=restricted_item, ingredient=ingredient
+        )
         self.assertTrue(restricted_item.name in str(incompatibility))
         self.assertTrue(ingredient.name in str(incompatibility))
 
 
 class IngredientTestCase(TestCase):
-
     @classmethod
     def setUpTestData(cls):
-         Ingredient.objects.create(
-            name='Green peas', ingredient_group='veggies and fruits')
+        Ingredient.objects.create(
+            name="Green peas",
+            ingredient_group="veggies and fruits",
+        )
 
     def test_str_is_fullname(self):
         """Ingredient's string representation is its name"""
-        name = 'Green peas'
+        name = "Green peas"
         ingredient = Ingredient.objects.get(name=name)
         self.assertEqual(name, str(ingredient))
 
 
 class MenuTestCase(TestCase):
-
     @classmethod
     def setUpTestData(cls):
-         Menu.objects.create(date=datetime.date(2016, 5, 21))
+        Menu.objects.create(
+            date=datetime.date(2016, 5, 21),
+        )
 
     def test_str_is_fullname(self):
         """Menu's string representation includes date"""
         date = datetime.date(2016, 5, 21)
         menu = Menu.objects.get(date=date)
         self.assertTrue(str(date) in str(menu))
 
 
 class Menu_componentTestCase(TestCase):
-
     @classmethod
     def setUpTestData(cls):
         menu = Menu.objects.create(date=datetime.date(2016, 5, 21))
         component = Component.objects.create(
-            name='Coq au vin', component_group='main dish')
+            name="Coq au vin", component_group="main dish"
+        )
         Menu_component.objects.create(menu=menu, component=component)
 
     def test_str_includes_all_names(self):
         """A Menu_component's string representation includes the date
         of the menu and the name of the component.
         """
         date = datetime.date(2016, 5, 21)
         menu = Menu.objects.get(date=date)
-        component = Component.objects.get(name='Coq au vin')
-        menu_component = Menu_component.objects.get(
-            menu=menu, component=component)
+        component = Component.objects.get(name="Coq au vin")
+        menu_component = Menu_component.objects.get(menu=menu, component=component)
         self.assertTrue(str(date) in str(menu_component))
         self.assertTrue(component.name in str(menu_component))
 
 
 class CreateMenuAndComponentsTestCase(TestCase):
 
-    fixtures = ['meal_initial_data']
+    fixtures = ["meal_initial_data"]
 
     def test_menu_new(self):
         number = Menu.create_menu_and_components(
             datetime.date(2016, 7, 15),
-            ['Ginger pork',
-             'Green Salad', 'Fruit Salad', 'Day s Dessert',
-             'Day s Diabetic Dessert', 'Day s Pudding', 'Day s Compote'])
+            [
+                "Ginger pork",
+                "Green Salad",
+                "Fruit Salad",
+                "Day s Dessert",
+                "Day s Diabetic Dessert",
+                "Day s Pudding",
+                "Day s Compote",
+            ],
+        )
         self.assertEqual(number, 7)
 
     def test_menu_existed(self):
         Menu.create_menu_and_components(
             datetime.date(2016, 7, 15),
-            ['Ginger pork',
-             'Green Salad', 'Fruit Salad', 'Day s Dessert',
-             'Day s Diabetic Dessert', 'Day s Pudding', 'Day s Compote'])
+            [
+                "Ginger pork",
+                "Green Salad",
+                "Fruit Salad",
+                "Day s Dessert",
+                "Day s Diabetic Dessert",
+                "Day s Pudding",
+                "Day s Compote",
+            ],
+        )
         number = Menu.create_menu_and_components(
             datetime.date(2016, 7, 15),
-            ['Coq au vin',
-             'Green Salad', 'Fruit Salad', 'Day s Dessert',
-             'Day s Diabetic Dessert', 'Day s Pudding'])
+            [
+                "Coq au vin",
+                "Green Salad",
+                "Fruit Salad",
+                "Day s Dessert",
+                "Day s Diabetic Dessert",
+                "Day s Pudding",
+            ],
+        )
         self.assertEqual(number, 6)
 
     def test_dish_does_not_exist_exception(self):
         with self.assertRaises(Exception) as cm:
             Menu.create_menu_and_components(
                 datetime.date(2016, 7, 15),
-                ['Chateaubriand Steak',
-                 'Green Salad', 'Fruit Salad', 'Day s Dessert',
-                 'Day s Diabetic Dessert', 'Day s Pudding', 'Day s Compote'])
+                [
+                    "Chateaubriand Steak",
+                    "Green Salad",
+                    "Fruit Salad",
+                    "Day s Dessert",
+                    "Day s Diabetic Dessert",
+                    "Day s Pudding",
+                    "Day s Compote",
+                ],
+            )
             the_exception = cm.exception
             self.assertEqual(the_exception.error_code, 3)
 
     def test_many_dishes_per_component_group_exception(self):
         with self.assertRaises(Exception) as cm:
             Menu.create_menu_and_components(
                 datetime.date(2016, 7, 15),
-                ['Ginger pork', 'Coq au vin',
-                 'Green Salad', 'Fruit Salad', 'Day s Dessert',
-                 'Day s Diabetic Dessert', 'Day s Pudding', 'Day s Compote'])
+                [
+                    "Ginger pork",
+                    "Coq au vin",
+                    "Green Salad",
+                    "Fruit Salad",
+                    "Day s Dessert",
+                    "Day s Diabetic Dessert",
+                    "Day s Pudding",
+                    "Day s Compote",
+                ],
+            )
             the_exception = cm.exception
             self.assertEqual(the_exception.error_code, 3)
 
     def test_no_main_dish_exception(self):
         with self.assertRaises(Exception) as cm:
             Menu.create_menu_and_components(
                 datetime.date(2016, 7, 15),
-                ['Green Salad', 'Fruit Salad', 'Day s Dessert',
-                 'Day s Diabetic Dessert', 'Day s Pudding', 'Day s Compote'])
+                [
+                    "Green Salad",
+                    "Fruit Salad",
+                    "Day s Dessert",
+                    "Day s Diabetic Dessert",
+                    "Day s Pudding",
+                    "Day s Compote",
+                ],
+            )
             the_exception = cm.exception
             self.assertEqual(the_exception.error_code, 3)
 
 
 class Restricted_itemTestCase(TestCase):
-
     @classmethod
     def setUpTestData(cls):
-         Restricted_item.objects.create(
-            name='pork', restricted_item_group='meat')
+        Restricted_item.objects.create(
+            name="pork",
+            restricted_item_group="meat",
+        )
 
     def test_str_is_fullname(self):
         """Restricted_Item's string representation is its name"""
-        name = 'pork'
+        name = "pork"
         restricted_item = Restricted_item.objects.get(name=name)
         self.assertEqual(name, str(restricted_item))
 
 
 class MealAdminTestCase(TestCase):
 
-    fixtures = ['sample_data']
+    fixtures = ["sample_data"]
 
     @classmethod
     def setUpTestData(cls):
         cls.admin = User.objects.create_superuser(
-            username='admin@example.com',
-            email='admin@example.com',
-            password='test1234'
+            username="admin@example.com", email="admin@example.com", password="test1234"
         )
 
     def setUp(self):
-        self.client.login(username=self.admin.username, password='test1234')
+        self.client.login(username=self.admin.username, password="test1234")
 
     def test_component_search(self):
-        response = self.client.get('/admin/meal/component/?q=ess')
-        self.assertTrue(b'Diabetic' in response.content)
+        response = self.client.get("/admin/meal/component/?q=ess")
+        self.assertTrue(b"Diabetic" in response.content)
 
     def test_ingredient_search(self):
-        response = self.client.get('/admin/meal/ingredient/?q=ann')
-        self.assertTrue(b'Canned' in response.content)
+        response = self.client.get("/admin/meal/ingredient/?q=ann")
+        self.assertTrue(b"Canned" in response.content)
 
     def test_restricted_item_search(self):
-        response = self.client.get('/admin/meal/restricted_item/?q=ea')
-        self.assertTrue(b'eef' in response.content)
+        response = self.client.get("/admin/meal/restricted_item/?q=ea")
+        self.assertTrue(b"eef" in response.content)
```

### Comparing `souschef-1.3.6/souschef/member/admin.py` & `souschef-1.3.7/souschef/member/admin.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,13 +1,19 @@
 from django.contrib import admin
 
 from souschef.member.models import (
-    Member, Client, Contact, Address,
-    Route, Option, Relationship,
-    DeliveryHistory, ClientScheduledStatus
+    Address,
+    Client,
+    ClientScheduledStatus,
+    Contact,
+    DeliveryHistory,
+    Member,
+    Option,
+    Relationship,
+    Route,
 )
 
 
 class IngredientsToAvoidInline(admin.TabularInline):
     model = Client.ingredients_to_avoid.through
 
 
@@ -29,56 +35,58 @@
 
 class RelationshipInline(admin.TabularInline):
     model = Relationship
     extra = 0
 
 
 class MemberAdmin(admin.ModelAdmin):
-    search_fields = ['lastname', 'firstname']
-    list_display = ('full_name', 'address', 'work_information', 'updated_at')
-    inlines = [
-        ContactInline
-    ]
+    search_fields = ["lastname", "firstname"]
+    list_display = ("full_name", "address", "work_information", "updated_at")
+    inlines = [ContactInline]
 
     def full_name(self, obj):
-        return ("%s %s" % (obj.firstname, obj.lastname))
-    full_name.short_description = 'Name'
+        return "%s %s" % (obj.firstname, obj.lastname)
+
+    full_name.short_description = "Name"
 
 
 class ClientAdmin(admin.ModelAdmin):
-    search_fields = ['member__lastname', 'member__firstname']
-    list_filter = ('status', 'route', 'delivery_type')
-    list_display = (
-        'member',
-        'status',
-        'language',
-        'delivery_type',
-        'gender',
-        'route')
+    search_fields = ["member__lastname", "member__firstname"]
+    list_filter = ("status", "route", "delivery_type")
+    list_display = ("member", "status", "language", "delivery_type", "gender", "route")
     inlines = [
         RelationshipInline,
         OptionsInline,
         RestrictionsInline,
         ComponentsToAvoidInline,
-        IngredientsToAvoidInline
+        IngredientsToAvoidInline,
     ]
 
 
 class ContactAdmin(admin.ModelAdmin):
-    search_fields = ['member__lastname', 'member__firstname']
-    list_display = ('member', 'type', 'value', )
-    list_filter = ('type',)
+    search_fields = ["member__lastname", "member__firstname"]
+    list_display = (
+        "member",
+        "type",
+        "value",
+    )
+    list_filter = ("type",)
 
 
 class RelationshipAdmin(admin.ModelAdmin):
-    search_fields = ['member__lastname', 'member__firstname',
-                     'client__member__lastname', 'client__member__firstname',
-                     'type', 'nature', 'extra_fields']
-    list_display = ('__str__', 'member', 'type', 'nature', 'client',
-                    'extra_fields')
+    search_fields = [
+        "member__lastname",
+        "member__firstname",
+        "client__member__lastname",
+        "client__member__firstname",
+        "type",
+        "nature",
+        "extra_fields",
+    ]
+    list_display = ("__str__", "member", "type", "nature", "client", "extra_fields")
 
 
 admin.site.register(Member, MemberAdmin)
 admin.site.register(Client, ClientAdmin)
 admin.site.register(ClientScheduledStatus)
 admin.site.register(Route)
 admin.site.register(DeliveryHistory)
```

### Comparing `souschef-1.3.6/souschef/member/factories.py` & `souschef-1.3.7/souschef/member/factories.py`

 * *Files 13% similar despite different names*

```diff
@@ -1,110 +1,95 @@
 # coding=utf-8
-import factory
 import random
 
+import factory
+
+from souschef.meal.models import COMPONENT_GROUP_CHOICES
 from souschef.member.models import (
-    Member, Client, Contact, Route, Address,
-    Relationship, GENDER_CHOICES, PAYMENT_TYPE,
-    DELIVERY_TYPE, DAYS_OF_WEEK, RATE_TYPE,
-    ClientScheduledStatus, DeliveryHistory
+    DAYS_OF_WEEK,
+    DELIVERY_TYPE,
+    GENDER_CHOICES,
+    PAYMENT_TYPE,
+    RATE_TYPE,
+    Address,
+    Client,
+    ClientScheduledStatus,
+    Contact,
+    DeliveryHistory,
+    Member,
+    Relationship,
+    Route,
 )
-from souschef.meal.models import COMPONENT_GROUP_CHOICES
-
 
-class AddressFactory (factory.DjangoModelFactory):
 
+class AddressFactory(factory.DjangoModelFactory):
     class Meta:
         model = Address
 
-    street = factory.Faker('street_address')
-    apartment = factory.Faker('random_number')
-    city = 'Montreal'
-    postal_code = factory.Faker('postalcode', locale="en_CA")
-    latitude = factory.LazyAttribute(
-        lambda x: random.choice(["75.0", "75.1", "75.2"])
-    )
-    longitude = factory.LazyAttribute(
-        lambda x: random.choice(["40.2", "40.1", "40.0"])
-    )
-
+    street = factory.Faker("street_address")
+    apartment = factory.Faker("random_number")
+    city = "Montreal"
+    postal_code = factory.Faker("postalcode", locale="en_CA")
+    latitude = factory.LazyAttribute(lambda x: random.choice(["75.0", "75.1", "75.2"]))
+    longitude = factory.LazyAttribute(lambda x: random.choice(["40.2", "40.1", "40.0"]))
 
-class MemberFactory (factory.DjangoModelFactory):
 
+class MemberFactory(factory.DjangoModelFactory):
     class Meta:
         model = Member
 
-    firstname = factory.Faker('first_name')
-    lastname = factory.Faker('last_name')
+    firstname = factory.Faker("first_name")
+    lastname = factory.Faker("last_name")
 
     address = factory.SubFactory(AddressFactory)
-    work_information = factory.Faker('company')
-    contact = factory.RelatedFactory(
-        'member.factories.ContactFactory',
-        'member'
-    )
+    work_information = factory.Faker("company")
+    contact = factory.RelatedFactory("member.factories.ContactFactory", "member")
 
 
 class RouteFactory(factory.DjangoModelFactory):
-
     class Meta:
         model = Route
 
-    name = factory.Faker('name')
+    name = factory.Faker("name")
 
 
 class DeliveryHistoryFactory(factory.DjangoModelFactory):
     class Meta:
         model = DeliveryHistory
 
 
 def generate_json():
     json = {}
     for day, translation in DAYS_OF_WEEK:
-        json['size_{}'.format(day)] = random.choice(['L', 'R'])
+        json["size_{}".format(day)] = random.choice(["L", "R"])
         for meal, Meal in COMPONENT_GROUP_CHOICES:
-            json['{}_{}_quantity'.format(meal, day)] = random.choice([0, 1])
+            json["{}_{}_quantity".format(meal, day)] = random.choice([0, 1])
     return json
 
 
-class ClientFactory (factory.DjangoModelFactory):
-
+class ClientFactory(factory.DjangoModelFactory):
     class Meta:
         model = Client
 
     member = factory.SubFactory(MemberFactory)
     billing_member = member
     billing_payment_type = factory.LazyAttribute(
         lambda x: random.choice(PAYMENT_TYPE)[0]
     )
-    rate_type = factory.LazyAttribute(
-        lambda x: random.choice(RATE_TYPE)[0]
-    )
+    rate_type = factory.LazyAttribute(lambda x: random.choice(RATE_TYPE)[0])
     member = member
-    status = factory.LazyAttribute(
-        lambda x: random.choice(
-            Client.CLIENT_STATUS)[0]
-    )
-    language = factory.LazyAttribute(
-        lambda x: random.choice(
-            Client.LANGUAGES)[0]
-    )
-    alert = factory.Faker('sentence')
-    delivery_type = factory.LazyAttribute(
-        lambda x: random.choice(DELIVERY_TYPE)[0]
-    )
-    gender = factory.LazyAttribute(
-        lambda x: random.choice(GENDER_CHOICES)[0]
-    )
-    birthdate = factory.Faker('date')
-    route = factory.LazyAttribute(
-        lambda x: random.choice(Route.objects.all())
-    )
+    status = factory.LazyAttribute(lambda x: random.choice(Client.CLIENT_STATUS)[0])
+    language = factory.LazyAttribute(lambda x: random.choice(Client.LANGUAGES)[0])
+    alert = factory.Faker("sentence")
+    delivery_type = factory.LazyAttribute(lambda x: random.choice(DELIVERY_TYPE)[0])
+    gender = factory.LazyAttribute(lambda x: random.choice(GENDER_CHOICES)[0])
+    birthdate = factory.Faker("date")
+    route = factory.LazyAttribute(lambda x: random.choice(Route.objects.all()))
 
-    delivery_note = factory.Faker('sentence')
+    delivery_note = factory.Faker("sentence")
 
     meal_default_week = factory.LazyAttribute(lambda x: generate_json())
 
 
 def random_combination(iterable, r):
     """
     Random selection from itertools.combinations(iterable, r)
@@ -119,50 +104,45 @@
 class RelationshipFactory(factory.DjangoModelFactory):
     class Meta:
         model = Relationship
 
     client = factory.SubFactory(ClientFactory)
     member = factory.SubFactory(MemberFactory)
     nature = factory.LazyAttribute(
-        lambda x: random.choice(['friends', 'family', 'coworkers'])
+        lambda x: random.choice(["friends", "family", "coworkers"])
     )
     type = factory.LazyAttribute(
-        lambda x: list(random_combination(
-            map(lambda tup: tup[0], Relationship.TYPE_CHOICES),
-            random.randint(0, len(Relationship.TYPE_CHOICES))))
+        lambda x: list(
+            random_combination(
+                map(lambda tup: tup[0], Relationship.TYPE_CHOICES),
+                random.randint(0, len(Relationship.TYPE_CHOICES)),
+            )
+        )
     )
-    extra_fields = factory.LazyAttribute(
-        lambda x: {})
-    remark = factory.Faker('sentence')
-
+    extra_fields = factory.LazyAttribute(lambda x: {})
+    remark = factory.Faker("sentence")
 
-class ContactFactory (factory.DjangoModelFactory):
 
+class ContactFactory(factory.DjangoModelFactory):
     class Meta:
         model = Contact
 
-    type = 'Home phone'
-    value = factory.Sequence(lambda n: '514-555-%04d' % n)
+    type = "Home phone"
+    value = factory.Sequence(lambda n: "514-555-%04d" % n)
     member = factory.SubFactory(MemberFactory)
 
 
 class ClientScheduledStatusFactory(factory.DjangoModelFactory):
-
     class Meta:
         model = ClientScheduledStatus
 
     client = factory.SubFactory(ClientFactory)
     status_from = factory.LazyAttribute(
-        lambda x: random.choice(
-            Client.CLIENT_STATUS)[0]
-    )
-    status_to = factory.LazyAttribute(
-        lambda x: random.choice(
-            Client.CLIENT_STATUS)[0]
+        lambda x: random.choice(Client.CLIENT_STATUS)[0]
     )
-    reason = factory.Faker('sentence')
-    change_date = factory.Faker('date')
+    status_to = factory.LazyAttribute(lambda x: random.choice(Client.CLIENT_STATUS)[0])
+    reason = factory.Faker("sentence")
+    change_date = factory.Faker("date")
     change_state = factory.LazyAttribute(
-        lambda x: random.choice(
-            ClientScheduledStatus.CHANGE_STATUS)[0]
+        lambda x: random.choice(ClientScheduledStatus.CHANGE_STATUS)[0]
     )
     operation_status = ClientScheduledStatus.TOBEPROCESSED
```

### Comparing `souschef-1.3.6/souschef/member/forms.py` & `souschef-1.3.7/souschef/member/forms.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,637 +1,614 @@
 from django import forms
 from django.core.exceptions import ObjectDoesNotExist
 from django.utils import timezone
 from django.utils.translation import ugettext_lazy as _
-
-from souschef.member.formsfield import CAPhoneNumberExtField
 from localflavor.ca.forms import CAPostalCodeField
+
 from souschef.meal.models import (
-    Ingredient, Component, COMPONENT_GROUP_CHOICES,
-    Restricted_item, COMPONENT_GROUP_CHOICES_SIDES
+    COMPONENT_GROUP_CHOICES,
+    COMPONENT_GROUP_CHOICES_SIDES,
+    Component,
+    Ingredient,
+    Restricted_item,
 )
-from souschef.order.models import SIZE_CHOICES
+from souschef.member.formsfield import CAPhoneNumberExtField
 from souschef.member.models import (
-    Member, Client, RATE_TYPE, Option,
-    GENDER_CHOICES, PAYMENT_TYPE, DELIVERY_TYPE,
-    DAYS_OF_WEEK, Route, ClientScheduledStatus,
-    Relationship
+    DAYS_OF_WEEK,
+    DELIVERY_TYPE,
+    GENDER_CHOICES,
+    PAYMENT_TYPE,
+    RATE_TYPE,
+    Client,
+    ClientScheduledStatus,
+    Member,
+    Option,
+    Relationship,
+    Route,
 )
+from souschef.order.models import SIZE_CHOICES
 
 
-class ClientBasicInformation (forms.Form):
+class ClientBasicInformation(forms.Form):
 
     firstname = forms.CharField(
         max_length=100,
         label=_("First Name"),
-        widget=forms.TextInput(attrs={'placeholder': _('First name')})
+        widget=forms.TextInput(attrs={"placeholder": _("First name")}),
     )
 
     lastname = forms.CharField(
         max_length=100,
         label=_("Last Name"),
-        widget=forms.TextInput(attrs={'placeholder': _('Last name')})
+        widget=forms.TextInput(attrs={"placeholder": _("Last name")}),
     )
 
     gender = forms.ChoiceField(
-        choices=GENDER_CHOICES,
-        widget=forms.Select(attrs={'class': 'ui dropdown'})
+        choices=GENDER_CHOICES, widget=forms.Select(attrs={"class": "ui dropdown"})
     )
 
     language = forms.ChoiceField(
         choices=Client.LANGUAGES,
         label=_("Preferred language"),
-        widget=forms.Select(attrs={'class': 'ui dropdown'})
+        widget=forms.Select(attrs={"class": "ui dropdown"}),
     )
 
     birthdate = forms.DateField(
         label=_("Birthday"),
         widget=forms.TextInput(
-            attrs={
-                'class': 'ui calendar',
-                'placeholder': _('YYYY-MM-DD')
-            }
+            attrs={"class": "ui calendar", "placeholder": _("YYYY-MM-DD")}
         ),
-        help_text=_('Format: YYYY-MM-DD'),
+        help_text=_("Format: YYYY-MM-DD"),
     )
 
     email = forms.EmailField(
         max_length=100,
         label='<i class="email icon"></i>',
-        widget=forms.TextInput(attrs={'placeholder': _('Email')}),
+        widget=forms.TextInput(attrs={"placeholder": _("Email")}),
         required=False,
     )
 
     home_phone = CAPhoneNumberExtField(
-        label='Home',
-        widget=forms.TextInput(attrs={'placeholder': _('Home phone')}),
+        label="Home",
+        widget=forms.TextInput(attrs={"placeholder": _("Home phone")}),
         required=False,
     )
 
     cell_phone = CAPhoneNumberExtField(
-        label='Cell',
-        widget=forms.TextInput(attrs={'placeholder': _('Cellular')}),
+        label="Cell",
+        widget=forms.TextInput(attrs={"placeholder": _("Cellular")}),
         required=False,
     )
 
     alert = forms.CharField(
         label=_("Alert"),
         required=False,
-        widget=forms.Textarea(attrs={
-            'rows': 2,
-            'placeholder': _('Your message here ...')
-        })
+        widget=forms.Textarea(
+            attrs={"rows": 2, "placeholder": _("Your message here ...")}
+        ),
     )
 
     def clean(self):
-        if not (self.cleaned_data.get('email') or
-                self.cleaned_data.get('home_phone') or
-                self.cleaned_data.get('cell_phone')):
-            msg = _('At least one contact information is required.')
-            self.add_error('email', msg)
-            self.add_error('home_phone', msg)
-            self.add_error('cell_phone', msg)
+        if not (
+            self.cleaned_data.get("email")
+            or self.cleaned_data.get("home_phone")
+            or self.cleaned_data.get("cell_phone")
+        ):
+            msg = _("At least one contact information is required.")
+            self.add_error("email", msg)
+            self.add_error("home_phone", msg)
+            self.add_error("cell_phone", msg)
 
         return self.cleaned_data
 
 
 class ClientAddressInformation(forms.Form):
 
     apartment = forms.CharField(
         label=_("Apt #"),
-        widget=forms.TextInput(attrs={
-            'placeholder': _('Apt #'),
-            'class': 'apartment'
-        }),
-        required=False
+        widget=forms.TextInput(attrs={"placeholder": _("Apt #"), "class": "apartment"}),
+        required=False,
     )
 
     street = forms.CharField(
         max_length=100,
         label=_("Address Information"),
-        widget=forms.TextInput(attrs={
-            'placeholder': _('7275 Rue Saint-Urbain'),
-            'class': 'street name'
-        })
+        widget=forms.TextInput(
+            attrs={"placeholder": _("7275 Rue Saint-Urbain"), "class": "street name"}
+        ),
     )
 
     city = forms.CharField(
         max_length=50,
         label=_("City"),
-        widget=forms.TextInput(attrs={
-            'placeholder': _('Montreal'),
-            'class': 'city'
-        })
+        widget=forms.TextInput(attrs={"placeholder": _("Montreal"), "class": "city"}),
     )
 
     postal_code = CAPostalCodeField(
         max_length=7,
         label=_("Postal Code"),
-        widget=forms.TextInput(attrs={
-            'placeholder': _('H2R 2Y5'),
-            'class': 'postal code'
-        })
+        widget=forms.TextInput(
+            attrs={"placeholder": _("H2R 2Y5"), "class": "postal code"}
+        ),
     )
 
     latitude = forms.CharField(
-        label=_('Latitude'),
+        label=_("Latitude"),
         required=False,
         initial=0,
-        widget=forms.TextInput(attrs={'class': 'latitude'})
+        widget=forms.TextInput(attrs={"class": "latitude"}),
     )
 
     longitude = forms.CharField(
-        label=_('Longitude'),
+        label=_("Longitude"),
         required=False,
         initial=0,
-        widget=forms.TextInput(attrs={'class': 'longitude'})
+        widget=forms.TextInput(attrs={"class": "longitude"}),
     )
 
     distance = forms.CharField(
-        label=_('Distance from Santropol'),
+        label=_("Distance from Santropol"),
         required=False,
         initial=0,
-        widget=forms.TextInput(attrs={'class': 'distance'})
+        widget=forms.TextInput(attrs={"class": "distance"}),
     )
 
     route = forms.ModelChoiceField(
-        label=_('Route'),
+        label=_("Route"),
         required=True,
-        widget=forms.Select(attrs={'class': 'ui search dropdown'}),
+        widget=forms.Select(attrs={"class": "ui search dropdown"}),
         queryset=Route.objects.all(),
     )
 
     delivery_note = forms.CharField(
         label=_("Delivery Note"),
         required=False,
-        widget=forms.Textarea(attrs={
-            'rows': 2,
-            'placeholder': _('Delivery Note here ...')
-        })
+        widget=forms.Textarea(
+            attrs={"rows": 2, "placeholder": _("Delivery Note here ...")}
+        ),
     )
 
 
 class ClientRestrictionsInformation(forms.Form):
-
     def __init__(self, *args, **kwargs):
         super(ClientRestrictionsInformation, self).__init__(*args, **kwargs)
 
         for day, translation in DAYS_OF_WEEK:
-            self.fields['size_{}'.format(day)] = forms.ChoiceField(
-                choices=SIZE_CHOICES,
-                widget=forms.Select(),
-                required=False
+            self.fields["size_{}".format(day)] = forms.ChoiceField(
+                choices=SIZE_CHOICES, widget=forms.Select(), required=False
             )
 
             for meal, meal_translation in COMPONENT_GROUP_CHOICES:
                 if meal is COMPONENT_GROUP_CHOICES_SIDES:
                     continue  # skip "Sides"
-                self.fields['{}_{}_quantity'.format(meal, day)] = \
-                    forms.IntegerField(
-                        required=False,
-                        min_value=0,
-                        widget=forms.TextInput()
-                    )
+                self.fields["{}_{}_quantity".format(meal, day)] = forms.IntegerField(
+                    required=False, min_value=0, widget=forms.TextInput()
+                )
 
     status = forms.BooleanField(
-        label=_('Active'),
-        help_text=_('By default, the client meal status is Pending.'),
+        label=_("Active"),
+        help_text=_("By default, the client meal status is Pending."),
         required=False,
     )
 
     delivery_type = forms.ChoiceField(
-        label=_('Type'),
+        label=_("Type"),
         choices=DELIVERY_TYPE,
         required=True,
-        widget=forms.Select(attrs={'class': 'ui dropdown'})
+        widget=forms.Select(attrs={"class": "ui dropdown"}),
     )
 
     meals_schedule = forms.MultipleChoiceField(
-        label=_('Schedule'),
-        initial='Select days of week',
+        label=_("Schedule"),
+        initial="Select days of week",
         choices=DAYS_OF_WEEK,
-        widget=forms.SelectMultiple(attrs={'class': 'ui dropdown'}),
+        widget=forms.SelectMultiple(attrs={"class": "ui dropdown"}),
         required=False,
     )
 
     restrictions = forms.ModelMultipleChoiceField(
         label=_("Restrictions"),
         queryset=Restricted_item.objects.all(),
         required=False,
-        widget=forms.SelectMultiple(attrs={'class': 'ui dropdown search'})
+        widget=forms.SelectMultiple(attrs={"class": "ui dropdown search"}),
     )
 
     food_preparation = forms.ModelMultipleChoiceField(
         label=_("Preparation"),
         required=False,
-        queryset=Option.objects.filter(option_group='preparation'),
-        widget=forms.SelectMultiple(attrs={'class': 'ui dropdown'}),
+        queryset=Option.objects.filter(option_group="preparation"),
+        widget=forms.SelectMultiple(attrs={"class": "ui dropdown"}),
     )
 
     ingredient_to_avoid = forms.ModelMultipleChoiceField(
         label=_("Ingredient To Avoid"),
         queryset=Ingredient.objects.all(),
         required=False,
-        widget=forms.SelectMultiple(
-            attrs={'class': 'ui dropdown search'}
-        )
+        widget=forms.SelectMultiple(attrs={"class": "ui dropdown search"}),
     )
 
     dish_to_avoid = forms.ModelMultipleChoiceField(
         label=_("Dish(es) To Avoid"),
         queryset=Component.objects.all(),
         required=False,
-        widget=forms.SelectMultiple(
-            attrs={'class': 'ui dropdown search'}
-        )
+        widget=forms.SelectMultiple(attrs={"class": "ui dropdown search"}),
     )
 
     def clean(self):
         """
         The meal defaults are required for the scheduled delivery days:
         at least one of the quantities should be set.
         This only applies to ongoing clients!
 
         Regardless of meal schedules, when a main dish is set, we should
         enforce the setting of its size.
         """
         super(ClientRestrictionsInformation, self).clean()
 
-        if self.cleaned_data.get('delivery_type') == 'O':
+        if self.cleaned_data.get("delivery_type") == "O":
             # Ongoing
-            meals_schedule = self.cleaned_data.get('meals_schedule')
+            meals_schedule = self.cleaned_data.get("meals_schedule")
             if meals_schedule is None:
                 meals_schedule = []
         else:
             # Episodic
             meals_schedule = []
 
         day_displays = dict(DAYS_OF_WEEK)
 
         for day in meals_schedule:
             # At least one of the quantities should be set.
             quantity_fieldnames = []
             for meal, meal_translation in COMPONENT_GROUP_CHOICES:
                 if meal is COMPONENT_GROUP_CHOICES_SIDES:
                     continue  # skip "Sides"
-                fieldname = '{}_{}_quantity'.format(meal, day)
+                fieldname = "{}_{}_quantity".format(meal, day)
                 quantity_fieldnames.append(fieldname)
 
-            total_quantity = sum(map(
-                lambda n: self.cleaned_data.get(n) or 0,
-                quantity_fieldnames
-            ), 0)
+            total_quantity = sum(
+                map(lambda n: self.cleaned_data.get(n) or 0, quantity_fieldnames), 0
+            )
             if total_quantity == 0:
                 for n in quantity_fieldnames:
                     self.add_error(
                         n,
-                        _("At least one of the quantities should be "
-                          "set because %(weekday)s is scheduled for "
-                          "delivery.") % {
-                              'weekday': day_displays[day]
-                          }
+                        _(
+                            "At least one of the quantities should be "
+                            "set because %(weekday)s is scheduled for "
+                            "delivery."
+                        )
+                        % {"weekday": day_displays[day]},
                     )
 
         for day, day_display in DAYS_OF_WEEK:
             # If the main dish is set, size should also be set.
             main_dish_quantity = self.cleaned_data.get(
-                'main_dish_{}_quantity'.format(day)
+                "main_dish_{}_quantity".format(day)
             )
-            fieldname_size = 'size_{}'.format(day)
-            if main_dish_quantity and not self.cleaned_data.get(
-                    fieldname_size
-            ):
+            fieldname_size = "size_{}".format(day)
+            if main_dish_quantity and not self.cleaned_data.get(fieldname_size):
                 self.add_error(
-                    fieldname_size,
-                    _("Size is required when the main dish is set.")
+                    fieldname_size, _("Size is required when the main dish is set.")
                 )
 
 
 class MemberForm(forms.Form):
 
     member = forms.CharField(
         label=_("Member"),
-        widget=forms.TextInput(attrs={
-            'placeholder': _('Type 3 characters or more to search members'),
-            'class': 'prompt existing--member'
-        }),
-        required=False
+        widget=forms.TextInput(
+            attrs={
+                "placeholder": _("Type 3 characters or more to search members"),
+                "class": "prompt existing--member",
+            }
+        ),
+        required=False,
     )
 
     firstname = forms.CharField(
         label=_("First Name"),
-        widget=forms.TextInput(attrs={
-            'placeholder': _('First Name'),
-            'class': 'firstname'
-        }),
-        required=False
+        widget=forms.TextInput(
+            attrs={"placeholder": _("First Name"), "class": "firstname"}
+        ),
+        required=False,
     )
 
     lastname = forms.CharField(
         label=_("Last Name"),
-        widget=forms.TextInput(attrs={
-            'placeholder': _('Last Name'),
-            'class': 'lastname'
-        }),
-        required=False
+        widget=forms.TextInput(
+            attrs={"placeholder": _("Last Name"), "class": "lastname"}
+        ),
+        required=False,
     )
 
     email = forms.EmailField(
         label='<i class="email icon"></i>',
-        widget=forms.TextInput(attrs={'placeholder': _('Email')}),
+        widget=forms.TextInput(attrs={"placeholder": _("Email")}),
         required=False,
     )
 
     work_phone = CAPhoneNumberExtField(
-        label='Work',
-        widget=forms.TextInput(attrs={'placeholder': _('Work phone')}),
+        label="Work",
+        widget=forms.TextInput(attrs={"placeholder": _("Work phone")}),
         required=False,
     )
 
     cell_phone = CAPhoneNumberExtField(
-        label='Cell',
-        widget=forms.TextInput(attrs={'placeholder': _('Cellular')}),
+        label="Cell",
+        widget=forms.TextInput(attrs={"placeholder": _("Cellular")}),
         required=False,
     )
 
     def clean(self):
         cleaned_data = super(MemberForm, self).clean()
 
         """If the client pays for himself. """
-        if cleaned_data.get('same_as_client') is True:
+        if cleaned_data.get("same_as_client") is True:
             return cleaned_data
 
-        member = cleaned_data.get('member')
-        firstname = cleaned_data.get('firstname')
-        lastname = cleaned_data.get('lastname')
+        member = cleaned_data.get("member")
+        firstname = cleaned_data.get("firstname")
+        lastname = cleaned_data.get("lastname")
 
         if not member and (not firstname or not lastname):
-            msg = _('This field is required unless you add a new member.')
-            self.add_error('member', msg)
-            msg = _(
-                'This field is required unless you chose an existing member.'
-            )
-            self.add_error('firstname', msg)
-            self.add_error('lastname', msg)
+            msg = _("This field is required unless you add a new member.")
+            self.add_error("member", msg)
+            msg = _("This field is required unless you chose an existing member.")
+            self.add_error("firstname", msg)
+            self.add_error("lastname", msg)
 
         if member:
-            member_id = member.split(' ')[0].replace('[', '').replace(']', '')
+            member_id = member.split(" ")[0].replace("[", "").replace("]", "")
             try:
                 Member.objects.get(pk=member_id)
             except ObjectDoesNotExist:
-                msg = _('Not a valid member, please chose an existing member.')
-                self.add_error('member', msg)
+                msg = _("Not a valid member, please chose an existing member.")
+                self.add_error("member", msg)
         return cleaned_data
 
 
 class ClientPaymentInformation(MemberForm):
 
     facturation = forms.ChoiceField(
         label=_("Billing Type"),
         choices=RATE_TYPE,
-        widget=forms.Select(attrs={'class': 'ui dropdown'})
+        widget=forms.Select(attrs={"class": "ui dropdown"}),
     )
 
     same_as_client = forms.BooleanField(
         label=_("Same As Client"),
         required=False,
-        help_text=_('If checked, the personal information '
-                    'of the client will be used as billing information.'),
-        widget=forms.CheckboxInput(
-            attrs={}))
+        help_text=_(
+            "If checked, the personal information "
+            "of the client will be used as billing information."
+        ),
+        widget=forms.CheckboxInput(attrs={}),
+    )
 
     billing_payment_type = forms.ChoiceField(
         label=_("Payment Type"),
         choices=PAYMENT_TYPE,
-        widget=forms.Select(attrs={'class': 'ui dropdown'}),
-        required=False
+        widget=forms.Select(attrs={"class": "ui dropdown"}),
+        required=False,
     )
 
     number = forms.IntegerField(label=_("Street Number"), required=False)
 
     apartment = forms.CharField(
         label=_("Apt #"),
-        widget=forms.TextInput(attrs={'placeholder': _('Apt #')}),
-        required=False
+        widget=forms.TextInput(attrs={"placeholder": _("Apt #")}),
+        required=False,
     )
 
     floor = forms.IntegerField(label=_("Floor"), required=False)
 
     street = forms.CharField(label=_("Street Name"), required=False)
 
     city = forms.CharField(label=_("City Name"), required=False)
 
     postal_code = CAPostalCodeField(label=_("Postal Code"), required=False)
 
     def clean(self):
         cleaned_data = super(ClientPaymentInformation, self).clean()
 
-        if cleaned_data.get('same_as_client') is True:
+        if cleaned_data.get("same_as_client") is True:
             return cleaned_data
 
-        member = cleaned_data.get('member')
+        member = cleaned_data.get("member")
         if member:
-            member_id = member.split(' ')[0].replace('[', '').replace(']', '')
+            member_id = member.split(" ")[0].replace("[", "").replace("]", "")
             member_obj = Member.objects.get(pk=member_id)
             if not member_obj.address:
-                msg = _('This member has not a valid address, '
-                        'please add a valid address to this member, so it can '
-                        'be used for the billing.')
-                self.add_error('member', msg)
+                msg = _(
+                    "This member has not a valid address, "
+                    "please add a valid address to this member, so it can "
+                    "be used for the billing."
+                )
+                self.add_error("member", msg)
         else:
             msg = _("This field is required")
-            fields = ['street', 'city', 'postal_code']
+            fields = ["street", "city", "postal_code"]
             for field in fields:
                 field_data = cleaned_data.get(field)
                 if not field_data:
                     self.add_error(field, msg)
         return cleaned_data
 
 
 class ClientRelationshipInformation(MemberForm):
 
     nature = forms.CharField(
         label=_("Nature of Relationship"),
         widget=forms.TextInput(
-            attrs={'placeholder': _('Doctor, Friend, Daughter, ...')}
+            attrs={"placeholder": _("Doctor, Friend, Daughter, ...")}
         ),
     )
 
     type = forms.MultipleChoiceField(
         label=_("Type of Relationship"),
         choices=Relationship.TYPE_CHOICES,
-        widget=forms.CheckboxSelectMultiple(attrs={
-            'onchange': '$(this).closest(".formset-item.relationship")'
-                        '.find(".souschef-referent-only")'
-                        '[($(this).closest("ul").find('
-                        '        "input[type=checkbox][value=%s]:checked"'
-                        '    ).length > 0) ? '
-                        ' "show" : "hide"]()' % Relationship.REFERENT,
-            'class': 'sc-checkbox-select-multiple'
-        }),
+        widget=forms.CheckboxSelectMultiple(
+            attrs={
+                "onchange": '$(this).closest(".formset-item.relationship")'
+                '.find(".souschef-referent-only")'
+                '[($(this).closest("ul").find('
+                '        "input[type=checkbox][value=%s]:checked"'
+                "    ).length > 0) ? "
+                ' "show" : "hide"]()' % Relationship.REFERENT,
+                "class": "sc-checkbox-select-multiple",
+            }
+        ),
         initial=[],
-        required=False
+        required=False,
     )
 
     remark = forms.CharField(
-        label=_("Remark"),
-        widget=forms.Textarea(attrs={'rows': 4}),
-        required=False
+        label=_("Remark"), widget=forms.Textarea(attrs={"rows": 4}), required=False
     )
 
     # Extra fields
     work_information = forms.CharField(
         max_length=200,
-        label=_('Work information'),
-        widget=forms.TextInput(attrs={
-            'placeholder': _('Hotel-Dieu, St-Anne Hospital, ...')
-        }),
-        required=False
+        label=_("Work information"),
+        widget=forms.TextInput(
+            attrs={"placeholder": _("Hotel-Dieu, St-Anne Hospital, ...")}
+        ),
+        required=False,
     )
     referral_date = forms.DateField(
         label=_("Referral Date"),
         widget=forms.TextInput(
-            attrs={
-                'class': 'ui calendar',
-                'placeholder': _('YYYY-MM-DD')
-            }
+            attrs={"class": "ui calendar", "placeholder": _("YYYY-MM-DD")}
         ),
-        help_text=_('Format: YYYY-MM-DD'),
+        help_text=_("Format: YYYY-MM-DD"),
         required=False,
     )
     referral_reason = forms.CharField(
         label=_("Referral Reason"),
-        widget=forms.Textarea(attrs={'rows': 4}),
-        required=False
+        widget=forms.Textarea(attrs={"rows": 4}),
+        required=False,
     )
 
     @property
     def has_referent_relationship(self):
-        return Relationship.REFERENT in self.cleaned_data.get('type', [])
+        return Relationship.REFERENT in self.cleaned_data.get("type", [])
 
     def clean(self):
-        member = self.cleaned_data.get('member')
+        member = self.cleaned_data.get("member")
         if member:
-            member_id = member.split(' ')[0].replace('[', '').replace(']', '')
+            member_id = member.split(" ")[0].replace("[", "").replace("]", "")
             try:
                 Member.objects.get(pk=member_id)
             except (ObjectDoesNotExist, ValueError):
-                msg = _('Not a valid member, please chose an existing member.')
-                self.add_error('member', msg)
+                msg = _("Not a valid member, please chose an existing member.")
+                self.add_error("member", msg)
         else:
-            if not self.cleaned_data.get('firstname'):
+            if not self.cleaned_data.get("firstname"):
                 msg = _(
-                    'This field is required unless '
-                    'you chose an existing member.'
+                    "This field is required unless " "you chose an existing member."
                 )
-                self.add_error('firstname', msg)
-            if not self.cleaned_data.get('firstname'):
+                self.add_error("firstname", msg)
+            if not self.cleaned_data.get("firstname"):
                 msg = _(
-                    'This field is required unless '
-                    'you chose an existing member.'
+                    "This field is required unless " "you chose an existing member."
                 )
-                self.add_error('lastname', msg)
-            if not (self.cleaned_data.get('email') or
-                    self.cleaned_data.get('work_phone') or
-                    self.cleaned_data.get('cell_phone')):
-                msg = _('At least one contact is required.')
-                self.add_error('email', msg)
-                self.add_error('work_phone', msg)
-                self.add_error('cell_phone', msg)
+                self.add_error("lastname", msg)
+            if not (
+                self.cleaned_data.get("email")
+                or self.cleaned_data.get("work_phone")
+                or self.cleaned_data.get("cell_phone")
+            ):
+                msg = _("At least one contact is required.")
+                self.add_error("email", msg)
+                self.add_error("work_phone", msg)
+                self.add_error("cell_phone", msg)
             if self.has_referent_relationship:
-                if not self.cleaned_data.get('work_information'):
-                    msg = _('This field is required for a referent '
-                            'relationship.')
-                    self.add_error('work_information', msg)
+                if not self.cleaned_data.get("work_information"):
+                    msg = _("This field is required for a referent " "relationship.")
+                    self.add_error("work_information", msg)
 
         if self.has_referent_relationship:
-            if not self.cleaned_data.get('referral_date'):
-                msg = _('This field is required for a referent relationship.')
-                self.add_error('referral_date', msg)
-            if not self.cleaned_data.get('referral_reason'):
-                msg = _('This field is required for a referent relationship.')
-                self.add_error('referral_reason', msg)
+            if not self.cleaned_data.get("referral_date"):
+                msg = _("This field is required for a referent relationship.")
+                self.add_error("referral_date", msg)
+            if not self.cleaned_data.get("referral_reason"):
+                msg = _("This field is required for a referent relationship.")
+                self.add_error("referral_reason", msg)
         return self.cleaned_data
 
 
 class ClientScheduledStatusForm(forms.ModelForm):
-
     class Meta:
         model = ClientScheduledStatus
-        fields = [
-            'client', 'status_from', 'status_to', 'reason', 'change_date'
-        ]
+        fields = ["client", "status_from", "status_to", "reason", "change_date"]
         widgets = {
-            'status_to': forms.Select(attrs={
-                'class': 'ui status_to dropdown'
-            }),
-            'reason': forms.Textarea(attrs={'rows': 2}),
+            "status_to": forms.Select(attrs={"class": "ui status_to dropdown"}),
+            "reason": forms.Textarea(attrs={"rows": 2}),
         }
 
     def __init__(self, *args, **kwargs):
         super(ClientScheduledStatusForm, self).__init__(*args, **kwargs)
-        self.fields['end_date'] = forms.DateField(
+        self.fields["end_date"] = forms.DateField(
             required=False,
             widget=forms.TextInput(
-                attrs={
-                    'class': 'ui calendar',
-                    'placeholder': _('YYYY-MM-DD')
-                }
+                attrs={"class": "ui calendar", "placeholder": _("YYYY-MM-DD")}
             ),
-            help_text=_('Format: YYYY-MM-DD'),
+            help_text=_("Format: YYYY-MM-DD"),
         )
 
     def save(self, *args, **kwargs):
         """
         Override the default behavior of a ModelForm.
         We may have two ClientScheduledStatus instances to save. The .save()
         method is not expressive enough for what we want to do.
         Thus, we raise an error when trying to call form.save() to remind
         other people of using the custom save method.
         """
         raise NotImplementedError(
             "This method is intentionally bypassed. Please use "
-            "save_scheduled_statuses method.")
+            "save_scheduled_statuses method."
+        )
 
     def save_scheduled_statuses(self, callback_add_message=lambda m: None):
         """
         Create one or two ClientScheduledStatus instances according to
         `self.cleaned_data`.
         """
-        if not hasattr(self, 'cleaned_data') or self.errors:
+        if not hasattr(self, "cleaned_data") or self.errors:
             raise ValueError("The form data doesn't validate.")
         data = self.cleaned_data
         today = timezone.datetime.date(timezone.datetime.today())
 
         # Save and process instance(s)
         c1 = ClientScheduledStatus.objects.create(
-            client=data['client'],
-            status_from=data['status_from'],
-            status_to=data['status_to'],
-            reason=data['reason'],
-            change_date=data['change_date'],
+            client=data["client"],
+            status_from=data["status_from"],
+            status_to=data["status_to"],
+            reason=data["reason"],
+            change_date=data["change_date"],
             change_state=ClientScheduledStatus.END,
-            operation_status=ClientScheduledStatus.TOBEPROCESSED
+            operation_status=ClientScheduledStatus.TOBEPROCESSED,
         )
-        if data['change_date'] == today:
+        if data["change_date"] == today:
             c1.process()
             callback_add_message(_("The client status has been changed."))
         else:
             callback_add_message(_("This status change has been scheduled."))
 
-        if data.get('end_date'):
+        if data.get("end_date"):
             c2 = ClientScheduledStatus.objects.create(
-                client=data['client'],
-                status_from=data['status_to'],
-                status_to=data['status_from'],
-                reason=data['reason'],
-                change_date=data['end_date'],
+                client=data["client"],
+                status_from=data["status_to"],
+                status_to=data["status_from"],
+                reason=data["reason"],
+                change_date=data["end_date"],
                 change_state=ClientScheduledStatus.END,
                 operation_status=ClientScheduledStatus.TOBEPROCESSED,
-                pair=c1
+                pair=c1,
             )
-            if data.get('end_date') == today:
+            if data.get("end_date") == today:
                 c2.process()
                 callback_add_message(_("The client status has been changed."))
             else:
-                callback_add_message(_("The end date of this status change "
-                                       "has been scheduled."))
+                callback_add_message(
+                    _("The end date of this status change " "has been scheduled.")
+                )
```

### Comparing `souschef-1.3.6/souschef/member/formsfield.py` & `souschef-1.3.7/souschef/member/formsfield.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,31 +1,29 @@
 import re
+
 from django import forms
 from django.utils.encoding import smart_text
 from django.utils.translation import ugettext_lazy as _
 from localflavor.ca.forms import CAPhoneNumberField
 
 
 class CAPhoneNumberExtField(CAPhoneNumberField):
     """Canadian phone number form field."""
-    phone_digits_re = re.compile(
-            r'^(?:1-?)?(\d{3})[-\.]?(\d{3})[-\.]?(\d{4})$'
-    )
+
+    phone_digits_re = re.compile(r"^(?:1-?)?(\d{3})[-\.]?(\d{3})[-\.]?(\d{4})$")
     phone_digits_with_ext = re.compile(
-            r'^(?:1-?)?(\d{3})[-\.]?(\d{3})[-\.]?(\d{4})#?(\d*)$'
-        )
+        r"^(?:1-?)?(\d{3})[-\.]?(\d{3})[-\.]?(\d{4})#?(\d*)$"
+    )
 
     default_error_messages = {
-        'invalid':
-        _('Phone numbers must be in XXX-XXX-XXXX # XXXXX format.'),
+        "invalid": _("Phone numbers must be in XXX-XXX-XXXX # XXXXX format."),
     }
 
     def clean(self, value):
         try:
             return super(CAPhoneNumberExtField, self).clean(value)
         except forms.ValidationError as error:
-            value = re.sub('(\(|\)|\s+)', '', smart_text(value))
+            value = re.sub(r"(\(|\)|\s+)", "", smart_text(value))
             m = self.phone_digits_with_ext.search(value)
             if m:
-                return '%s-%s-%s #%s' % (m.group(1), m.group(2),
-                                         m.group(3), m.group(4))
+                return "%s-%s-%s #%s" % (m.group(1), m.group(2), m.group(3), m.group(4))
             raise error
```

### Comparing `souschef-1.3.6/souschef/member/management/commands/createclients.py` & `souschef-1.3.7/souschef/member/management/commands/createclients.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,19 +1,18 @@
+from django.core.management import call_command
 from django.core.management.base import BaseCommand
+
 from souschef.member.factories import ClientFactory
-from django.core.management import call_command
 
 
 class Command(BaseCommand):
-    help = 'Creates a happy bunch of clients without orders'
+    help = "Creates a happy bunch of clients without orders"
 
     def handle(self, *args, **options):
         # Load fixtures for the routes
-        fixture_filename = 'routes.json'
-        call_command('loaddata', fixture_filename)
+        fixture_filename = "routes.json"
+        call_command("loaddata", fixture_filename)
 
         client = ClientFactory.create_batch(10)
         self.stdout.write(
-            self.style.SUCCESS(
-                'Successfully created client "%s"' % client
-            )
+            self.style.SUCCESS('Successfully created client "%s"' % client)
         )
```

### Comparing `souschef-1.3.6/souschef/member/management/commands/processscheduledstatuschange.py` & `souschef-1.3.7/souschef/member/management/commands/processscheduledstatuschange.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,39 +1,39 @@
-from datetime import date, datetime
+from datetime import (
+    date,
+    datetime,
+)
 
 from django.core.management.base import BaseCommand
+
 from souschef.member.models import ClientScheduledStatus
 
 
 class Command(BaseCommand):
-    help = 'Process scheduled status changes, \
-        queued in member_ClientScheduledStatus table.'
+    help = "Process scheduled status changes, \
+        queued in member_ClientScheduledStatus table."
 
     def handle(self, *args, **options):
         # List all change not processed, and older or equal to now
         changes = ClientScheduledStatus.objects.filter(
             operation_status=ClientScheduledStatus.TOBEPROCESSED
-        ).filter(
-            change_date__lte=date.today()
-        )
+        ).filter(change_date__lte=date.today())
 
         # For each change to be processed,
         for scheduled_change in changes:
             if scheduled_change.process():
                 suc_msg = ": client {} status updated from {} to {}.".format(
                     scheduled_change.client.member,
                     scheduled_change.get_status_from_display(),
-                    scheduled_change.get_status_to_display()
+                    scheduled_change.get_status_to_display(),
                 )
-                self.stdout.write(self.style.SUCCESS(
-                    str(datetime.now()) + suc_msg))
+                self.stdout.write(self.style.SUCCESS(str(datetime.now()) + suc_msg))
             # If not, mark change as processed with error
             else:
-                err_msg = ': client {} status not updated.'.format(
+                err_msg = ": client {} status not updated.".format(
                     scheduled_change.client.member
                 )
-                err_msg += ' Current status is {}, should be {}.'.format(
+                err_msg += " Current status is {}, should be {}.".format(
                     scheduled_change.client.get_status_display(),
-                    scheduled_change.get_status_from_display()
+                    scheduled_change.get_status_from_display(),
                 )
-                self.stdout.write(self.style.ERROR(
-                    str(datetime.now()) + err_msg))
+                self.stdout.write(self.style.ERROR(str(datetime.now()) + err_msg))
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0002_auto_20160605_1609.py` & `souschef-1.3.7/souschef/order/migrations/0008_auto_20160912_1509.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,21 +1,27 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.9.5 on 2016-06-05 20:09
+# Generated by Django 1.10 on 2016-09-12 15:09
 from __future__ import unicode_literals
 
 from django.db import migrations, models
 import django.db.models.deletion
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('member', '0001_fix161f'),
+        ("order", "0007_remove_order_item_component"),
     ]
 
     operations = [
         migrations.AlterField(
-            model_name='member',
-            name='address',
-            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='member.Address', verbose_name='address'),
+            model_name="order",
+            name="client",
+            field=models.ForeignKey(
+                default="",
+                on_delete=django.db.models.deletion.CASCADE,
+                related_name="client_order",
+                to="member.Client",
+                verbose_name="client",
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0003_auto_20160615_2100.py` & `souschef-1.3.7/souschef/member/migrations/0023_auto_20161220_1401.py`

 * *Files 22% similar despite different names*

```diff
@@ -1,43 +1,43 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.9.6 on 2016-06-15 21:00
+# Generated by Django 1.10 on 2016-12-20 14:01
 from __future__ import unicode_literals
 
 from django.db import migrations, models
 import django.db.models.deletion
-import django.utils.timezone
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('member', '0002_auto_20160605_1609'),
+        ("member", "0022_auto_20161215_1936"),
     ]
 
     operations = [
-        migrations.CreateModel(
-            name='Route',
-            fields=[
-                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
-                ('name', models.CharField(max_length=50, verbose_name='name')),
-                ('description', models.TextField(blank=True, null=True, verbose_name='description')),
-            ],
-            options={
-                'verbose_name_plural': 'Routes',
-            },
-        ),
         migrations.AlterField(
-            model_name='client',
-            name='birthdate',
-            field=models.DateField(blank=True, default=django.utils.timezone.now, null=True),
+            model_name="client",
+            name="billing_payment_type",
+            field=models.CharField(
+                blank=True,
+                choices=[
+                    (" ", "----"),
+                    ("3rd", "3rd Party"),
+                    ("credit", "Credit card"),
+                    ("eft", "EFT"),
+                ],
+                max_length=10,
+                null=True,
+                verbose_name="Payment Type",
+            ),
         ),
         migrations.AlterField(
-            model_name='client',
-            name='gender',
-            field=models.CharField(blank=True, choices=[('', 'Gender'), ('F', 'Female'), ('M', 'Male')], default='U', max_length=1, null=True),
-        ),
-        migrations.AddField(
-            model_name='client',
-            name='route',
-            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='member.Route', verbose_name='route'),
+            model_name="client",
+            name="route",
+            field=models.ForeignKey(
+                blank=True,
+                null=True,
+                on_delete=django.db.models.deletion.SET_NULL,
+                to="member.Route",
+                verbose_name="route",
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0005_fix004a.py` & `souschef-1.3.7/souschef/member/migrations/0002_auto_20160605_1609.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,21 +1,26 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.9.5 on 2016-06-23 01:15
+# Generated by Django 1.9.5 on 2016-06-05 20:09
 from __future__ import unicode_literals
 
 from django.db import migrations, models
 import django.db.models.deletion
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('member', '0004_fix004a'),
+        ("member", "0001_fix161f"),
     ]
 
     operations = [
         migrations.AlterField(
-            model_name='client',
-            name='route',
-            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='member.Route', verbose_name='route'),
+            model_name="member",
+            name="address",
+            field=models.ForeignKey(
+                null=True,
+                on_delete=django.db.models.deletion.CASCADE,
+                to="member.Address",
+                verbose_name="address",
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0007_auto_20160726_1703.py` & `souschef-1.3.7/souschef/member/migrations/0007_auto_20160726_1703.py`

 * *Files 10% similar despite different names*

```diff
@@ -4,27 +4,33 @@
 
 from django.db import migrations, models
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('member', '0006_client_meal_default_week'),
+        ("member", "0006_client_meal_default_week"),
     ]
 
     operations = [
         migrations.AddField(
-            model_name='address',
-            name='distance',
-            field=models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True),
+            model_name="address",
+            name="distance",
+            field=models.DecimalField(
+                blank=True, decimal_places=6, max_digits=9, null=True
+            ),
         ),
         migrations.AddField(
-            model_name='address',
-            name='lat',
-            field=models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True),
+            model_name="address",
+            name="lat",
+            field=models.DecimalField(
+                blank=True, decimal_places=6, max_digits=9, null=True
+            ),
         ),
         migrations.AddField(
-            model_name='address',
-            name='lon',
-            field=models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True),
+            model_name="address",
+            name="lon",
+            field=models.DecimalField(
+                blank=True, decimal_places=6, max_digits=9, null=True
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0008_auto_20160727_2251.py` & `souschef-1.3.7/souschef/member/migrations/0033_auto_20170801_1607.py`

 * *Files 27% similar despite different names*

```diff
@@ -1,25 +1,31 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.9.7 on 2016-07-27 22:51
+# Generated by Django 1.11.3 on 2017-08-01 20:07
 from __future__ import unicode_literals
 
-from django.db import migrations
+import annoying.fields
+from django.db import migrations, models
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('member', '0007_auto_20160726_1703'),
+        ("member", "0032_relationship"),
     ]
 
     operations = [
-        migrations.RenameField(
-            model_name='address',
-            old_name='lat',
-            new_name='latitude',
+        migrations.AlterField(
+            model_name="relationship",
+            name="extra_fields",
+            field=annoying.fields.JSONField(blank=True, default={}),
         ),
-        migrations.RenameField(
-            model_name='address',
-            old_name='lon',
-            new_name='longitude',
+        migrations.AlterField(
+            model_name="relationship",
+            name="remark",
+            field=models.TextField(blank=True),
+        ),
+        migrations.AlterField(
+            model_name="relationship",
+            name="type",
+            field=annoying.fields.JSONField(blank=True, default=[]),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0009_auto_20160728_1443.py` & `souschef-1.3.7/souschef/member/migrations/0009_auto_20160728_1443.py`

 * *Files 15% similar despite different names*

```diff
@@ -6,24 +6,30 @@
 from django.db import migrations, models
 from django.utils.timezone import utc
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('member', '0008_auto_20160727_2251'),
+        ("member", "0008_auto_20160727_2251"),
     ]
 
     operations = [
         migrations.AddField(
-            model_name='member',
-            name='created_at',
-            field=models.DateTimeField(auto_now_add=True, default=datetime.datetime(2016, 7, 28, 14, 43, 48, 708683, tzinfo=utc)),
+            model_name="member",
+            name="created_at",
+            field=models.DateTimeField(
+                auto_now_add=True,
+                default=datetime.datetime(2016, 7, 28, 14, 43, 48, 708683, tzinfo=utc),
+            ),
             preserve_default=False,
         ),
         migrations.AddField(
-            model_name='member',
-            name='updated_at',
-            field=models.DateTimeField(auto_now=True, default=datetime.datetime(2016, 7, 28, 14, 43, 52, 836645, tzinfo=utc)),
+            model_name="member",
+            name="updated_at",
+            field=models.DateTimeField(
+                auto_now=True,
+                default=datetime.datetime(2016, 7, 28, 14, 43, 52, 836645, tzinfo=utc),
+            ),
             preserve_default=False,
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0010_auto_20160803_2052.py` & `souschef-1.3.7/souschef/member/migrations/0010_auto_20160803_2052.py`

 * *Files 10% similar despite different names*

```diff
@@ -4,23 +4,23 @@
 
 from django.db import migrations
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('member', '0009_auto_20160728_1443'),
+        ("member", "0009_auto_20160728_1443"),
     ]
 
     operations = [
         migrations.RemoveField(
-            model_name='note',
-            name='author',
+            model_name="note",
+            name="author",
         ),
         migrations.RemoveField(
-            model_name='note',
-            name='member',
+            model_name="note",
+            name="member",
         ),
         migrations.DeleteModel(
-            name='Note',
+            name="Note",
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0013_auto_20160820_2322.py` & `souschef-1.3.7/souschef/member/migrations/0016_auto_20160912_1509.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,26 +1,26 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.10 on 2016-08-20 23:22
+# Generated by Django 1.10 on 2016-09-12 15:09
 from __future__ import unicode_literals
 
 from django.db import migrations, models
-import django.utils.timezone
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('member', '0012_clientscheduledstatus'),
+        ("member", "0015_route_client_id_sequence"),
     ]
 
     operations = [
         migrations.AlterField(
-            model_name='clientscheduledstatus',
-            name='change_date',
-            field=models.DateField(default=django.utils.timezone.now),
-        ),
-        migrations.AlterField(
-            model_name='clientscheduledstatus',
-            name='change_state',
-            field=models.CharField(choices=[('START', 'Start'), ('END', 'End')], default='START', max_length=5),
+            model_name="client",
+            name="gender",
+            field=models.CharField(
+                blank=True,
+                choices=[("F", "Female"), ("M", "Male")],
+                default="U",
+                max_length=1,
+                null="True",
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0014_auto_20160826_0007.py` & `souschef-1.3.7/souschef/member/migrations/0036_member_addresses.py`

 * *Files 27% similar despite different names*

```diff
@@ -1,46 +1,52 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.10 on 2016-08-26 00:07
+# Generated by Django 1.11.29 on 2021-02-19 16:18
 from __future__ import unicode_literals
 
 from django.db import migrations, models
 import django.db.models.deletion
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('meal', '0006_auto_20160826_0007'),
-        ('member', '0013_auto_20160820_2322'),
+        ("member", "0035_auto_20210115_1155"),
     ]
 
     operations = [
         migrations.AlterModelOptions(
-            name='clientscheduledstatus',
-            options={'ordering': ['change_date']},
+            name="address",
+            options={
+                "ordering": ["number", "street", "apartment"],
+                "verbose_name_plural": "addresses",
+            },
         ),
-        migrations.AddField(
-            model_name='client',
-            name='components_to_avoid',
-            field=models.ManyToManyField(through='member.Client_avoid_component', to='meal.Component'),
-        ),
-        migrations.AddField(
-            model_name='client',
-            name='ingredients_to_avoid',
-            field=models.ManyToManyField(through='member.Client_avoid_ingredient', to='meal.Ingredient'),
-        ),
-        migrations.AddField(
-            model_name='client',
-            name='options',
-            field=models.ManyToManyField(through='member.Client_option', to='member.Option'),
-        ),
-        migrations.AddField(
-            model_name='client',
-            name='restrictions',
-            field=models.ManyToManyField(through='member.Restriction', to='meal.Restricted_item'),
+        migrations.AlterField(
+            model_name="client",
+            name="billing_payment_type",
+            field=models.CharField(
+                blank=True,
+                choices=[
+                    (" ", "----"),
+                    ("3rd", "3rd Party"),
+                    ("cash", "Cash"),
+                    ("cheque", "Cheque"),
+                    ("credit", "Credit card"),
+                    ("eft", "EFT"),
+                    ("etransfert", "e-Transfer"),
+                ],
+                max_length=10,
+                null=True,
+                verbose_name="Payment Type",
+            ),
         ),
         migrations.AlterField(
-            model_name='clientscheduledstatus',
-            name='client',
-            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='scheduled_statuses', to='member.Client'),
+            model_name="member",
+            name="address",
+            field=models.ForeignKey(
+                null=True,
+                on_delete=django.db.models.deletion.SET_NULL,
+                to="member.Address",
+                verbose_name="address",
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0017_auto_20161020_2039.py` & `souschef-1.3.7/souschef/member/migrations/0025_route_vehicle.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,24 +1,29 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.10 on 2016-10-20 20:39
+# Generated by Django 1.10 on 2017-01-10 19:20
 from __future__ import unicode_literals
 
 from django.db import migrations, models
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('member', '0016_auto_20160912_1509'),
+        ("member", "0024_auto_20161227_1819"),
     ]
 
     operations = [
-        migrations.AlterModelOptions(
-            name='route',
-            options={'ordering': ['name'], 'verbose_name_plural': 'Routes'},
-        ),
-        migrations.AlterField(
-            model_name='client_option',
-            name='value',
-            field=models.CharField(max_length=255, null=True, verbose_name='value'),
+        migrations.AddField(
+            model_name="route",
+            name="vehicle",
+            field=models.CharField(
+                choices=[
+                    ("cycling", "Cycling"),
+                    ("walking", "Walking"),
+                    ("driving", "Driving"),
+                ],
+                default="cycling",
+                max_length=20,
+                verbose_name="default vehicle",
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0018_auto_20161110_2352.py` & `souschef-1.3.7/souschef/member/migrations/0018_auto_20161110_2352.py`

 * *Files 27% similar despite different names*

```diff
@@ -4,17 +4,23 @@
 
 from django.db import migrations, models
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('member', '0017_auto_20161020_2039'),
+        ("member", "0017_auto_20161020_2039"),
     ]
 
     operations = [
         migrations.AlterField(
-            model_name='client',
-            name='gender',
-            field=models.CharField(blank=True, choices=[('F', 'Female'), ('M', 'Male'), ('O', 'Other')], default='U', max_length=1, null='True'),
+            model_name="client",
+            name="gender",
+            field=models.CharField(
+                blank=True,
+                choices=[("F", "Female"), ("M", "Male"), ("O", "Other")],
+                default="U",
+                max_length=1,
+                null="True",
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0019_auto_20161111_1750.py` & `souschef-1.3.7/souschef/billing/migrations/0001_initial.py`

 * *Files 25% similar despite different names*

```diff
@@ -1,35 +1,43 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.10 on 2016-11-11 17:50
+# Generated by Django 1.10 on 2016-09-12 19:23
 from __future__ import unicode_literals
 
+import annoying.fields
 from django.db import migrations, models
 
 
 class Migration(migrations.Migration):
 
+    initial = True
+
     dependencies = [
-        ('member', '0018_auto_20161110_2352'),
+        ("order", "0008_auto_20160912_1509"),
     ]
 
     operations = [
-        migrations.AddField(
-            model_name='member',
-            name='mid',
-            field=models.IntegerField(null=True),
-        ),
-        migrations.AddField(
-            model_name='member',
-            name='rid',
-            field=models.IntegerField(null=True),
-        ),
-        migrations.AlterField(
-            model_name='client',
-            name='billing_payment_type',
-            field=models.CharField(choices=[('cheque', 'Cheque'), ('cash', 'Cash'), ('credit', 'Credit card'), ('eft', 'EFT')], max_length=10, null=True, verbose_name='Payment Type'),
-        ),
-        migrations.AlterField(
-            model_name='client',
-            name='language',
-            field=models.CharField(choices=[('en', 'English'), ('fr', 'French'), ('al', 'Allophone')], default='fr', max_length=2),
+        migrations.CreateModel(
+            name="Billing",
+            fields=[
+                (
+                    "id",
+                    models.AutoField(
+                        auto_created=True,
+                        primary_key=True,
+                        serialize=False,
+                        verbose_name="ID",
+                    ),
+                ),
+                (
+                    "total_amount",
+                    models.DecimalField(
+                        decimal_places=2, max_digits=6, verbose_name="total_amount"
+                    ),
+                ),
+                ("billing_month", models.IntegerField()),
+                ("billing_year", models.IntegerField()),
+                ("created", models.DateTimeField(auto_now=True)),
+                ("detail", annoying.fields.JSONField()),
+                ("orders", models.ManyToManyField(to="order.Order")),
+            ],
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0022_auto_20161215_1936.py` & `souschef-1.3.7/souschef/member/migrations/0008_auto_20160727_2251.py`

 * *Files 27% similar despite different names*

```diff
@@ -1,20 +1,25 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.10 on 2016-12-15 19:36
+# Generated by Django 1.9.7 on 2016-07-27 22:51
 from __future__ import unicode_literals
 
-from django.db import migrations, models
+from django.db import migrations
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('member', '0021_auto_20161125_2055'),
+        ("member", "0007_auto_20160726_1703"),
     ]
 
     operations = [
-        migrations.AlterField(
-            model_name='client',
-            name='billing_payment_type',
-            field=models.CharField(choices=[(' ', '----'), ('3rd', '3rd Party'), ('credit', 'Credit card'), ('eft', 'EFT')], max_length=10, null=True, verbose_name='Payment Type'),
+        migrations.RenameField(
+            model_name="address",
+            old_name="lat",
+            new_name="latitude",
+        ),
+        migrations.RenameField(
+            model_name="address",
+            old_name="lon",
+            new_name="longitude",
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0023_auto_20161220_1401.py` & `souschef-1.3.7/souschef/notification/migrations/0001_fix161f.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,26 +1,46 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.10 on 2016-12-20 14:01
+# Generated by Django 1.9.5 on 2016-06-05 19:25
 from __future__ import unicode_literals
 
 from django.db import migrations, models
 import django.db.models.deletion
+import django.utils.timezone
 
 
 class Migration(migrations.Migration):
 
+    initial = True
+
     dependencies = [
-        ('member', '0022_auto_20161215_1936'),
+        ("member", "0001_fix161f"),
     ]
 
     operations = [
-        migrations.AlterField(
-            model_name='client',
-            name='billing_payment_type',
-            field=models.CharField(blank=True, choices=[(' ', '----'), ('3rd', '3rd Party'), ('credit', 'Credit card'), ('eft', 'EFT')], max_length=10, null=True, verbose_name='Payment Type'),
-        ),
-        migrations.AlterField(
-            model_name='client',
-            name='route',
-            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='member.Route', verbose_name='route'),
+        migrations.CreateModel(
+            name="Notification",
+            fields=[
+                (
+                    "id",
+                    models.AutoField(
+                        auto_created=True,
+                        primary_key=True,
+                        serialize=False,
+                        verbose_name="ID",
+                    ),
+                ),
+                ("description", models.TextField(verbose_name="description")),
+                ("date", models.DateField(default=django.utils.timezone.now)),
+                (
+                    "member",
+                    models.ForeignKey(
+                        on_delete=django.db.models.deletion.CASCADE,
+                        to="member.Member",
+                        verbose_name="member",
+                    ),
+                ),
+            ],
+            options={
+                "verbose_name_plural": "notifications",
+            },
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0024_auto_20161227_1819.py` & `souschef-1.3.7/souschef/member/migrations/0024_auto_20161227_1819.py`

 * *Files 10% similar despite different names*

```diff
@@ -6,73 +6,81 @@
 
 from django.db import migrations, models
 
 work_information = collections.defaultdict(list)
 
 
 def copy_work_information(apps, schema_editor):
-    Referencing = apps.get_model('member', 'Referencing')
+    Referencing = apps.get_model("member", "Referencing")
     for ref in Referencing.objects.all():
         if ref.referent and ref.work_information:
             member_id = ref.referent_id
             work = ref.work_information
             work_information[member_id].append(work)
     # check the data
     for member_id, works in work_information.items():
         if len(works) > 1:
             # warning
-            print("Warning: Member #{0} has multiple work information registered"
-                  "in Referencing table. They are:".format(member_id))
+            print(
+                "Warning: Member #{0} has multiple work information registered"
+                "in Referencing table. They are:".format(member_id)
+            )
             for work in works:
                 print(" - {0}".format(work))
             print("")
             answer = input("Please enter the final work information: ")
             works[0] = answer
 
 
 def paste_work_information(apps, schema_editor):
-    Member = apps.get_model('member', 'Member')
+    Member = apps.get_model("member", "Member")
     for member_id, works in work_information.items():
         member = Member.objects.get(id=member_id)
         member.work_information = works[0]
-        member.save(update_fields=['work_information'])
+        member.save(update_fields=["work_information"])
 
 
 # Reverse codes for RunPython commands
 undo_work_information = {}
 
 
 def undo_paste_work_information(apps, schema_editor):
-    Member = apps.get_model('member', 'Member')
+    Member = apps.get_model("member", "Member")
     for member in Member.objects.all():
         if member.work_information:
             undo_work_information[member.id] = member.work_information
 
 
 def undo_copy_work_information(apps, schema_editor):
-    Referencing = apps.get_model('member', 'Referencing')
+    Referencing = apps.get_model("member", "Referencing")
     for member_id, work in undo_work_information.items():
         refs = Referencing.objects.filter(referent=member_id)
         for ref in refs:
             ref.work_information = work
-            ref.save(update_fields=['work_information'])
+            ref.save(update_fields=["work_information"])
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('member', '0023_auto_20161220_1401'),
+        ("member", "0023_auto_20161220_1401"),
     ]
 
     operations = [
-        migrations.RunPython(copy_work_information, reverse_code=undo_copy_work_information),
+        migrations.RunPython(
+            copy_work_information, reverse_code=undo_copy_work_information
+        ),
         migrations.RemoveField(
-            model_name='referencing',
-            name='work_information',
+            model_name="referencing",
+            name="work_information",
         ),
         migrations.AddField(
-            model_name='member',
-            name='work_information',
-            field=models.TextField(blank=True, null=True, verbose_name='Work information'),
+            model_name="member",
+            name="work_information",
+            field=models.TextField(
+                blank=True, null=True, verbose_name="Work information"
+            ),
+        ),
+        migrations.RunPython(
+            paste_work_information, reverse_code=undo_paste_work_information
         ),
-        migrations.RunPython(paste_work_information, reverse_code=undo_paste_work_information),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0025_route_vehicle.py` & `souschef-1.3.7/souschef/member/migrations/0013_auto_20160820_2322.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,20 +1,30 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.10 on 2017-01-10 19:20
+# Generated by Django 1.10 on 2016-08-20 23:22
 from __future__ import unicode_literals
 
 from django.db import migrations, models
+import django.utils.timezone
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('member', '0024_auto_20161227_1819'),
+        ("member", "0012_clientscheduledstatus"),
     ]
 
     operations = [
-        migrations.AddField(
-            model_name='route',
-            name='vehicle',
-            field=models.CharField(choices=[('cycling', 'Cycling'), ('walking', 'Walking'), ('driving', 'Driving')], default='cycling', max_length=20, verbose_name='default vehicle'),
+        migrations.AlterField(
+            model_name="clientscheduledstatus",
+            name="change_date",
+            field=models.DateField(default=django.utils.timezone.now),
+        ),
+        migrations.AlterField(
+            model_name="clientscheduledstatus",
+            name="change_state",
+            field=models.CharField(
+                choices=[("START", "Start"), ("END", "End")],
+                default="START",
+                max_length=5,
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0026_change_to_emergency_contacts.py` & `souschef-1.3.7/souschef/member/migrations/0026_change_to_emergency_contacts.py`

 * *Files 19% similar despite different names*

```diff
@@ -4,29 +4,29 @@
 
 from django.db import migrations, models
 import django.db.models.deletion
 
 
 def migrate_emergency_contacts(apps, schema_editor):
     # set NotePriority initial
-    Client = apps.get_model('member', 'Client')
-    EmergencyContact = apps.get_model('member', 'EmergencyContact')
+    Client = apps.get_model("member", "Client")
+    EmergencyContact = apps.get_model("member", "EmergencyContact")
     for client in Client.objects.all():
         if client.emergency_contact:
             EmergencyContact.objects.create(
                 client=client,
                 member=client.emergency_contact,
                 relationship=client.emergency_contact_relationship,
             )
 
 
 def reverse_emergency_contacts(apps, schema_editor):
     # set NotePriority initial
-    Client = apps.get_model('member', 'Client')
-    EmergencyContact = apps.get_model('member', 'EmergencyContact')
+    Client = apps.get_model("member", "Client")
+    EmergencyContact = apps.get_model("member", "EmergencyContact")
     for client in Client.objects.all():
         if client.emergencycontact_set.exists():
             # Use as client emergency contact the first item of
             # relationship
             emergency_contact = client.emergencycontact_set.first()
             # reversing info
             client.emergency_contact = emergency_contact.member
@@ -35,53 +35,79 @@
             # removing info
             EmergencyContact.objects.filter(client=client).delete()
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('member', '0025_route_vehicle'),
+        ("member", "0025_route_vehicle"),
     ]
 
     operations = [
         migrations.CreateModel(
-            name='EmergencyContact',
+            name="EmergencyContact",
             fields=[
-                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
-                ('relationship', models.CharField(blank=True, max_length=100, null=True, verbose_name='relationship')),
+                (
+                    "id",
+                    models.AutoField(
+                        auto_created=True,
+                        primary_key=True,
+                        serialize=False,
+                        verbose_name="ID",
+                    ),
+                ),
+                (
+                    "relationship",
+                    models.CharField(
+                        blank=True,
+                        max_length=100,
+                        null=True,
+                        verbose_name="relationship",
+                    ),
+                ),
             ],
             options={
-                'verbose_name_plural': 'emergency contacts',
+                "verbose_name_plural": "emergency contacts",
             },
         ),
         migrations.AddField(
-            model_name='emergencycontact',
-            name='client',
-            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='member.Client',
-                                    verbose_name='client'),
+            model_name="emergencycontact",
+            name="client",
+            field=models.ForeignKey(
+                on_delete=django.db.models.deletion.CASCADE,
+                to="member.Client",
+                verbose_name="client",
+            ),
         ),
         migrations.AddField(
-            model_name='emergencycontact',
-            name='member',
-            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='member.Member',
-                                    verbose_name='member'),
+            model_name="emergencycontact",
+            name="member",
+            field=models.ForeignKey(
+                on_delete=django.db.models.deletion.CASCADE,
+                to="member.Member",
+                verbose_name="member",
+            ),
         ),
         migrations.AlterUniqueTogether(
-            name='emergencycontact',
-            unique_together=set([('client', 'member')]),
+            name="emergencycontact",
+            unique_together=set([("client", "member")]),
         ),
         migrations.AddField(
-            model_name='client',
-            name='emergency_contacts',
-            field=models.ManyToManyField(related_name='emergency_contacts_of', through='member.EmergencyContact',
-                                         to='member.Member', verbose_name='emergency contacts'),
+            model_name="client",
+            name="emergency_contacts",
+            field=models.ManyToManyField(
+                related_name="emergency_contacts_of",
+                through="member.EmergencyContact",
+                to="member.Member",
+                verbose_name="emergency contacts",
+            ),
         ),
         migrations.RunPython(migrate_emergency_contacts, reverse_emergency_contacts),
         migrations.RemoveField(
-            model_name='client',
-            name='emergency_contact',
+            model_name="client",
+            name="emergency_contact",
         ),
         migrations.RemoveField(
-            model_name='client',
-            name='emergency_contact_relationship',
+            model_name="client",
+            name="emergency_contact_relationship",
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0027_auto_20170313_1442.py` & `souschef-1.3.7/souschef/member/migrations/0027_auto_20170313_1442.py`

 * *Files 21% similar despite different names*

```diff
@@ -5,27 +5,46 @@
 from django.db import migrations, models
 import django.db.models.deletion
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('member', '0026_change_to_emergency_contacts'),
+        ("member", "0026_change_to_emergency_contacts"),
     ]
 
     operations = [
         migrations.AlterField(
-            model_name='client',
-            name='billing_member',
-            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='+', to='member.Member', verbose_name='billing member'),
+            model_name="client",
+            name="billing_member",
+            field=models.ForeignKey(
+                on_delete=django.db.models.deletion.PROTECT,
+                related_name="+",
+                to="member.Member",
+                verbose_name="billing member",
+            ),
         ),
         migrations.AlterField(
-            model_name='member',
-            name='address',
-            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='member.Address', verbose_name='address'),
+            model_name="member",
+            name="address",
+            field=models.ForeignKey(
+                null=True,
+                on_delete=django.db.models.deletion.SET_NULL,
+                to="member.Address",
+                verbose_name="address",
+            ),
         ),
         migrations.AlterField(
-            model_name='route',
-            name='vehicle',
-            field=models.CharField(choices=[('cycling', 'Cycling'), ('walking', 'Walking'), ('driving', 'Driving')], default='cycling', max_length=20, verbose_name='vehicle'),
+            model_name="route",
+            name="vehicle",
+            field=models.CharField(
+                choices=[
+                    ("cycling", "Cycling"),
+                    ("walking", "Walking"),
+                    ("driving", "Driving"),
+                ],
+                default="cycling",
+                max_length=20,
+                verbose_name="vehicle",
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0028_change_linked_scheduled_status_relationship.py` & `souschef-1.3.7/souschef/member/migrations/0028_change_linked_scheduled_status_relationship.py`

 * *Files 18% similar despite different names*

```diff
@@ -3,25 +3,27 @@
 from __future__ import unicode_literals
 
 from django.db import migrations, models
 import django.db.models.deletion
 
 
 def migrate_linked_scheduled_status(apps, schema_editor):
-    ClientScheduledStatus = apps.get_model('member', 'ClientScheduledStatus')
+    ClientScheduledStatus = apps.get_model("member", "ClientScheduledStatus")
 
-    for css in ClientScheduledStatus.objects.filter(linked_scheduled_status__isnull=False):
+    for css in ClientScheduledStatus.objects.filter(
+        linked_scheduled_status__isnull=False
+    ):
         css.pair = css.linked_scheduled_status
         # remove linked_scheduled_status relationship
         css.linked_scheduled_status = None
         css.save()
 
 
 def reverse_linked_scheduled_status(apps, schema_editor):
-    ClientScheduledStatus = apps.get_model('member', 'ClientScheduledStatus')
+    ClientScheduledStatus = apps.get_model("member", "ClientScheduledStatus")
 
     for css in ClientScheduledStatus.objects.filter(pair__isnull=False):
         # make exactly the opposite of 'migrate_linked_scheduled_status'
         css.linked_scheduled_status = css.pair
         # remove pair relationship
         css.pair = None
         css.save()
@@ -30,26 +32,31 @@
 class Migration(migrations.Migration):
     """
     Change linked_scheduled_status relationship to OneToOneField, because
     the relationship exactly as a 'pair'
     """
 
     dependencies = [
-        ('member', '0027_auto_20170313_1442'),
+        ("member", "0027_auto_20170313_1442"),
     ]
 
     operations = [
         migrations.AddField(
-            model_name='clientscheduledstatus',
-            name='pair',
+            model_name="clientscheduledstatus",
+            name="pair",
             field=models.OneToOneField(
-                blank=True, null=True, on_delete=django.db.models.deletion.CASCADE,
-                related_name='my_pair', to='member.ClientScheduledStatus',
-                verbose_name='Client Scheduled Status Pair'
+                blank=True,
+                null=True,
+                on_delete=django.db.models.deletion.CASCADE,
+                related_name="my_pair",
+                to="member.ClientScheduledStatus",
+                verbose_name="Client Scheduled Status Pair",
             ),
         ),
-        migrations.RunPython(migrate_linked_scheduled_status, reverse_linked_scheduled_status),
+        migrations.RunPython(
+            migrate_linked_scheduled_status, reverse_linked_scheduled_status
+        ),
         migrations.RemoveField(
-            model_name='clientscheduledstatus',
-            name='linked_scheduled_status',
+            model_name="clientscheduledstatus",
+            name="linked_scheduled_status",
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0029_member_address_fk_to_1to1.py` & `souschef-1.3.7/souschef/member/migrations/0029_member_address_fk_to_1to1.py`

 * *Files 13% similar despite different names*

```diff
@@ -4,19 +4,20 @@
 
 from django.db import migrations, models
 import django.db.models.deletion
 
 
 def separate_shared_address_instances(apps, schema_editor):
     """
-    Before changing ForeignKey to OneToOneField, make sure that members use different address instances.
+    Before changing ForeignKey to OneToOneField, make sure that members
+    use different address instances.
     """
-    Member = apps.get_model('member', 'Member')
+    Member = apps.get_model("member", "Member")
     address_ids = set()
-    for m in Member.objects.select_related('address').all():
+    for m in Member.objects.select_related("address").all():
         a = m.address
         if a is None:
             continue
         if a.pk not in address_ids:
             address_ids.add(a.pk)
             continue
         else:  # a.pk in address_ids
@@ -28,27 +29,31 @@
             )
             # Copy this object in DB
             a.pk = None
             a.save()
             assert a.pk not in address_ids
             address_ids.add(a.pk)
             m.address = a
-            m.save(update_fields=['address'])
+            m.save(update_fields=["address"])
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('member', '0028_change_linked_scheduled_status_relationship'),
+        ("member", "0028_change_linked_scheduled_status_relationship"),
     ]
 
     operations = [
         migrations.RunPython(
-            separate_shared_address_instances,
-            reverse_code=migrations.RunPython.noop
+            separate_shared_address_instances, reverse_code=migrations.RunPython.noop
         ),
         migrations.AlterField(
-            model_name='member',
-            name='address',
-            field=models.OneToOneField(null=True, on_delete=django.db.models.deletion.SET_NULL, to='member.Address', verbose_name='address'),
+            model_name="member",
+            name="address",
+            field=models.OneToOneField(
+                null=True,
+                on_delete=django.db.models.deletion.SET_NULL,
+                to="member.Address",
+                verbose_name="address",
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0030_route_deliveryhistory.py` & `souschef-1.3.7/souschef/member/migrations/0030_route_deliveryhistory.py`

 * *Files 14% similar despite different names*

```diff
@@ -6,41 +6,76 @@
 from django.db import migrations, models
 import django.db.models.deletion
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('member', '0029_member_address_fk_to_1to1'),
+        ("member", "0029_member_address_fk_to_1to1"),
     ]
 
     operations = [
         migrations.CreateModel(
-            name='DeliveryHistory',
+            name="DeliveryHistory",
             fields=[
-                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
-                ('date', models.DateField(verbose_name='date of the delivery')),
-                ('vehicle', models.CharField(choices=[('cycling', 'Cycling'), ('walking', 'Walking'), ('driving', 'Driving')], max_length=20, verbose_name='vehicle')),
-                ('client_id_sequence', annoying.fields.JSONField(default=[], verbose_name='IDs of clients on this route (as a JSON list)')),
-                ('comments', models.TextField(blank=True, null=True, verbose_name='comments')),
+                (
+                    "id",
+                    models.AutoField(
+                        auto_created=True,
+                        primary_key=True,
+                        serialize=False,
+                        verbose_name="ID",
+                    ),
+                ),
+                ("date", models.DateField(verbose_name="date of the delivery")),
+                (
+                    "vehicle",
+                    models.CharField(
+                        choices=[
+                            ("cycling", "Cycling"),
+                            ("walking", "Walking"),
+                            ("driving", "Driving"),
+                        ],
+                        max_length=20,
+                        verbose_name="vehicle",
+                    ),
+                ),
+                (
+                    "client_id_sequence",
+                    annoying.fields.JSONField(
+                        default=[],
+                        verbose_name="IDs of clients on this route (as a JSON list)",
+                    ),
+                ),
+                (
+                    "comments",
+                    models.TextField(blank=True, null=True, verbose_name="comments"),
+                ),
             ],
             options={
-                'verbose_name': 'Delivery History',
-                'ordering': ['route', '-date'],
-                'verbose_name_plural': 'Delivery Histories',
+                "verbose_name": "Delivery History",
+                "ordering": ["route", "-date"],
+                "verbose_name_plural": "Delivery Histories",
             },
         ),
         migrations.AlterField(
-            model_name='route',
-            name='client_id_sequence',
-            field=annoying.fields.JSONField(default=[], verbose_name='IDs of clients on this route (as a JSON list)'),
+            model_name="route",
+            name="client_id_sequence",
+            field=annoying.fields.JSONField(
+                default=[], verbose_name="IDs of clients on this route (as a JSON list)"
+            ),
         ),
         migrations.AddField(
-            model_name='deliveryhistory',
-            name='route',
-            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='delivery_histories', to='member.Route', verbose_name='route'),
+            model_name="deliveryhistory",
+            name="route",
+            field=models.ForeignKey(
+                on_delete=django.db.models.deletion.CASCADE,
+                related_name="delivery_histories",
+                to="member.Route",
+                verbose_name="route",
+            ),
         ),
         migrations.AlterUniqueTogether(
-            name='deliveryhistory',
-            unique_together=set([('route', 'date')]),
+            name="deliveryhistory",
+            unique_together=set([("route", "date")]),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0031_client_option_allow_reverse_relation.py` & `souschef-1.3.7/souschef/note/migrations/0002_auto_20160818_2104.py`

 * *Files 19% similar despite different names*

```diff
@@ -1,26 +1,27 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.10.6 on 2017-03-28 18:28
+# Generated by Django 1.10 on 2016-08-18 21:04
 from __future__ import unicode_literals
 
+from django.conf import settings
 from django.db import migrations, models
 import django.db.models.deletion
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('member', '0030_route_deliveryhistory'),
+        ("note", "0001_initial"),
     ]
 
     operations = [
         migrations.AlterField(
-            model_name='client_option',
-            name='client',
-            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='member.Client', verbose_name='client'),
-        ),
-        migrations.AlterField(
-            model_name='client_option',
-            name='option',
-            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='member.Option', verbose_name='option'),
+            model_name="note",
+            name="author",
+            field=models.ForeignKey(
+                null=True,
+                on_delete=django.db.models.deletion.CASCADE,
+                to=settings.AUTH_USER_MODEL,
+                verbose_name="Author",
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0032_relationship.py` & `souschef-1.3.7/souschef/member/migrations/0032_relationship.py`

 * *Files 26% similar despite different names*

```diff
@@ -11,144 +11,185 @@
 
 
 def migrate_relationships(apps, schema_editor):
     """
     Referencing --> Relationship
     EmergencyContact --> Relationship
     """
-    Relationship = apps.get_model('member', 'Relationship')
-    Referencing = apps.get_model('member', 'Referencing')
-    EmergencyContact = apps.get_model('member', 'EmergencyContact')
+    Relationship = apps.get_model("member", "Relationship")
+    Referencing = apps.get_model("member", "Referencing")
+    EmergencyContact = apps.get_model("member", "EmergencyContact")
 
     from souschef.member.models import Relationship as _ref_Relationship  # noqa
 
-    for ref in Referencing.objects.all().order_by('pk'):
-        print("Converting member.Referencing #{} to member.Relationship...".format(ref.pk))
+    for ref in Referencing.objects.all().order_by("pk"):
+        print(
+            "Converting member.Referencing #{} to member.Relationship...".format(ref.pk)
+        )
         # Attention: the Rel object may exist because a member can be both Ref and Emgc
         try:
             rel = Relationship.objects.get(member=ref.referent, client=ref.client)
         except ObjectDoesNotExist:
             rel = Relationship(member=ref.referent, client=ref.client, type=[])
 
         if _ref_Relationship.REFERENT not in rel.type:
             rel.type.append(_ref_Relationship.REFERENT)
         rel.nature = rel.nature or "??? (migration 0032)"
         rel.extra_fields = rel.extra_fields or {}
-        rel.extra_fields['referral_date'] = ref.date
-        rel.extra_fields['referral_reason'] = ref.referral_reason
+        rel.extra_fields["referral_date"] = ref.date
+        rel.extra_fields["referral_reason"] = ref.referral_reason
         rel.save()
 
-    for emgc in EmergencyContact.objects.all().order_by('pk'):
-        print("Converting member.EmergencyContact #{} to member.Relationship...".format(emgc.pk))
+    for emgc in EmergencyContact.objects.all().order_by("pk"):
+        print(
+            "Converting member.EmergencyContact #{} to member.Relationship...".format(
+                emgc.pk
+            )
+        )
         # Attention: the Rel object may exist because a member can be both Ref and Emgc
         try:
             rel = Relationship.objects.get(member=emgc.member, client=emgc.client)
         except ObjectDoesNotExist:
             rel = Relationship(member=emgc.member, client=emgc.client, type=[])
 
         if _ref_Relationship.EMERGENCY not in rel.type:
             rel.type.append(_ref_Relationship.EMERGENCY)
         rel.nature = emgc.relationship or rel.nature or "??? (migration 0032)"
         rel.save()
 
-    print("All converted. Deleting all member.Referencing and member.EmergencyContact objects...")
+    print(
+        "All converted. Deleting all member.Referencing and "
+        "member.EmergencyContact objects..."
+    )
     Referencing.objects.all().delete()
     EmergencyContact.objects.all().delete()
 
 
 def reverse_migrate_relationships(apps, schema_editor):
     """
     Relationship --> Referencing / Emergency Contact
     """
-    Relationship = apps.get_model('member', 'Relationship')
-    Referencing = apps.get_model('member', 'Referencing')
-    EmergencyContact = apps.get_model('member', 'EmergencyContact')
+    Relationship = apps.get_model("member", "Relationship")
+    Referencing = apps.get_model("member", "Referencing")
+    EmergencyContact = apps.get_model("member", "EmergencyContact")
 
     from souschef.member.models import Relationship as _ref_Relationship  # noqa
-    for rel in Relationship.objects.all().order_by('pk'):
+
+    for rel in Relationship.objects.all().order_by("pk"):
         if _ref_Relationship.REFERENT in rel.type:
-            print("Reversing member.Relationship #{} to member.Referencing...".format(rel.pk))
+            print(
+                "Reversing member.Relationship #{} to member.Referencing...".format(
+                    rel.pk
+                )
+            )
             try:
                 ref = Referencing.objects.get(referent=rel.member, client=rel.client)
             except Referencing.DoesNotExist:
-                ref = Referencing(referent=rel.member, client=rel.client,
-                                  referral_reason='??? (reverse migration 0032)',
-                                  date=date(1970, 1, 1))
+                ref = Referencing(
+                    referent=rel.member,
+                    client=rel.client,
+                    referral_reason="??? (reverse migration 0032)",
+                    date=date(1970, 1, 1),
+                )
 
             if isinstance(rel.extra_fields, dict):
                 ref.referral_reason = rel.extra_fields.get(
-                    'referral_reason', ref.referral_reason)
-                ref.date = rel.extra_fields.get('referral_date', ref.date)
+                    "referral_reason", ref.referral_reason
+                )
+                ref.date = rel.extra_fields.get("referral_date", ref.date)
             ref.save()
 
         if _ref_Relationship.EMERGENCY in rel.type:
-            print("Reversing member.Relationship #{} to member.EmergencyContact...".format(rel.pk))
+            print(
+                "Reversing member.Relationship #{} to "
+                "member.EmergencyContact...".format(rel.pk)
+            )
             try:
-                emgc = EmergencyContact.objects.get(member=rel.member, client=rel.client)
+                emgc = EmergencyContact.objects.get(
+                    member=rel.member, client=rel.client
+                )
             except EmergencyContact.DoesNotExist:
                 emgc = EmergencyContact(member=rel.member, client=rel.client)
             emgc.relationship = rel.nature
             emgc.save()
 
     print("All reversed. Deleting all member.Relationship objects...")
     Relationship.objects.all().delete()
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('member', '0031_client_option_allow_reverse_relation'),
+        ("member", "0031_client_option_allow_reverse_relation"),
     ]
 
     operations = [
         # Add Relationship
         migrations.CreateModel(
-            name='Relationship',
-            options={'verbose_name_plural': 'relationships'},
+            name="Relationship",
+            options={"verbose_name_plural": "relationships"},
             fields=[
-                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
-                ('nature', models.CharField(max_length=100)),
-                ('type', annoying.fields.JSONField(default=[])),
-                ('extra_fields', annoying.fields.JSONField(default={})),
-                ('remark', models.TextField()),
-                ('client', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='member.Client')),
-                ('member', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='member.Member')),
+                (
+                    "id",
+                    models.AutoField(
+                        auto_created=True,
+                        primary_key=True,
+                        serialize=False,
+                        verbose_name="ID",
+                    ),
+                ),
+                ("nature", models.CharField(max_length=100)),
+                ("type", annoying.fields.JSONField(default=[])),
+                ("extra_fields", annoying.fields.JSONField(default={})),
+                ("remark", models.TextField()),
+                (
+                    "client",
+                    models.ForeignKey(
+                        on_delete=django.db.models.deletion.CASCADE, to="member.Client"
+                    ),
+                ),
+                (
+                    "member",
+                    models.ForeignKey(
+                        on_delete=django.db.models.deletion.CASCADE, to="member.Member"
+                    ),
+                ),
             ],
         ),
         migrations.AlterUniqueTogether(
-            name='relationship',
-            unique_together=set([('client', 'member')]),
+            name="relationship",
+            unique_together=set([("client", "member")]),
         ),
         # Migrate
         migrations.RunPython(migrate_relationships, reverse_migrate_relationships),
         # Delete Referencing and EmergencyContact
         migrations.AlterUniqueTogether(
-            name='emergencycontact',
+            name="emergencycontact",
             unique_together=set([]),
         ),
         migrations.RemoveField(
-            model_name='emergencycontact',
-            name='client',
+            model_name="emergencycontact",
+            name="client",
         ),
         migrations.RemoveField(
-            model_name='emergencycontact',
-            name='member',
+            model_name="emergencycontact",
+            name="member",
         ),
         migrations.RemoveField(
-            model_name='referencing',
-            name='client',
+            model_name="referencing",
+            name="client",
         ),
         migrations.RemoveField(
-            model_name='referencing',
-            name='referent',
+            model_name="referencing",
+            name="referent",
         ),
         migrations.RemoveField(
-            model_name='client',
-            name='emergency_contacts',
+            model_name="client",
+            name="emergency_contacts",
         ),
         migrations.DeleteModel(
-            name='EmergencyContact',
+            name="EmergencyContact",
         ),
         migrations.DeleteModel(
-            name='Referencing',
+            name="Referencing",
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0033_auto_20170801_1607.py` & `souschef-1.3.7/souschef/member/migrations/0038_member_verbose_names.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,31 +1,25 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.11.3 on 2017-08-01 20:07
+# Generated by Django 1.11.29 on 2021-03-05 16:05
 from __future__ import unicode_literals
 
-import annoying.fields
 from django.db import migrations, models
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('member', '0032_relationship'),
+        ("member", "0037_one_address_per_member"),
     ]
 
     operations = [
         migrations.AlterField(
-            model_name='relationship',
-            name='extra_fields',
-            field=annoying.fields.JSONField(blank=True, default={}),
+            model_name="member",
+            name="firstname",
+            field=models.CharField(max_length=50, verbose_name="First name"),
         ),
         migrations.AlterField(
-            model_name='relationship',
-            name='remark',
-            field=models.TextField(blank=True),
-        ),
-        migrations.AlterField(
-            model_name='relationship',
-            name='type',
-            field=annoying.fields.JSONField(blank=True, default=[]),
+            model_name="member",
+            name="lastname",
+            field=models.CharField(max_length=50, verbose_name="Last name"),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0035_auto_20210115_1155.py` & `souschef-1.3.7/souschef/member/migrations/0031_client_option_allow_reverse_relation.py`

 * *Files 27% similar despite different names*

```diff
@@ -1,20 +1,34 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.11.29 on 2021-01-15 16:55
+# Generated by Django 1.10.6 on 2017-03-28 18:28
 from __future__ import unicode_literals
 
 from django.db import migrations, models
+import django.db.models.deletion
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('member', '0034_auto_20170816_0850'),
+        ("member", "0030_route_deliveryhistory"),
     ]
 
     operations = [
         migrations.AlterField(
-            model_name='client',
-            name='billing_payment_type',
-            field=models.CharField(blank=True, choices=[(' ', '----'), ('3rd', '3rd Party'), ('credit', 'Credit card'), ('eft', 'EFT'), ('cash', 'Cash'), ('etransfert', 'e-Transfer'), ('cheque', 'Cheque')], max_length=10, null=True, verbose_name='Payment Type'),
+            model_name="client_option",
+            name="client",
+            field=models.ForeignKey(
+                on_delete=django.db.models.deletion.CASCADE,
+                to="member.Client",
+                verbose_name="client",
+            ),
+        ),
+        migrations.AlterField(
+            model_name="client_option",
+            name="option",
+            field=models.ForeignKey(
+                on_delete=django.db.models.deletion.CASCADE,
+                to="member.Option",
+                verbose_name="option",
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0037_one_address_per_member.py` & `souschef-1.3.7/souschef/member/migrations/0037_one_address_per_member.py`

 * *Files 20% similar despite different names*

```diff
@@ -5,17 +5,22 @@
 from django.db import migrations, models
 import django.db.models.deletion
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('member', '0036_member_addresses'),
+        ("member", "0036_member_addresses"),
     ]
 
     operations = [
         migrations.AlterField(
-            model_name='member',
-            name='address',
-            field=models.OneToOneField(null=True, on_delete=django.db.models.deletion.SET_NULL, to='member.Address', verbose_name='address'),
+            model_name="member",
+            name="address",
+            field=models.OneToOneField(
+                null=True,
+                on_delete=django.db.models.deletion.SET_NULL,
+                to="member.Address",
+                verbose_name="address",
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/migrations/0038_member_verbose_names.py` & `souschef-1.3.7/souschef/billing/migrations/0002_auto_20161122_0458.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,25 +1,22 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.11.29 on 2021-03-05 16:05
+# Generated by Django 1.10 on 2016-11-22 04:58
 from __future__ import unicode_literals
 
 from django.db import migrations, models
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('member', '0037_one_address_per_member'),
+        ("billing", "0001_initial"),
     ]
 
     operations = [
         migrations.AlterField(
-            model_name='member',
-            name='firstname',
-            field=models.CharField(max_length=50, verbose_name='First name'),
-        ),
-        migrations.AlterField(
-            model_name='member',
-            name='lastname',
-            field=models.CharField(max_length=50, verbose_name='Last name'),
+            model_name="billing",
+            name="total_amount",
+            field=models.DecimalField(
+                decimal_places=2, max_digits=8, verbose_name="total_amount"
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/member/models.py` & `souschef-1.3.7/souschef/member/models.py`

 * *Files 15% similar despite different names*

```diff
@@ -1,135 +1,125 @@
 import datetime
 import json
+
+from annoying.fields import JSONField
 from django.db import models
 from django.db.models import Q
 from django.db.models.functions import Extract
 from django.forms import ValidationError
+from django.utils import timezone
 from django.utils.encoding import force_text
 from django.utils.translation import ugettext_lazy as _
-from django.utils import timezone
 from django_filters import (
-    FilterSet, CharFilter, ChoiceFilter, MultipleChoiceFilter
+    CharFilter,
+    ChoiceFilter,
+    FilterSet,
+    MultipleChoiceFilter,
 )
-from annoying.fields import JSONField
 
-from souschef.member.formsfield import CAPhoneNumberExtField
 from souschef.meal.models import (
     COMPONENT_GROUP_CHOICES,
-    COMPONENT_GROUP_CHOICES_SIDES
+    COMPONENT_GROUP_CHOICES_SIDES,
 )
+from souschef.member.formsfield import CAPhoneNumberExtField
 from souschef.note.models import Note
 
-
-HOME = 'Home phone'
-CELL = 'Cell phone'
-WORK = 'Work phone'
-EMAIL = 'Email'
+HOME = "Home phone"
+CELL = "Cell phone"
+WORK = "Work phone"
+EMAIL = "Email"
 
 GENDER_CHOICES = (
-    ('F', _('Female')),
-    ('M', _('Male')),
-    ('O', _('Other')),
+    ("F", _("Female")),
+    ("M", _("Male")),
+    ("O", _("Other")),
 )
 
 CONTACT_TYPE_CHOICES = (
     (HOME, HOME),
     (CELL, CELL),
     (WORK, WORK),
     (EMAIL, EMAIL),
 )
 
 RATE_TYPE = (
-    ('default', _('Default')),
-    ('low income', _('Low income')),
-    ('solidary', _('Solidary')),
+    ("default", _("Default")),
+    ("low income", _("Low income")),
+    ("solidary", _("Solidary")),
 )
 
 RATE_TYPE_LOW_INCOME = RATE_TYPE[1][0]
 RATE_TYPE_SOLIDARY = RATE_TYPE[2][0]
 
 PAYMENT_TYPE = (
-    (' ', _('----')),
-    ('3rd', _('3rd Party')),
-    ('cash', _('Cash')),
-    ('cheque', _('Cheque')),
-    ('credit', _('Credit card')),
-    ('eft', _('EFT')),
-    ('etransfert', _('e-Transfer')),
+    (" ", _("----")),
+    ("3rd", _("3rd Party")),
+    ("cash", _("Cash")),
+    ("cheque", _("Cheque")),
+    ("credit", _("Credit card")),
+    ("eft", _("EFT")),
+    ("etransfert", _("e-Transfer")),
 )
 
 DELIVERY_TYPE = (
-    ('O', _('Ongoing')),
-    ('E', _('Episodic')),
+    ("O", _("Ongoing")),
+    ("E", _("Episodic")),
 )
 
 OPTION_GROUP_CHOICES = (
-    ('main dish size', _('Main dish size')),
-    ('dish', _('Dish')),
-    ('preparation', _('Preparation')),
-    ('other order item', _('Other order item')),
+    ("main dish size", _("Main dish size")),
+    ("dish", _("Dish")),
+    ("preparation", _("Preparation")),
+    ("other order item", _("Other order item")),
 )
 
 OPTION_GROUP_CHOICES_PREPARATION = OPTION_GROUP_CHOICES[2][0]
 
 DAYS_OF_WEEK = (
-    ('monday', _('Monday')),
-    ('tuesday', _('Tuesday')),
-    ('wednesday', _('Wednesday')),
-    ('thursday', _('Thursday')),
-    ('friday', _('Friday')),
-    ('saturday', _('Saturday')),
-    ('sunday', _('Sunday')),
+    ("monday", _("Monday")),
+    ("tuesday", _("Tuesday")),
+    ("wednesday", _("Wednesday")),
+    ("thursday", _("Thursday")),
+    ("friday", _("Friday")),
+    ("saturday", _("Saturday")),
+    ("sunday", _("Sunday")),
 )
 
 ROUTE_VEHICLES = (
     # Vehicles should be supported by mapbox.
-    ('cycling', _('Cycling')),
-    ('walking', _('Walking')),
-    ('driving', _('Driving')),
+    ("cycling", _("Cycling")),
+    ("walking", _("Walking")),
+    ("driving", _("Driving")),
 )
 
 DEFAULT_VEHICLE = ROUTE_VEHICLES[0][0]
 
 
 class Member(models.Model):
-
     class Meta:
-        verbose_name_plural = _('members')
+        verbose_name_plural = _("members")
 
-    mid = models.IntegerField(
-        blank=True,
-        null=True
-    )
+    mid = models.IntegerField(blank=True, null=True)
 
-    rid = models.IntegerField(
-        blank=True,
-        null=True
-    )
+    rid = models.IntegerField(blank=True, null=True)
 
     # Member information
-    firstname = models.CharField(
-        max_length=50,
-        verbose_name=_('First name')
-    )
+    firstname = models.CharField(max_length=50, verbose_name=_("First name"))
 
-    lastname = models.CharField(
-        max_length=50,
-        verbose_name=_('Last name')
-    )
+    lastname = models.CharField(max_length=50, verbose_name=_("Last name"))
 
     address = models.OneToOneField(
-        'member.Address',
-        verbose_name=_('address'),
+        "member.Address",
+        verbose_name=_("address"),
         null=True,
-        on_delete=models.SET_NULL
+        on_delete=models.SET_NULL,
     )
 
     work_information = models.TextField(
-        verbose_name=_('Work information'),
+        verbose_name=_("Work information"),
         blank=True,
         null=True,
     )
 
     created_at = models.DateTimeField(
         auto_now_add=True,
     )
@@ -195,83 +185,68 @@
         except Exception:
             return ""
 
     @property
     def email(self):
         try:
             return next(
-                mc.value for mc in self.member_contact.all()
-                if mc.type == EMAIL
+                mc.value for mc in self.member_contact.all() if mc.type == EMAIL
             )
         except Exception:
             return ""
 
     def add_contact_information(self, type, value, force_update=False):
         """
         Attach a new contact information to the member instance.
         If a contact information of the given type already exists, it should be
         updated. Otherwise, it should create a new one.
         """
         created = False
         if value is None:
-            value = ''
+            value = ""
 
-        if force_update or value != '':
+        if force_update or value != "":
             contact, created = Contact.objects.update_or_create(
-                member=self, type=type,
-                defaults={
-                    'value': value,
-                    'member': self
-                }
+                member=self, type=type, defaults={"value": value, "member": self}
             )
         return created
 
 
 class Address(models.Model):
-
     class Meta:
-        verbose_name_plural = _('addresses')
-        ordering = ['number', 'street', 'apartment']
+        verbose_name_plural = _("addresses")
+        ordering = ["number", "street", "apartment"]
 
     # Member address information
     number = models.PositiveIntegerField(
-        verbose_name=_('street number'),
+        verbose_name=_("street number"),
         blank=True,
         null=True,
     )
 
-    street = models.CharField(
-        max_length=100,
-        verbose_name=_('street')
-    )
+    street = models.CharField(max_length=100, verbose_name=_("street"))
 
     # Can look like B02 so can't be an IntegerField
     apartment = models.CharField(
         max_length=10,
-        verbose_name=_('apartment'),
+        verbose_name=_("apartment"),
         blank=True,
         null=True,
     )
 
     floor = models.IntegerField(
-        verbose_name=_('floor'),
+        verbose_name=_("floor"),
         blank=True,
         null=True,
     )
 
-    city = models.CharField(
-        max_length=50,
-        verbose_name=_('city')
-    )
+    city = models.CharField(max_length=50, verbose_name=_("city"))
 
     # Montreal postal code look like H3E 1C2
-    postal_code = models.CharField(
-        max_length=7,
-        verbose_name=_('postal code')
-    )
+    postal_code = models.CharField(max_length=7, verbose_name=_("postal code"))
 
     longitude = models.DecimalField(
         max_digits=9,
         decimal_places=6,
         blank=True,
         null=True,
     )
@@ -301,35 +276,29 @@
         first_line = " ".join(first_line)
         second_line = "{}, {}".format(self.city, self.postal_code)
 
         return "{}, {}".format(first_line, second_line)
 
 
 class Contact(models.Model):
-
     class Meta:
-        verbose_name_plural = _('contacts')
+        verbose_name_plural = _("contacts")
 
     # Member contact information
     type = models.CharField(
-        max_length=100,
-        choices=CONTACT_TYPE_CHOICES,
-        verbose_name=_('contact type')
+        max_length=100, choices=CONTACT_TYPE_CHOICES, verbose_name=_("contact type")
     )
 
-    value = models.CharField(
-        max_length=50,
-        verbose_name=_('value')
-    )
+    value = models.CharField(max_length=50, verbose_name=_("value"))
 
     member = models.ForeignKey(
-        'member.Member',
-        verbose_name=_('member'),
-        related_name='member_contact',
-        on_delete=models.CASCADE
+        "member.Member",
+        verbose_name=_("member"),
+        related_name="member_contact",
+        on_delete=models.CASCADE,
     )
 
     def display_value(self):
         if self.type in (HOME, WORK, CELL):
             try:
                 f = CAPhoneNumberExtField()
                 return f.clean(self.value)
@@ -340,288 +309,252 @@
         return self.value
 
     def __str__(self):
         return "{} {}".format(self.member.firstname, self.member.lastname)
 
 
 class Route(models.Model):
-
     class Meta:
-        verbose_name_plural = _('Routes')
-        ordering = ['name']
+        verbose_name_plural = _("Routes")
+        ordering = ["name"]
 
-    name = models.CharField(
-        max_length=50,
-        verbose_name=_('name')
-    )
+    name = models.CharField(max_length=50, verbose_name=_("name"))
 
     description = models.TextField(
-        verbose_name=_('description'),
+        verbose_name=_("description"),
         blank=True,
         null=True,
     )
 
     vehicle = models.CharField(
         max_length=20,
         choices=ROUTE_VEHICLES,
-        verbose_name=_('vehicle'),
-        default=DEFAULT_VEHICLE
+        verbose_name=_("vehicle"),
+        default=DEFAULT_VEHICLE,
     )
 
     client_id_sequence = JSONField(
-        verbose_name=_('IDs of clients on this route (as a JSON list)'),
-        default=[]
+        verbose_name=_("IDs of clients on this route (as a JSON list)"), default=[]
     )
 
     def __str__(self):
         return self.name
 
 
 class DeliveryHistory(models.Model):
-
     class Meta:
-        verbose_name = _('Delivery History')
-        verbose_name_plural = _('Delivery Histories')
-        ordering = ['route', '-date']
-        unique_together = ('route', 'date')
+        verbose_name = _("Delivery History")
+        verbose_name_plural = _("Delivery Histories")
+        ordering = ["route", "-date"]
+        unique_together = ("route", "date")
 
     route = models.ForeignKey(
-        'member.Route',
+        "member.Route",
         on_delete=models.CASCADE,
-        verbose_name=_('route'),
-        related_name='delivery_histories'
-    )
-    date = models.DateField(
-        verbose_name=_('date of the delivery')
+        verbose_name=_("route"),
+        related_name="delivery_histories",
     )
+    date = models.DateField(verbose_name=_("date of the delivery"))
     vehicle = models.CharField(
-        max_length=20,
-        choices=ROUTE_VEHICLES,
-        verbose_name=_('vehicle')
+        max_length=20, choices=ROUTE_VEHICLES, verbose_name=_("vehicle")
     )
     client_id_sequence = JSONField(
-        verbose_name=_('IDs of clients on this route (as a JSON list)'),
-        default=[]
+        verbose_name=_("IDs of clients on this route (as a JSON list)"), default=[]
     )
     comments = models.TextField(
-        verbose_name=_('comments'),
+        verbose_name=_("comments"),
         blank=True,
         null=True,
     )
 
     def __str__(self):
         return "DeliveryHistory: Route {} delivered on {}".format(
             self.route.name, self.date
         )
 
 
 class ClientManager(models.Manager):
-
     def get_birthday_boys_and_girls(self):
 
         today = datetime.datetime.now()
 
         clients = self.filter(
             birthdate__year__lte=today.year,
             birthdate__month=today.month,
             birthdate__day__gte=today.day,
             birthdate__day__lte=today.day + 7,
-        ).order_by(Extract('birthdate', 'day'))
+        ).order_by(Extract("birthdate", "day"))
 
         today = datetime.date.today()
         for client in clients:
             client.age_to_celebrate = today.year - client.birthdate.year
 
         return clients
 
 
 class ActiveClientManager(ClientManager):
-
     def get_queryset(self):
 
-        return super(ActiveClientManager, self).get_queryset().filter(
-            status=Client.ACTIVE
+        return (
+            super(ActiveClientManager, self).get_queryset().filter(status=Client.ACTIVE)
         )
 
 
 class OngoingClientManager(ClientManager):
-
     def get_queryset(self):
 
-        return super(OngoingClientManager, self).get_queryset().filter(
-            status=Client.ACTIVE, delivery_type='O'
+        return (
+            super(OngoingClientManager, self)
+            .get_queryset()
+            .filter(status=Client.ACTIVE, delivery_type="O")
         )
 
 
 class PendingClientManager(ClientManager):
-
     def get_queryset(self):
 
-        return super(PendingClientManager, self).get_queryset().filter(
-            status=Client.PENDING
+        return (
+            super(PendingClientManager, self)
+            .get_queryset()
+            .filter(status=Client.PENDING)
         )
 
 
 class ContactClientManager(ClientManager):
-
     def get_queryset(self):
 
-        return super(ContactClientManager, self).get_queryset().filter(
-            Q(status=Client.ACTIVE) |
-            Q(status=Client.STOPCONTACT) |
-            Q(status=Client.PAUSED) |
-            Q(status=Client.PENDING)
+        return (
+            super(ContactClientManager, self)
+            .get_queryset()
+            .filter(
+                Q(status=Client.ACTIVE)
+                | Q(status=Client.STOPCONTACT)
+                | Q(status=Client.PAUSED)
+                | Q(status=Client.PENDING)
+            )
         )
 
-class BirthdayContactClientManager(ClientManager):
 
+class BirthdayContactClientManager(ClientManager):
     def get_queryset(self):
 
-        return super(BirthdayContactClientManager, self).get_queryset().filter(
-            Q(status=Client.ACTIVE) |
-            Q(status=Client.PAUSED) |
-            Q(status=Client.PENDING)
+        return (
+            super(BirthdayContactClientManager, self)
+            .get_queryset()
+            .filter(
+                Q(status=Client.ACTIVE)
+                | Q(status=Client.PAUSED)
+                | Q(status=Client.PENDING)
+            )
         )
 
+
 class Client(models.Model):
 
     # Characters are used to keep a backward-compatibility
     # with the previous system.
-    PENDING = 'D'
-    ACTIVE = 'A'
-    PAUSED = 'S'
-    STOPNOCONTACT = 'N'
-    STOPCONTACT = 'C'
-    DECEASED = 'I'
+    PENDING = "D"
+    ACTIVE = "A"
+    PAUSED = "S"
+    STOPNOCONTACT = "N"
+    STOPCONTACT = "C"
+    DECEASED = "I"
 
     CLIENT_STATUS = (
-        (PENDING, _('Pending')),
-        (ACTIVE, _('Active')),
-        (PAUSED, _('Paused')),
-        (STOPNOCONTACT, _('Stop: no contact')),
-        (STOPCONTACT, _('Stop: contact')),
-        (DECEASED, _('Deceased')),
+        (PENDING, _("Pending")),
+        (ACTIVE, _("Active")),
+        (PAUSED, _("Paused")),
+        (STOPNOCONTACT, _("Stop: no contact")),
+        (STOPCONTACT, _("Stop: contact")),
+        (DECEASED, _("Deceased")),
     )
 
     LANGUAGES = (
-        ('en', _('English')),
-        ('fr', _('French')),
-        ('al', _('Allophone')),
+        ("en", _("English")),
+        ("fr", _("French")),
+        ("al", _("Allophone")),
     )
 
     class Meta:
-        verbose_name_plural = _('clients')
+        verbose_name_plural = _("clients")
         ordering = ["-member__created_at"]
 
     billing_member = models.ForeignKey(
-        'member.Member',
-        related_name='+',
-        verbose_name=_('billing member'),
+        "member.Member",
+        related_name="+",
+        verbose_name=_("billing member"),
         # A client must have a billing member
-        on_delete=models.PROTECT
+        on_delete=models.PROTECT,
     )
 
     billing_payment_type = models.CharField(
-        verbose_name=_('Payment Type'),
+        verbose_name=_("Payment Type"),
         max_length=10,
         null=True,
         blank=True,
         choices=PAYMENT_TYPE,
     )
 
     rate_type = models.CharField(
-        verbose_name=_('rate type'),
-        max_length=10,
-        choices=RATE_TYPE,
-        default='default'
+        verbose_name=_("rate type"), max_length=10, choices=RATE_TYPE, default="default"
     )
 
     member = models.ForeignKey(
-        'member.Member',
-        verbose_name=_('member'),
-        on_delete=models.CASCADE
+        "member.Member", verbose_name=_("member"), on_delete=models.CASCADE
     )
 
-    status = models.CharField(
-        max_length=1,
-        choices=CLIENT_STATUS,
-        default=PENDING
-    )
+    status = models.CharField(max_length=1, choices=CLIENT_STATUS, default=PENDING)
 
-    language = models.CharField(
-        max_length=2,
-        choices=LANGUAGES,
-        default='fr'
-    )
+    language = models.CharField(max_length=2, choices=LANGUAGES, default="fr")
 
     alert = models.TextField(
-        verbose_name=_('alert client'),
+        verbose_name=_("alert client"),
         blank=True,
         null=True,
     )
 
-    delivery_type = models.CharField(
-        max_length=1,
-        choices=DELIVERY_TYPE,
-        default='O'
-    )
+    delivery_type = models.CharField(max_length=1, choices=DELIVERY_TYPE, default="O")
 
     gender = models.CharField(
         max_length=1,
-        default='U',
+        default="U",
         blank=True,
         null="True",
         choices=GENDER_CHOICES,
     )
 
     birthdate = models.DateField(
-        auto_now=False,
-        auto_now_add=False,
-        default=timezone.now,
-        blank=True,
-        null=True
+        auto_now=False, auto_now_add=False, default=timezone.now, blank=True, null=True
     )
 
     route = models.ForeignKey(
-        'member.Route',
+        "member.Route",
         on_delete=models.SET_NULL,
-        verbose_name=_('route'),
+        verbose_name=_("route"),
         blank=True,
-        null=True
+        null=True,
     )
 
-    meal_default_week = JSONField(
-        blank=True, null=True
-    )
+    meal_default_week = JSONField(blank=True, null=True)
 
     delivery_note = models.TextField(
-        verbose_name=_('Delivery Note'),
-        blank=True,
-        null=True
+        verbose_name=_("Delivery Note"), blank=True, null=True
     )
 
     ingredients_to_avoid = models.ManyToManyField(
-        'meal.Ingredient',
-        through='Client_avoid_ingredient'
+        "meal.Ingredient", through="Client_avoid_ingredient"
     )
 
     components_to_avoid = models.ManyToManyField(
-        'meal.Component',
-        through='Client_avoid_component'
+        "meal.Component", through="Client_avoid_component"
     )
 
-    options = models.ManyToManyField(
-        'member.option',
-        through='Client_option'
-    )
+    options = models.ManyToManyField("member.option", through="Client_option")
 
-    restrictions = models.ManyToManyField(
-        'meal.Restricted_item',
-        through='Restriction'
-    )
+    restrictions = models.ManyToManyField("meal.Restricted_item", through="Restriction")
 
     def __str__(self):
         return "{} {}".format(self.member.firstname, self.member.lastname)
 
     objects = ClientManager()
 
     active = ActiveClientManager()
@@ -631,16 +564,18 @@
     birthday_contact = BirthdayContactClientManager()
 
     @property
     def is_geolocalized(self):
         """
         Returns if the client's address is properly geolocalized.
         """
-        if self.member.address.latitude is None or \
-                self.member.address.longitude is None:
+        if (
+            self.member.address.latitude is None
+            or self.member.address.longitude is None
+        ):
             return False
         return True
 
     @property
     def age(self):
         """
         Returns integer specifying person's age in years on the current date.
@@ -654,54 +589,59 @@
         >>> p = Client(birthdate=date(1950, 4, 19)
         >>> p.age()
         66
         """
         today = datetime.date.today()
         if today < self.birthdate:
             age = 0
-        elif datetime.date(2000, self.birthdate.month, self.birthdate.day) <= \
-                datetime.date(2000, today.month, today.day):
+        elif datetime.date(
+            2000, self.birthdate.month, self.birthdate.day
+        ) <= datetime.date(2000, today.month, today.day):
             age = today.year - self.birthdate.year
         else:
             age = today.year - self.birthdate.year - 1
         return age
 
     @property
     def status_verbose(self):
-        return dict(self.CLIENT_STATUS).get(self.status, _('Unknown'))
+        return dict(self.CLIENT_STATUS).get(self.status, _("Unknown"))
 
     @property
     def delivery_type_verbose(self):
-        return dict(DELIVERY_TYPE).get(self.delivery_type, _('Unknown'))
+        return dict(DELIVERY_TYPE).get(self.delivery_type, _("Unknown"))
 
     @property
     def orders(self):
         """
         Returns orders associated to this client
         """
         return self.client_order.all()
 
     def number_of_deliveries_in_month(self, year, month):
         orders = self.client_order.filter(
-            status='D', delivery_date__year=year, delivery_date__month=month)
+            status="D", delivery_date__year=year, delivery_date__month=month
+        )
         return len(orders)
 
     @property
     def upcoming_orders(self):
         """
-        Returns upcoming orders associated to this client, regardless of order status.
+        Returns upcoming orders associated to this client, regardless
+        of order status.
         """
-        return self.client_order.filter(delivery_date__gte=datetime.date.today()).all()
+        return self.client_order.filter(
+            delivery_date__gte=datetime.date.today(),
+        ).all()
 
     @property
     def food_preparation(self):
         """
         Returns specific food preparation associated to this client
         """
-        return self.options.filter(option_group='preparation')
+        return self.options.filter(option_group="preparation")
 
     @property
     def notes(self):
         """
         Returns notes associated to this client
         """
         return self.client_notes.all()
@@ -709,15 +649,15 @@
     @property
     def simple_meals_schedule(self):
         """
         Returns a list of days, corresponding to the client's delivery
         days.
         """
         for co in self.client_option_set.all():
-            if co.option.name == 'meals_schedule':
+            if co.option.name == "meals_schedule":
                 try:
                     return json.loads(co.value)
                 except (ValueError, TypeError):  # JSON error
                     continue
         return None
 
     @property
@@ -735,24 +675,20 @@
         defaults = []
         for day, str in DAYS_OF_WEEK:
             current = {}
             numeric_fields = []
             for component, label in COMPONENT_GROUP_CHOICES:
                 if component is COMPONENT_GROUP_CHOICES_SIDES:
                     continue  # skip "Sides"
-                item = self.meal_default_week.get(
-                    component + '_' + day + '_quantity'
-                )
+                item = self.meal_default_week.get(component + "_" + day + "_quantity")
                 current[component] = item
                 numeric_fields.append(item)
 
-            size = self.meal_default_week.get(
-                'size_' + day
-            )
-            current['size'] = size
+            size = self.meal_default_week.get("size_" + day)
+            current["size"] = size
 
             defaults.append((day, current))
 
         return defaults
 
     @property
     def meals_schedule(self):
@@ -763,128 +699,108 @@
         Intended to be called only for Ongoing clients. For episodic clients
         or if `simple_meals_schedule` is not set, it returns empty tuple.
         """
         defaults = self.meals_default
         prefs = []
         simple_meals_schedule = self.simple_meals_schedule
 
-        if self.delivery_type == 'E' or simple_meals_schedule is None:
+        if self.delivery_type == "E" or simple_meals_schedule is None:
             return ()
         else:
             for day, meal_schedule in defaults:
                 if day in simple_meals_schedule:
                     prefs.append((day, meal_schedule))
             return prefs
 
     @property
     def is_in_error_for_the_kitchen_count(self):
-        """ Return True if the client is in error for the Kitchen Count orders list page.
+        """Return True if the client is in error for the Kitchen Count
+        orders list page.
 
         The client is in error if either:
         - is not not geolocalized;
         - it has no route;
         - it is not active.
         """
-        return (
-            not self.is_geolocalized or
-            not self.route or
-            self.status != 'A'
-        )
+        return not self.is_geolocalized or not self.route or self.status != "A"
 
     def set_simple_meals_schedule(self, schedule):
         """
         Set the delivery days for the client.
         @param schedule
             A python list of days.
         """
-        meal_schedule_option, _ = Option.objects.get_or_create(
-            name='meals_schedule')
+        meal_schedule_option, _ = Option.objects.get_or_create(name="meals_schedule")
         client_option, _ = Client_option.objects.update_or_create(
-            client=self, option=meal_schedule_option,
-            defaults={'value': json.dumps(schedule)})
+            client=self,
+            option=meal_schedule_option,
+            defaults={"value": json.dumps(schedule)},
+        )
 
 
 class ClientScheduledStatus(models.Model):
 
-    START = 'START'
-    END = 'END'
+    START = "START"
+    END = "END"
 
     CHANGE_STATUS = (
-        (START, _('Start')),
-        (END, _('End')),
+        (START, _("Start")),
+        (END, _("End")),
     )
 
-    TOBEPROCESSED = 'NEW'
-    PROCESSED = 'PRO'
-    ERROR = 'ERR'
+    TOBEPROCESSED = "NEW"
+    PROCESSED = "PRO"
+    ERROR = "ERR"
 
     OPERATION_STATUS = (
-        (TOBEPROCESSED, _('To be processed')),
-        (PROCESSED, _('Processed')),
-        (ERROR, _('Error')),
+        (TOBEPROCESSED, _("To be processed")),
+        (PROCESSED, _("Processed")),
+        (ERROR, _("Error")),
     )
 
     client = models.ForeignKey(
-        Client,
-        on_delete=models.CASCADE,
-        related_name='scheduled_statuses'
+        Client, on_delete=models.CASCADE, related_name="scheduled_statuses"
     )
 
     pair = models.OneToOneField(
-        'self',
+        "self",
         verbose_name=_("Client Scheduled Status Pair"),
         related_name="my_pair",
         on_delete=models.CASCADE,
         blank=True,
-        null=True
+        null=True,
     )
 
-    status_from = models.CharField(
-        max_length=1,
-        choices=Client.CLIENT_STATUS
-    )
+    status_from = models.CharField(max_length=1, choices=Client.CLIENT_STATUS)
 
-    status_to = models.CharField(
-        max_length=1,
-        choices=Client.CLIENT_STATUS
-    )
+    status_to = models.CharField(max_length=1, choices=Client.CLIENT_STATUS)
 
-    reason = models.CharField(
-        max_length=200,
-        blank=True,
-        default=''
-    )
+    reason = models.CharField(max_length=200, blank=True, default="")
 
     change_date = models.DateField(
         auto_now=False,
         auto_now_add=False,
         default=timezone.now,
     )
 
-    change_state = models.CharField(
-        max_length=5,
-        choices=CHANGE_STATUS,
-        default=START
-    )
+    change_state = models.CharField(max_length=5, choices=CHANGE_STATUS, default=START)
 
     operation_status = models.CharField(
-        max_length=3,
-        choices=OPERATION_STATUS,
-        default=TOBEPROCESSED
+        max_length=3, choices=OPERATION_STATUS, default=TOBEPROCESSED
     )
 
     class Meta:
-        ordering = ['change_date']
+        ordering = ["change_date"]
 
     def __str__(self):
         return "Update {} status: from {} to {}, on {}".format(
             self.client.member,
             self.get_status_from_display(),
             self.get_status_to_display(),
-            self.change_date
+            self.change_date,
         )
 
     @property
     def get_pair(self):
         """
         Returns the pair relationship. If the pair relationship does
         not exists, None value will be returned.
@@ -892,15 +808,15 @@
         """
         try:
             return self.pair or self.my_pair
         except ClientScheduledStatus.DoesNotExist:
             return None
 
     def process(self):
-        """ Process a scheduled change if valid."""
+        """Process a scheduled change if valid."""
         if self.is_valid():
             # Update the client status
             self.client.status = self.status_to
             self.client.save()
             # Update the instance status
             self.operation_status = self.PROCESSED
             self.save()
@@ -909,17 +825,19 @@
             return True
         else:
             self.operation_status = self.ERROR
             self.save()
             return False
 
     def is_valid(self):
-        """ Returns True if a scheduled change must be applied."""
-        return self.client.status == self.status_from \
+        """Returns True if a scheduled change must be applied."""
+        return (
+            self.client.status == self.status_from
             and self.operation_status == self.TOBEPROCESSED
+        )
 
     def add_note_to_client(self, author=None):
         note = Note(
             note=self,
             author=author,
             client=self.client,
         )
@@ -927,217 +845,203 @@
 
     @property
     def needs_attention(self):
         """
         Return True if the status is ERROR or the scheduled date has passed.
         """
         return (self.operation_status == self.ERROR) or (
-            self.change_date <= timezone.datetime.date(
-                timezone.datetime.today()))
+            self.change_date <= timezone.datetime.date(timezone.datetime.today())
+        )
 
 
 class ClientScheduledStatusFilter(FilterSet):
-
     class Meta:
         model = ClientScheduledStatus
-        fields = ['operation_status']
+        fields = ["operation_status"]
 
 
 class ClientFilter(FilterSet):
 
-    name = CharFilter(
-        method='filter_search',
-        label=_('Search by name')
-    )
+    name = CharFilter(method="filter_search", label=_("Search by name"))
 
-    status = MultipleChoiceFilter(
-        choices=Client.CLIENT_STATUS
-    )
+    status = MultipleChoiceFilter(choices=Client.CLIENT_STATUS)
 
-    delivery_type = ChoiceFilter(
-        choices=(('', ''),) + DELIVERY_TYPE
-    )
+    delivery_type = ChoiceFilter(choices=(("", ""),) + DELIVERY_TYPE)
 
     class Meta:
         model = Client
-        fields = ['route', 'status', 'delivery_type']
+        fields = ["route", "status", "delivery_type"]
 
     def filter_search(self, queryset, field_name, value):
         if not value:
             return queryset
 
         name_contains = Q()
-        names = value.split(' ')
+        names = value.split(" ")
 
         for name in names:
 
-            firstname_contains = Q(
-                member__firstname__icontains=name
-            )
+            firstname_contains = Q(member__firstname__icontains=name)
 
-            lastname_contains = Q(
-                member__lastname__icontains=name
-            )
+            lastname_contains = Q(member__lastname__icontains=name)
 
             name_contains |= firstname_contains | lastname_contains
 
         return queryset.filter(name_contains)
 
 
 class Relationship(models.Model):
-    REFERENT = 'referent'
-    EMERGENCY = 'emergency'
+    REFERENT = "referent"
+    EMERGENCY = "emergency"
     TYPE_CHOICES = (
-        (REFERENT, _('Referent')),
-        (EMERGENCY, _('Emergency')),
+        (REFERENT, _("Referent")),
+        (EMERGENCY, _("Emergency")),
     )
     TYPE_CHOICES_DICT = dict(TYPE_CHOICES)
 
-    member = models.ForeignKey('member.Member', on_delete=models.CASCADE)
-    client = models.ForeignKey('member.Client', on_delete=models.CASCADE)
+    member = models.ForeignKey("member.Member", on_delete=models.CASCADE)
+    client = models.ForeignKey("member.Client", on_delete=models.CASCADE)
     nature = models.CharField(max_length=100)
     # Relationship.type is linked with a forms.MultipleChoiceField
     type = JSONField(default=[], blank=True)
     extra_fields = JSONField(default={}, blank=True)
     remark = models.TextField(blank=True)
 
     def __str__(self):
         return "{} {} is {} member of {} {}".format(
-            self.member.firstname, self.member.lastname,
+            self.member.firstname,
+            self.member.lastname,
             self.get_type_display(),
-            self.client.member.firstname, self.client.member.lastname)
+            self.client.member.firstname,
+            self.client.member.lastname,
+        )
 
     def get_type_display(self):
-        return '+'.join(map(
-            force_text,
-            list(map(lambda t: self.TYPE_CHOICES_DICT[t], self.type)) or (
-                [_('Unknown type')])))
+        return "+".join(
+            map(
+                force_text,
+                list(map(lambda t: self.TYPE_CHOICES_DICT[t], self.type))
+                or ([_("Unknown type")]),
+            )
+        )
 
     class Meta:
-        verbose_name_plural = _('relationships')
-        unique_together = ('client', 'member')
+        verbose_name_plural = _("relationships")
+        unique_together = ("client", "member")
 
     def is_referent(self):
         return self.REFERENT in self.type
 
     def is_emergency(self):
         return self.EMERGENCY in self.type
 
 
 class Option(models.Model):
-
     class Meta:
-        verbose_name_plural = _('options')
+        verbose_name_plural = _("options")
 
     # Information about options added to the meal
-    name = models.CharField(
-        max_length=50,
-        verbose_name=_('name')
-    )
+    name = models.CharField(max_length=50, verbose_name=_("name"))
 
     description = models.TextField(
-        verbose_name=_('description'),
+        verbose_name=_("description"),
         blank=True,
         null=True,
     )
 
     option_group = models.CharField(
-        max_length=100,
-        choices=OPTION_GROUP_CHOICES,
-        verbose_name=_('option group')
+        max_length=100, choices=OPTION_GROUP_CHOICES, verbose_name=_("option group")
     )
 
     def __str__(self):
         return self.name
 
 
 class Client_option(models.Model):
     client = models.ForeignKey(
-        'member.Client',
-        verbose_name=_('client'),
-        on_delete=models.CASCADE
+        "member.Client", verbose_name=_("client"), on_delete=models.CASCADE
     )
 
     option = models.ForeignKey(
-        'member.option',
-        verbose_name=_('option'),
-        on_delete=models.CASCADE
+        "member.option", verbose_name=_("option"), on_delete=models.CASCADE
     )
 
-    value = models.CharField(
-        max_length=255,
-        null=True,
-        verbose_name=_('value')
-    )
+    value = models.CharField(max_length=255, null=True, verbose_name=_("value"))
     #  value contents depends on option_group of option occurence pointed to:
     #    if option_group = main_dish_size : 'Regular' or 'Large'
     #    if option_group = dish : qty Monday to Sunday ex. '1110120'
     #    if option_group = preparation : Null
     #    if option_group = other_order_item : No occurrence of Client_option
 
     def __str__(self):
-        return "{} {} <has> {}".format(self.client.member.firstname,
-                                       self.client.member.lastname,
-                                       self.option.name)
+        return "{} {} <has> {}".format(
+            self.client.member.firstname, self.client.member.lastname, self.option.name
+        )
 
 
 class Restriction(models.Model):
     client = models.ForeignKey(
-        'member.Client',
-        verbose_name=_('client'),
-        related_name='+',
-        on_delete=models.CASCADE
+        "member.Client",
+        verbose_name=_("client"),
+        related_name="+",
+        on_delete=models.CASCADE,
     )
 
     restricted_item = models.ForeignKey(
-        'meal.Restricted_item',
-        verbose_name=_('restricted item'),
-        related_name='+',
-        on_delete=models.CASCADE
+        "meal.Restricted_item",
+        verbose_name=_("restricted item"),
+        related_name="+",
+        on_delete=models.CASCADE,
     )
 
     def __str__(self):
-        return "{} {} <restricts> {}".format(self.client.member.firstname,
-                                             self.client.member.lastname,
-                                             self.restricted_item.name)
+        return "{} {} <restricts> {}".format(
+            self.client.member.firstname,
+            self.client.member.lastname,
+            self.restricted_item.name,
+        )
 
 
 class Client_avoid_ingredient(models.Model):
     client = models.ForeignKey(
-        'member.Client',
-        verbose_name=_('client'),
-        related_name='+',
-        on_delete=models.CASCADE
+        "member.Client",
+        verbose_name=_("client"),
+        related_name="+",
+        on_delete=models.CASCADE,
     )
 
     ingredient = models.ForeignKey(
-        'meal.Ingredient',
-        verbose_name=_('ingredient'),
-        related_name='+',
-        on_delete=models.CASCADE
+        "meal.Ingredient",
+        verbose_name=_("ingredient"),
+        related_name="+",
+        on_delete=models.CASCADE,
     )
 
     def __str__(self):
-        return "{} {} <has> {}".format(self.client.member.firstname,
-                                       self.client.member.lastname,
-                                       self.ingredient.name)
+        return "{} {} <has> {}".format(
+            self.client.member.firstname,
+            self.client.member.lastname,
+            self.ingredient.name,
+        )
 
 
 class Client_avoid_component(models.Model):
     client = models.ForeignKey(
-        'member.Client',
-        verbose_name=_('client'),
-        related_name='+',
-        on_delete=models.CASCADE
+        "member.Client",
+        verbose_name=_("client"),
+        related_name="+",
+        on_delete=models.CASCADE,
     )
 
     component = models.ForeignKey(
-        'meal.Component',
-        verbose_name=_('component'),
-        related_name='+',
-        on_delete=models.CASCADE
+        "meal.Component",
+        verbose_name=_("component"),
+        related_name="+",
+        on_delete=models.CASCADE,
     )
 
     def __str__(self):
-        return "{} {} <has> {}".format(self.client.member.firstname,
-                                       self.client.member.lastname,
-                                       self.component.name)
+        return "{} {} <has> {}".format(
+            self.client.member.firstname,
+            self.client.member.lastname,
+            self.component.name,
+        )
```

### Comparing `souschef-1.3.6/souschef/member/templates/client/base.html` & `souschef-1.3.7/souschef/member/templates/client/base.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/create/form.html` & `souschef-1.3.7/souschef/member/templates/client/create/form.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/create/steps.html` & `souschef-1.3.7/souschef/member/templates/client/create/steps.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/list.html` & `souschef-1.3.7/souschef/member/templates/client/list.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/partials/birthdays.html` & `souschef-1.3.7/souschef/member/templates/client/partials/birthdays.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/partials/filters.html` & `souschef-1.3.7/souschef/member/templates/client/partials/filters.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/partials/forms/address_information.html` & `souschef-1.3.7/souschef/member/templates/client/partials/forms/address_information.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/partials/forms/basic_information.html` & `souschef-1.3.7/souschef/member/templates/client/partials/forms/basic_information.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/partials/forms/dietary_restriction.html` & `souschef-1.3.7/souschef/member/templates/client/partials/forms/dietary_restriction.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/partials/forms/meal_defaults.html` & `souschef-1.3.7/souschef/member/templates/client/partials/forms/meal_defaults.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/partials/forms/payment_information.html` & `souschef-1.3.7/souschef/member/templates/client/partials/forms/payment_information.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/partials/forms/relationship_form.html` & `souschef-1.3.7/souschef/member/templates/client/partials/forms/relationship_form.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/partials/forms/relationships.html` & `souschef-1.3.7/souschef/member/templates/client/partials/forms/relationships.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/partials/menu.html` & `souschef-1.3.7/souschef/member/templates/client/partials/menu.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/partials/order_list.html` & `souschef-1.3.7/souschef/member/templates/client/partials/order_list.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/update/base.html` & `souschef-1.3.7/souschef/member/templates/client/update/base.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/update/status.html` & `souschef-1.3.7/souschef/member/templates/client/update/status.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/view/allergies.html` & `souschef-1.3.7/souschef/member/templates/client/view/allergies.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/view/delete_status_confirmation.html` & `souschef-1.3.7/souschef/member/templates/client/view/delete_status_confirmation.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/view/information.html` & `souschef-1.3.7/souschef/member/templates/client/view/information.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/view/notes.html` & `souschef-1.3.7/souschef/member/templates/client/view/notes.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/view/orders.html` & `souschef-1.3.7/souschef/member/templates/client/view/orders.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/view/payment.html` & `souschef-1.3.7/souschef/member/templates/client/view/payment.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/view/referent.html` & `souschef-1.3.7/souschef/member/templates/client/view/referent.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/view/status.html` & `souschef-1.3.7/souschef/member/templates/client/view/status.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/client/view/summary.html` & `souschef-1.3.7/souschef/member/templates/client/view/summary.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/route/delivery_history_detail.html` & `souschef-1.3.7/souschef/member/templates/route/delivery_history_detail.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/route/detail.html` & `souschef-1.3.7/souschef/member/templates/route/detail.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/route/edit.html` & `souschef-1.3.7/souschef/member/templates/route/edit.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/templates/route/list.html` & `souschef-1.3.7/souschef/member/templates/route/list.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/member/tests.py` & `souschef-1.3.7/souschef/member/tests.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,80 +1,105 @@
 import json
 import random
-
-from datetime import date, timedelta
+from datetime import (
+    date,
+    timedelta,
+)
 from decimal import Decimal
+
 from django.contrib.auth.models import User
 from django.core.management import call_command
-from django.urls import reverse, reverse_lazy
-from django.utils import timezone
-from django.utils.six import StringIO
 from django.test import TestCase
+from django.urls import (
+    reverse,
+    reverse_lazy,
+)
+from django.utils import (
+    timezone,
+    translation,
+)
+from django.utils.six import StringIO
+from django.utils.translation import ugettext
 
-from souschef.member.models import (
-    Member, Client, Address,
-    Contact, Option, Client_option, Restriction, Route,
-    Client_avoid_ingredient, Client_avoid_component,
-    ClientScheduledStatus, Relationship,
-    CELL, HOME, EMAIL
+from souschef.meal.factories import (
+    ComponentFactory,
+    IngredientFactory,
 )
 from souschef.meal.models import (
-    Restricted_item, Ingredient, Component, COMPONENT_GROUP_CHOICES
+    COMPONENT_GROUP_CHOICES,
+    Component,
+    Ingredient,
+    Restricted_item,
 )
 from souschef.member.factories import (
-    RouteFactory, ClientFactory, ClientScheduledStatusFactory,
-    MemberFactory, DeliveryHistoryFactory, RelationshipFactory
+    ClientFactory,
+    ClientScheduledStatusFactory,
+    DeliveryHistoryFactory,
+    MemberFactory,
+    RelationshipFactory,
+    RouteFactory,
 )
-from souschef.meal.factories import IngredientFactory, ComponentFactory
-from django.utils import translation
-from django.utils.translation import ugettext
-
-from souschef.order.factories import OrderFactory
-from souschef.order.models import ORDER_STATUS_ORDERED
 from souschef.member.forms import (
-    ClientBasicInformation, ClientAddressInformation,
+    ClientAddressInformation,
+    ClientBasicInformation,
     ClientPaymentInformation,
-    ClientRestrictionsInformation, ClientRelationshipInformation,
-    ClientScheduledStatusForm
+    ClientRelationshipInformation,
+    ClientRestrictionsInformation,
+    ClientScheduledStatusForm,
+)
+from souschef.member.models import (
+    CELL,
+    EMAIL,
+    HOME,
+    Address,
+    Client,
+    Client_avoid_component,
+    Client_avoid_ingredient,
+    Client_option,
+    ClientScheduledStatus,
+    Contact,
+    Member,
+    Option,
+    Relationship,
+    Restriction,
+    Route,
 )
+from souschef.order.factories import OrderFactory
+from souschef.order.models import ORDER_STATUS_ORDERED
 from souschef.sous_chef.tests import TestMigrations
 from souschef.sous_chef.tests import TestMixin as SousChefTestMixin
 
 
 def load_initial_data(client):
     """
     Load initial for the given client.
     """
     initial = {
-        'firstname': client.member.firstname,
-        'lastname': client.member.lastname,
-        'alert': client.alert,
-        'gender': client.gender,
-        'language': client.language,
-        'birthdate': client.birthdate,
-        'home_phone': client.member.home_phone,
-        'cell_phone': client.member.cell_phone,
-        'email': client.member.email,
-        'street': client.member.address.street,
-        'city': client.member.address.city,
-        'apartment': client.member.address.apartment,
-        'postal_code': client.member.address.postal_code,
-        'delivery_note': client.delivery_note,
-        'route':
-            client.route.id
-            if client.route is not None
-            else '',
-        'latitude': client.member.address.latitude,
-        'longitude': client.member.address.longitude,
-        'distance': client.member.address.distance,
-        'member': client.id,
-        'same_as_client': True,
-        'facturation': '',
-        'billing_payment_type': '',
-
+        "firstname": client.member.firstname,
+        "lastname": client.member.lastname,
+        "alert": client.alert,
+        "gender": client.gender,
+        "language": client.language,
+        "birthdate": client.birthdate,
+        "home_phone": client.member.home_phone,
+        "cell_phone": client.member.cell_phone,
+        "email": client.member.email,
+        "street": client.member.address.street,
+        "city": client.member.address.city,
+        "apartment": client.member.address.apartment,
+        "postal_code": client.member.address.postal_code,
+        "delivery_note": client.delivery_note,
+        "route": client.route.id if client.route is not None else "",
+        "latitude": client.member.address.latitude,
+        "longitude": client.member.address.longitude,
+        "distance": client.member.address.distance,
+        "member": client.id,
+        "same_as_client": True,
+        "facturation": "",
+        "billing_payment_type": "",
     }
     return initial
 
 
 class MemberContact(TestCase):
 
     """
@@ -94,151 +119,121 @@
 
     def test_add_contact_information(self):
         """
         Test the add_contact_information method when no contact information
         of the given type exists yet.
         It is supposed to return TRUE if a new contact information is created.
         """
-        self.assertTrue(
-            self.member.add_contact_information(CELL, '438-000-0000')
-        )
-        self.assertEqual(self.member.cell_phone, '438-000-0000')
-        self.assertTrue(
-            self.member.add_contact_information(EMAIL, 'admin@example.com')
-        )
-        self.assertEqual(self.member.email, 'admin@example.com')
+        self.assertTrue(self.member.add_contact_information(CELL, "438-000-0000"))
+        self.assertEqual(self.member.cell_phone, "438-000-0000")
+        self.assertTrue(self.member.add_contact_information(EMAIL, "admin@example.com"))
+        self.assertEqual(self.member.email, "admin@example.com")
 
     def test_add_contact_information_empty(self):
         """
         Passing an empty value should not update nor create anything, unless
         the force_update parameter was passed.
         """
-        self.member.add_contact_information(CELL, '438-000-0000')
-        self.assertEqual(self.member.cell_phone, '438-000-0000')
-        self.assertFalse(
-            self.member.add_contact_information(CELL, '')
-        )
-        self.assertEqual(self.member.cell_phone, '438-000-0000')
-        self.assertFalse(
-            self.member.add_contact_information(CELL, '', True)
-        )
-        self.assertEqual(self.member.cell_phone, '')
+        self.member.add_contact_information(CELL, "438-000-0000")
+        self.assertEqual(self.member.cell_phone, "438-000-0000")
+        self.assertFalse(self.member.add_contact_information(CELL, ""))
+        self.assertEqual(self.member.cell_phone, "438-000-0000")
+        self.assertFalse(self.member.add_contact_information(CELL, "", True))
+        self.assertEqual(self.member.cell_phone, "")
 
     def test_update_contact_information(self):
         """
         Test the add_contact_information method when a contact information
         of the given type already exists. The contact information should be
         updated, instead of creating a new one.
         """
-        self.assertFalse(
-            self.member.add_contact_information(HOME, '514-000-0000')
-        )
-        self.assertEqual(self.member.home_phone, '514-000-0000')
+        self.assertFalse(self.member.add_contact_information(HOME, "514-000-0000"))
+        self.assertEqual(self.member.home_phone, "514-000-0000")
 
 
 class MemberTestCase(TestCase):
-
     @classmethod
     def setUpTestData(cls):
-        member = Member.objects.create(
-            firstname='Katrina', lastname='Heide')
-        Contact.objects.create(
-            type='Home phone', value='514-456-7890', member=member)
+        member = Member.objects.create(firstname="Katrina", lastname="Heide")
+        Contact.objects.create(type="Home phone", value="514-456-7890", member=member)
 
-        Contact.objects.create(
-            type='Cell phone', value='555-555-4444', member=member
-        )
+        Contact.objects.create(type="Cell phone", value="555-555-4444", member=member)
 
-        Contact.objects.create(
-            type='Work phone', value='555-444-5555', member=member
-        )
+        Contact.objects.create(type="Work phone", value="555-444-5555", member=member)
 
-        Contact.objects.create(
-            type='Email', value='test@test.com', member=member
-        )
+        Contact.objects.create(type="Email", value="test@test.com", member=member)
 
     def test_str_is_fullname(self):
         """A member must be listed using his/her fullname"""
-        member = Member.objects.get(firstname='Katrina')
+        member = Member.objects.get(firstname="Katrina")
         str_member = str(member)
-        self.assertEqual(str_member, 'Katrina Heide')
+        self.assertEqual(str_member, "Katrina Heide")
 
     def test_home_phone(self):
         """Test that the home phone property is valid"""
         member = Member.objects.get(firstname="Katrina")
-        self.assertEqual(member.home_phone, '514-456-7890')
+        self.assertEqual(member.home_phone, "514-456-7890")
 
     def test_cell_phone(self):
         """Test that the cell phone property is valid"""
         member = Member.objects.get(firstname="Katrina")
-        self.assertEqual(member.cell_phone, '555-555-4444')
+        self.assertEqual(member.cell_phone, "555-555-4444")
 
     def test_work_phone(self):
         """Test that the work phone property is valid"""
         member = Member.objects.get(firstname="Katrina")
-        self.assertEqual(member.work_phone, '555-444-5555')
+        self.assertEqual(member.work_phone, "555-444-5555")
 
     def test_email(self):
         """Test that the email property is valid"""
         member = Member.objects.get(firstname="Katrina")
         self.assertEqual(member.email, "test@test.com")
 
 
 class ContactTestCase(TestCase):
-
     @classmethod
     def setUpTestData(cls):
-        member = Member.objects.create(
-            firstname='Katrina', lastname='Heide')
-        Contact.objects.create(
-            type='Home phone', value='514-456-7890', member=member)
+        member = Member.objects.create(firstname="Katrina", lastname="Heide")
+        Contact.objects.create(type="Home phone", value="514-456-7890", member=member)
 
     def test_str_is_fullname(self):
         """A contact must be listed using his/her fullname"""
-        member = Member.objects.get(firstname='Katrina')
+        member = Member.objects.get(firstname="Katrina")
         contact = Contact.objects.get(member=member)
         self.assertTrue(member.firstname in str(contact))
         self.assertTrue(member.lastname in str(contact))
 
 
 class AddressTestCase(TestCase):
-
     @classmethod
     def setUpTestData(cls):
         address = Address.objects.create(
-            number=123, street='De Bullion',
-            city='Montreal', postal_code='H3C4G5')
-        Member.objects.create(
-            firstname='Katrina', lastname='Heide',
-            address=address)
+            number=123, street="De Bullion", city="Montreal", postal_code="H3C4G5"
+        )
+        Member.objects.create(firstname="Katrina", lastname="Heide", address=address)
 
     def test_str_includes_street(self):
         """An address listing must include the street name"""
-        member = Member.objects.get(firstname='Katrina')
+        member = Member.objects.get(firstname="Katrina")
         # address = Address.objects.get(member=member)
-        self.assertTrue('De Bullion' in str(member.address))
+        self.assertTrue("De Bullion" in str(member.address))
 
 
 class ClientTestCase(TestCase):
 
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     @classmethod
     def setUpTestData(cls):
         today = date.today()
         cls.ss_client = ClientFactory(
             birthdate=date(today.year - 40, today.month, today.day),
-            meal_default_week={
-                'monday_size': 'L',
-                'monday_main_dish_quantity': 1
-            }
-        )
-        cls.order = OrderFactory(
-            client=cls.ss_client
+            meal_default_week={"monday_size": "L", "monday_main_dish_quantity": 1},
         )
+        cls.order = OrderFactory(client=cls.ss_client)
 
     def test_str_is_fullname(self):
         """A client must be listed using his/her fullname"""
         self.assertTrue(self.ss_client.member.firstname in str(self.ss_client))
         self.assertTrue(self.ss_client.member.lastname in str(self.ss_client))
 
     def test_is_geolocalized(self):
@@ -246,469 +241,454 @@
 
     def test_age(self):
         """The age on given date is properly computed"""
         self.assertEqual(self.ss_client.age, 40)
         today = date.today()
         yesterday = today - timedelta(days=1)
         tomorrow = today + timedelta(days=1)
-        self.ss_client.birthdate = date(yesterday.year - 40, yesterday.month,
-                                        yesterday.day)
+        self.ss_client.birthdate = date(
+            yesterday.year - 40, yesterday.month, yesterday.day
+        )
         self.ss_client.save()
         self.assertEqual(Client.objects.get(id=self.ss_client.id).age, 40)
-        self.ss_client.birthdate = date(tomorrow.year - 40, tomorrow.month,
-                                        tomorrow.day)
+        self.ss_client.birthdate = date(
+            tomorrow.year - 40, tomorrow.month, tomorrow.day
+        )
         self.ss_client.save()
         self.assertEqual(Client.objects.get(id=self.ss_client.id).age, 39)
 
     def test_orders(self):
         """Orders of a given client must be available as a model property"""
         self.assertEqual(self.ss_client.orders.count(), 1)
-        self.assertEqual(
-            self.ss_client.orders.first().creation_date,
-            date.today())
+        self.assertEqual(self.ss_client.orders.first().creation_date, date.today())
 
     def test_meal_default(self):
         # monday_size = 'L'
-        self.assertEqual(self.ss_client.meal_default_week['monday_size'], 'L')
+        self.assertEqual(self.ss_client.meal_default_week["monday_size"], "L")
 
         # monday_main_dish_quantity = 1
         self.assertEqual(
-            self.ss_client.meal_default_week['monday_main_dish_quantity'], 1
+            self.ss_client.meal_default_week["monday_main_dish_quantity"], 1
         )
 
     def test_delete_route(self):
         route = Route.objects.get(name=self.ss_client.route.name)
         route.delete()
         # We reload our client to update its informations
         client = Client.objects.get(id=self.ss_client.id)
-        self.assertEqual(
-            client.route, None
-        )
+        self.assertEqual(client.route, None)
 
 
 class OptionTestCase(TestCase):
-
     @classmethod
     def setUpTestData(cls):
-        Option.objects.create(
-            name='PUREE ALL', option_group='preparation')
+        Option.objects.create(name="PUREE ALL", option_group="preparation")
 
     def test_str_is_fullname(self):
         """Option's string representation is its name"""
-        name = 'PUREE ALL'
+        name = "PUREE ALL"
         option = Option.objects.get(name=name)
         self.assertEqual(name, str(option))
 
 
 class ClientOptionTestCase(TestCase):
 
-    fixtures = ['routes']
+    fixtures = ["routes"]
 
     @classmethod
     def setUpTestData(cls):
         cls.clientTest = ClientFactory()
-        option = Option.objects.create(
-            name='PUREE ALL', option_group='preparation')
+        option = Option.objects.create(name="PUREE ALL", option_group="preparation")
         meals_schedule_option = Option.objects.create(
-            name='meals_schedule', option_group='dish'
+            name="meals_schedule", option_group="dish"
         )
         Client_option.objects.create(client=cls.clientTest, option=option)
         Client_option.objects.create(
             client=cls.clientTest,
             option=meals_schedule_option,
-            value=json.dumps(['monday', 'wednesday', 'friday']),
+            value=json.dumps(["monday", "wednesday", "friday"]),
         )
 
     def test_str_includes_all_names(self):
         """
         A Client_option's string representation includes the name
         of the client and the name of the option.
         """
-        name = 'PUREE ALL'
+        name = "PUREE ALL"
         option = Option.objects.get(name=name)
-        client_option = Client_option.objects.get(
-            client=self.clientTest, option=option)
+        client_option = Client_option.objects.get(client=self.clientTest, option=option)
         self.assertTrue(self.clientTest.member.firstname in str(client_option))
         self.assertTrue(self.clientTest.member.lastname in str(client_option))
         self.assertTrue(option.name in str(client_option))
 
     def test_meals_schedule_option(self):
         """
         Meals schedule must be saved as a client option.
         """
         self.assertEqual(
-            self.clientTest.simple_meals_schedule,
-            ['monday', 'wednesday', 'friday']
+            self.clientTest.simple_meals_schedule, ["monday", "wednesday", "friday"]
         )
 
 
 class ClientMealDefaultWeekTestCase(TestCase):
-    fixtures = ['routes']
+    fixtures = ["routes"]
 
     @classmethod
     def setUpTestData(cls):
         cls.clientTest = ClientFactory(
             delivery_type="O",
             meal_default_week={
                 "main_dish_monday_quantity": 1,
                 "size_monday": "R",
                 "diabetic_monday_quantity": 2,
                 "fruit_salad_monday_quantity": 1,
-
                 "main_dish_tuesday_quantity": 0,
                 "size_tuesday": "L",
                 "compote_tuesday_quantity": 1,
-
                 "main_dish_wednesday_quantity": 0,
                 "dessert_wednesday_quantity": 0,
                 "size_wednesday": "R",
-
                 "main_dish_thursday_quantity": 1,
                 "diabetic_thursday_quantity": 2,
                 "fruit_salad_thursday_quantity": 1,
-
                 # friday, saturday, sunday nothing
-            }
+            },
         )
         meals_schedule_option = Option.objects.create(
-            name='meals_schedule', option_group='dish'
+            name="meals_schedule", option_group="dish"
         )
         cls.clientOptionTest = Client_option.objects.create(
             client=cls.clientTest,
             option=meals_schedule_option,
-            value=json.dumps(['monday', 'wednesday', 'friday']),
+            value=json.dumps(["monday", "wednesday", "friday"]),
         )
 
     def test_client_meals_default(self):
         """
         Tests: Client.meals_default
         """
         md = dict(self.clientTest.meals_default)
-        self.assertEqual(md['monday'], {
-            'main_dish': 1,
-            'size': 'R',
-            'dessert': None,
-            'diabetic': 2,
-            'fruit_salad': 1,
-            'green_salad': None,
-            'pudding': None,
-            'compote': None
-        })
-        self.assertEqual(md['tuesday'], {
-            'main_dish': 0,  # Client said zero
-            'size': 'L',
-            'dessert': None,
-            'diabetic': None,
-            'fruit_salad': None,
-            'green_salad': None,
-            'pudding': None,
-            'compote': 1
-        })
-        self.assertEqual(md['wednesday'], {
-            'main_dish': 0,  # Client said zero
-            'size': 'R',
-            'dessert': 0,    # Client said zero
-            'diabetic': None,
-            'fruit_salad': None,
-            'green_salad': None,
-            'pudding': None,
-            'compote': None
-        })
-        self.assertEqual(md['thursday'], {
-            'main_dish': 1,
-            'size': None,
-            'dessert': None,
-            'diabetic': 2,
-            'fruit_salad': 1,
-            'green_salad': None,
-            'pudding': None,
-            'compote': None
-        })
+        self.assertEqual(
+            md["monday"],
+            {
+                "main_dish": 1,
+                "size": "R",
+                "dessert": None,
+                "diabetic": 2,
+                "fruit_salad": 1,
+                "green_salad": None,
+                "pudding": None,
+                "compote": None,
+            },
+        )
+        self.assertEqual(
+            md["tuesday"],
+            {
+                "main_dish": 0,  # Client said zero
+                "size": "L",
+                "dessert": None,
+                "diabetic": None,
+                "fruit_salad": None,
+                "green_salad": None,
+                "pudding": None,
+                "compote": 1,
+            },
+        )
+        self.assertEqual(
+            md["wednesday"],
+            {
+                "main_dish": 0,  # Client said zero
+                "size": "R",
+                "dessert": 0,  # Client said zero
+                "diabetic": None,
+                "fruit_salad": None,
+                "green_salad": None,
+                "pudding": None,
+                "compote": None,
+            },
+        )
+        self.assertEqual(
+            md["thursday"],
+            {
+                "main_dish": 1,
+                "size": None,
+                "dessert": None,
+                "diabetic": 2,
+                "fruit_salad": 1,
+                "green_salad": None,
+                "pudding": None,
+                "compote": None,
+            },
+        )
         not_set = {
-            'main_dish': None,
-            'size': None,
-            'dessert': None,
-            'diabetic': None,
-            'fruit_salad': None,
-            'green_salad': None,
-            'pudding': None,
-            'compote': None
+            "main_dish": None,
+            "size": None,
+            "dessert": None,
+            "diabetic": None,
+            "fruit_salad": None,
+            "green_salad": None,
+            "pudding": None,
+            "compote": None,
         }
-        self.assertEqual(md['friday'], not_set)
-        self.assertEqual(md['saturday'], not_set)
-        self.assertEqual(md['sunday'], not_set)
+        self.assertEqual(md["friday"], not_set)
+        self.assertEqual(md["saturday"], not_set)
+        self.assertEqual(md["sunday"], not_set)
 
     def test_client_meals_schedule(self):
         """
         Tests: Client.meals_schedule
         """
         ms = dict(self.clientTest.meals_schedule)
-        self.assertEqual(ms['monday'], {
-            'main_dish': 1,
-            'size': 'R',
-            'dessert': None,
-            'diabetic': 2,
-            'fruit_salad': 1,
-            'green_salad': None,
-            'pudding': None,
-            'compote': None
-        })
-        self.assertEqual(ms['wednesday'], {
-            'main_dish': 0,  # Client said zero
-            'size': 'R',
-            'dessert': 0,    # Client said zero
-            'diabetic': None,
-            'fruit_salad': None,
-            'green_salad': None,
-            'pudding': None,
-            'compote': None
-        })
-        self.assertEqual(ms['friday'], {
-            'main_dish': None,
-            'size': None,
-            'dessert': None,
-            'diabetic': None,
-            'fruit_salad': None,
-            'green_salad': None,
-            'pudding': None,
-            'compote': None
-        })
-        self.assertNotIn('tuesday', ms)
-        self.assertNotIn('thursday', ms)
-        self.assertNotIn('saturday', ms)
-        self.assertNotIn('sunday', ms)
+        self.assertEqual(
+            ms["monday"],
+            {
+                "main_dish": 1,
+                "size": "R",
+                "dessert": None,
+                "diabetic": 2,
+                "fruit_salad": 1,
+                "green_salad": None,
+                "pudding": None,
+                "compote": None,
+            },
+        )
+        self.assertEqual(
+            ms["wednesday"],
+            {
+                "main_dish": 0,  # Client said zero
+                "size": "R",
+                "dessert": 0,  # Client said zero
+                "diabetic": None,
+                "fruit_salad": None,
+                "green_salad": None,
+                "pudding": None,
+                "compote": None,
+            },
+        )
+        self.assertEqual(
+            ms["friday"],
+            {
+                "main_dish": None,
+                "size": None,
+                "dessert": None,
+                "diabetic": None,
+                "fruit_salad": None,
+                "green_salad": None,
+                "pudding": None,
+                "compote": None,
+            },
+        )
+        self.assertNotIn("tuesday", ms)
+        self.assertNotIn("thursday", ms)
+        self.assertNotIn("saturday", ms)
+        self.assertNotIn("sunday", ms)
 
     def test_client_meals_schedule_without_option(self):
         """
         Test when the client option 'meals_schedule' is not set.
         """
         self.clientOptionTest.delete()
         ms = self.clientTest.meals_schedule
         self.assertEqual(ms, ())
 
 
 class RestrictionTestCase(TestCase):
-
     @classmethod
     def setUpTestData(cls):
         address = Address.objects.create(
-            number=123, street='De Bullion',
-            city='Montreal', postal_code='H3C4G5')
-        member = Member.objects.create(firstname='Angela',
-                                       lastname='Desousa',
-                                       address=address)
+            number=123, street="De Bullion", city="Montreal", postal_code="H3C4G5"
+        )
+        member = Member.objects.create(
+            firstname="Angela", lastname="Desousa", address=address
+        )
         client = Client.objects.create(
-            member=member, billing_member=member,
-            birthdate=date(1980, 4, 19))
+            member=member, billing_member=member, birthdate=date(1980, 4, 19)
+        )
         restricted_item = Restricted_item.objects.create(
-            name='pork', restricted_item_group='meat')
-        Restriction.objects.create(client=client,
-                                   restricted_item=restricted_item)
+            name="pork", restricted_item_group="meat"
+        )
+        Restriction.objects.create(client=client, restricted_item=restricted_item)
 
     def test_str_includes_all_names(self):
         """A restriction's string representation includes the name
         of the client and the name of the restricted_item.
         """
-        member = Member.objects.get(firstname='Angela')
+        member = Member.objects.get(firstname="Angela")
         client = Client.objects.get(member=member)
-        name = 'pork'
+        name = "pork"
         restricted_item = Restricted_item.objects.get(name=name)
         restriction = Restriction.objects.get(
-            client=client, restricted_item=restricted_item)
+            client=client, restricted_item=restricted_item
+        )
         self.assertTrue(client.member.firstname in str(restriction))
         self.assertTrue(client.member.lastname in str(restriction))
         self.assertTrue(restricted_item.name in str(restriction))
 
 
 class ClientAvoidIngredientTestCase(TestCase):
-
     @classmethod
     def setUpTestData(cls):
         address = Address.objects.create(
-            number=123, street='De Bullion',
-            city='Montreal', postal_code='H3C4G5')
-        member = Member.objects.create(firstname='Angela',
-                                       lastname='Desousa',
-                                       address=address)
+            number=123, street="De Bullion", city="Montreal", postal_code="H3C4G5"
+        )
+        member = Member.objects.create(
+            firstname="Angela", lastname="Desousa", address=address
+        )
         client = Client.objects.create(
-            member=member, billing_member=member,
-            birthdate=date(1980, 4, 19))
-        ingredient = Ingredient.objects.create(
-            name='ground pork')
-        Client_avoid_ingredient.objects.create(client=client,
-                                               ingredient=ingredient)
+            member=member, billing_member=member, birthdate=date(1980, 4, 19)
+        )
+        ingredient = Ingredient.objects.create(name="ground pork")
+        Client_avoid_ingredient.objects.create(client=client, ingredient=ingredient)
 
     def test_str_includes_all_names(self):
         """A client_avoid_ingredient's string representation includes the name
         of the client and the name of the ingredient.
         """
-        member = Member.objects.get(firstname='Angela')
+        member = Member.objects.get(firstname="Angela")
         client = Client.objects.get(member=member)
-        name = 'ground pork'
+        name = "ground pork"
         ingredient = Ingredient.objects.get(name=name)
         client_avoid_ingredient = Client_avoid_ingredient.objects.get(
-            client=client, ingredient=ingredient)
-        self.assertTrue(
-            client.member.firstname in str(client_avoid_ingredient))
+            client=client, ingredient=ingredient
+        )
+        self.assertTrue(client.member.firstname in str(client_avoid_ingredient))
         self.assertTrue(client.member.lastname in str(client_avoid_ingredient))
         self.assertTrue(ingredient.name in str(client_avoid_ingredient))
 
 
 class ClientAvoidComponentTestCase(TestCase):
-
     @classmethod
     def setUpTestData(cls):
         address = Address.objects.create(
-            number=123, street='De Bullion',
-            city='Montreal', postal_code='H3C4G5')
-        member = Member.objects.create(firstname='Angela',
-                                       lastname='Desousa',
-                                       address=address)
+            number=123, street="De Bullion", city="Montreal", postal_code="H3C4G5"
+        )
+        member = Member.objects.create(
+            firstname="Angela", lastname="Desousa", address=address
+        )
         client = Client.objects.create(
-            member=member, billing_member=member,
-            birthdate=date(1980, 4, 19))
+            member=member, billing_member=member, birthdate=date(1980, 4, 19)
+        )
         component = Component.objects.create(
-            name='ginger pork', component_group='main dish')
-        Client_avoid_component.objects.create(client=client,
-                                              component=component)
+            name="ginger pork", component_group="main dish"
+        )
+        Client_avoid_component.objects.create(client=client, component=component)
 
     def test_str_includes_all_names(self):
         """A client_avoid_component's string representation includes the name
         of the client and the name of the component.
         """
-        member = Member.objects.get(firstname='Angela')
+        member = Member.objects.get(firstname="Angela")
         client = Client.objects.get(member=member)
-        name = 'ginger pork'
+        name = "ginger pork"
         component = Component.objects.get(name=name)
         client_avoid_component = Client_avoid_component.objects.get(
-            client=client, component=component)
+            client=client, component=component
+        )
         self.assertTrue(client.member.firstname in str(client_avoid_component))
         self.assertTrue(client.member.lastname in str(client_avoid_component))
         self.assertTrue(component.name in str(client_avoid_component))
 
 
 class FormTestCase(TestCase):
 
-    fixtures = ['client_options.json']
+    fixtures = ["client_options.json"]
 
     @classmethod
     def setUpTestData(cls):
         cls.admin = User.objects.create_superuser(
-            username='admin@example.com',
-            email='admin@example.com',
-            password='test1234'
+            username="admin@example.com", email="admin@example.com", password="test1234"
         )
         address = Address.objects.create(
-            number=123, street='De Bullion',
-            city='Montreal', postal_code='H3C4G5'
-        )
-        Member.objects.create(
-            firstname='First',
-            lastname='Member',
-            address=address
-        )
-        Member.objects.create(
-            firstname='Second',
-            lastname='Member'
+            number=123, street="De Bullion", city="Montreal", postal_code="H3C4G5"
         )
+        Member.objects.create(firstname="First", lastname="Member", address=address)
+        Member.objects.create(firstname="Second", lastname="Member")
         cls.route = RouteFactory()
         cls.restricted_item_1 = Restricted_item.objects.create(
-            name='pork', restricted_item_group='meat')
+            name="pork", restricted_item_group="meat"
+        )
         cls.restricted_item_2 = Restricted_item.objects.create(
-            name='soya', restricted_item_group='other')
+            name="soya", restricted_item_group="other"
+        )
         cls.food_preparation = Option.objects.create(
-            name='PUREE ALL', option_group='preparation')
+            name="PUREE ALL", option_group="preparation"
+        )
         cls.ingredient = IngredientFactory()
         cls.component = ComponentFactory()
 
     def setUp(self):
-        self.client.login(username=self.admin.username, password='test1234')
+        self.client.login(username=self.admin.username, password="test1234")
 
     def tearDown(self):
         self.client.logout()
 
     def test_redirects_users_who_do_not_have_edit_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('member:member_step')
+        self.client.login(username="foo", password="secure")
+        url = reverse("member:member_step")
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 302)
 
     def test_acces_to_form(self):
         """Test if the form is accesible from its url"""
-        result = self.client.get(
-            reverse_lazy(
-                'member:member_step'
-            ), follow=True
-        )
+        result = self.client.get(reverse_lazy("member:member_step"), follow=True)
         self.assertEqual(result.status_code, 200)
 
     def test_acces_to_form_by_url_basic_info(self):
         result = self.client.get(
             reverse_lazy(
-                'member:member_step',
-                kwargs={'step': ugettext('basic_information')}
+                "member:member_step", kwargs={"step": ugettext("basic_information")}
             ),
-            follow=False
+            follow=False,
         )
         self.assertEqual(result.status_code, 200)
 
     def test_acces_to_form_by_url_adress_information(self):
         result = self.client.get(
             reverse_lazy(
-                'member:member_step',
-                kwargs={'step': ugettext('address_information')}
+                "member:member_step", kwargs={"step": ugettext("address_information")}
             ),
-            follow=False
+            follow=False,
         )
         self.assertEqual(result.status_code, 200)
 
     def test_acces_to_form_by_url_relationship_information(self):
         result = self.client.get(
             reverse_lazy(
-                'member:member_step',
-                kwargs={'step': ugettext('relationships')}
+                "member:member_step", kwargs={"step": ugettext("relationships")}
             ),
-            follow=False
+            follow=False,
         )
         self.assertEqual(result.status_code, 200)
 
     def test_acces_to_form_by_url_payment_information(self):
         result = self.client.get(
-            reverse_lazy(
-                'member:member_step',
-                kwargs={'step': 'payment_information'}
-            ),
-            follow=True
+            reverse_lazy("member:member_step", kwargs={"step": "payment_information"}),
+            follow=True,
         )
         self.assertEqual(result.status_code, 200)
 
     def test_acces_to_form_by_url_dietary_restriction(self):
         result = self.client.get(
-            reverse_lazy(
-                'member:member_step',
-                kwargs={'step': 'dietary_restriction'}
-            ),
-            follow=True
+            reverse_lazy("member:member_step", kwargs={"step": "dietary_restriction"}),
+            follow=True,
         )
         self.assertEqual(result.status_code, 200)
 
     def test_acces_to_form_by_url_emergency_contacts(self):
         result = self.client.get(
-            reverse_lazy(
-                'member:member_step',
-                kwargs={'step': 'emergency_contacts'}
-            ),
-            follow=True
+            reverse_lazy("member:member_step", kwargs={"step": "emergency_contacts"}),
+            follow=True,
         )
         self.assertEqual(result.status_code, 200)
 
     def test_form_save_data(self):
         basic_information_data = {
             "client_wizard-current_step": "basic_information",
             "basic_information-firstname": "User",
@@ -716,15 +696,15 @@
             "basic_information-language": "fr",
             "basic_information-gender": "M",
             "basic_information-birthdate": "1990-12-12",
             "basic_information-home_phone": "555-555-5555",
             "basic_information-email": "test@example.com",
             "basic_information-cell_phone": "438-000-0000",
             "basic_information-alert": "Testing alert message",
-            "wizard_goto_step": ""
+            "wizard_goto_step": "",
         }
 
         address_information_data = {
             "client_wizard-current_step": "address_information",
             "address_information-street": "555 rue clark",
             "address_information-apartment": "222",
             "address_information-city": "montreal",
@@ -750,66 +730,62 @@
             "wizard_goto_step": "",
         }
 
         restriction_information_data = {
             "client_wizard-current_step": "dietary_restriction",
             "dietary_restriction-status": "on",
             "dietary_restriction-delivery_type": "O",
-            "dietary_restriction-meals_schedule": ['monday', 'wednesday'],
+            "dietary_restriction-meals_schedule": ["monday", "wednesday"],
             "dietary_restriction-meal_default": "1",
-            "dietary_restriction-restrictions":
-                [self.restricted_item_1.id, self.restricted_item_2.id],
+            "dietary_restriction-restrictions": [
+                self.restricted_item_1.id,
+                self.restricted_item_2.id,
+            ],
             "dietary_restriction-food_preparation": self.food_preparation.id,
             "dietary_restriction-ingredient_to_avoid": self.ingredient.id,
             "dietary_restriction-dish_to_avoid": self.component.id,
-            "wizard_goto_step": ""
+            "wizard_goto_step": "",
         }
-        for day in restriction_information_data[
-                "dietary_restriction-meals_schedule"
-        ]:
+        for day in restriction_information_data["dietary_restriction-meals_schedule"]:
             restriction_information_data[
-                'dietary_restriction-size_{}'.format(day)
-            ] = 'R'
+                "dietary_restriction-size_{}".format(day)
+            ] = "R"
             for component, _ in COMPONENT_GROUP_CHOICES:
-                name = "dietary_restriction-{}_{}_quantity".format(
-                    component, day
-                )
+                name = "dietary_restriction-{}_{}_quantity".format(component, day)
                 restriction_information_data[name] = 1
 
         relationships_data = {
             "client_wizard-current_step": "relationships",
             "relationships-TOTAL_FORMS": "1",
             "relationships-INITIAL_FORMS": "1",
             "relationships-MIN_NUM_FORMS": "0",
             "relationships-MAX_NUM_FORMS": "1000",
             "relationships-0-firstname": "Relationship",
             "relationships-0-lastname": "Testing",
             "relationships-0-work_phone": "555-444-5555",
             "relationships-0-nature": "friend",
-            "relationships-0-type": [
-                Relationship.EMERGENCY, Relationship.REFERENT],
+            "relationships-0-type": [Relationship.EMERGENCY, Relationship.REFERENT],
             "relationships-0-work_information": "CLSC",
             "relationships-0-referral_date": "2012-12-12",
             "relationships-0-referral_reason": "Testing referral reason",
         }
 
         stepsdata = [
-            ('basic_information', basic_information_data),
-            ('address_information', address_information_data),
-            ('relationships', relationships_data),
-            ('payment_information', payment_information_data),
-            ('dietary_restriction', restriction_information_data),
+            ("basic_information", basic_information_data),
+            ("address_information", address_information_data),
+            ("relationships", relationships_data),
+            ("payment_information", payment_information_data),
+            ("dietary_restriction", restriction_information_data),
         ]
 
         for step, data in stepsdata:
             response = self.client.post(
-                reverse_lazy('member:member_step',
-                             kwargs={'step': ugettext(step)}),
+                reverse_lazy("member:member_step", kwargs={"step": ugettext(step)}),
                 data,
-                follow=True
+                follow=True,
             )
             self.assertEqual(response.status_code, 200)
 
         member = Member.objects.get(firstname="User")
         self._test_assert_member_info(member)
 
         client = Client.objects.get(member=member)
@@ -821,17 +797,17 @@
 
     def _test_assert_member_info(self, member):
         # test firstname and lastname
         self.assertEqual(member.firstname, "User")
         self.assertEqual(member.lastname, "Testing")
 
         # test_home_phone_member:
-        self.assertTrue(member.home_phone.startswith('555'))
-        self.assertEqual(member.email, 'test@example.com')
-        self.assertEqual(member.cell_phone, '438-000-0000')
+        self.assertTrue(member.home_phone.startswith("555"))
+        self.assertEqual(member.email, "test@example.com")
+        self.assertEqual(member.cell_phone, "438-000-0000")
 
         # test_client_contact_type:
         self.assertEqual(member.member_contact.first().type, "Home phone")
 
         # test_client_address:
         self.assertEqual(member.address.street, "555 rue clark")
         self.assertEqual(member.address.postal_code, "H3C 2C2")
@@ -848,102 +824,102 @@
         # test_client_birthdate:
         self.assertEqual(client.birthdate, date(1990, 12, 12))
 
         # test_client_gender:
         self.assertEqual(client.gender, "M")
 
         # test client delivery type
-        self.assertEqual(client.delivery_type, 'O')
+        self.assertEqual(client.delivery_type, "O")
 
         # test_relationship_name:
         self.assertEqual(
-            client.relationship_set.first().member.firstname,
-            "Relationship"
-        )
-        self.assertEqual(
-            client.relationship_set.first().member.lastname,
-            "Testing"
+            client.relationship_set.first().member.firstname, "Relationship"
         )
+        self.assertEqual(client.relationship_set.first().member.lastname, "Testing")
 
         # test relationship contact infos (email and work phone)
         self.assertEqual(
-            client.relationship_set.first().member.work_phone,
-            "555-444-5555"
+            client.relationship_set.first().member.work_phone, "555-444-5555"
         )
 
         # test_relationship_referent_work_information:
         self.assertEqual(
-            client.relationship_set.first().member.work_information,
-            "CLSC"
+            client.relationship_set.first().member.work_information, "CLSC"
         )
 
         # test_referral_extras:
         self.assertEqual(
-            client.relationship_set.first().extra_fields, {
-                'referral_date': '2012-12-12',
-                'referral_reason': "Testing referral reason"})
+            client.relationship_set.first().extra_fields,
+            {
+                "referral_date": "2012-12-12",
+                "referral_reason": "Testing referral reason",
+            },
+        )
 
         # test_billing_name:
         self.assertEqual(client.billing_member.firstname, "Billing")
         self.assertEqual(client.billing_member.lastname, "Testing")
 
         #  test_billing_type:
         self.assertEqual(client.billing_payment_type, "credit")
 
         #  test_billing_address:
         self.assertEqual(client.billing_member.address.city, "Montreal")
         self.assertEqual(client.billing_member.address.street, "111 rue clark")
         self.assertEqual(client.billing_member.address.postal_code, "H2C 3G4")
 
         #  test_billing_rate_type:
-        self.assertEqual(client.rate_type, 'default')
+        self.assertEqual(client.rate_type, "default")
 
         # Test meals schedule
-        self.assertEqual(client.simple_meals_schedule, ['monday', 'wednesday'])
+        self.assertEqual(client.simple_meals_schedule, ["monday", "wednesday"])
 
         # test_restrictions
         restriction_1 = Restriction.objects.get(
-            client=client, restricted_item=self.restricted_item_1)
+            client=client, restricted_item=self.restricted_item_1
+        )
         restriction_2 = Restriction.objects.get(
-            client=client, restricted_item=self.restricted_item_2)
+            client=client, restricted_item=self.restricted_item_2
+        )
         self.assertTrue(self.restricted_item_1.name in str(restriction_1))
         self.assertTrue(self.restricted_item_2.name in str(restriction_2))
 
         # Test food preparation
         food_preparation = Client_option.objects.get(
-            client=client,
-            option=self.food_preparation
+            client=client, option=self.food_preparation
         )
         self.assertTrue(self.food_preparation.name in str(food_preparation))
 
         # Test for ingredients to avoid
-        self.assertTrue(self.ingredient in set(client.ingredients_to_avoid.all()))  # noqa
+        self.assertTrue(
+            self.ingredient in set(client.ingredients_to_avoid.all())
+        )  # noqa
 
         # Test for components to avoid
         self.assertTrue(self.component in set(client.components_to_avoid.all()))  # noqa
 
     """
     Test that the meals preferences are properly displayed.
     """
 
     def _test_client_view_preferences(self, client):
         resp = self.client.get(
-            reverse_lazy('member:client_allergies', kwargs={'pk': client.id})
+            reverse_lazy("member:client_allergies", kwargs={"pk": client.id})
         )
 
         # self.assertContains(resp, client.get_status_display)
         self.assertContains(resp, self.restricted_item_1)
         self.assertContains(resp, self.restricted_item_2)
         self.assertContains(resp, self.food_preparation)
         self.assertContains(resp, self.ingredient.name)
         self.assertContains(resp, self.component.name)
 
     def _test_client_detail_view(self, client):
         response = self.client.get(
-            reverse_lazy('member:client_information', kwargs={'pk': client.id})
+            reverse_lazy("member:client_information", kwargs={"pk": client.id})
         )
         self.assertEqual(response.status_code, 200)
 
         self.assertTrue(b"User" in response.content)
         self.assertTrue(b"Testing" in response.content)
         self.assertTrue(b"Home phone" in response.content)
         self.assertTrue(b"555 rue clark" in response.content)
@@ -971,86 +947,90 @@
             "client_wizard-current_step": "basic_information",
             "basic_information-firstname": "User",
             "basic_information-lastname": "",
             "basic_information-language": "fr",
             "basic_information-gender": "M",
             "basic_information-birthdate": "",
             "basic_information-alert": "",
-            "wizard_goto_step": ""
+            "wizard_goto_step": "",
         }
 
         # Send the data to the form.
         error_response = self.client.post(
-            reverse_lazy(
-                'member:member_step',
-                kwargs={'step': "basic_information"}
-            ),
+            reverse_lazy("member:member_step", kwargs={"step": "basic_information"}),
             basic_information_data_with_error,
-            follow=True
+            follow=True,
         )
 
         # The response is the same form with the errors messages.
-        self.assertTrue(error_response.context['form'].errors)
-        self.assertFormError(error_response, 'form',
-                             'lastname',
-                             ugettext('This field is required.'))
-        self.assertFormError(error_response, 'form',
-                             'birthdate',
-                             ugettext('This field is required.'))
-        self.assertFormError(error_response, 'form',
-                             'email',
-                             ugettext('At least one contact information '
-                                      'is required.'))
-        self.assertFormError(error_response, 'form',
-                             'home_phone',
-                             ugettext('At least one contact information '
-                                      'is required.'))
-        self.assertFormError(error_response, 'form',
-                             'cell_phone',
-                             ugettext('At least one contact information '
-                                      'is required.'))
+        self.assertTrue(error_response.context["form"].errors)
+        self.assertFormError(
+            error_response, "form", "lastname", ugettext("This field is required.")
+        )
+        self.assertFormError(
+            error_response, "form", "birthdate", ugettext("This field is required.")
+        )
+        self.assertFormError(
+            error_response,
+            "form",
+            "email",
+            ugettext("At least one contact information " "is required."),
+        )
+        self.assertFormError(
+            error_response,
+            "form",
+            "home_phone",
+            ugettext("At least one contact information " "is required."),
+        )
+        self.assertFormError(
+            error_response,
+            "form",
+            "cell_phone",
+            ugettext("At least one contact information " "is required."),
+        )
 
     def _test_basic_information_without_errors(self):
         # Data for the basic_information step without errors.
         basic_information_data = {
             "client_wizard-current_step": "basic_info",
             "basic_information-firstname": "User",
             "basic_information-lastname": "Testing",
             "basic_information-language": "fr",
             "basic_information-gender": "M",
             "basic_information-birthdate": "1990-12-12",
             "basic_information-home_phone": "555-555-5555",
             "basic_information-alert": "Testing alert message",
-            "wizard_goto_step": ""
+            "wizard_goto_step": "",
         }
 
         # Send the data to the form.
         response = self.client.post(
             reverse_lazy(
-                'member:member_step',
-                kwargs={'step': ugettext("basic_information")}
+                "member:member_step", kwargs={"step": ugettext("basic_information")}
             ),
             basic_information_data,
-            follow=True
+            follow=True,
         )
 
         # Check redirect (successful POST)
-        self.assertRedirects(response, reverse_lazy(
-            'member:member_step',
-            kwargs={'step': ugettext("address_information")}
-        ))
+        self.assertRedirects(
+            response,
+            reverse_lazy(
+                "member:member_step", kwargs={"step": ugettext("address_information")}
+            ),
+        )
 
         # The response is the next step of the form with no errors messages.
-        form = response.context['form']
+        form = response.context["form"]
         self.assertFalse(form.errors)
-        self.assertNotIn('gender', form.fields)
-        self.assertNotIn('home_phone', form.fields)
-        self.assertNotIn('contact_value', form.fields)
+        self.assertNotIn("gender", form.fields)
+        self.assertNotIn("home_phone", form.fields)
+        self.assertNotIn("contact_value", form.fields)
         # New form field in the next step
-        self.assertIn('street', form.fields)
+        self.assertIn("street", form.fields)
 
     def _test_address_information_with_errors(self):
         # Data for the address_information step with errors.
         address_information_data_with_error = {
             "client_wizard-current_step": "address_information",
             "address_information-street": "",
             "address_information-apartment": "",
@@ -1058,32 +1038,31 @@
             "address_information-postal_code": "",
             "wizard_goto_step": "",
         }
 
         # Send the data to the form.
         response_error = self.client.post(
             reverse_lazy(
-                'member:member_step',
-                kwargs={'step': ugettext("address_information")}
+                "member:member_step", kwargs={"step": ugettext("address_information")}
             ),
             address_information_data_with_error,
-            follow=True
+            follow=True,
         )
 
         # The response is the same form with the errors messages.
-        self.assertTrue(response_error.context['form'].errors)
-        self.assertFormError(response_error, 'form',
-                             'street',
-                             ugettext('This field is required.'))
-        self.assertFormError(response_error, 'form',
-                             'city',
-                             ugettext('This field is required.'))
-        self.assertFormError(response_error, 'form',
-                             'postal_code',
-                             ugettext('This field is required.'))
+        self.assertTrue(response_error.context["form"].errors)
+        self.assertFormError(
+            response_error, "form", "street", ugettext("This field is required.")
+        )
+        self.assertFormError(
+            response_error, "form", "city", ugettext("This field is required.")
+        )
+        self.assertFormError(
+            response_error, "form", "postal_code", ugettext("This field is required.")
+        )
 
     def _test_address_information_without_errors(self):
         # Data for the address_information step without errors.
         address_information_data = {
             "client_wizard-current_step": "address_information",
             "address_information-street": "555 rue clark",
             "address_information-apartment": "222",
@@ -1095,98 +1074,123 @@
             "address_information-distance": 4.062611162244175,
             "wizard_goto_step": "",
         }
 
         # Send the data to the form.
         response = self.client.post(
             reverse_lazy(
-                'member:member_step',
-                kwargs={'step': ugettext("address_information")}),
+                "member:member_step", kwargs={"step": ugettext("address_information")}
+            ),
             address_information_data,
-            follow=True
+            follow=True,
         )
 
         # Check redirect (successful POST)
-        self.assertRedirects(response, reverse(
-            'member:member_step',
-            kwargs={'step': ugettext("relationships")}
-        ))
+        self.assertRedirects(
+            response,
+            reverse("member:member_step", kwargs={"step": ugettext("relationships")}),
+        )
 
         # The response is the next step of the form with no errors messages.
-        form = response.context['form']
+        form = response.context["form"]
         self.assertFalse(form.errors)
-        self.assertEqual(form.prefix, 'relationships')
+        self.assertEqual(form.prefix, "relationships")
 
     def _test_step_relationships_with_errors(self):
         # Data for the address_information step with errors.
         emergency_contact_data_with_error = {
             "client_wizard-current_step": "relationships",
             "relationships-TOTAL_FORMS": "1",
             "relationships-INITIAL_FORMS": "1",
             "relationships-MIN_NUM_FORMS": "0",
             "relationships-MAX_NUM_FORMS": "1000",
             "relationships-0-firstname": "",
             "relationships-0-lastname": "",
             "relationships-0-work_phone": "",
             "relationships-0-nature": "",
-            "relationships-0-type": [
-                Relationship.EMERGENCY, Relationship.REFERENT],
+            "relationships-0-type": [Relationship.EMERGENCY, Relationship.REFERENT],
             "relationships-0-work_information": "",
             "relationships-0-referral_date": "",
             "relationships-0-referral_reason": "",
         }
 
         # Send the data to the form.
         response_error = self.client.post(
             reverse_lazy(
-                'member:member_step',
-                kwargs={'step': ugettext("relationships")}
+                "member:member_step", kwargs={"step": ugettext("relationships")}
             ),
             emergency_contact_data_with_error,
-            follow=True
+            follow=True,
         )
 
         # Validate that the response is the same form with the errors messages.
-        self.assertTrue(response_error.context['form'].errors)
-        self.assertFormsetError(response_error, 'form', 0,
-                                'cell_phone',
-                                ugettext('At least one contact '
-                                         'is required.'))
-        self.assertFormsetError(response_error, 'form', 0,
-                                'work_phone',
-                                ugettext('At least one contact '
-                                         'is required.'))
-        self.assertFormsetError(response_error, 'form', 0,
-                                'email',
-                                ugettext('At least one contact '
-                                         'is required.'))
-        self.assertFormsetError(response_error, 'form', 0,
-                                'lastname',
-                                ugettext('This field is required unless '
-                                         'you chose an existing member.'))
-        self.assertFormsetError(response_error, 'form', 0,
-                                'firstname',
-                                ugettext('This field is required unless '
-                                         'you chose an existing member.'))
-        self.assertFormsetError(response_error, 'form', 0,
-                                'firstname',
-                                ugettext('This field is required unless '
-                                         'you chose an existing member.'))
-        self.assertFormsetError(response_error, 'form', 0,
-                                'work_information',
-                                ugettext('This field is required '
-                                         'for a referent relationship.'))
-        self.assertFormsetError(response_error, 'form', 0,
-                                'referral_date',
-                                ugettext('This field is required '
-                                         'for a referent relationship.'))
-        self.assertFormsetError(response_error, 'form', 0,
-                                'referral_reason',
-                                ugettext('This field is required '
-                                         'for a referent relationship.'))
+        self.assertTrue(response_error.context["form"].errors)
+        self.assertFormsetError(
+            response_error,
+            "form",
+            0,
+            "cell_phone",
+            ugettext("At least one contact " "is required."),
+        )
+        self.assertFormsetError(
+            response_error,
+            "form",
+            0,
+            "work_phone",
+            ugettext("At least one contact " "is required."),
+        )
+        self.assertFormsetError(
+            response_error,
+            "form",
+            0,
+            "email",
+            ugettext("At least one contact " "is required."),
+        )
+        self.assertFormsetError(
+            response_error,
+            "form",
+            0,
+            "lastname",
+            ugettext("This field is required unless " "you chose an existing member."),
+        )
+        self.assertFormsetError(
+            response_error,
+            "form",
+            0,
+            "firstname",
+            ugettext("This field is required unless " "you chose an existing member."),
+        )
+        self.assertFormsetError(
+            response_error,
+            "form",
+            0,
+            "firstname",
+            ugettext("This field is required unless " "you chose an existing member."),
+        )
+        self.assertFormsetError(
+            response_error,
+            "form",
+            0,
+            "work_information",
+            ugettext("This field is required " "for a referent relationship."),
+        )
+        self.assertFormsetError(
+            response_error,
+            "form",
+            0,
+            "referral_date",
+            ugettext("This field is required " "for a referent relationship."),
+        )
+        self.assertFormsetError(
+            response_error,
+            "form",
+            0,
+            "referral_reason",
+            ugettext("This field is required " "for a referent relationship."),
+        )
 
     def _test_step_relationships_without_errors(self):
         # Data for the address_information step without errors.
         pk = Member.objects.get(firstname="First").id
         relationships_data = {
             "client_wizard-current_step": "relationships",
             "relationships-TOTAL_FORMS": "1",
@@ -1195,43 +1199,43 @@
             "relationships-MAX_NUM_FORMS": "1000",
             "relationships-0-member": "[{}] First Member".format(pk),
             "relationships-0-firstname": "",
             "relationships-0-lastname": "",
             "relationships-0-work_phone": "",
             "relationships-0-work_information": "",
             "relationships-0-nature": "friend",
-            "relationships-0-type": [
-                Relationship.EMERGENCY, Relationship.REFERENT],
+            "relationships-0-type": [Relationship.EMERGENCY, Relationship.REFERENT],
             "relationships-0-referral_date": "2012-12-12",
             "relationships-0-referral_reason": "Test reason",
         }
 
         # Send the data to the form.
         response = self.client.post(
             reverse_lazy(
-                'member:member_step',
-                kwargs={'step': ugettext("relationships")}
+                "member:member_step", kwargs={"step": ugettext("relationships")}
             ),
             relationships_data,
-            follow=True
+            follow=True,
         )
 
         # Check redirect (successful POST)
-        self.assertRedirects(response, reverse_lazy(
-            'member:member_step',
-            kwargs={'step': ugettext("payment_information")}
-        ))
+        self.assertRedirects(
+            response,
+            reverse_lazy(
+                "member:member_step", kwargs={"step": ugettext("payment_information")}
+            ),
+        )
 
         # The response is the next step of the form with no errors messages.
-        form = response.context['form']
+        form = response.context["form"]
         self.assertFalse(form.errors)
-        self.assertNotIn('work_information', form.fields)
+        self.assertNotIn("work_information", form.fields)
         # New form field in the next step
-        self.assertIn('billing_payment_type', form.fields)
-        self.assertIn('facturation', form.fields)
+        self.assertIn("billing_payment_type", form.fields)
+        self.assertIn("facturation", form.fields)
 
     def _test_payment_information_with_errors(self):
         # Data for the address_information step with errors.
         pk = Member.objects.get(firstname="Second").id
         payment_information_data_with_error = {
             "client_wizard-current_step": "payment_information",
             "payment_information-member": "[{}] Second Member".format(pk),
@@ -1245,34 +1249,44 @@
             "payment_information-postal_code": "",
             "wizard_goto_step": "",
         }
 
         # Send the data to the form.
         response_error = self.client.post(
             reverse_lazy(
-                'member:member_step',
-                kwargs={'step': ugettext("payment_information")}
+                "member:member_step", kwargs={"step": ugettext("payment_information")}
             ),
             payment_information_data_with_error,
-            follow=True
+            follow=True,
         )
 
         # Validate that the response is the same form with the errors messages.
-        self.assertTrue(response_error.context['form'].errors)
-        self.assertFormError(response_error, 'form',
-                             'billing_payment_type',
-                             ugettext('Select a valid choice. %(value)s is '
-                                      'not one of the available '
-                                      'choices.') % {'value': 'INVALID'})
-        self.assertFormError(response_error, 'form',
-                             'member',
-                             ugettext('This member has not a valid address, '
-                                      'please add a valid address to this '
-                                      'member, '
-                                      'so it can be used for the billing.'))
+        self.assertTrue(response_error.context["form"].errors)
+        self.assertFormError(
+            response_error,
+            "form",
+            "billing_payment_type",
+            ugettext(
+                "Select a valid choice. %(value)s is "
+                "not one of the available "
+                "choices."
+            )
+            % {"value": "INVALID"},
+        )
+        self.assertFormError(
+            response_error,
+            "form",
+            "member",
+            ugettext(
+                "This member has not a valid address, "
+                "please add a valid address to this "
+                "member, "
+                "so it can be used for the billing."
+            ),
+        )
 
         # Data for the address_information step with errors.
         payment_information_data_with_error = {
             "client_wizard-current_step": "payment_information",
             "payment_information-member": "",
             "payment_information-firstname": "Third",
             "payment_information-lastname": "Member",
@@ -1284,32 +1298,31 @@
             "payment_information-postal_code": "",
             "wizard_goto_step": "",
         }
 
         # Send the data to the form.
         response_error = self.client.post(
             reverse_lazy(
-                'member:member_step',
-                kwargs={'step': ugettext("payment_information")}
+                "member:member_step", kwargs={"step": ugettext("payment_information")}
             ),
             payment_information_data_with_error,
-            follow=True
+            follow=True,
         )
 
         # Validate that the response is the same form with the errors messages.
-        self.assertTrue(response_error.context['form'].errors)
-        self.assertFormError(response_error, 'form',
-                             'street',
-                             ugettext('This field is required'))
-        self.assertFormError(response_error, 'form',
-                             'city',
-                             ugettext('This field is required'))
-        self.assertFormError(response_error, 'form',
-                             'postal_code',
-                             ugettext('This field is required'))
+        self.assertTrue(response_error.context["form"].errors)
+        self.assertFormError(
+            response_error, "form", "street", ugettext("This field is required")
+        )
+        self.assertFormError(
+            response_error, "form", "city", ugettext("This field is required")
+        )
+        self.assertFormError(
+            response_error, "form", "postal_code", ugettext("This field is required")
+        )
 
     def _test_payment_information_without_errors(self):
         # Data for the address_information step without errors.
         pk = Member.objects.get(firstname="First").id
         payment_information_data = {
             "client_wizard-current_step": "payment_information",
             "payment_information-member": "[{}] First Member".format(pk),
@@ -1323,146 +1336,144 @@
             "payment_information-postal_code": "",
             "wizard_goto_step": "",
         }
 
         # Send the data to the form.
         response = self.client.post(
             reverse_lazy(
-                'member:member_step',
-                kwargs={'step': ugettext("payment_information")}
+                "member:member_step", kwargs={"step": ugettext("payment_information")}
             ),
             payment_information_data,
-            follow=True
+            follow=True,
         )
 
         # Check redirect (successful POST)
-        self.assertRedirects(response, reverse(
-            'member:member_step',
-            kwargs={'step': ugettext("dietary_restriction")}
-        ))
+        self.assertRedirects(
+            response,
+            reverse(
+                "member:member_step", kwargs={"step": ugettext("dietary_restriction")}
+            ),
+        )
 
         # The response is the next step of the form with no errors messages.
-        form = response.context['form']
+        form = response.context["form"]
         self.assertFalse(form.errors)
-        self.assertNotIn('billing_payment_type', form.fields)
-        self.assertNotIn('facturation', form.fields)
+        self.assertNotIn("billing_payment_type", form.fields)
+        self.assertNotIn("facturation", form.fields)
         # New form field in the next step
-        self.assertIn('status', form.fields)
+        self.assertIn("status", form.fields)
 
     def _test_step_dietary_restriction_with_errors(self):
         # Data for the address_information step with errors.
         restriction_information_data_with_error = {
             "client_wizard-current_step": "dietary_restriction",
             "dietary_restriction-status": "",
             "dietary_restriction-delivery_type": "",
             "dietary_restriction-meals_schedule": "",
             "dietary_restriction-meal_default": "",
-            "wizard_goto_step": ""
+            "wizard_goto_step": "",
         }
 
         # Send the data to the form.
         response_error = self.client.post(
             reverse_lazy(
-                'member:member_step',
-                kwargs={'step': ugettext("dietary_restriction")}
+                "member:member_step", kwargs={"step": ugettext("dietary_restriction")}
             ),
             restriction_information_data_with_error,
-            follow=True
+            follow=True,
         )
 
         # Validate that the response is the same form with the errors messages.
-        self.assertTrue(response_error.context['form'].errors)
-        self.assertFormError(response_error, 'form',
-                             'delivery_type',
-                             ugettext('This field is required.'))
-        self.assertFormError(response_error, 'form',
-                             'meals_schedule',
-                             ugettext('Select a valid choice. %(value)s is '
-                                      'not one of the available '
-                                      'choices.') % {'value': ''})
+        self.assertTrue(response_error.context["form"].errors)
+        self.assertFormError(
+            response_error, "form", "delivery_type", ugettext("This field is required.")
+        )
+        self.assertFormError(
+            response_error,
+            "form",
+            "meals_schedule",
+            ugettext(
+                "Select a valid choice. %(value)s is "
+                "not one of the available "
+                "choices."
+            )
+            % {"value": ""},
+        )
 
     def _test_step_dietary_restriction_without_errors(self):
         # Data for the address_information step without errors.
         restriction_information_data = {
             "client_wizard-current_step": "dietary_restriction",
             "dietary_restriction-status": "on",
             "dietary_restriction-delivery_type": "O",
             "dietary_restriction-meals_schedule": "monday",
             "dietary_restriction-meal_default": "1",
-            "wizard_goto_step": ""
+            "wizard_goto_step": "",
         }
-        for day in [restriction_information_data[
-                "dietary_restriction-meals_schedule"
-        ]]:
+        for day in [restriction_information_data["dietary_restriction-meals_schedule"]]:
             restriction_information_data[
-                'dietary_restriction-size_{}'.format(day)
-            ] = 'R'
+                "dietary_restriction-size_{}".format(day)
+            ] = "R"
             for component, _ in COMPONENT_GROUP_CHOICES:
-                name = "dietary_restriction-{}_{}_quantity".format(
-                    component, day
-                )
+                name = "dietary_restriction-{}_{}_quantity".format(component, day)
                 restriction_information_data[name] = 1
 
         # Send the data to the form.
         response = self.client.post(
             reverse_lazy(
-                'member:member_step',
-                kwargs={'step': ugettext("dietary_restriction")}
+                "member:member_step", kwargs={"step": ugettext("dietary_restriction")}
             ),
             restriction_information_data,
-            follow=True
+            follow=True,
         )
 
         # Check redirect (successful POST)
-        self.assertRedirects(response, reverse('member:list'))
+        self.assertRedirects(response, reverse("member:list"))
 
         # After final step: no forms anymore!
-        self.assertNotIn('form', response.context)
+        self.assertNotIn("form", response.context)
 
 
 class MemberSearchTestCase(SousChefTestMixin, TestCase):
-
     @classmethod
     def setUpTestData(cls):
-        member = Member.objects.create(
-            firstname='Katrina', lastname='Heide')
-        Contact.objects.create(
-            type='Home phone', value='514-456-7890', member=member)
+        member = Member.objects.create(firstname="Katrina", lastname="Heide")
+        Contact.objects.create(type="Home phone", value="514-456-7890", member=member)
 
     def setUp(self):
         self.force_login()
 
     def test_search_member_by_firstname(self):
         """
         A member must be find if the search use
         at least 3 characters of his first name
         """
         result = self.client.get(
-            reverse_lazy('member:search') + '?name=Heid',
-            HTTP_X_REQUESTED_WITH='XMLHttpRequest',
-            follow=True
+            reverse_lazy("member:search") + "?name=Heid",
+            HTTP_X_REQUESTED_WITH="XMLHttpRequest",
+            follow=True,
         )
-        self.assertTrue(b'Katrina Heide' in result.content)
+        self.assertTrue(b"Katrina Heide" in result.content)
 
     def test_search_member_by_lastname(self):
         """
         A member must be find if the search use
         at least 3 characters of his last name
         """
         result = self.client.get(
-            reverse_lazy('member:search') + '?name=Katri',
-            HTTP_X_REQUESTED_WITH='XMLHttpRequest',
-            follow=True
+            reverse_lazy("member:search") + "?name=Katri",
+            HTTP_X_REQUESTED_WITH="XMLHttpRequest",
+            follow=True,
         )
-        self.assertTrue(b'Katrina Heide' in result.content)
+        self.assertTrue(b"Katrina Heide" in result.content)
 
 
 class ClientStatusUpdateAndScheduleCase(SousChefTestMixin, TestCase):
 
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def setUp(self):
         self.active_client = ClientFactory(status=Client.ACTIVE)
         self.stop_client = ClientFactory(status=Client.STOPNOCONTACT)
 
     def test_scheduled_change_is_valid(self):
         """
@@ -1482,859 +1493,851 @@
         A scheduled change is only valid if the client status matches with
         the status_from attribute of the schedules change.
         """
         scheduled_change = ClientScheduledStatusFactory(
             client=self.stop_client,
             change_date=date.today(),
             status_from=Client.ACTIVE,
-            status_to=Client.PAUSED
+            status_to=Client.PAUSED,
         )
         self.assertFalse(scheduled_change.is_valid())
 
     def test_scheduled_change_needs_attention(self):
         """
         Needs attention when the status is ERROR or the scheduled date has
         passed.
         """
         scheduled_change = ClientScheduledStatusFactory(
             client=self.active_client,
             change_date=date.today() - timedelta(days=1),
             status_from=Client.ACTIVE,
             status_to=Client.PAUSED,
-            operation_status=ClientScheduledStatus.TOBEPROCESSED
+            operation_status=ClientScheduledStatus.TOBEPROCESSED,
         )
         self.assertTrue(scheduled_change.needs_attention)
         scheduled_change = ClientScheduledStatusFactory(
             client=self.active_client,
             change_date=date.today(),
             status_from=Client.ACTIVE,
             status_to=Client.PAUSED,
-            operation_status=ClientScheduledStatus.ERROR
+            operation_status=ClientScheduledStatus.ERROR,
         )
         self.assertTrue(scheduled_change.needs_attention)
         scheduled_change = ClientScheduledStatusFactory(
             client=self.active_client,
             change_date=date.today(),
             status_from=Client.ACTIVE,
             status_to=Client.PAUSED,
-            operation_status=ClientScheduledStatus.TOBEPROCESSED
+            operation_status=ClientScheduledStatus.TOBEPROCESSED,
         )
         self.assertTrue(scheduled_change.needs_attention)
         scheduled_change = ClientScheduledStatusFactory(
             client=self.active_client,
             change_date=date.today() + timedelta(days=1),
             status_from=Client.ACTIVE,
             status_to=Client.PAUSED,
-            operation_status=ClientScheduledStatus.TOBEPROCESSED
+            operation_status=ClientScheduledStatus.TOBEPROCESSED,
         )
         self.assertFalse(scheduled_change.needs_attention)
 
     def test_scheduled_change_process_success(self):
         scheduled_change = ClientScheduledStatusFactory(
             client=self.active_client,
             change_date=date.today(),
             status_from=Client.ACTIVE,
-            status_to=Client.PAUSED
+            status_to=Client.PAUSED,
         )
         self.assertTrue(scheduled_change.process())
         self.assertEqual(
-            scheduled_change.operation_status,
-            ClientScheduledStatus.PROCESSED)
+            scheduled_change.operation_status, ClientScheduledStatus.PROCESSED
+        )
         self.assertEqual(self.active_client.status, Client.PAUSED)
         self.assertEqual(self.active_client.notes.count(), 1)
-        self.assertEqual(self.active_client.notes.first().note,
-                         scheduled_change.__str__())
+        self.assertEqual(
+            self.active_client.notes.first().note, scheduled_change.__str__()
+        )
 
     def test_scheduled_change_process_failed(self):
         scheduled_change = ClientScheduledStatusFactory(
             client=self.stop_client,
             change_date=date.today(),
             status_from=Client.ACTIVE,
-            status_to=Client.PAUSED
+            status_to=Client.PAUSED,
         )
         self.assertFalse(scheduled_change.process())
-        self.assertEqual(
-            scheduled_change.operation_status,
-            ClientScheduledStatus.ERROR)
+        self.assertEqual(scheduled_change.operation_status, ClientScheduledStatus.ERROR)
         self.assertEqual(self.stop_client.status, Client.STOPNOCONTACT)
 
     def test_command_process_scheduled_status_idle(self):
         ClientScheduledStatusFactory.create_batch(
             10,
             change_date=date.today(),
-            operation_status=ClientScheduledStatus.PROCESSED)
+            operation_status=ClientScheduledStatus.PROCESSED,
+        )
         out = StringIO()
-        call_command('processscheduledstatuschange', stdout=out)
-        self.assertNotIn('status updated', out.getvalue())
+        call_command("processscheduledstatuschange", stdout=out)
+        self.assertNotIn("status updated", out.getvalue())
 
     def test_command_process_scheduled_status(self):
         scheduled_change = ClientScheduledStatusFactory(
             client=self.active_client,
             change_date=date.today(),
             status_from=Client.ACTIVE,
-            status_to=Client.PAUSED
+            status_to=Client.PAUSED,
         )
         out = StringIO()
-        call_command('processscheduledstatuschange', stdout=out)
-        with translation.override('en'):
-            self.assertIn('client {} status updated from {} to {}'.format(
-                self.active_client.member,
-                scheduled_change.get_status_from_display(),
-                scheduled_change.get_status_to_display()
-            ), out.getvalue())
+        call_command("processscheduledstatuschange", stdout=out)
+        with translation.override("en"):
+            self.assertIn(
+                "client {} status updated from {} to {}".format(
+                    self.active_client.member,
+                    scheduled_change.get_status_from_display(),
+                    scheduled_change.get_status_to_display(),
+                ),
+                out.getvalue(),
+            )
         # Reload
-        scheduled_change = ClientScheduledStatus.objects.get(
-            id=scheduled_change.id)
+        scheduled_change = ClientScheduledStatus.objects.get(id=scheduled_change.id)
         self.assertEqual(
-            scheduled_change.operation_status,
-            ClientScheduledStatus.PROCESSED)
+            scheduled_change.operation_status, ClientScheduledStatus.PROCESSED
+        )
 
     def test_form_save_bypassed(self):
         form = ClientScheduledStatusForm()
         with self.assertRaises(NotImplementedError):
             form.save()
 
     def test_form_save_scheduled_statuses_invalid_data(self):
         form = ClientScheduledStatusForm(initial={})
         self.assertFalse(form.is_valid())
         with self.assertRaises(ValueError):
             form.save_scheduled_statuses()
 
     def test_form_save_scheduled_statuses_process_immediately(self):
         test_client = ClientFactory(status=Client.ACTIVE)
-        form = ClientScheduledStatusForm({
-            'client': test_client.pk,
-            'status_from': Client.ACTIVE,
-            'status_to': Client.PAUSED,
-            'change_date': date.today(),
-            'end_date': date.today()
-        })
+        form = ClientScheduledStatusForm(
+            {
+                "client": test_client.pk,
+                "status_from": Client.ACTIVE,
+                "status_to": Client.PAUSED,
+                "change_date": date.today(),
+                "end_date": date.today(),
+            }
+        )
         self.assertTrue(form.is_valid())
         form.save_scheduled_statuses()
-        self.assertEqual(ClientScheduledStatus.objects.filter(
-            client=test_client,
-            operation_status=ClientScheduledStatus.PROCESSED).count(), 2)
+        self.assertEqual(
+            ClientScheduledStatus.objects.filter(
+                client=test_client, operation_status=ClientScheduledStatus.PROCESSED
+            ).count(),
+            2,
+        )
 
     def test_view_client_status_update_empty_dates(self):
         admin = User.objects.create_superuser(
-            username='admin@example.com',
-            email='admin@example.com',
-            password='test1234'
+            username="admin@example.com", email="admin@example.com", password="test1234"
         )
-        self.client.login(username=admin.username, password='test1234')
+        self.client.login(username=admin.username, password="test1234")
         data = {
-            'client': self.active_client.id,
-            'status_from': self.active_client.status,
-            'status_to': Client.PAUSED,
-            'reason': '',
+            "client": self.active_client.id,
+            "status_from": self.active_client.status,
+            "status_to": Client.PAUSED,
+            "reason": "",
         }
         response = self.client.post(
-            reverse_lazy('member:clientStatusScheduler',
-                         kwargs={'pk': self.active_client.id}),
+            reverse_lazy(
+                "member:clientStatusScheduler", kwargs={"pk": self.active_client.id}
+            ),
             data,
-            HTTP_X_REQUESTED_WITH='XMLHttpRequest',
-            follow=True
+            HTTP_X_REQUESTED_WITH="XMLHttpRequest",
+            follow=True,
         )
         self.assertEqual(response.status_code, 200)
         self.assertIn(
-            ugettext('This field is required.').encode(response.charset),
-            response.content
+            ugettext("This field is required.").encode(response.charset),
+            response.content,
         )
 
     def test_view_client_status_update_future_date(self):
         admin = User.objects.create_superuser(
-            username='admin@example.com',
-            email='admin@example.com',
-            password='test1234'
+            username="admin@example.com", email="admin@example.com", password="test1234"
         )
-        self.client.login(username=admin.username, password='test1234')
+        self.client.login(username=admin.username, password="test1234")
         data = {
-            'client': self.active_client.id,
-            'status_from': self.active_client.status,
-            'status_to': Client.PAUSED,
-            'reason': 'Holidays',
-            'change_date': '2018-09-23',
-            'end_date': '2018-10-02',
+            "client": self.active_client.id,
+            "status_from": self.active_client.status,
+            "status_to": Client.PAUSED,
+            "reason": "Holidays",
+            "change_date": "2018-09-23",
+            "end_date": "2018-10-02",
         }
         response = self.client.post(
-            reverse_lazy('member:clientStatusScheduler',
-                         kwargs={'pk': self.active_client.id}),
+            reverse_lazy(
+                "member:clientStatusScheduler", kwargs={"pk": self.active_client.id}
+            ),
             data,
-            HTTP_X_REQUESTED_WITH='XMLHttpRequest',
-            follow=True
+            HTTP_X_REQUESTED_WITH="XMLHttpRequest",
+            follow=True,
         )
         self.assertEqual(response.status_code, 200)
         client = Client.objects.get(pk=self.active_client.id)
         scheduled_change_start = ClientScheduledStatus.objects.get(
-            client=client.id, change_date='2018-09-23')
+            client=client.id, change_date="2018-09-23"
+        )
         scheduled_change_end = ClientScheduledStatus.objects.get(
-            client=client.id, change_date='2018-10-02')
-        self.assertEqual(scheduled_change_start.operation_status,
-                         ClientScheduledStatus.TOBEPROCESSED)
-        self.assertEqual(scheduled_change_start.status_from,
-                         self.active_client.status)
-        self.assertEqual(scheduled_change_start.status_to, Client.PAUSED)
-        self.assertEqual(scheduled_change_start.reason, 'Holidays')
+            client=client.id, change_date="2018-10-02"
+        )
         self.assertEqual(
-            scheduled_change_start.get_pair, scheduled_change_end
+            scheduled_change_start.operation_status, ClientScheduledStatus.TOBEPROCESSED
         )
-        self.assertEqual(scheduled_change_end.operation_status,
-                         ClientScheduledStatus.TOBEPROCESSED)
-        self.assertEqual(scheduled_change_end.status_from, Client.PAUSED)
-        self.assertEqual(scheduled_change_end.status_to,
-                         self.active_client.status)
-        self.assertEqual(scheduled_change_end.reason, 'Holidays')
+        self.assertEqual(scheduled_change_start.status_from, self.active_client.status)
+        self.assertEqual(scheduled_change_start.status_to, Client.PAUSED)
+        self.assertEqual(scheduled_change_start.reason, "Holidays")
+        self.assertEqual(scheduled_change_start.get_pair, scheduled_change_end)
         self.assertEqual(
-            scheduled_change_end.get_pair, scheduled_change_start
+            scheduled_change_end.operation_status, ClientScheduledStatus.TOBEPROCESSED
         )
+        self.assertEqual(scheduled_change_end.status_from, Client.PAUSED)
+        self.assertEqual(scheduled_change_end.status_to, self.active_client.status)
+        self.assertEqual(scheduled_change_end.reason, "Holidays")
+        self.assertEqual(scheduled_change_end.get_pair, scheduled_change_start)
 
     def test_view_client_status_update_no_end_date(self):
         admin = User.objects.create_superuser(
-            username='admin@example.com',
-            email='admin@example.com',
-            password='test1234'
+            username="admin@example.com", email="admin@example.com", password="test1234"
         )
-        self.client.login(username=admin.username, password='test1234')
+        self.client.login(username=admin.username, password="test1234")
         data = {
-            'client': self.active_client.id,
-            'status_from': self.active_client.status,
-            'status_to': Client.STOPCONTACT,
-            'reason': 'Holidays',
-            'change_date': '2019-09-23',
-            'end_date': '',
+            "client": self.active_client.id,
+            "status_from": self.active_client.status,
+            "status_to": Client.STOPCONTACT,
+            "reason": "Holidays",
+            "change_date": "2019-09-23",
+            "end_date": "",
         }
         response = self.client.post(
-            reverse_lazy('member:clientStatusScheduler',
-                         kwargs={'pk': self.active_client.id}),
+            reverse_lazy(
+                "member:clientStatusScheduler", kwargs={"pk": self.active_client.id}
+            ),
             data,
-            HTTP_X_REQUESTED_WITH='XMLHttpRequest',
+            HTTP_X_REQUESTED_WITH="XMLHttpRequest",
             follow=True,
         )
         self.assertEqual(response.status_code, 200)
         client = Client.objects.get(pk=self.active_client.id)
-        scheduled_change = ClientScheduledStatus.objects.get(
-            client=client.id)
-        self.assertEqual(scheduled_change.operation_status,
-                         ClientScheduledStatus.TOBEPROCESSED)
-        self.assertEqual(scheduled_change.status_from,
-                         self.active_client.status)
+        scheduled_change = ClientScheduledStatus.objects.get(client=client.id)
+        self.assertEqual(
+            scheduled_change.operation_status, ClientScheduledStatus.TOBEPROCESSED
+        )
+        self.assertEqual(scheduled_change.status_from, self.active_client.status)
         self.assertEqual(scheduled_change.status_to, Client.STOPCONTACT)
-        self.assertEqual(scheduled_change.reason, 'Holidays')
+        self.assertEqual(scheduled_change.reason, "Holidays")
         self.assertEqual(scheduled_change.get_pair, None)
 
     def test_view_client_status_update_to_by_processed_immediately(self):
         admin = User.objects.create_superuser(
-            username='admin@example.com',
-            email='admin@example.com',
-            password='test1234'
+            username="admin@example.com", email="admin@example.com", password="test1234"
         )
-        self.client.login(username=admin.username, password='test1234')
+        self.client.login(username=admin.username, password="test1234")
         data = {
-            'client': self.active_client.id,
-            'status_from': self.active_client.status,
-            'status_to': Client.STOPCONTACT,
-            'reason': 'Holidays',
+            "client": self.active_client.id,
+            "status_from": self.active_client.status,
+            "status_to": Client.STOPCONTACT,
+            "reason": "Holidays",
             # set today to be processed immediately
-            'change_date': date.today().isoformat(),
-            'end_date': '',
+            "change_date": date.today().isoformat(),
+            "end_date": "",
         }
         self.client.post(
-            reverse_lazy('member:clientStatusScheduler',
-                         kwargs={'pk': self.active_client.id}),
+            reverse_lazy(
+                "member:clientStatusScheduler", kwargs={"pk": self.active_client.id}
+            ),
             data,
-            HTTP_X_REQUESTED_WITH='XMLHttpRequest',
+            HTTP_X_REQUESTED_WITH="XMLHttpRequest",
             follow=True,
         )
         client = Client.objects.get(pk=self.active_client.id)
-        scheduled_change = ClientScheduledStatus.objects.get(
-            client=client.id
-        )
+        scheduled_change = ClientScheduledStatus.objects.get(client=client.id)
         self.assertEqual(
-            scheduled_change.operation_status,
-            ClientScheduledStatus.PROCESSED
+            scheduled_change.operation_status, ClientScheduledStatus.PROCESSED
         )
         self.assertEqual(scheduled_change.status_to, Client.STOPCONTACT)
         self.assertEqual(client.status, Client.STOPCONTACT)
-        self.assertEqual(scheduled_change.reason, 'Holidays')
+        self.assertEqual(scheduled_change.reason, "Holidays")
         self.assertEqual(scheduled_change.get_pair, None)
 
     def test_view_client_status_delete_without_pair(self):
         admin = User.objects.create_superuser(
-            username='admin@example.com',
-            email='admin@example.com',
-            password='test1234'
+            username="admin@example.com", email="admin@example.com", password="test1234"
         )
-        self.client.login(username=admin.username, password='test1234')
+        self.client.login(username=admin.username, password="test1234")
         self.client.post(
             reverse_lazy(
-                'member:clientStatusScheduler',
-                kwargs={'pk': self.active_client.id}
+                "member:clientStatusScheduler", kwargs={"pk": self.active_client.id}
             ),
             {
-                'client': self.active_client.id,
-                'status_from': self.active_client.status,
-                'status_to': Client.STOPCONTACT,
-                'reason': 'Holidays',
-                'change_date': '2019-09-23',
-                'end_date': '',
+                "client": self.active_client.id,
+                "status_from": self.active_client.status,
+                "status_to": Client.STOPCONTACT,
+                "reason": "Holidays",
+                "change_date": "2019-09-23",
+                "end_date": "",
             },
-            HTTP_X_REQUESTED_WITH='XMLHttpRequest',
+            HTTP_X_REQUESTED_WITH="XMLHttpRequest",
             follow=True,
         )
 
         self.assertEqual(1, ClientScheduledStatus.objects.count())
 
         self.client.post(
             reverse_lazy(
-                'member:delete_status',
-                kwargs={'pk': ClientScheduledStatus.objects.first().id}
+                "member:delete_status",
+                kwargs={"pk": ClientScheduledStatus.objects.first().id},
             ),
         )
 
         self.assertEqual(0, ClientScheduledStatus.objects.count())
 
     def test_view_client_status_delete_with_not_logged_user(self):
         admin = User.objects.create_superuser(
-            username='admin@example.com',
-            email='admin@example.com',
-            password='test1234'
+            username="admin@example.com", email="admin@example.com", password="test1234"
         )
-        self.client.login(username=admin.username, password='test1234')
+        self.client.login(username=admin.username, password="test1234")
         self.client.post(
             reverse_lazy(
-                'member:clientStatusScheduler',
-                kwargs={'pk': self.active_client.id}
+                "member:clientStatusScheduler", kwargs={"pk": self.active_client.id}
             ),
             {
-                'client': self.active_client.id,
-                'status_from': self.active_client.status,
-                'status_to': Client.PAUSED,
-                'reason': 'Holidays',
-                'change_date': '2018-09-23',
-                'end_date': '',
+                "client": self.active_client.id,
+                "status_from": self.active_client.status,
+                "status_to": Client.PAUSED,
+                "reason": "Holidays",
+                "change_date": "2018-09-23",
+                "end_date": "",
             },
-            HTTP_X_REQUESTED_WITH='XMLHttpRequest',
-            follow=True
+            HTTP_X_REQUESTED_WITH="XMLHttpRequest",
+            follow=True,
         )
 
         self.assertEqual(1, ClientScheduledStatus.objects.count())
 
         self.client.logout()
 
         client_status_base = ClientScheduledStatus.objects.first()
         response = self.client.post(
-            reverse_lazy(
-                'member:delete_status',
-                kwargs={'pk': client_status_base.id}
-            )
+            reverse_lazy("member:delete_status", kwargs={"pk": client_status_base.id})
         )
 
         self.assertEqual(response.status_code, 302)
 
     def test_view_client_status_delete_with_not_admin_user(self):
         admin = User.objects.create_superuser(
-            username='admin@example.com',
-            email='admin@example.com',
-            password='test1234'
+            username="admin@example.com", email="admin@example.com", password="test1234"
         )
         user = User.objects.create_user(
-            username='user@example.com',
-            email='user@example.com',
-            password='user1234'
+            username="user@example.com", email="user@example.com", password="user1234"
         )
-        self.client.login(username=admin.username, password='test1234')
+        self.client.login(username=admin.username, password="test1234")
         self.client.post(
             reverse_lazy(
-                'member:clientStatusScheduler',
-                kwargs={'pk': self.active_client.id}
+                "member:clientStatusScheduler", kwargs={"pk": self.active_client.id}
             ),
             {
-                'client': self.active_client.id,
-                'status_from': self.active_client.status,
-                'status_to': Client.PAUSED,
-                'reason': 'Holidays',
-                'change_date': '2018-09-23',
-                'end_date': '2018-10-02',
+                "client": self.active_client.id,
+                "status_from": self.active_client.status,
+                "status_to": Client.PAUSED,
+                "reason": "Holidays",
+                "change_date": "2018-09-23",
+                "end_date": "2018-10-02",
             },
-            HTTP_X_REQUESTED_WITH='XMLHttpRequest',
-            follow=True
+            HTTP_X_REQUESTED_WITH="XMLHttpRequest",
+            follow=True,
         )
 
         self.assertEqual(2, ClientScheduledStatus.objects.count())
 
         self.client.logout()
-        self.client.login(username=user.username, password='user1234')
+        self.client.login(username=user.username, password="user1234")
 
         client_status_base = ClientScheduledStatus.objects.first()
         response = self.client.post(
-            reverse_lazy(
-                'member:delete_status',
-                kwargs={'pk': client_status_base.id}
-            )
+            reverse_lazy("member:delete_status", kwargs={"pk": client_status_base.id})
         )
 
         self.assertEqual(response.status_code, 302)
 
     def test_view_reschedule_pair_valid(self):
         """
         A valid pair is retrieved (GET) and replaced (POST) together.
         """
         test_client = ClientFactory(status=Client.ACTIVE)
         c1 = ClientScheduledStatusFactory(
             client=test_client,
             status_from=Client.ACTIVE,
             status_to=Client.PAUSED,
             change_date=date.today() + timedelta(days=1),
-            operation_status=ClientScheduledStatus.TOBEPROCESSED)
+            operation_status=ClientScheduledStatus.TOBEPROCESSED,
+        )
         c2 = ClientScheduledStatusFactory(
             client=test_client,
             status_from=Client.PAUSED,
             status_to=Client.ACTIVE,
             change_date=date.today() + timedelta(days=7),
             operation_status=ClientScheduledStatus.TOBEPROCESSED,
-            pair=c1)
+            pair=c1,
+        )
 
         self.force_login()
 
         # GET
         response = self.client.get(
             reverse(
-                'member:clientStatusSchedulerReschedule',
+                "member:clientStatusSchedulerReschedule",
                 kwargs={
-                    'pk': test_client.pk,
-                    'scheduled_status_1_pk': c1.pk,
-                    'scheduled_status_2_pk': c2.pk,
-                }
+                    "pk": test_client.pk,
+                    "scheduled_status_1_pk": c1.pk,
+                    "scheduled_status_2_pk": c2.pk,
+                },
             )
         )
         self.assertEqual(response.status_code, 200)
-        cf = response.context['form'].initial
-        self.assertEqual(cf['client'], str(test_client.pk))
-        self.assertEqual(cf['status_from'], Client.ACTIVE)
-        self.assertEqual(cf['status_to'], Client.PAUSED)
-        self.assertEqual(cf['change_date'], date.today() + timedelta(days=1))
-        self.assertEqual(cf['end_date'], date.today() + timedelta(days=7))
+        cf = response.context["form"].initial
+        self.assertEqual(cf["client"], str(test_client.pk))
+        self.assertEqual(cf["status_from"], Client.ACTIVE)
+        self.assertEqual(cf["status_to"], Client.PAUSED)
+        self.assertEqual(cf["change_date"], date.today() + timedelta(days=1))
+        self.assertEqual(cf["end_date"], date.today() + timedelta(days=7))
 
         # POST
         response = self.client.post(
             reverse(
-                'member:clientStatusSchedulerReschedule',
+                "member:clientStatusSchedulerReschedule",
                 kwargs={
-                    'pk': test_client.pk,
-                    'scheduled_status_1_pk': c1.pk,
-                    'scheduled_status_2_pk': c2.pk,
-                }
-            ), {
-                'client': str(test_client.pk),
-                'status_from': Client.ACTIVE,
-                'status_to': Client.STOPCONTACT,
-                'reason': 'some reason',
-                'change_date': date.today() + timedelta(days=2),
-                'end_date': date.today() + timedelta(days=12)
-            }
+                    "pk": test_client.pk,
+                    "scheduled_status_1_pk": c1.pk,
+                    "scheduled_status_2_pk": c2.pk,
+                },
+            ),
+            {
+                "client": str(test_client.pk),
+                "status_from": Client.ACTIVE,
+                "status_to": Client.STOPCONTACT,
+                "reason": "some reason",
+                "change_date": date.today() + timedelta(days=2),
+                "end_date": date.today() + timedelta(days=12),
+            },
         )
         # Successful
-        self.assertRedirects(response, reverse(
-            'member:client_information', kwargs={'pk': test_client.pk}))
+        self.assertRedirects(
+            response,
+            reverse("member:client_information", kwargs={"pk": test_client.pk}),
+        )
 
-        self.assertEqual(ClientScheduledStatus.objects.filter(
-            client=test_client).count(), 2)
-        self.assertEqual(ClientScheduledStatus.objects.filter(
-            client=test_client,
-            status_from=Client.ACTIVE,
-            status_to=Client.STOPCONTACT,
-            change_date=date.today() + timedelta(days=2)
-        ).count(), 1)
-        self.assertEqual(ClientScheduledStatus.objects.filter(
-            client=test_client,
-            status_from=Client.STOPCONTACT,
-            status_to=Client.ACTIVE,
-            change_date=date.today() + timedelta(days=12)
-        ).count(), 1)
+        self.assertEqual(
+            ClientScheduledStatus.objects.filter(client=test_client).count(), 2
+        )
+        self.assertEqual(
+            ClientScheduledStatus.objects.filter(
+                client=test_client,
+                status_from=Client.ACTIVE,
+                status_to=Client.STOPCONTACT,
+                change_date=date.today() + timedelta(days=2),
+            ).count(),
+            1,
+        )
+        self.assertEqual(
+            ClientScheduledStatus.objects.filter(
+                client=test_client,
+                status_from=Client.STOPCONTACT,
+                status_to=Client.ACTIVE,
+                change_date=date.today() + timedelta(days=12),
+            ).count(),
+            1,
+        )
 
     def test_view_reschedule_pair_invalid(self):
         """
         In an invalid pair, only the first ClientScheduledStatus instance
         is retrieved (GET) and replaced (POST).
         """
         test_client = ClientFactory(status=Client.ACTIVE)
         c1 = ClientScheduledStatusFactory(
             client=test_client,
             status_from=Client.ACTIVE,
             status_to=Client.PAUSED,
             change_date=date.today() + timedelta(days=1),
-            operation_status=ClientScheduledStatus.TOBEPROCESSED)
+            operation_status=ClientScheduledStatus.TOBEPROCESSED,
+        )
         c2 = ClientScheduledStatusFactory(
             client=test_client,
             status_from=Client.PAUSED,
             status_to=Client.ACTIVE,
-            reason='invalid pair',
+            reason="invalid pair",
             change_date=date.today() + timedelta(days=7),
             operation_status=ClientScheduledStatus.TOBEPROCESSED,
-            pair=ClientScheduledStatusFactory(client=ClientFactory()))
+            pair=ClientScheduledStatusFactory(client=ClientFactory()),
+        )
 
         self.force_login()
 
         # GET
         response = self.client.get(
             reverse(
-                'member:clientStatusSchedulerReschedule',
+                "member:clientStatusSchedulerReschedule",
                 kwargs={
-                    'pk': test_client.pk,
-                    'scheduled_status_1_pk': c1.pk,
-                    'scheduled_status_2_pk': c2.pk,
-                }
+                    "pk": test_client.pk,
+                    "scheduled_status_1_pk": c1.pk,
+                    "scheduled_status_2_pk": c2.pk,
+                },
             )
         )
         self.assertEqual(response.status_code, 200)
-        cf = response.context['form'].initial
-        self.assertEqual(cf['client'], str(test_client.pk))
-        self.assertEqual(cf['status_from'], Client.ACTIVE)
-        self.assertEqual(cf['status_to'], Client.PAUSED)
-        self.assertEqual(cf['change_date'], date.today() + timedelta(days=1))
-        self.assertEqual(cf['end_date'], None)
+        cf = response.context["form"].initial
+        self.assertEqual(cf["client"], str(test_client.pk))
+        self.assertEqual(cf["status_from"], Client.ACTIVE)
+        self.assertEqual(cf["status_to"], Client.PAUSED)
+        self.assertEqual(cf["change_date"], date.today() + timedelta(days=1))
+        self.assertEqual(cf["end_date"], None)
 
         # POST
         response = self.client.post(
             reverse(
-                'member:clientStatusSchedulerReschedule',
+                "member:clientStatusSchedulerReschedule",
                 kwargs={
-                    'pk': test_client.pk,
-                    'scheduled_status_1_pk': c1.pk,
-                    'scheduled_status_2_pk': c2.pk,
-                }
-            ), {
-                'client': str(test_client.pk),
-                'status_from': Client.ACTIVE,
-                'status_to': Client.STOPCONTACT,
-                'reason': 'some reason',
-                'change_date': date.today() + timedelta(days=2),
-                'end_date': date.today() + timedelta(days=12)
-            }
+                    "pk": test_client.pk,
+                    "scheduled_status_1_pk": c1.pk,
+                    "scheduled_status_2_pk": c2.pk,
+                },
+            ),
+            {
+                "client": str(test_client.pk),
+                "status_from": Client.ACTIVE,
+                "status_to": Client.STOPCONTACT,
+                "reason": "some reason",
+                "change_date": date.today() + timedelta(days=2),
+                "end_date": date.today() + timedelta(days=12),
+            },
         )
         # Successful
-        self.assertRedirects(response, reverse(
-            'member:client_information', kwargs={'pk': test_client.pk}))
+        self.assertRedirects(
+            response,
+            reverse("member:client_information", kwargs={"pk": test_client.pk}),
+        )
 
-        self.assertEqual(ClientScheduledStatus.objects.filter(
-            client=test_client).count(), 3)
-        self.assertEqual(ClientScheduledStatus.objects.filter(
-            client=test_client,
-            status_from=Client.ACTIVE,
-            status_to=Client.STOPCONTACT,
-            change_date=date.today() + timedelta(days=2)
-        ).count(), 1)
-        self.assertEqual(ClientScheduledStatus.objects.filter(
-            client=test_client,
-            status_from=Client.STOPCONTACT,
-            status_to=Client.ACTIVE,
-            change_date=date.today() + timedelta(days=12)
-        ).count(), 1)
-        self.assertEqual(ClientScheduledStatus.objects.filter(
-            client=test_client,
-            reason='invalid pair'
-        ).count(), 1)
+        self.assertEqual(
+            ClientScheduledStatus.objects.filter(client=test_client).count(), 3
+        )
+        self.assertEqual(
+            ClientScheduledStatus.objects.filter(
+                client=test_client,
+                status_from=Client.ACTIVE,
+                status_to=Client.STOPCONTACT,
+                change_date=date.today() + timedelta(days=2),
+            ).count(),
+            1,
+        )
+        self.assertEqual(
+            ClientScheduledStatus.objects.filter(
+                client=test_client,
+                status_from=Client.STOPCONTACT,
+                status_to=Client.ACTIVE,
+                change_date=date.today() + timedelta(days=12),
+            ).count(),
+            1,
+        )
+        self.assertEqual(
+            ClientScheduledStatus.objects.filter(
+                client=test_client, reason="invalid pair"
+            ).count(),
+            1,
+        )
 
 
 class ClientUpdateTestCase(TestCase):
 
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def login_as_admin(self):
         """
         Login as administrator.
         """
         admin = User.objects.create_superuser(
-            username='admin@example.com',
-            email='admin@example.com',
-            password='test1234'
+            username="admin@example.com", email="admin@example.com", password="test1234"
         )
-        self.client.login(username=admin.username, password='test1234')
+        self.client.login(username=admin.username, password="test1234")
 
     def test_redirect_to_next(self):
         """
         If "?next" exists in URL parameter, the 302 redirect should
         point to this URL upon successful form submission.
         """
         client = ClientFactory()
         # Load initial data related to the client
         data = load_initial_data(client)
         # Update some data
-        data['firstname'] = 'John'
-        data['lastname'] = 'Doe'
-        data['birthdate'] = '1923-03-21'
+        data["firstname"] = "John"
+        data["lastname"] = "Doe"
+        data["birthdate"] = "1923-03-21"
         # Login as admin
         self.login_as_admin()
 
         # Send the data to the form.
         response = self.client.post(
-            reverse(
-                'member:member_update_basic_information',
-                kwargs={
-                    'pk': client.id
-                }
-            ) + '?next=/fake/any_url',
+            reverse("member:member_update_basic_information", kwargs={"pk": client.id})
+            + "?next=/fake/any_url",
             data,
-            follow=True
+            follow=True,
         )
 
         self.assertRedirects(
-            response, '/fake/any_url',
-            status_code=302, target_status_code=404
+            response, "/fake/any_url", status_code=302, target_status_code=404
         )
 
 
 class ClientUpdateBasicInformation(ClientUpdateTestCase):
-
     def test_form_validation(self):
         """
         Test validation form.
         """
         client = ClientFactory()
-        form_data = {
-            'firstname': 'John'
-        }
+        form_data = {"firstname": "John"}
         form = ClientBasicInformation(data=form_data)
         self.assertFalse(form.is_valid())
         form = ClientBasicInformation(data=load_initial_data(client))
         self.assertTrue(form.is_valid())
 
     def test_update_basic_information(self):
         """
         Test the update basic information form.
         """
         client = ClientFactory()
         # Load initial data related to the client
         data = load_initial_data(client)
         # Update some data
-        data['firstname'] = 'John'
-        data['lastname'] = 'Doe'
-        data['birthdate'] = '1923-03-21'
+        data["firstname"] = "John"
+        data["lastname"] = "Doe"
+        data["birthdate"] = "1923-03-21"
         # Login as admin
         self.login_as_admin()
 
         # Send the data to the form.
         self.client.post(
             reverse_lazy(
-                'member:member_update_basic_information',
-                kwargs={'pk': client.id}
+                "member:member_update_basic_information", kwargs={"pk": client.id}
             ),
             data,
-            follow=True
+            follow=True,
         )
 
         # Reload client data as it should have been changed in the database
         client = Client.objects.get(id=client.id)
         # Test that values have been updated
-        self.assertEqual(str(client), 'John Doe')
+        self.assertEqual(str(client), "John Doe")
         self.assertEqual(client.birthdate, date(1923, 3, 21))
         # Test that old values are still there
-        self.assertEqual(client.alert, data.get('alert'))
-        self.assertEqual(client.gender, data.get('gender'))
-        self.assertEqual(client.language, data.get('language'))
+        self.assertEqual(client.alert, data.get("alert"))
+        self.assertEqual(client.gender, data.get("gender"))
+        self.assertEqual(client.language, data.get("language"))
 
 
 class ClientUpdateAddressInformation(ClientUpdateTestCase):
-
     def test_form_validation(self):
         """
         Test validation form.
         """
         client = ClientFactory()
-        form_data = {
-            'street': '111 rue Roy'
-        }
+        form_data = {"street": "111 rue Roy"}
         form = ClientAddressInformation(data=form_data)
         self.assertFalse(form.is_valid())
         form = ClientAddressInformation(data=load_initial_data(client))
         self.assertTrue(form.is_valid())
 
     def test_update_address_information(self):
         """
         Test the update basic information form.
         """
         client = ClientFactory()
         # Load initial data related to the client
         data = load_initial_data(client)
         # Update some data
-        data['street'] = '111 rue Roy Est'
+        data["street"] = "111 rue Roy Est"
         # Login as admin
         self.login_as_admin()
 
         # Send the data to the form.
         self.client.post(
             reverse_lazy(
-                'member:member_update_address_information',
-                kwargs={'pk': client.id}
+                "member:member_update_address_information", kwargs={"pk": client.id}
             ),
             data,
-            follow=True
+            follow=True,
         )
 
         # Reload client data as it should have been changed in the database
         client = Client.objects.get(id=client.id)
-        self.assertEqual(client.member.address.street, '111 rue Roy Est')
-        self.assertEqual(client.member.address.city, data.get('city'))
-        self.assertEqual(client.route.id, data.get('route'))
-        self.assertEqual(client.delivery_note, data.get('delivery_note'))
-        self.assertEqual(Decimal(client.member.address.latitude),
-                         Decimal(data.get('latitude')))
-        self.assertEqual(Decimal(str(client.member.address.longitude)),
-                         Decimal(data.get('longitude')))
+        self.assertEqual(client.member.address.street, "111 rue Roy Est")
+        self.assertEqual(client.member.address.city, data.get("city"))
+        self.assertEqual(client.route.id, data.get("route"))
+        self.assertEqual(client.delivery_note, data.get("delivery_note"))
+        self.assertEqual(
+            Decimal(client.member.address.latitude), Decimal(data.get("latitude"))
+        )
+        self.assertEqual(
+            Decimal(str(client.member.address.longitude)),
+            Decimal(data.get("longitude")),
+        )
 
 
 class ClientUpdatePaymentInformationTestCase(ClientUpdateTestCase):
-
     def test_form_validation(self):
         """
         Test validation form.
         """
         client = ClientFactory()
         data = load_initial_data(client)
-        data.update({
-            'firstname': None,
-            'lastname': None,
-            'street': None,
-            'city': None,
-            'apartment': None,
-            'postal_code': None,
-            'member': '{0} {1} {2} Not Valid'.format(
-                client.billing_member.id,
-                client.billing_member.firstname,
-                client.billing_member.lastname
-            ),
-            'same_as_client': False,
-            'billing_payment_type': 'cheque',
-            'facturation': 'default',
-        })
+        data.update(
+            {
+                "firstname": None,
+                "lastname": None,
+                "street": None,
+                "city": None,
+                "apartment": None,
+                "postal_code": None,
+                "member": "[0]] Not Valid",
+                "same_as_client": False,
+                "billing_payment_type": "cheque",
+                "facturation": "default",
+            }
+        )
         form = ClientPaymentInformation(data=data)
         self.assertFalse(form.is_valid())
-        data.update({
-            'firstname': None,
-            'lastname': None,
-            'street': None,
-            'city': None,
-            'apartment': None,
-            'postal_code': None,
-            'member': '[{}] {} {}'.format(
-                client.member.id,
-                client.member.firstname,
-                client.member.lastname
-            ),
-            'same_as_client': True,
-            'billing_payment_type': 'eft',
-            'facturation': 'default',
-        })
+        data.update(
+            {
+                "firstname": None,
+                "lastname": None,
+                "street": None,
+                "city": None,
+                "apartment": None,
+                "postal_code": None,
+                "member": "[{}] {} {}".format(
+                    client.member.id, client.member.firstname, client.member.lastname
+                ),
+                "same_as_client": True,
+                "billing_payment_type": "eft",
+                "facturation": "default",
+            }
+        )
         form = ClientPaymentInformation(data=data)
 
         self.assertTrue(form.is_valid())
 
     def test_update_payment_information(self):
         """
         Test the update basic information form.
         """
         client = ClientFactory()
         payment = MemberFactory()
         # Load initial data related to the client
         data = load_initial_data(client)
         # Update some data
-        data.update({
-            'firstname': None,
-            'lastname': None,
-            'street': None,
-            'city': None,
-            'apartment': '',
-            'postal_code': 'H2R2N3',
-            'member': '[{}] {} {}'.format(
-                payment.id,
-                payment.firstname,
-                payment.lastname
-            ),
-            'same_as_client': False,
-            'billing_payment_type': '',
-            'facturation': 'default',
-        })
+        data.update(
+            {
+                "firstname": None,
+                "lastname": None,
+                "street": None,
+                "city": None,
+                "apartment": "",
+                "postal_code": "H2R2N3",
+                "member": "[{}] {} {}".format(
+                    payment.id, payment.firstname, payment.lastname
+                ),
+                "same_as_client": False,
+                "billing_payment_type": "",
+                "facturation": "default",
+            }
+        )
 
         # Login as admin
         self.login_as_admin()
 
         # Send the data to the form.
         self.client.post(
             reverse_lazy(
-                'member:member_update_payment_information',
-                kwargs={'pk': client.id}
+                "member:member_update_payment_information", kwargs={"pk": client.id}
             ),
             data,
-            follow=True
+            follow=True,
         )
         # Reload client data as it should have been changed in the database
         client = Client.objects.get(id=client.id)
         self.assertEqual(client.billing_member.id, payment.id)
         self.assertEqual(client.billing_member.firstname, payment.firstname)
         self.assertEqual(client.billing_member.lastname, payment.lastname)
 
 
 class ClientUpdateDietaryRestrictionTestCase(ClientUpdateTestCase):
-
     def test_form_validation(self):
         """
         Test validation form.
         """
         client = ClientFactory()
         data = load_initial_data(client)
         form = ClientRestrictionsInformation(data=data)
         self.assertFalse(form.is_valid())
 
-        data.update({
-            'status': True if client.status == Client.ACTIVE else False,
-            'delivery_type': client.delivery_type,
-            'meals_schedule': ['monday']
-        })
-        for day in data['meals_schedule']:
-            data['size_{}'.format(day)] = 'R'
+        data.update(
+            {
+                "status": True if client.status == Client.ACTIVE else False,
+                "delivery_type": client.delivery_type,
+                "meals_schedule": ["monday"],
+            }
+        )
+        for day in data["meals_schedule"]:
+            data["size_{}".format(day)] = "R"
             for component, _ in COMPONENT_GROUP_CHOICES:
                 name = "{}_{}_quantity".format(component, day)
                 data[name] = 1
 
         form = ClientRestrictionsInformation(data=data)
         self.assertTrue(form.is_valid())
 
     def test_update_dietary_restriction(self):
         """
         Test the update basic information form.
         """
-        Option.objects.create(name='meals_schedule')
+        Option.objects.create(name="meals_schedule")
         client = ClientFactory()
         # Load initial data related to the client
         data = load_initial_data(client)
         # Make sure the status stays unchanged
         status = client.status
         # Update some data
-        data.update({
-            'status': "A",
-            'delivery_type': "O",
-            'meals_schedule': ["monday"],
-        })
-        for day in data['meals_schedule']:
-            data['size_{}'.format(day)] = 'R'
+        data.update(
+            {
+                "status": "A",
+                "delivery_type": "O",
+                "meals_schedule": ["monday"],
+            }
+        )
+        for day in data["meals_schedule"]:
+            data["size_{}".format(day)] = "R"
             for component, _ in COMPONENT_GROUP_CHOICES:
                 name = "{}_{}_quantity".format(component, day)
                 data[name] = 1
 
         # Login as admin
         self.login_as_admin()
 
         # Send the data to the form.
         response = self.client.post(
             reverse_lazy(
-                'member:member_update_dietary_restriction',
-                kwargs={'pk': client.id}
+                "member:member_update_dietary_restriction", kwargs={"pk": client.id}
             ),
             data,
-            follow=True
+            follow=True,
         )
         self.assertEqual(response.status_code, 200)
 
         # Reload client data as it should have been changed in the database
         client = Client.objects.get(id=client.id)
         self.assertEqual(client.status, status)
         self.assertEqual(client.delivery_type, "O")
@@ -2345,54 +2348,58 @@
         ongoing client.
         """
         client = ClientFactory()
         data = load_initial_data(client)
         form = ClientRestrictionsInformation(data=data)
         self.assertFalse(form.is_valid())
 
-        data.update({
-            'status': True if client.status == Client.ACTIVE else False,
-            'delivery_type': 'O',
-            'meals_schedule': ['monday']
-        })
-        for day in ['tuesday', 'sunday']:
-            data['size_{}'.format(day)] = 'R'
+        data.update(
+            {
+                "status": True if client.status == Client.ACTIVE else False,
+                "delivery_type": "O",
+                "meals_schedule": ["monday"],
+            }
+        )
+        for day in ["tuesday", "sunday"]:
+            data["size_{}".format(day)] = "R"
             for component, _ in COMPONENT_GROUP_CHOICES:
                 name = "{}_{}_quantity".format(component, day)
                 data[name] = 1
 
         form = ClientRestrictionsInformation(data=data)
         self.assertFalse(form.is_valid())
 
-        data['compote_monday_quantity'] = 1
+        data["compote_monday_quantity"] = 1
         form = ClientRestrictionsInformation(data=data)
         self.assertTrue(form.is_valid())
 
-        data['compote_monday_quantity'] = 0
-        data['main_dish_monday_quantity'] = 1
-        data['size_monday'] = 'L'
+        data["compote_monday_quantity"] = 0
+        data["main_dish_monday_quantity"] = 1
+        data["size_monday"] = "L"
         form = ClientRestrictionsInformation(data=data)
         self.assertTrue(form.is_valid())
 
     def test_meal_default_should_not_be_enforced_for_episodic_client(self):
         """
         For episodic client, the restrictions above should not be applied.
         """
         client = ClientFactory()
         data = load_initial_data(client)
         form = ClientRestrictionsInformation(data=data)
         self.assertFalse(form.is_valid())
 
-        data.update({
-            'status': True if client.status == Client.ACTIVE else False,
-            'delivery_type': 'E',
-            'meals_schedule': ['monday']
-        })
-        for day in ['tuesday', 'sunday']:
-            data['size_{}'.format(day)] = 'R'
+        data.update(
+            {
+                "status": True if client.status == Client.ACTIVE else False,
+                "delivery_type": "E",
+                "meals_schedule": ["monday"],
+            }
+        )
+        for day in ["tuesday", "sunday"]:
+            data["size_{}".format(day)] = "R"
             for component, _ in COMPONENT_GROUP_CHOICES:
                 name = "{}_{}_quantity".format(component, day)
                 data[name] = 1
 
         form = ClientRestrictionsInformation(data=data)
         self.assertTrue(form.is_valid())
 
@@ -2401,1407 +2408,1294 @@
         Whenever the quantity of main dish is set, the size should also be set.
         """
         client = ClientFactory()
         data = load_initial_data(client)
         form = ClientRestrictionsInformation(data=data)
         self.assertFalse(form.is_valid())
 
-        data.update({
-            'status': True if client.status == Client.ACTIVE else False,
-            'delivery_type': 'E',
-            'meals_schedule': []
-        })
+        data.update(
+            {
+                "status": True if client.status == Client.ACTIVE else False,
+                "delivery_type": "E",
+                "meals_schedule": [],
+            }
+        )
         form = ClientRestrictionsInformation(data=data)
         self.assertTrue(form.is_valid())
 
-        data['main_dish_tuesday_quantity'] = 1
+        data["main_dish_tuesday_quantity"] = 1
         form = ClientRestrictionsInformation(data=data)
         self.assertFalse(form.is_valid())
 
-        data['size_wednesday'] = 'L'
+        data["size_wednesday"] = "L"
         form = ClientRestrictionsInformation(data=data)
         self.assertFalse(form.is_valid())
 
-        data['size_tuesday'] = 'R'
+        data["size_tuesday"] = "R"
         form = ClientRestrictionsInformation(data=data)
         self.assertTrue(form.is_valid())
 
 
 class ClientUpdateRelationshipsTestCase(ClientUpdateTestCase):
-
     def test_form_validation_existing_member(self):
         """
         Test validation form.
         """
         relationship = RelationshipFactory()
         client = relationship.client
         data = load_initial_data(client)
-        data.update({
-            'firstname': None,
-            'lastname': None,
-            'member': '[0] Not Valid',
-        })
+        data.update(
+            {
+                "firstname": None,
+                "lastname": None,
+                "member": "[0] Not Valid",
+            }
+        )
         form = ClientRelationshipInformation(data=data)
         self.assertFalse(form.is_valid())
         member = relationship.member
-        data.update({
-            'firstname': None,
-            'lastname': None,
-            'member': '[{}] {} {}'.format(
-                member.id,
-                member.firstname,
-                member.lastname
-            ),
-            'nature': 'friend',
-        })
+        data.update(
+            {
+                "firstname": None,
+                "lastname": None,
+                "member": "[{}] {} {}".format(
+                    member.id, member.firstname, member.lastname
+                ),
+                "nature": "friend",
+            }
+        )
 
         form = ClientRelationshipInformation(data=data)
         self.assertTrue(form.is_valid())
 
     def test_form_validation_new_relationship_member(self):
         """
         Test validation form.
         """
         client = ClientFactory()
         data = load_initial_data(client)
-        data.update({
-            'firstname': None,
-            'lastname': None,
-            'member': None,
-            'type': [],
-            'nature': 'friend'
-        })
+        data.update(
+            {
+                "firstname": None,
+                "lastname": None,
+                "member": None,
+                "type": [],
+                "nature": "friend",
+            }
+        )
         form = ClientRelationshipInformation(data=data)
         self.assertFalse(form.is_valid())
 
-        data.update({
-            'firstname': 'test',
-            'lastname': 'test',
-        })
+        data.update(
+            {
+                "firstname": "test",
+                "lastname": "test",
+            }
+        )
         form = ClientRelationshipInformation(data=data)
         self.assertFalse(form.is_valid())
 
-        data.update({
-            'cell_phone': '514-122-3333'
-        })
+        data.update({"cell_phone": "514-122-3333"})
         form = ClientRelationshipInformation(data=data)
         self.assertTrue(form.is_valid())
 
-        data['cell_phone'] = None
-        data.update({
-            'work_phone': '514-122-3333'
-        })
+        data["cell_phone"] = None
+        data.update({"work_phone": "514-122-3333"})
         form = ClientRelationshipInformation(data=data)
         self.assertTrue(form.is_valid())
 
-        data['work_phone'] = None
-        data.update({
-            'email': 'invalid email'
-        })
+        data["work_phone"] = None
+        data.update({"email": "invalid email"})
         form = ClientRelationshipInformation(data=data)
         self.assertFalse(form.is_valid())
 
-        data.update({
-            'email': 'valid@email.com'
-        })
+        data.update({"email": "valid@email.com"})
         form = ClientRelationshipInformation(data=data)
         self.assertTrue(form.is_valid())
 
     def test_update_relationship_information(self):
         """
         Test the update basic information form.
         """
         client = ClientFactory()
         member = MemberFactory()  # Another member
         # Load initial data related to the client
         data = load_initial_data(client)
         # Update some data
-        data.update({
-            "relationships-TOTAL_FORMS": "1",
-            "relationships-INITIAL_FORMS": "1",
-            "relationships-MIN_NUM_FORMS": "0",
-            "relationships-MAX_NUM_FORMS": "1000",
-            "relationships-0-firstname": None,
-            "relationships-0-lastname": None,
-            'relationships-0-member': '[{}] {} {}'.format(
-                member.id,
-                member.firstname,
-                member.lastname
-            ),
-            'relationships-0-type': [],
-            'relationships-0-nature': 'friend'
-        })
+        data.update(
+            {
+                "relationships-TOTAL_FORMS": "1",
+                "relationships-INITIAL_FORMS": "1",
+                "relationships-MIN_NUM_FORMS": "0",
+                "relationships-MAX_NUM_FORMS": "1000",
+                "relationships-0-firstname": None,
+                "relationships-0-lastname": None,
+                "relationships-0-member": "[{}] {} {}".format(
+                    member.id, member.firstname, member.lastname
+                ),
+                "relationships-0-type": [],
+                "relationships-0-nature": "friend",
+            }
+        )
 
         # Login as admin
         self.login_as_admin()
 
         # Send the data to the form.
         self.client.post(
             reverse_lazy(
-                'member:member_update_relationships',
-                kwargs={'pk': client.id}
+                "member:member_update_relationships", kwargs={"pk": client.id}
             ),
             data,
-            follow=True
+            follow=True,
         )
 
         # Reload client data as it should have been changed in the database
         client = Client.objects.get(id=client.id)
-        self.assertIn(
-            member.id,
-            [c.member.pk for c in client.relationship_set.all()]
-        )
+        self.assertIn(member.id, [c.member.pk for c in client.relationship_set.all()])
         self.assertIn(
             member.firstname,
-            [c.member.firstname for c in client.relationship_set.all()]
+            [c.member.firstname for c in client.relationship_set.all()],
         )
         self.assertIn(
-            member.lastname,
-            [c.member.lastname for c in client.relationship_set.all()]
+            member.lastname, [c.member.lastname for c in client.relationship_set.all()]
         )
 
 
 class RedirectAnonymousUserTestCase(SousChefTestMixin, TestCase):
 
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_anonymous_user_gets_redirect_to_login_page(self):
         check = self.assertRedirectsWithAllMethods
-        check(reverse('member:member_step'))
-        check(reverse('member:member_step', kwargs={
-            'step': 'basic_information'
-        }))
-        check(reverse('member:member_step', kwargs={
-            'step': 'address_information'
-        }))
-        check(reverse('member:member_step', kwargs={
-            'step': 'relationships'
-        }))
-        check(reverse('member:member_step', kwargs={
-            'step': 'payment_information'
-        }))
-        check(reverse('member:member_step', kwargs={
-            'step': 'dietary_restriction'
-        }))
-        check(reverse('member:list'))
-        check(reverse('member:search'))
-        check(reverse('member:view', kwargs={'pk': 1}))
-        check(reverse('member:list_orders', kwargs={'pk': 1}))
-        check(reverse('member:client_information', kwargs={'pk': 1}))
-        check(reverse('member:client_payment', kwargs={'pk': 1}))
-        check(reverse('member:client_allergies', kwargs={'pk': 1}))
-        check(reverse('member:client_notes', kwargs={'pk': 1}))
-        check(reverse('member:geolocateAddress'))
-        check(reverse('member:client_status', kwargs={'pk': 1}))
-        check(reverse('member:clientStatusScheduler', kwargs={'pk': 1}))
-        check(reverse('member:restriction_delete', kwargs={'pk': 1}))
-        check(reverse('member:client_option_delete', kwargs={'pk': 1}))
-        check(reverse('member:ingredient_to_avoid_delete', kwargs={'pk': 1}))
-        check(reverse('member:component_to_avoid_delete', kwargs={'pk': 1}))
-        check(reverse('member:member_update_basic_information', kwargs={
-            'pk': 1
-        }))
-        check(reverse('member:member_update_address_information', kwargs={
-            'pk': 1
-        }))
-
-        check(reverse('member:member_update_payment_information', kwargs={
-            'pk': 1
-        }))
-
-        check(reverse('member:member_update_dietary_restriction', kwargs={
-            'pk': 1
-        }))
-
-        check(reverse('member:member_update_relationships', kwargs={
-            'pk': 1
-        }))
-
-        check(reverse('member:route_list'))
-        check(reverse('member:route_detail', kwargs={
-            'pk': 1
-        }))
-        check(reverse('member:route_edit', kwargs={
-            'pk': 1
-        }))
-        check(reverse('member:route_get_optimised_sequence', kwargs={
-            'pk': 1
-        }))
-        check(reverse('member:delivery_history_detail', kwargs={
-            'route_pk': 1,
-            'date': '2000-01-01'
-        }))
+        check(reverse("member:member_step"))
+        check(reverse("member:member_step", kwargs={"step": "basic_information"}))
+        check(reverse("member:member_step", kwargs={"step": "address_information"}))
+        check(reverse("member:member_step", kwargs={"step": "relationships"}))
+        check(reverse("member:member_step", kwargs={"step": "payment_information"}))
+        check(reverse("member:member_step", kwargs={"step": "dietary_restriction"}))
+        check(reverse("member:list"))
+        check(reverse("member:search"))
+        check(reverse("member:list_orders", kwargs={"pk": 1}))
+        check(reverse("member:client_information", kwargs={"pk": 1}))
+        check(reverse("member:client_payment", kwargs={"pk": 1}))
+        check(reverse("member:client_allergies", kwargs={"pk": 1}))
+        check(reverse("member:client_notes", kwargs={"pk": 1}))
+        check(reverse("member:geolocateAddress"))
+        check(reverse("member:client_status", kwargs={"pk": 1}))
+        check(reverse("member:clientStatusScheduler", kwargs={"pk": 1}))
+        check(reverse("member:restriction_delete", kwargs={"pk": 1}))
+        check(reverse("member:client_option_delete", kwargs={"pk": 1}))
+        check(reverse("member:ingredient_to_avoid_delete", kwargs={"pk": 1}))
+        check(reverse("member:component_to_avoid_delete", kwargs={"pk": 1}))
+        check(reverse("member:member_update_basic_information", kwargs={"pk": 1}))
+        check(reverse("member:member_update_address_information", kwargs={"pk": 1}))
+
+        check(reverse("member:member_update_payment_information", kwargs={"pk": 1}))
+
+        check(reverse("member:member_update_dietary_restriction", kwargs={"pk": 1}))
+
+        check(reverse("member:member_update_relationships", kwargs={"pk": 1}))
+
+        check(reverse("member:route_list"))
+        check(reverse("member:route_detail", kwargs={"pk": 1}))
+        check(reverse("member:route_edit", kwargs={"pk": 1}))
+        check(reverse("member:route_get_optimised_sequence", kwargs={"pk": 1}))
+        check(
+            reverse(
+                "member:delivery_history_detail",
+                kwargs={"route_pk": 1, "date": "2000-01-01"},
+            )
+        )
 
 
 class ClientListViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_redirects_users_who_do_not_have_read_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
-        url = reverse('member:list')
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
+        url = reverse("member:list")
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_read_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('member:list')
+        self.client.login(username="foo", password="secure")
+        url = reverse("member:list")
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class ClientInfoViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_redirects_users_who_do_not_have_read_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
-        url = reverse('member:client_information', kwargs={'pk': client.id})
+        url = reverse("member:client_information", kwargs={"pk": client.id})
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_read_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
-        url = reverse('member:client_information', kwargs={'pk': client.id})
+        url = reverse("member:client_information", kwargs={"pk": client.id})
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class ClientPaymentViewViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_redirects_users_who_do_not_have_read_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
-        url = reverse('member:client_payment', kwargs={'pk': client.id})
+        url = reverse("member:client_payment", kwargs={"pk": client.id})
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_read_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
-        url = reverse('member:client_payment', kwargs={'pk': client.id})
+        url = reverse("member:client_payment", kwargs={"pk": client.id})
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class ClientAllergiesViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_redirects_users_who_do_not_have_read_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
-        url = reverse('member:client_allergies', kwargs={'pk': client.id})
+        url = reverse("member:client_allergies", kwargs={"pk": client.id})
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_read_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
-        url = reverse('member:client_allergies', kwargs={'pk': client.id})
+        url = reverse("member:client_allergies", kwargs={"pk": client.id})
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class ClientStatusViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_redirects_users_who_do_not_have_read_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
-        url = reverse('member:client_status', kwargs={'pk': client.id})
+        url = reverse("member:client_status", kwargs={"pk": client.id})
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_read_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
-        url = reverse('member:client_status', kwargs={'pk': client.id})
+        url = reverse("member:client_status", kwargs={"pk": client.id})
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class ClientNotesViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_redirects_users_who_do_not_have_read_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
-        url = reverse('member:client_notes', kwargs={'pk': client.id})
+        url = reverse("member:client_notes", kwargs={"pk": client.id})
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_read_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
-        url = reverse('member:client_notes', kwargs={'pk': client.id})
+        url = reverse("member:client_notes", kwargs={"pk": client.id})
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class ClientOrderListTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_redirects_users_who_do_not_have_read_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
-        url = reverse('member:list_orders', kwargs={'pk': client.id})
+        url = reverse("member:list_orders", kwargs={"pk": client.id})
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_read_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
-        url = reverse('member:list_orders', kwargs={'pk': client.id})
+        url = reverse("member:list_orders", kwargs={"pk": client.id})
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class ClientUpdateBasicInformationViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_redirects_users_who_do_not_have_edit_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
         url = reverse(
-            'member:member_update_basic_information',
-            kwargs={'pk': client.id})
+            "member:member_update_basic_information", kwargs={"pk": client.id}
+        )
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_edit_permission(self):
         # Setup
         user = User.objects.create_superuser(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
         url = reverse(
-            'member:member_update_basic_information',
-            kwargs={'pk': client.id})
+            "member:member_update_basic_information", kwargs={"pk": client.id}
+        )
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class ClientUpdateAddressInformationViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_redirects_users_who_do_not_have_edit_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
         url = reverse(
-            'member:member_update_address_information',
-            kwargs={'pk': client.id})
+            "member:member_update_address_information", kwargs={"pk": client.id}
+        )
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_edit_permission(self):
         # Setup
         user = User.objects.create_superuser(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
         url = reverse(
-            'member:member_update_address_information',
-            kwargs={'pk': client.id})
+            "member:member_update_address_information", kwargs={"pk": client.id}
+        )
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class ClientUpdatePaymentInformationViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_redirects_users_who_do_not_have_edit_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
         url = reverse(
-            'member:member_update_payment_information',
-            kwargs={'pk': client.id})
+            "member:member_update_payment_information", kwargs={"pk": client.id}
+        )
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_edit_permission(self):
         # Setup
         user = User.objects.create_superuser(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
         url = reverse(
-            'member:member_update_payment_information',
-            kwargs={'pk': client.id})
+            "member:member_update_payment_information", kwargs={"pk": client.id}
+        )
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class ClientUpdateDietaryRestrictionViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_redirects_users_who_do_not_have_edit_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
         url = reverse(
-            'member:member_update_dietary_restriction',
-            kwargs={'pk': client.id})
+            "member:member_update_dietary_restriction", kwargs={"pk": client.id}
+        )
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_edit_permission(self):
         # Setup
         user = User.objects.create_superuser(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.save()
-        self.client.login(username='foo', password='secure')
-        Option.objects.create(name='meals_schedule')
+        self.client.login(username="foo", password="secure")
+        Option.objects.create(name="meals_schedule")
         client = ClientFactory()
         url = reverse(
-            'member:member_update_dietary_restriction',
-            kwargs={'pk': client.id})
+            "member:member_update_dietary_restriction", kwargs={"pk": client.id}
+        )
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
-class ClientUpdateRelationshipsViewTestCase(
-        SousChefTestMixin, TestCase):
-    fixtures = ['routes.json']
+class ClientUpdateRelationshipsViewTestCase(SousChefTestMixin, TestCase):
+    fixtures = ["routes.json"]
 
     def test_redirects_users_who_do_not_have_edit_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
-        url = reverse(
-            'member:member_update_relationships',
-            kwargs={'pk': client.id})
+        url = reverse("member:member_update_relationships", kwargs={"pk": client.id})
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_edit_permission(self):
         # Setup
         user = User.objects.create_superuser(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
-        url = reverse(
-            'member:member_update_relationships',
-            kwargs={'pk': client.id})
+        url = reverse("member:member_update_relationships", kwargs={"pk": client.id})
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class SearchMembersViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_redirects_users_who_do_not_have_read_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
-        url = reverse('member:search')
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
+        url = reverse("member:search")
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_read_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('member:search')
+        self.client.login(username="foo", password="secure")
+        url = reverse("member:search")
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class ClientStatusSchedulerViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_redirects_users_who_do_not_have_edit_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
-        url = reverse('member:clientStatusScheduler', kwargs={'pk': client.id})
+        url = reverse("member:clientStatusScheduler", kwargs={"pk": client.id})
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_edit_permission(self):
         # Setup
         user = User.objects.create_superuser(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
-        url = reverse('member:clientStatusScheduler', kwargs={'pk': client.id})
+        url = reverse("member:clientStatusScheduler", kwargs={"pk": client.id})
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class DeleteRestrictionViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_redirects_users_who_do_not_have_edit_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
         restricted_item = Restricted_item.objects.create(
-            name='pork', restricted_item_group='meat')
+            name="pork", restricted_item_group="meat"
+        )
         restriction = Restriction.objects.create(
-            client=client, restricted_item=restricted_item)
-        url = reverse(
-            'member:restriction_delete', kwargs={'pk': restriction.id})
+            client=client, restricted_item=restricted_item
+        )
+        url = reverse("member:restriction_delete", kwargs={"pk": restriction.id})
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_edit_permission(self):
         # Setup
         user = User.objects.create_superuser(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
         restricted_item = Restricted_item.objects.create(
-            name='pork', restricted_item_group='meat')
+            name="pork", restricted_item_group="meat"
+        )
         restriction = Restriction.objects.create(
-            client=client, restricted_item=restricted_item)
-        url = reverse(
-            'member:restriction_delete', kwargs={'pk': restriction.id})
+            client=client, restricted_item=restricted_item
+        )
+        url = reverse("member:restriction_delete", kwargs={"pk": restriction.id})
         # Run
         response = self.client.post(url, follow=True)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class DeleteClientOptionViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_redirects_users_who_do_not_have_edit_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
-        option = Option.objects.create(name='test')
+        option = Option.objects.create(name="test")
         coption = Client_option.objects.create(client=client, option=option)
-        url = reverse('member:client_option_delete', kwargs={'pk': coption.id})
+        url = reverse("member:client_option_delete", kwargs={"pk": coption.id})
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_edit_permission(self):
         # Setup
         user = User.objects.create_superuser(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
-        option = Option.objects.create(name='test')
+        option = Option.objects.create(name="test")
         coption = Client_option.objects.create(client=client, option=option)
-        url = reverse('member:client_option_delete', kwargs={'pk': coption.id})
+        url = reverse("member:client_option_delete", kwargs={"pk": coption.id})
         # Run
         response = self.client.post(url, follow=True)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class DeleteIngredientToAvoidViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_redirects_users_who_do_not_have_edit_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
-        ingredient = Ingredient.objects.create(name='ground pork')
+        ingredient = Ingredient.objects.create(name="ground pork")
         avoid_ing = Client_avoid_ingredient.objects.create(
-            client=client, ingredient=ingredient)
-        url = reverse(
-            'member:ingredient_to_avoid_delete', kwargs={'pk': avoid_ing.id})
+            client=client, ingredient=ingredient
+        )
+        url = reverse("member:ingredient_to_avoid_delete", kwargs={"pk": avoid_ing.id})
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_edit_permission(self):
         # Setup
         user = User.objects.create_superuser(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
-        ingredient = Ingredient.objects.create(name='ground pork')
+        ingredient = Ingredient.objects.create(name="ground pork")
         avoid_ing = Client_avoid_ingredient.objects.create(
-            client=client, ingredient=ingredient)
-        url = reverse(
-            'member:ingredient_to_avoid_delete', kwargs={'pk': avoid_ing.id})
+            client=client, ingredient=ingredient
+        )
+        url = reverse("member:ingredient_to_avoid_delete", kwargs={"pk": avoid_ing.id})
         # Run
         response = self.client.post(url, follow=True)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class DeleteComponentToAvoidViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_redirects_users_who_do_not_have_edit_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
         component = Component.objects.create(
-            name='ginger pork', component_group='main dish')
+            name="ginger pork", component_group="main dish"
+        )
         avoid_component = Client_avoid_component.objects.create(
-            client=client, component=component)
+            client=client, component=component
+        )
         url = reverse(
-            'member:component_to_avoid_delete',
-            kwargs={'pk': avoid_component.id})
+            "member:component_to_avoid_delete", kwargs={"pk": avoid_component.id}
+        )
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_edit_permission(self):
         # Setup
         user = User.objects.create_superuser(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
         component = Component.objects.create(
-            name='ginger pork', component_group='main dish')
+            name="ginger pork", component_group="main dish"
+        )
         avoid_component = Client_avoid_component.objects.create(
-            client=client, component=component)
+            client=client, component=component
+        )
         url = reverse(
-            'member:component_to_avoid_delete',
-            kwargs={'pk': avoid_component.id})
+            "member:component_to_avoid_delete", kwargs={"pk": avoid_component.id}
+        )
         # Run
         response = self.client.post(url, follow=True)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class TestMigrationApply0026(TestMigrations):
-    migrate_from = '0025_route_vehicle'
-    migrate_to = '0026_change_to_emergency_contacts'
+    migrate_from = "0025_route_vehicle"
+    migrate_to = "0026_change_to_emergency_contacts"
 
     def setUpBeforeMigration(self, apps):
-        Member = apps.get_model('member', 'Member')
-        Client = apps.get_model('member', 'Client')
+        Member = apps.get_model("member", "Member")
+        Client = apps.get_model("member", "Client")
 
         member1 = Member.objects.create(
-            firstname="HasContact",
-            lastname="HasContactRelationship"
+            firstname="HasContact", lastname="HasContactRelationship"
         )
         member2 = Member.objects.create(
-            firstname="HasContact",
-            lastname="NoContactRelationship"
+            firstname="HasContact", lastname="NoContactRelationship"
         )
         member3 = Member.objects.create(
-            firstname="NoContact",
-            lastname="HasContactRelationship"
+            firstname="NoContact", lastname="HasContactRelationship"
         )
         member4 = Member.objects.create(
-            firstname="NoContact",
-            lastname="NoContactRelationship"
-        )
-        emgc_member = Member.objects.create(
-            firstname="John",
-            lastname="Doe"
+            firstname="NoContact", lastname="NoContactRelationship"
         )
+        emgc_member = Member.objects.create(firstname="John", lastname="Doe")
         Client.objects.create(
             billing_member=member1,
             member=member1,
             # Important fields
             emergency_contact=emgc_member,
-            emergency_contact_relationship='friend'
+            emergency_contact_relationship="friend",
         )
         Client.objects.create(
             billing_member=member2,
             member=member2,
             # Important fields
             emergency_contact=emgc_member,
-            emergency_contact_relationship=None
+            emergency_contact_relationship=None,
         )
         Client.objects.create(
             billing_member=member3,
             member=member3,
             # Important fields
             emergency_contact=None,
-            emergency_contact_relationship='friend'
+            emergency_contact_relationship="friend",
         )
         Client.objects.create(
             billing_member=member4,
             member=member4,
             # Important fields
             emergency_contact=None,
-            emergency_contact_relationship=None
+            emergency_contact_relationship=None,
         )
 
     def test_emergency_contact_migrated(self):
-        Member = self.apps.get_model('member', 'Member')
-        Client = self.apps.get_model('member', 'Client')
-        EmergencyContact = self.apps.get_model('member', 'EmergencyContact')
+        Member = self.apps.get_model("member", "Member")
+        Client = self.apps.get_model("member", "Client")
+        EmergencyContact = self.apps.get_model("member", "EmergencyContact")
 
         client1 = Client.objects.get(
-            member__firstname="HasContact",
-            member__lastname="HasContactRelationship"
+            member__firstname="HasContact", member__lastname="HasContactRelationship"
         )
         client2 = Client.objects.get(
-            member__firstname="HasContact",
-            member__lastname="NoContactRelationship"
+            member__firstname="HasContact", member__lastname="NoContactRelationship"
         )
         client3 = Client.objects.get(
-            member__firstname="NoContact",
-            member__lastname="HasContactRelationship"
+            member__firstname="NoContact", member__lastname="HasContactRelationship"
         )
         client4 = Client.objects.get(
-            member__firstname="NoContact",
-            member__lastname="NoContactRelationship"
+            member__firstname="NoContact", member__lastname="NoContactRelationship"
         )
 
         self.assertEqual(client1.emergency_contacts.count(), 1)
         self.assertEqual(client2.emergency_contacts.count(), 1)
         self.assertEqual(client3.emergency_contacts.count(), 0)
         self.assertEqual(client4.emergency_contacts.count(), 0)
 
-        emgc_member = Member.objects.get(
-            firstname="John",
-            lastname="Doe"
-        )
+        emgc_member = Member.objects.get(firstname="John", lastname="Doe")
 
         emgc1 = client1.emergency_contacts.first()
         self.assertEqual(emgc1, emgc_member)
         ec1 = EmergencyContact.objects.get(client=client1, member=emgc1)
-        self.assertEqual(ec1.relationship, 'friend')
+        self.assertEqual(ec1.relationship, "friend")
 
         emgc2 = client2.emergency_contacts.first()
         self.assertEqual(emgc2, emgc_member)
         ec2 = EmergencyContact.objects.get(client=client2, member=emgc2)
         self.assertEqual(ec2.relationship, None)
 
 
 class TestMigrationUnapply0026(TestMigrations):
-    migrate_from = '0026_change_to_emergency_contacts'
-    migrate_to = '0025_route_vehicle'
+    migrate_from = "0026_change_to_emergency_contacts"
+    migrate_to = "0025_route_vehicle"
 
     def setUpBeforeMigration(self, apps):
-        Member = apps.get_model('member', 'Member')
-        Client = apps.get_model('member', 'Client')
-        EmergencyContact = apps.get_model('member', 'EmergencyContact')
-
-        member0 = Member.objects.create(
-            firstname="No",
-            lastname="EmergencyContact"
-        )
-        member1 = Member.objects.create(
-            firstname="One",
-            lastname="EmergencyContact"
-        )
-        member2 = Member.objects.create(
-            firstname="Two",
-            lastname="EmergencyContact"
-        )
-        emgc_member1 = Member.objects.create(
-            firstname="John",
-            lastname="Doe"
-        )
-        emgc_member2 = Member.objects.create(
-            firstname="Andy",
-            lastname="Lee"
-        )
+        Member = apps.get_model("member", "Member")
+        Client = apps.get_model("member", "Client")
+        EmergencyContact = apps.get_model("member", "EmergencyContact")
+
+        member0 = Member.objects.create(firstname="No", lastname="EmergencyContact")
+        member1 = Member.objects.create(firstname="One", lastname="EmergencyContact")
+        member2 = Member.objects.create(firstname="Two", lastname="EmergencyContact")
+        emgc_member1 = Member.objects.create(firstname="John", lastname="Doe")
+        emgc_member2 = Member.objects.create(firstname="Andy", lastname="Lee")
         Client.objects.create(
             billing_member=member0,
             member=member0,
         )
         client1 = Client.objects.create(
             billing_member=member1,
             member=member1,
         )
         EmergencyContact.objects.create(
-            client=client1,
-            member=emgc_member1,
-            relationship='friend'
+            client=client1, member=emgc_member1, relationship="friend"
         )
         client2 = Client.objects.create(
             billing_member=member2,
             member=member2,
         )
         EmergencyContact.objects.create(
-            client=client2,
-            member=emgc_member1,
-            relationship='friend1'
+            client=client2, member=emgc_member1, relationship="friend1"
         )
         EmergencyContact.objects.create(
-            client=client2,
-            member=emgc_member2,
-            relationship='friend2'
+            client=client2, member=emgc_member2, relationship="friend2"
         )
 
     def test_emergency_contact_migrated(self):
-        Member = self.apps.get_model('member', 'Member')
-        Client = self.apps.get_model('member', 'Client')
+        Member = self.apps.get_model("member", "Member")
+        Client = self.apps.get_model("member", "Client")
 
         client0 = Client.objects.get(
-            member__firstname="No",
-            member__lastname="EmergencyContact"
+            member__firstname="No", member__lastname="EmergencyContact"
         )
         client1 = Client.objects.get(
-            member__firstname="One",
-            member__lastname="EmergencyContact"
+            member__firstname="One", member__lastname="EmergencyContact"
         )
         client2 = Client.objects.get(
-            member__firstname="Two",
-            member__lastname="EmergencyContact"
-        )
-        emgc_member1 = Member.objects.get(
-            firstname="John",
-            lastname="Doe"
-        )
-        emgc_member2 = Member.objects.get(
-            firstname="Andy",
-            lastname="Lee"
+            member__firstname="Two", member__lastname="EmergencyContact"
         )
+        emgc_member1 = Member.objects.get(firstname="John", lastname="Doe")
+        emgc_member2 = Member.objects.get(firstname="Andy", lastname="Lee")
 
         self.assertEqual(client0.emergency_contact, None)
         self.assertEqual(client0.emergency_contact_relationship, None)
 
         self.assertEqual(client1.emergency_contact, emgc_member1)
-        self.assertEqual(client1.emergency_contact_relationship, 'friend')
+        self.assertEqual(client1.emergency_contact_relationship, "friend")
 
         self.assertIn(client2.emergency_contact, [emgc_member1, emgc_member2])
         if client2.emergency_contact == emgc_member1:
-            self.assertIn(client2.emergency_contact_relationship, 'friend1')
+            self.assertIn(client2.emergency_contact_relationship, "friend1")
         else:
-            self.assertIn(client2.emergency_contact_relationship, 'friend2')
+            self.assertIn(client2.emergency_contact_relationship, "friend2")
 
 
 class TestMigrationApply0029(TestMigrations):
     """
     Refs #704.
     """
-    migrate_from = '0028_change_linked_scheduled_status_relationship'
-    migrate_to = '0029_member_address_fk_to_1to1'
+
+    migrate_from = "0028_change_linked_scheduled_status_relationship"
+    migrate_to = "0029_member_address_fk_to_1to1"
 
     def setUpBeforeMigration(self, apps):
-        Member = apps.get_model('member', 'Member')
-        Address = apps.get_model('member', 'Address')
+        Member = apps.get_model("member", "Member")
+        Address = apps.get_model("member", "Address")
 
-        addr0 = Address.objects.create(
-            street="no member",
-            city="-",
-            postal_code="-"
-        )
-        addr1 = Address.objects.create(
-            street="one member",
-            city="-",
-            postal_code="-"
-        )
-        addr2 = Address.objects.create(
-            street="two members",
-            city="-",
-            postal_code="-"
-        )
+        addr0 = Address.objects.create(street="no member", city="-", postal_code="-")
+        addr1 = Address.objects.create(street="one member", city="-", postal_code="-")
+        addr2 = Address.objects.create(street="two members", city="-", postal_code="-")
         addr3 = Address.objects.create(
-            street="three members",
-            city="-",
-            postal_code="-"
-        )
-
-        Member.objects.create(
-            firstname="1",
-            lastname="-",
-            address=addr1
-        )
-        Member.objects.create(
-            firstname="2",
-            lastname="a",
-            address=addr2
-        )
-        Member.objects.create(
-            firstname="2",
-            lastname="b",
-            address=addr2
-        )
-        Member.objects.create(
-            firstname="3",
-            lastname="a",
-            address=addr3
-        )
-        Member.objects.create(
-            firstname="3",
-            lastname="b",
-            address=addr3
-        )
-        Member.objects.create(
-            firstname="3",
-            lastname="c",
-            address=addr3
-        )
-        Member.objects.create(
-            firstname="No",
-            lastname="Address",
-            address=None
+            street="three members", city="-", postal_code="-"
         )
 
+        Member.objects.create(firstname="1", lastname="-", address=addr1)
+        Member.objects.create(firstname="2", lastname="a", address=addr2)
+        Member.objects.create(firstname="2", lastname="b", address=addr2)
+        Member.objects.create(firstname="3", lastname="a", address=addr3)
+        Member.objects.create(firstname="3", lastname="b", address=addr3)
+        Member.objects.create(firstname="3", lastname="c", address=addr3)
+        Member.objects.create(firstname="No", lastname="Address", address=None)
+
         self.data = {
-            'addr0_pk': addr0.pk,
-            'addr1_pk': addr1.pk,
-            'addr2_pk': addr2.pk,
-            'addr3_pk': addr3.pk,
+            "addr0_pk": addr0.pk,
+            "addr1_pk": addr1.pk,
+            "addr2_pk": addr2.pk,
+            "addr3_pk": addr3.pk,
         }
 
     def test_address_objects_separated(self):
-        Member = self.apps.get_model('member', 'Member')
-        Address = self.apps.get_model('member', 'Address')
+        Member = self.apps.get_model("member", "Member")
+        Address = self.apps.get_model("member", "Address")
 
-        member1 = Member.objects.get(
-            firstname="1",
-            lastname="-"
-        )
-        member2a = Member.objects.get(
-            firstname="2",
-            lastname="a"
-        )
-        member2b = Member.objects.get(
-            firstname="2",
-            lastname="b"
-        )
-        member3a = Member.objects.get(
-            firstname="3",
-            lastname="a"
-        )
-        member3b = Member.objects.get(
-            firstname="3",
-            lastname="b"
-        )
-        member3c = Member.objects.get(
-            firstname="3",
-            lastname="c"
-        )
+        member1 = Member.objects.get(firstname="1", lastname="-")
+        member2a = Member.objects.get(firstname="2", lastname="a")
+        member2b = Member.objects.get(firstname="2", lastname="b")
+        member3a = Member.objects.get(firstname="3", lastname="a")
+        member3b = Member.objects.get(firstname="3", lastname="b")
+        member3c = Member.objects.get(firstname="3", lastname="c")
 
         # Test addr0: there should be no changes.
-        self.assertEqual(
-            Address.objects.filter(pk=self.data['addr0_pk']).count(),
-            1
-        )
-        addr0 = Address.objects.get(pk=self.data['addr0_pk'])
+        self.assertEqual(Address.objects.filter(pk=self.data["addr0_pk"]).count(), 1)
+        addr0 = Address.objects.get(pk=self.data["addr0_pk"])
         self.assertEqual(addr0.street, "no member")
 
         # Test addr1: there should be no changes.
-        self.assertEqual(
-            Address.objects.filter(pk=self.data['addr1_pk']).count(),
-            1
-        )
-        addr1 = Address.objects.get(pk=self.data['addr1_pk'])
+        self.assertEqual(Address.objects.filter(pk=self.data["addr1_pk"]).count(), 1)
+        addr1 = Address.objects.get(pk=self.data["addr1_pk"])
         self.assertEqual(addr1.street, "one member")
         self.assertEqual(member1.address.pk, addr1.pk)
 
         # Test addr2: it should be split into 2 instances.
         # But we still have the original instance.
-        self.assertEqual(
-            Address.objects.filter(street="two members").count(),
-            2
-        )
-        self.assertEqual(
-            Address.objects.filter(pk=self.data['addr2_pk']).count(),
-            1
-        )
+        self.assertEqual(Address.objects.filter(street="two members").count(), 2)
+        self.assertEqual(Address.objects.filter(pk=self.data["addr2_pk"]).count(), 1)
         self.assertEqual(member2a.address.street, "two members")
         self.assertEqual(member2b.address.street, "two members")
 
         # Test addr3: it should be split into 3 instances.
         # But we still have the original instance.
-        self.assertEqual(
-            Address.objects.filter(street="three members").count(),
-            3
-        )
-        self.assertEqual(
-            Address.objects.filter(pk=self.data['addr3_pk']).count(),
-            1
-        )
+        self.assertEqual(Address.objects.filter(street="three members").count(), 3)
+        self.assertEqual(Address.objects.filter(pk=self.data["addr3_pk"]).count(), 1)
         self.assertEqual(member3a.address.street, "three members")
         self.assertEqual(member3b.address.street, "three members")
         self.assertEqual(member3c.address.street, "three members")
 
         # Test member without address
-        member_no_addr = Member.objects.get(
-            firstname="No",
-            lastname="Address"
-        )
+        member_no_addr = Member.objects.get(firstname="No", lastname="Address")
         self.assertEqual(member_no_addr.address, None)
 
 
 class RouteListViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_redirects_users_who_do_not_have_read_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
-        url = reverse('member:route_list')
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
+        url = reverse("member:route_list")
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_read_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('member:route_list')
+        self.client.login(username="foo", password="secure")
+        url = reverse("member:route_list")
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class RouteDetailViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_redirects_users_who_do_not_have_read_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
-        url = reverse('member:route_detail', kwargs={'pk': 1})
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
+        url = reverse("member:route_detail", kwargs={"pk": 1})
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_read_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('member:route_detail', kwargs={'pk': 1})
+        self.client.login(username="foo", password="secure")
+        url = reverse("member:route_detail", kwargs={"pk": 1})
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
     def test_parsing_client_id_sequence(self):
         """
         Unorganised clients should be placed at the end.
         Invalid clients should be ignored.
         """
         route = RouteFactory()
-        clients_on_route = ClientFactory.create_batch(
-            10,
-            route=route
-        )
+        clients_on_route = ClientFactory.create_batch(10, route=route)
         for client in clients_on_route:
-            client.status = \
-                [Client.PAUSED, Client.ACTIVE, Client.PENDING][
-                    random.randint(0, 2)]
+            client.status = [Client.PAUSED, Client.ACTIVE, Client.PENDING][
+                random.randint(0, 2)
+            ]
             client.save()
         clients_organised = (
-            clients_on_route[1], clients_on_route[3],
-            clients_on_route[5], clients_on_route[7],
-            clients_on_route[9]
+            clients_on_route[1],
+            clients_on_route[3],
+            clients_on_route[5],
+            clients_on_route[7],
+            clients_on_route[9],
         )
         clients_unorganised = (
-            clients_on_route[0], clients_on_route[2],
-            clients_on_route[4], clients_on_route[6],
-            clients_on_route[8]
+            clients_on_route[0],
+            clients_on_route[2],
+            clients_on_route[4],
+            clients_on_route[6],
+            clients_on_route[8],
         )
         route.client_id_sequence = [
-            "N/A", clients_organised[0].pk,
-            299999, clients_organised[1].pk,
-            "INVALID", clients_organised[2].pk,
-            "[DELETED]", clients_organised[3].pk,
-            599999, clients_organised[4].pk,
+            "N/A",
+            clients_organised[0].pk,
+            299999,
+            clients_organised[1].pk,
+            "INVALID",
+            clients_organised[2].pk,
+            "[DELETED]",
+            clients_organised[3].pk,
+            599999,
+            clients_organised[4].pk,
         ]
         route.save()
 
         self.force_login()
-        url = reverse('member:route_detail', kwargs={'pk': route.pk})
+        url = reverse("member:route_detail", kwargs={"pk": route.pk})
         response = self.client.get(url)
         self.assertEqual(response.status_code, 200)
-        clients_on_route = response.context['clients_on_route']
+        clients_on_route = response.context["clients_on_route"]
         self.assertEqual(len(clients_on_route), 10)
         self.assertEqual(clients_on_route[0].pk, clients_organised[0].pk)
         self.assertEqual(clients_on_route[1].pk, clients_organised[1].pk)
         self.assertEqual(clients_on_route[2].pk, clients_organised[2].pk)
         self.assertEqual(clients_on_route[3].pk, clients_organised[3].pk)
         self.assertEqual(clients_on_route[4].pk, clients_organised[4].pk)
         self.assertTrue(clients_on_route[0].has_been_configured)
         self.assertTrue(clients_on_route[1].has_been_configured)
         self.assertTrue(clients_on_route[2].has_been_configured)
         self.assertTrue(clients_on_route[3].has_been_configured)
         self.assertTrue(clients_on_route[4].has_been_configured)
         self.assertEqual(
             set(map(lambda c: c.pk, clients_unorganised)),
-            set(map(lambda c: c.pk, clients_on_route[5:]))
+            set(map(lambda c: c.pk, clients_on_route[5:])),
         )
         self.assertFalse(clients_on_route[5].has_been_configured)
         self.assertFalse(clients_on_route[6].has_been_configured)
         self.assertFalse(clients_on_route[7].has_been_configured)
         self.assertFalse(clients_on_route[8].has_been_configured)
         self.assertFalse(clients_on_route[9].has_been_configured)
 
 
 class RouteEditViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_redirects_users_who_do_not_have_edit_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         route = RouteFactory()
-        url = reverse(
-            'member:route_edit',
-            kwargs={'pk': route.pk})
+        url = reverse("member:route_edit", kwargs={"pk": route.pk})
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_edit_permission(self):
         # Setup
         user = User.objects.create_superuser(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         route = RouteFactory()
-        url = reverse(
-            'member:route_edit',
-            kwargs={'pk': route.pk})
+        url = reverse("member:route_edit", kwargs={"pk": route.pk})
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
     def test_post_valid_form(self):
         route = RouteFactory()
         self.force_login()
-        url = reverse(
-            'member:route_edit',
-            kwargs={'pk': route.pk})
-        response = self.client.post(url, {
-            'name': 'new name',
-            'description': 'test',
-            'vehicle': 'driving',
-            'client_id_sequence': '[100, 110]'
-        })
-        self.assertRedirects(response, reverse_lazy(
-            'member:route_detail', args=[route.pk]))
+        url = reverse("member:route_edit", kwargs={"pk": route.pk})
+        response = self.client.post(
+            url,
+            {
+                "name": "new name",
+                "description": "test",
+                "vehicle": "driving",
+                "client_id_sequence": "[100, 110]",
+            },
+        )
+        self.assertRedirects(
+            response, reverse_lazy("member:route_detail", args=[route.pk])
+        )
 
 
 class RouteGetOptimisedSequenceViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_redirects_users_who_do_not_have_read_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
-        url = reverse('member:route_get_optimised_sequence', kwargs={'pk': 1})
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
+        url = reverse("member:route_get_optimised_sequence", kwargs={"pk": 1})
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_read_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('member:route_get_optimised_sequence', kwargs={'pk': 1})
+        self.client.login(username="foo", password="secure")
+        url = reverse("member:route_get_optimised_sequence", kwargs={"pk": 1})
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
     def test_client_numbers_should_be_the_same(self):
         # Setup data
         route = RouteFactory()
-        clients = ClientFactory.create_batch(
-            10,
-            route=route)
+        clients = ClientFactory.create_batch(10, route=route)
         for client in clients:
-            client.status = \
-                [Client.PAUSED, Client.ACTIVE, Client.PENDING][
-                    random.randint(0, 2)]
+            client.status = [Client.PAUSED, Client.ACTIVE, Client.PENDING][
+                random.randint(0, 2)
+            ]
             client.save()
 
         self.force_login()
-        url = reverse(
-            'member:route_get_optimised_sequence', kwargs={'pk': route.pk})
+        url = reverse("member:route_get_optimised_sequence", kwargs={"pk": route.pk})
         response = self.client.get(url)
         self.assertEqual(response.status_code, 200)
         try:
             result = json.loads(response.content.decode(response.charset))
             self.assertEqual(len(result), 10)
         except (TypeError, ValueError):
             self.fail("Response is not valid JSON.")
 
 
 class RouteDeliveryHistoryDetailViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_redirects_users_who_do_not_have_read_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
         r = RouteFactory()
         DeliveryHistoryFactory(
-            route=r,
-            date=timezone.datetime.date(
-                timezone.datetime(2001, 1, 1)
-            )
+            route=r, date=timezone.datetime.date(timezone.datetime(2001, 1, 1))
+        )
+        url = reverse(
+            "member:delivery_history_detail",
+            kwargs={"route_pk": r.pk, "date": "2001-01-01"},
         )
-        url = reverse('member:delivery_history_detail', kwargs={
-            'route_pk': r.pk,
-            'date': '2001-01-01'
-        })
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_read_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         r = RouteFactory()
         DeliveryHistoryFactory(
-            route=r,
-            date=timezone.datetime.date(
-                timezone.datetime(2001, 1, 1)
-            )
+            route=r, date=timezone.datetime.date(timezone.datetime(2001, 1, 1))
+        )
+        url = reverse(
+            "member:delivery_history_detail",
+            kwargs={"route_pk": r.pk, "date": "2001-01-01"},
         )
-        url = reverse('member:delivery_history_detail', kwargs={
-            'route_pk': r.pk,
-            'date': '2001-01-01'
-        })
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
     def test_parsing_client_id_sequence(self):
         """
@@ -3813,87 +3707,77 @@
         Except for the problematic ones, which means:
         (1) Invalid client ID or client doesn't exist
         (2) The client's order on that day was not found and we think the
             client is invalid on this delivery sequence.
         """
         route = RouteFactory()
         dh = DeliveryHistoryFactory(
-            route=route,
-            date=timezone.datetime.date(
-                timezone.datetime(2001, 1, 1)
-            )
+            route=route, date=timezone.datetime.date(timezone.datetime(2001, 1, 1))
         )
-        clients = ClientFactory.create_batch(
-            10,
-            route=route,
-            status=Client.ACTIVE
+        clients = ClientFactory.create_batch(10, route=route, status=Client.ACTIVE)
+        route.client_id_sequence = list(
+            map(lambda x: clients[x].pk, [1, 3, 5, 7, 9, 0, 2, 4, 6, 8])
         )
-        route.client_id_sequence = list(map(
-            lambda x: clients[x].pk,
-            [1, 3, 5, 7, 9, 0, 2, 4, 6, 8]
-        ))
-        route.save(update_fields=['client_id_sequence'])
+        route.save(update_fields=["client_id_sequence"])
 
         # We delivered clients[7, 9, 0, 2, 4, 6]:
         orders_dict = {}
         for x in [7, 9, 0, 2, 4, 6]:
             c = clients[x]
             o = OrderFactory(
                 client=c,
-                delivery_date=timezone.datetime.date(
-                    timezone.datetime(2001, 1, 1)
-                ),
-                status=ORDER_STATUS_ORDERED
+                delivery_date=timezone.datetime.date(timezone.datetime(2001, 1, 1)),
+                status=ORDER_STATUS_ORDERED,
             )
             orders_dict[x] = o
 
         # We imagine to have delivered clients[5] but deleted his order.
         # We then change clients[2]'s route to make it invalid.
         clients[2].route = RouteFactory()
-        clients[2].save(update_fields=['route'])
+        clients[2].save(update_fields=["route"])
 
         dh.client_id_sequence = [
             "N/A",  # Invalid client ID
             clients[0].pk,
             999999,  # Client doesn't exist for sure
             clients[2].pk,  # Invalid because of route
             clients[5].pk,  # Invalid because order doesn't exist
             clients[7].pk,
             # clients[9], clients[4], clients[6] are not in this list
             # and should be placed by default seq.
         ]
-        dh.save(update_fields=['client_id_sequence'])
+        dh.save(update_fields=["client_id_sequence"])
 
         # The expected sequence should be:
         # [0, 7, 9, 4, 6]
         self.force_login()
-        url = reverse('member:delivery_history_detail', kwargs={
-            'route_pk': route.pk,
-            'date': '2001-01-01'
-        })
+        url = reverse(
+            "member:delivery_history_detail",
+            kwargs={"route_pk": route.pk, "date": "2001-01-01"},
+        )
         response = self.client.get(url)
         self.assertEqual(response.status_code, 200)
-        clients_on_dh = response.context['clients_on_delivery_history']
+        clients_on_dh = response.context["clients_on_delivery_history"]
 
         # 5 clients who had delivery
         self.assertEqual(len(clients_on_dh), 5)
         self.assertEqual(clients_on_dh[0].pk, clients[0].pk)
         self.assertEqual(clients_on_dh[1].pk, clients[7].pk)
         self.assertEqual(clients_on_dh[2].pk, clients[9].pk)
         self.assertEqual(clients_on_dh[3].pk, clients[4].pk)
         self.assertEqual(clients_on_dh[4].pk, clients[6].pk)
 
         # 4 invalid messages
-        messages = response.context['messages']
+        messages = response.context["messages"]
         self.assertEqual(len(messages), 4)
         iter_messages = iter(messages)
         message0 = next(iter_messages)
-        self.assertIn('N/A', message0.message)
+        self.assertIn("N/A", message0.message)
         message1 = next(iter_messages)
-        self.assertIn('999999', message1.message)
+        self.assertIn("999999", message1.message)
         message2 = next(iter_messages)
         self.assertIn(clients[2].member.firstname, message2.message)
         self.assertIn(clients[2].member.lastname, message2.message)
         message3 = next(iter_messages)
         self.assertIn(clients[5].member.firstname, message3.message)
         self.assertIn(clients[5].member.lastname, message3.message)
 
@@ -3926,395 +3810,418 @@
     I'm going to test client000 through client333.
     So 4*4*4=64 test cases in total.
 
     Additionally, because member.Referencing doesn't define unique_together,
     for client3xx test cases, I'm having 2 referents exactly the same.
     (member.EmergencyContact doesn't have this problem.)
     """
-    migrate_from = '0031_client_option_allow_reverse_relation'
-    migrate_to = '0032_relationship'
+
+    migrate_from = "0031_client_option_allow_reverse_relation"
+    migrate_to = "0032_relationship"
 
     # EmergencyContact.relationship has blank=True, null=True
-    emgc_relationships = ['friend', None, 'son']
-    referral_reasons = ['test1', '', '']
+    emgc_relationships = ["friend", None, "son"]
+    referral_reasons = ["test1", "", ""]
     referral_dates = [date(2001, 1, 1), date(2002, 2, 2), date(2003, 3, 3)]
 
     def setUpBeforeMigration(self, apps):
-        Member = apps.get_model('member', 'Member')
-        Client = apps.get_model('member', 'Client')
-        Referencing = apps.get_model('member', 'Referencing')
-        EmergencyContact = apps.get_model('member', 'EmergencyContact')
+        Member = apps.get_model("member", "Member")
+        Client = apps.get_model("member", "Client")
+        Referencing = apps.get_model("member", "Referencing")
+        EmergencyContact = apps.get_model("member", "EmergencyContact")
 
         for num_r in range(4):  # [0, 1, 2, 3]
             for num_e in range(4):
                 for num_re in range(4):
                     # Create main client
                     name_main = "{}{}{}".format(num_r, num_e, num_re)
                     member_main = Member.objects.create(
                         firstname=name_main,  # Later we use this to query
-                        lastname="main")
+                        lastname="main",
+                    )
                     client_main = Client.objects.create(
-                        billing_member=member_main,
-                        member=member_main)
+                        billing_member=member_main, member=member_main
+                    )
 
                     # Create referents
                     for i in range(num_r):
                         # Special case as described in docstring
                         if num_r == 3 and i == 2:  # last referent
                             member_ref = Member.objects.get(
-                                firstname=name_main,
-                                lastname='ref_#1')
+                                firstname=name_main, lastname="ref_#1"
+                            )
                         else:
                             member_ref = Member.objects.create(
-                                firstname=name_main,
-                                lastname='ref_#{}'.format(i))
+                                firstname=name_main, lastname="ref_#{}".format(i)
+                            )
                         Referencing.objects.create(
                             referent=member_ref,
                             client=client_main,
                             referral_reason=self.referral_reasons[i],
-                            date=self.referral_dates[i])
+                            date=self.referral_dates[i],
+                        )
                         del member_ref  # avoid myself making errors below
 
                     # Create emergency contacts
                     for i in range(num_e):
                         member_emgc = Member.objects.create(
-                            firstname=name_main,
-                            lastname='emgc_#{}'.format(i))
+                            firstname=name_main, lastname="emgc_#{}".format(i)
+                        )
                         EmergencyContact.objects.create(
                             member=member_emgc,
                             client=client_main,
-                            relationship=self.emgc_relationships[i])
+                            relationship=self.emgc_relationships[i],
+                        )
                         del member_emgc
 
                     # Create referent+emergency contacts
                     for i in range(num_re):
                         member_re = Member.objects.create(
-                            firstname=name_main,
-                            lastname='ref+emgc_#{}'.format(i))
+                            firstname=name_main, lastname="ref+emgc_#{}".format(i)
+                        )
                         Referencing.objects.create(
                             referent=member_re,
                             client=client_main,
                             referral_reason=self.referral_reasons[i],
-                            date=self.referral_dates[i])
+                            date=self.referral_dates[i],
+                        )
                         EmergencyContact.objects.create(
                             member=member_re,
                             client=client_main,
-                            relationship=self.emgc_relationships[i])
+                            relationship=self.emgc_relationships[i],
+                        )
                         del member_re
 
     def test_migrated_relationships(self):
-        Member = self.apps.get_model('member', 'Member')
-        Client = self.apps.get_model('member', 'Client')
-        Relationship = self.apps.get_model('member', 'Relationship')
+        Member = self.apps.get_model("member", "Member")
+        Client = self.apps.get_model("member", "Client")
+        Relationship = self.apps.get_model("member", "Relationship")
 
         from souschef.member.models import Relationship as _ref_Relationship  # noqa
 
         for num_r in range(4):  # [0, 1, 2, 3]
             for num_e in range(4):
                 for num_re in range(4):
                     name_main = "{}{}{}".format(num_r, num_e, num_re)
-                    fail_msg = (
-                        "while testing: client{} "
-                        "(see docstring)".format(name_main))
+                    fail_msg = "while testing: client{} " "(see docstring)".format(
+                        name_main
+                    )
                     client_main = Client.objects.get(
-                        member__firstname=name_main,
-                        member__lastname="main")
+                        member__firstname=name_main, member__lastname="main"
+                    )
 
                     # Check number of Relationship objects
                     self.assertEqual(
                         Relationship.objects.filter(
                             client=client_main,
                             # Attention: DB filter JSON field
-                            type__contains=_ref_Relationship.REFERENT).count(),
+                            type__contains=_ref_Relationship.REFERENT,
+                        ).count(),
                         # Special case when num_r == 3
                         (num_r if num_r != 3 else 2) + num_re,
-                        msg=fail_msg)
+                        msg=fail_msg,
+                    )
                     self.assertEqual(
                         Relationship.objects.filter(
                             client=client_main,
                             # Attention: DB filter JSON field
-                            type__contains=_ref_Relationship.EMERGENCY
+                            type__contains=_ref_Relationship.EMERGENCY,
                         ).count(),
                         num_e + num_re,
-                        msg=fail_msg)
+                        msg=fail_msg,
+                    )
                     self.assertEqual(
-                        Relationship.objects.filter(
-                            client=client_main).count(),
+                        Relationship.objects.filter(client=client_main).count(),
                         # Special case when num_r == 3
                         (num_r if num_r != 3 else 2) + num_e + num_re,
-                        msg=fail_msg)
+                        msg=fail_msg,
+                    )
 
                     # Check referents
                     for i in range(num_r):
-                        sub_fail_msg = "{} -- Referent #{}".format(
-                            fail_msg, i)
+                        sub_fail_msg = "{} -- Referent #{}".format(fail_msg, i)
                         # Special case when num_r == 3
                         member_ref = Member.objects.get(
                             firstname=name_main,
-                            lastname='ref_#{}'.format(
-                                1 if (num_r == 3 and i == 2) else i))
+                            lastname="ref_#{}".format(
+                                1 if (num_r == 3 and i == 2) else i
+                            ),
+                        )
                         r = Relationship.objects.get(
-                            client=client_main,
-                            member=member_ref)
-                        self.assertEqual(r.nature, '??? (migration 0032)',
-                                         msg=sub_fail_msg)
-                        self.assertEqual(r.type,
-                                         [_ref_Relationship.REFERENT],
-                                         msg=sub_fail_msg)
+                            client=client_main, member=member_ref
+                        )
+                        self.assertEqual(
+                            r.nature, "??? (migration 0032)", msg=sub_fail_msg
+                        )
+                        self.assertEqual(
+                            r.type, [_ref_Relationship.REFERENT], msg=sub_fail_msg
+                        )
 
                         # Special case when num_r == 3
                         # The ref_#1 will be overwritten by ref_#2, because
                         # in migrate 0032, Referencing objects are ordered by
                         # 'pk'.
                         correct_i = 2 if (num_r == 3 and i == 1) else i
-                        self.assertEqual(r.extra_fields, {
-                            'referral_date': str(
-                                self.referral_dates[correct_i]),
-                            'referral_reason': self.referral_reasons[correct_i]
-                        }, msg=sub_fail_msg)
-                        self.assertEqual(r.remark, '', msg=sub_fail_msg)
+                        self.assertEqual(
+                            r.extra_fields,
+                            {
+                                "referral_date": str(self.referral_dates[correct_i]),
+                                "referral_reason": self.referral_reasons[correct_i],
+                            },
+                            msg=sub_fail_msg,
+                        )
+                        self.assertEqual(r.remark, "", msg=sub_fail_msg)
                         del member_ref  # avoid myself making errors below
 
                     # Check emergency contacts
                     for i in range(num_e):
-                        sub_fail_msg = "{} -- Emergency #{}".format(
-                            fail_msg, i)
+                        sub_fail_msg = "{} -- Emergency #{}".format(fail_msg, i)
                         member_emgc = Member.objects.get(
-                            firstname=name_main,
-                            lastname='emgc_#{}'.format(i))
+                            firstname=name_main, lastname="emgc_#{}".format(i)
+                        )
                         r = Relationship.objects.get(
-                            client=client_main,
-                            member=member_emgc)
-                        self.assertEqual(r.nature,
-                                         self.emgc_relationships[i] or (
-                                             "??? (migration 0032)"),
-                                         msg=sub_fail_msg)
-                        self.assertEqual(r.type,
-                                         [_ref_Relationship.EMERGENCY],
-                                         msg=sub_fail_msg)
+                            client=client_main, member=member_emgc
+                        )
+                        self.assertEqual(
+                            r.nature,
+                            self.emgc_relationships[i] or ("??? (migration 0032)"),
+                            msg=sub_fail_msg,
+                        )
+                        self.assertEqual(
+                            r.type, [_ref_Relationship.EMERGENCY], msg=sub_fail_msg
+                        )
                         self.assertEqual(r.extra_fields, {}, msg=sub_fail_msg)
-                        self.assertEqual(r.remark, '', msg=sub_fail_msg)
+                        self.assertEqual(r.remark, "", msg=sub_fail_msg)
                         del member_emgc
 
                     # Check referents+emergency contacts
                     for i in range(num_re):
-                        sub_fail_msg = "{} -- Ref+Emgc #{}".format(
-                            fail_msg, i)
+                        sub_fail_msg = "{} -- Ref+Emgc #{}".format(fail_msg, i)
                         member_re = Member.objects.get(
-                            firstname=name_main,
-                            lastname='ref+emgc_#{}'.format(i))
+                            firstname=name_main, lastname="ref+emgc_#{}".format(i)
+                        )
                         r = Relationship.objects.get(
-                            client=client_main,
-                            member=member_re)
-                        self.assertEqual(r.nature,
-                                         self.emgc_relationships[i] or (
-                                             '??? (migration 0032)'),
-                                         msg=sub_fail_msg)
-                        self.assertEqual(sorted(r.type),
-                                         sorted([_ref_Relationship.EMERGENCY,
-                                                 _ref_Relationship.REFERENT]),
-                                         msg=sub_fail_msg)
-                        self.assertEqual(r.extra_fields, {
-                            'referral_date': str(self.referral_dates[i]),
-                            'referral_reason': self.referral_reasons[i]
-                        }, msg=sub_fail_msg)
-                        self.assertEqual(r.remark, '', msg=sub_fail_msg)
+                            client=client_main, member=member_re
+                        )
+                        self.assertEqual(
+                            r.nature,
+                            self.emgc_relationships[i] or ("??? (migration 0032)"),
+                            msg=sub_fail_msg,
+                        )
+                        self.assertEqual(
+                            sorted(r.type),
+                            sorted(
+                                [
+                                    _ref_Relationship.EMERGENCY,
+                                    _ref_Relationship.REFERENT,
+                                ]
+                            ),
+                            msg=sub_fail_msg,
+                        )
+                        self.assertEqual(
+                            r.extra_fields,
+                            {
+                                "referral_date": str(self.referral_dates[i]),
+                                "referral_reason": self.referral_reasons[i],
+                            },
+                            msg=sub_fail_msg,
+                        )
+                        self.assertEqual(r.remark, "", msg=sub_fail_msg)
                         del member_re
 
 
 class TestMigrationUnapply0032(TestMigrations):
     """
     Refs #740.
 
     Same naming rules as TestMigrationApply0032 (see docstring there).
     Also test from client000 through client333.
     But no special case for client3xx because of unique_together constraint.
     """
 
-    migrate_from = '0032_relationship'
-    migrate_to = '0031_client_option_allow_reverse_relation'
+    migrate_from = "0032_relationship"
+    migrate_to = "0031_client_option_allow_reverse_relation"
 
-    natures = ['friend', 'son', 'government']
-    remarks = ['remark1', 'remark2', 'remark3']
+    natures = ["friend", "son", "government"]
+    remarks = ["remark1", "remark2", "remark3"]
     extra_fields = [
-        {'referral_reason': 'reason1', 'referral_date': date(2001, 1, 1)},
+        {"referral_reason": "reason1", "referral_date": date(2001, 1, 1)},
         # These invalid values may exist in database...
         {},
-        ['a', 'b', 'c']
+        ["a", "b", "c"],
     ]
 
     def setUpBeforeMigration(self, apps):
-        Member = apps.get_model('member', 'Member')
-        Client = apps.get_model('member', 'Client')
-        Relationship = apps.get_model('member', 'Relationship')
+        Member = apps.get_model("member", "Member")
+        Client = apps.get_model("member", "Client")
+        Relationship = apps.get_model("member", "Relationship")
 
         from souschef.member.models import Relationship as _ref_Relationship  # noqa
 
         for num_r in range(4):  # [0, 1, 2, 3]
             for num_e in range(4):
                 for num_re in range(4):
                     # Create main client
                     name_main = "{}{}{}".format(num_r, num_e, num_re)
                     member_main = Member.objects.create(
                         firstname=name_main,  # Later we use this to query
-                        lastname="main")
+                        lastname="main",
+                    )
                     client_main = Client.objects.create(
-                        billing_member=member_main,
-                        member=member_main)
+                        billing_member=member_main, member=member_main
+                    )
 
                     # Create referents
                     for i in range(num_r):
                         member_ref = Member.objects.create(
-                            firstname=name_main,
-                            lastname='ref_#{}'.format(i))
+                            firstname=name_main, lastname="ref_#{}".format(i)
+                        )
                         Relationship.objects.create(
                             member=member_ref,
                             client=client_main,
                             nature=self.natures[i],
                             type=[_ref_Relationship.REFERENT],
                             extra_fields=self.extra_fields[i],
-                            remark=self.remarks[i])
+                            remark=self.remarks[i],
+                        )
                         del member_ref  # avoid myself making errors below
 
                     # Create emergency contacts
                     for i in range(num_e):
                         member_emgc = Member.objects.create(
-                            firstname=name_main,
-                            lastname='emgc_#{}'.format(i))
+                            firstname=name_main, lastname="emgc_#{}".format(i)
+                        )
                         Relationship.objects.create(
                             member=member_emgc,
                             client=client_main,
                             nature=self.natures[i],
                             type=[_ref_Relationship.EMERGENCY],
                             extra_fields=self.extra_fields[i],
-                            remark=self.remarks[i])
+                            remark=self.remarks[i],
+                        )
                         del member_emgc  # avoid myself making errors below
 
                     # Create referent+emergency contacts
                     for i in range(num_re):
                         member_re = Member.objects.create(
-                            firstname=name_main,
-                            lastname='ref+emgc_#{}'.format(i))
+                            firstname=name_main, lastname="ref+emgc_#{}".format(i)
+                        )
                         Relationship.objects.create(
                             member=member_re,
                             client=client_main,
                             nature=self.natures[i],
-                            type=[_ref_Relationship.EMERGENCY,
-                                  _ref_Relationship.REFERENT],
+                            type=[
+                                _ref_Relationship.EMERGENCY,
+                                _ref_Relationship.REFERENT,
+                            ],
                             extra_fields=self.extra_fields[i],
-                            remark=self.remarks[i])
+                            remark=self.remarks[i],
+                        )
                         del member_re  # avoid myself making errors below
 
     def test_reversed_referencings_and_emergencycontacts(self):
-        Member = self.apps.get_model('member', 'Member')
-        Client = self.apps.get_model('member', 'Client')
-        Referencing = self.apps.get_model('member', 'Referencing')
-        EmergencyContact = self.apps.get_model('member', 'EmergencyContact')
+        Member = self.apps.get_model("member", "Member")
+        Client = self.apps.get_model("member", "Client")
+        Referencing = self.apps.get_model("member", "Referencing")
+        EmergencyContact = self.apps.get_model("member", "EmergencyContact")
 
         for num_r in range(4):  # [0, 1, 2, 3]
             for num_e in range(4):
                 for num_re in range(4):
                     name_main = "{}{}{}".format(num_r, num_e, num_re)
-                    fail_msg = (
-                        "while testing: client{} "
-                        "(see docstring)".format(name_main))
+                    fail_msg = "while testing: client{} " "(see docstring)".format(
+                        name_main
+                    )
                     client_main = Client.objects.get(
-                        member__firstname=name_main,
-                        member__lastname="main")
+                        member__firstname=name_main, member__lastname="main"
+                    )
 
                     # Check number of Referencing and EmergencyContact objects
                     self.assertEqual(
-                        Referencing.objects.filter(
-                            client=client_main).count(),
+                        Referencing.objects.filter(client=client_main).count(),
                         num_r + num_re,
-                        msg=fail_msg)
+                        msg=fail_msg,
+                    )
                     self.assertEqual(
-                        EmergencyContact.objects.filter(
-                            client=client_main).count(),
+                        EmergencyContact.objects.filter(client=client_main).count(),
                         num_e + num_re,
-                        msg=fail_msg)
+                        msg=fail_msg,
+                    )
 
                     # Check referents
                     for i in range(num_r):
-                        sub_fail_msg = "{} -- Referent #{}".format(
-                            fail_msg, i)
+                        sub_fail_msg = "{} -- Referent #{}".format(fail_msg, i)
                         member_ref = Member.objects.get(
-                            firstname=name_main,
-                            lastname='ref_#{}'.format(i))
+                            firstname=name_main, lastname="ref_#{}".format(i)
+                        )
                         r = Referencing.objects.get(
-                            client=client_main,
-                            referent=member_ref)
+                            client=client_main, referent=member_ref
+                        )
                         if isinstance(self.extra_fields[i], dict):
                             correct_referral_reason = self.extra_fields[i].get(
-                                'referral_reason')
-                            correct_date = self.extra_fields[i].get(
-                                'referral_date')
+                                "referral_reason"
+                            )
+                            correct_date = self.extra_fields[i].get("referral_date")
                         else:
                             correct_referral_reason = None
                             correct_date = None
 
                         self.assertEqual(
                             r.referral_reason,
-                            correct_referral_reason or (
-                                '??? (reverse migration 0032)'),
-                            msg=sub_fail_msg)
+                            correct_referral_reason or ("??? (reverse migration 0032)"),
+                            msg=sub_fail_msg,
+                        )
                         self.assertEqual(
-                            r.date,
-                            correct_date or date(1970, 1, 1),
-                            msg=sub_fail_msg)
+                            r.date, correct_date or date(1970, 1, 1), msg=sub_fail_msg
+                        )
                         del member_ref  # avoid myself making errors below
 
                     # Check emergency contacts
                     for i in range(num_e):
-                        sub_fail_msg = "{} -- Emergency #{}".format(
-                            fail_msg, i)
+                        sub_fail_msg = "{} -- Emergency #{}".format(fail_msg, i)
                         member_emgc = Member.objects.get(
-                            firstname=name_main,
-                            lastname='emgc_#{}'.format(i))
+                            firstname=name_main, lastname="emgc_#{}".format(i)
+                        )
                         ec = EmergencyContact.objects.get(
-                            client=client_main,
-                            member=member_emgc)
+                            client=client_main, member=member_emgc
+                        )
                         self.assertEqual(
-                            ec.relationship,
-                            self.natures[i],
-                            msg=sub_fail_msg)
+                            ec.relationship, self.natures[i], msg=sub_fail_msg
+                        )
                         del member_emgc
 
                     # Check referents+emergency contacts
                     for i in range(num_re):
-                        sub_fail_msg = "{} -- Ref+Emgc #{}".format(
-                            fail_msg, i)
+                        sub_fail_msg = "{} -- Ref+Emgc #{}".format(fail_msg, i)
                         member_re = Member.objects.get(
-                            firstname=name_main,
-                            lastname='ref+emgc_#{}'.format(i))
+                            firstname=name_main, lastname="ref+emgc_#{}".format(i)
+                        )
 
                         r = Referencing.objects.get(
-                            client=client_main,
-                            referent=member_re)
+                            client=client_main, referent=member_re
+                        )
                         if isinstance(self.extra_fields[i], dict):
                             correct_referral_reason = self.extra_fields[i].get(
-                                'referral_reason')
-                            correct_date = self.extra_fields[i].get(
-                                'referral_date')
+                                "referral_reason"
+                            )
+                            correct_date = self.extra_fields[i].get("referral_date")
                         else:
                             correct_referral_reason = None
                             correct_date = None
 
                         self.assertEqual(
                             r.referral_reason,
-                            correct_referral_reason or (
-                                '??? (reverse migration 0032)'),
-                            msg=sub_fail_msg)
+                            correct_referral_reason or ("??? (reverse migration 0032)"),
+                            msg=sub_fail_msg,
+                        )
                         self.assertEqual(
-                            r.date,
-                            correct_date or date(1970, 1, 1),
-                            msg=sub_fail_msg)
+                            r.date, correct_date or date(1970, 1, 1), msg=sub_fail_msg
+                        )
 
                         ec = EmergencyContact.objects.get(
-                            client=client_main,
-                            member=member_re)
+                            client=client_main, member=member_re
+                        )
                         self.assertEqual(
-                            ec.relationship,
-                            self.natures[i],
-                            msg=sub_fail_msg)
+                            ec.relationship, self.natures[i], msg=sub_fail_msg
+                        )
 
                         del member_re  # avoid myself making errors below
```

### Comparing `souschef-1.3.6/souschef/member/urls.py` & `souschef-1.3.7/souschef/member/urls.py`

 * *Files 19% similar despite different names*

```diff
@@ -1,141 +1,183 @@
 from django.conf.urls import url
-from django.utils.translation import ugettext_lazy as _
 from django.utils.translation import string_concat
+from django.utils.translation import ugettext_lazy as _
 
+from souschef.member.forms import (
+    ClientAddressInformation,
+    ClientBasicInformation,
+    ClientPaymentInformation,
+    ClientRestrictionsInformation,
+)
+from souschef.member.formsets import CreateRelationshipFormset
 from souschef.member.views import (
-    ClientWizard,
+    ClientAllergiesView,
+    ClientInfoView,
     ClientList,
-    SearchMembers,
     ClientOrderList,
-    ClientInfoView,
     ClientPaymentView,
-    ClientAllergiesView,
-    DeleteRestriction,
-    DeleteClientOption,
-    DeleteIngredientToAvoid,
-    DeleteComponentToAvoid,
-    geolocateAddress,
     ClientStatusScheduler,
+    ClientStatusSchedulerDeleteView,
     ClientStatusSchedulerReschedule,
     ClientStatusView,
-    ClientStatusSchedulerDeleteView,
-    ClientUpdateBasicInformation,
     ClientUpdateAddressInformation,
-    ClientUpdatePaymentInformation,
+    ClientUpdateBasicInformation,
     ClientUpdateDietaryRestriction,
+    ClientUpdatePaymentInformation,
     ClientUpdateRelationshipsInformation,
-    RouteListView,
+    ClientWizard,
+    DeleteClientOption,
+    DeleteComponentToAvoid,
+    DeleteIngredientToAvoid,
+    DeleteRestriction,
+    DeliveryHistoryDetailView,
     RouteDetailView,
     RouteEditView,
-    DeliveryHistoryDetailView,
+    RouteListView,
+    SearchMembers,
+    geolocateAddress,
     get_minimised_euclidean_distances_route_sequence,
 )
-
-from souschef.member.forms import (
-    ClientBasicInformation, ClientAddressInformation,
-    ClientPaymentInformation, ClientRestrictionsInformation
+from souschef.note.views import (
+    ClientNoteList,
+    ClientNoteListAdd,
 )
-from souschef.member.formsets import CreateRelationshipFormset
-
-from souschef.note.views import ClientNoteList, ClientNoteListAdd
 
 app_name = "member"
 
-member_forms = ({
-    'name':        'basic_information',
-    'step_url':    _('basic_information'),
-    'create_form': ClientBasicInformation,
-    'update_form': ClientUpdateBasicInformation
-}, {
-    'name':        'address_information',
-    'step_url':    _('address_information'),
-    'create_form': ClientAddressInformation,
-    'update_form': ClientUpdateAddressInformation
-}, {
-    'name':        'relationships',
-    'step_url':    _('relationships'),
-    'create_form': CreateRelationshipFormset,
-    'update_form': ClientUpdateRelationshipsInformation
-}, {
-    'name':        'payment_information',
-    'step_url':    _('payment_information'),
-    'create_form': ClientPaymentInformation,
-    'update_form': ClientUpdatePaymentInformation,
-}, {
-    'name':        'dietary_restriction',
-    'step_url':    _('dietary_restriction'),
-    'create_form': ClientRestrictionsInformation,
-    'update_form': ClientUpdateDietaryRestriction,
-})
+member_forms = (
+    {
+        "name": "basic_information",
+        "step_url": _("basic_information"),
+        "create_form": ClientBasicInformation,
+        "update_form": ClientUpdateBasicInformation,
+    },
+    {
+        "name": "address_information",
+        "step_url": _("address_information"),
+        "create_form": ClientAddressInformation,
+        "update_form": ClientUpdateAddressInformation,
+    },
+    {
+        "name": "relationships",
+        "step_url": _("relationships"),
+        "create_form": CreateRelationshipFormset,
+        "update_form": ClientUpdateRelationshipsInformation,
+    },
+    {
+        "name": "payment_information",
+        "step_url": _("payment_information"),
+        "create_form": ClientPaymentInformation,
+        "update_form": ClientUpdatePaymentInformation,
+    },
+    {
+        "name": "dietary_restriction",
+        "step_url": _("dietary_restriction"),
+        "create_form": ClientRestrictionsInformation,
+        "update_form": ClientUpdateDietaryRestriction,
+    },
+)
 
 member_wizard = ClientWizard.as_view(
-    list(map(lambda d: (d['name'], d['create_form']), member_forms)),
-    i18n_url_names=list(map(
-        lambda d: (d['name'], d['step_url']), member_forms
-    )),
-    url_name='member:member_step'
+    list(map(lambda d: (d["name"], d["create_form"]), member_forms)),
+    i18n_url_names=list(map(lambda d: (d["name"], d["step_url"]), member_forms)),
+    url_name="member:member_step",
 )
 
 
 urlpatterns = [
-    url(_(r'^create/$'), member_wizard, name='member_step'),
-    url(_(r'^create/(?P<step>.+)/$'), member_wizard,
-        name='member_step'),
-    url(_(r'^list/$'), ClientList.as_view(), name='list'),
-    url(_(r'^search/$'), SearchMembers.as_view(), name='search'),
-    url(_(r'^view/(?P<pk>\d+)/orders$'),
-        ClientOrderList.as_view(), name='list_orders'),
-    url(_(r'^view/(?P<pk>\d+)/information$'),
-        ClientInfoView.as_view(), name='client_information'),
-    url(_(r'^view/(?P<pk>\d+)/billing$'),
-        ClientPaymentView.as_view(), name='client_payment'),
-    url(_(r'^view/(?P<pk>\d+)/preferences$'),
-        ClientAllergiesView.as_view(), name='client_allergies'),
-    url(_(r'^view/(?P<pk>\d+)/notes$'),
-        ClientNoteList.as_view(), name='client_notes'),
-    url(_(r'^view/(?P<pk>\d+)/notes/add$'),
-        ClientNoteListAdd.as_view(), name='client_notes_add'),
-    url(_(r'^geolocateAddress/$'), geolocateAddress, name='geolocateAddress'),
-    url(_(r'^view/(?P<pk>\d+)/status$'),
-        ClientStatusView.as_view(), name='client_status'),
-    url(_(r'^client/(?P<pk>\d+)/status/scheduler$'),
-        ClientStatusScheduler.as_view(), name='clientStatusScheduler'),
-    url(_(r'^client/(?P<pk>\d+)/status/scheduler/reschedule/'
-          r'(?P<scheduled_status_1_pk>\d+)'
-          r',(?P<scheduled_status_2_pk>\d+)?'
-          r'/$'),
+    url(_(r"^create/$"), member_wizard, name="member_step"),
+    url(_(r"^create/(?P<step>.+)/$"), member_wizard, name="member_step"),
+    url(_(r"^list/$"), ClientList.as_view(), name="list"),
+    url(_(r"^search/$"), SearchMembers.as_view(), name="search"),
+    url(_(r"^view/(?P<pk>\d+)/orders$"), ClientOrderList.as_view(), name="list_orders"),
+    url(
+        _(r"^view/(?P<pk>\d+)/information$"),
+        ClientInfoView.as_view(),
+        name="client_information",
+    ),
+    url(
+        _(r"^view/(?P<pk>\d+)/billing$"),
+        ClientPaymentView.as_view(),
+        name="client_payment",
+    ),
+    url(
+        _(r"^view/(?P<pk>\d+)/preferences$"),
+        ClientAllergiesView.as_view(),
+        name="client_allergies",
+    ),
+    url(_(r"^view/(?P<pk>\d+)/notes$"), ClientNoteList.as_view(), name="client_notes"),
+    url(
+        _(r"^view/(?P<pk>\d+)/notes/add$"),
+        ClientNoteListAdd.as_view(),
+        name="client_notes_add",
+    ),
+    url(_(r"^geolocateAddress/$"), geolocateAddress, name="geolocateAddress"),
+    url(
+        _(r"^view/(?P<pk>\d+)/status$"),
+        ClientStatusView.as_view(),
+        name="client_status",
+    ),
+    url(
+        _(r"^client/(?P<pk>\d+)/status/scheduler$"),
+        ClientStatusScheduler.as_view(),
+        name="clientStatusScheduler",
+    ),
+    url(
+        _(
+            r"^client/(?P<pk>\d+)/status/scheduler/reschedule/"
+            r"(?P<scheduled_status_1_pk>\d+)"
+            r",(?P<scheduled_status_2_pk>\d+)?"
+            r"/$"
+        ),
         ClientStatusSchedulerReschedule.as_view(),
-        name='clientStatusSchedulerReschedule'),
+        name="clientStatusSchedulerReschedule",
+    ),
     url(
-        r'^status/(?P<pk>\d+)/delete$',
+        r"^status/(?P<pk>\d+)/delete$",
         ClientStatusSchedulerDeleteView.as_view(),
-        name='delete_status'
+        name="delete_status",
+    ),
+    url(
+        _(r"^restriction/(?P<pk>\d+)/delete/$"),
+        DeleteRestriction.as_view(),
+        name="restriction_delete",
+    ),
+    url(
+        _(r"^client_option/(?P<pk>\d+)/delete/$"),
+        DeleteClientOption.as_view(),
+        name="client_option_delete",
     ),
-    url(_(r'^restriction/(?P<pk>\d+)/delete/$'),
-        DeleteRestriction.as_view(), name='restriction_delete'),
-    url(_(r'^client_option/(?P<pk>\d+)/delete/$'),
-        DeleteClientOption.as_view(), name='client_option_delete'),
-    url(_(r'^ingredient_to_avoid/(?P<pk>\d+)/delete/$'),
-        DeleteIngredientToAvoid.as_view(), name='ingredient_to_avoid_delete'),
-    url(_(r'^component_to_avoid/(?P<pk>\d+)/delete/$'),
-        DeleteComponentToAvoid.as_view(), name='component_to_avoid_delete'),
-
-    url(_(r'^routes/$'), RouteListView.as_view(), name='route_list'),
-    url(_(r'^route/(?P<pk>\d+)/$'),
-        RouteDetailView.as_view(), name='route_detail'),
-    url(_(r'^route/(?P<pk>\d+)/edit/$'),
-        RouteEditView.as_view(), name='route_edit'),
-    url(_(r'^route/(?P<pk>\d+)/optimised_sequence/$'),
+    url(
+        _(r"^ingredient_to_avoid/(?P<pk>\d+)/delete/$"),
+        DeleteIngredientToAvoid.as_view(),
+        name="ingredient_to_avoid_delete",
+    ),
+    url(
+        _(r"^component_to_avoid/(?P<pk>\d+)/delete/$"),
+        DeleteComponentToAvoid.as_view(),
+        name="component_to_avoid_delete",
+    ),
+    url(_(r"^routes/$"), RouteListView.as_view(), name="route_list"),
+    url(_(r"^route/(?P<pk>\d+)/$"), RouteDetailView.as_view(), name="route_detail"),
+    url(_(r"^route/(?P<pk>\d+)/edit/$"), RouteEditView.as_view(), name="route_edit"),
+    url(
+        _(r"^route/(?P<pk>\d+)/optimised_sequence/$"),
         get_minimised_euclidean_distances_route_sequence,
-        name='route_get_optimised_sequence'),
-    url(_(r'^route/(?P<route_pk>\d+)/(?P<date>\d{4}-\d{2}-\d{2})/$'),
-        DeliveryHistoryDetailView.as_view(), name='delivery_history_detail'),
+        name="route_get_optimised_sequence",
+    ),
+    url(
+        _(r"^route/(?P<route_pk>\d+)/(?P<date>\d{4}-\d{2}-\d{2})/$"),
+        DeliveryHistoryDetailView.as_view(),
+        name="delivery_history_detail",
+    ),
 ]
 
 # Handle client update forms URL
 for d in member_forms:
     urlpatterns.append(
-        url(string_concat(_(r'^(?P<pk>\d+)/update/'), d['step_url'], '/$'),
-            d['update_form'].as_view(),
-            name='member_update_' + d['name'])
+        url(
+            string_concat(_(r"^(?P<pk>\d+)/update/"), d["step_url"], "/$"),
+            d["update_form"].as_view(),
+            name="member_update_" + d["name"],
+        )
     )
```

### Comparing `souschef-1.3.6/souschef/member/views.py` & `souschef-1.3.7/souschef/member/views.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,513 +1,516 @@
 # coding: utf-8
 
 import csv
 
 from django.contrib import messages
-from django.contrib.auth.mixins import LoginRequiredMixin
-from django.contrib.auth.mixins import PermissionRequiredMixin
 from django.contrib.auth.decorators import login_required
-from django.urls import reverse_lazy, reverse
+from django.contrib.auth.mixins import (
+    LoginRequiredMixin,
+    PermissionRequiredMixin,
+)
 from django.db import transaction
-from django.db.models import Q, Prefetch, When, Case, Sum, IntegerField
+from django.db.models import (
+    Case,
+    IntegerField,
+    Prefetch,
+    Q,
+    Sum,
+    When,
+)
 from django.db.transaction import atomic
-from django.http import HttpResponseRedirect, JsonResponse, HttpResponse
+from django.http import (
+    HttpResponse,
+    HttpResponseRedirect,
+    JsonResponse,
+)
 from django.shortcuts import get_object_or_404
+from django.urls import (
+    reverse,
+    reverse_lazy,
+)
 from django.utils.decorators import classonlymethod
 from django.utils.encoding import force_text
 from django.utils.safestring import mark_safe
 from django.utils.translation import ugettext_lazy as _
 from django.views import generic
 from formtools.wizard.views import NamedUrlSessionWizardView
 
 from souschef.delivery.views import calculateRoutePointsEuclidean
-from souschef.meal.models import COMPONENT_GROUP_CHOICES, COMPONENT_GROUP_CHOICES_SIDES
+from souschef.meal.models import (
+    COMPONENT_GROUP_CHOICES,
+    COMPONENT_GROUP_CHOICES_SIDES,
+)
 from souschef.member.forms import (
-    ClientScheduledStatusForm,
-    ClientBasicInformation,
     ClientAddressInformation,
-    ClientRestrictionsInformation,
+    ClientBasicInformation,
     ClientPaymentInformation,
+    ClientRestrictionsInformation,
+    ClientScheduledStatusForm,
+)
+from souschef.member.formsets import (
+    CreateRelationshipFormset,
+    UpdateRelationshipFormset,
 )
-from souschef.member.formsets import (CreateRelationshipFormset,
-                             UpdateRelationshipFormset)
 from souschef.member.models import (
-    Client,
-    ClientScheduledStatus,
-    Route, DeliveryHistory,
-    Member,
+    CELL,
+    DAYS_OF_WEEK,
+    EMAIL,
+    HOME,
+    WORK,
     Address,
-    Contact,
-    Restriction,
-    Relationship,
+    Client,
+    Client_avoid_component,
+    Client_avoid_ingredient,
     Client_option,
     ClientFilter,
+    ClientScheduledStatus,
     ClientScheduledStatusFilter,
-    DAYS_OF_WEEK,
-    Client_avoid_ingredient,
-    Client_avoid_component,
-    HOME, WORK, CELL, EMAIL)
+    Contact,
+    DeliveryHistory,
+    Member,
+    Relationship,
+    Restriction,
+    Route,
+)
 from souschef.order.mixins import FormValidAjaxableResponseMixin
-from souschef.order.models import SIZE_CHOICES, Order
+from souschef.order.models import (
+    SIZE_CHOICES,
+    Order,
+)
 
 
 class NamedUrlSessionWizardView_i18nURL(NamedUrlSessionWizardView):
-
     @classonlymethod
     def as_view(cls, *args, **kwargs):
-        cls.i18n_url_names = kwargs.pop('i18n_url_names')
-        return super(NamedUrlSessionWizardView_i18nURL, cls).as_view(
-            *args, **kwargs)
+        cls.i18n_url_names = kwargs.pop("i18n_url_names")
+        return super(NamedUrlSessionWizardView_i18nURL, cls).as_view(*args, **kwargs)
 
     def dispatch(self, request, *args, **kwargs):
         """
         Replace kwargs['step'] as non-i18n step name.
         """
-        if 'step' in kwargs:
-            i18n_step = kwargs.pop('step')
+        if "step" in kwargs:
+            i18n_step = kwargs.pop("step")
             try:
                 matched_tup = next(
-                    tup for tup in self.i18n_url_names
+                    tup
+                    for tup in self.i18n_url_names
                     if force_text(tup[1]) == i18n_step
                 )
                 non_i18n_step = matched_tup[0]
             except StopIteration:
                 # not found
                 non_i18n_step = i18n_step
             finally:
-                kwargs['step'] = non_i18n_step
+                kwargs["step"] = non_i18n_step
         return super(NamedUrlSessionWizardView_i18nURL, self).dispatch(
-            request, *args, **kwargs)
+            request, *args, **kwargs
+        )
 
     def get_step_url(self, step):
         """
         Replace non-i18n step name as i18n step name.
         """
         non_i18n_step = step
         try:
             matched_tup = next(
-                tup for tup in self.i18n_url_names
+                tup
+                for tup in self.i18n_url_names
                 if force_text(tup[0]) == non_i18n_step
             )
             i18n_step = matched_tup[1]
         except StopIteration:
             # not found
             i18n_step = non_i18n_step
         finally:
             return super(NamedUrlSessionWizardView_i18nURL, self).get_step_url(
-                i18n_step)
+                i18n_step
+            )
 
 
 class ClientWizard(
-        LoginRequiredMixin, PermissionRequiredMixin,
-        NamedUrlSessionWizardView_i18nURL):
-    permission_required = 'sous_chef.edit'
-    template_name = 'client/create/form.html'
+    LoginRequiredMixin, PermissionRequiredMixin, NamedUrlSessionWizardView_i18nURL
+):
+    permission_required = "sous_chef.edit"
+    template_name = "client/create/form.html"
 
     def get_context_data(self, **kwargs):
         context = super(ClientWizard, self).get_context_data(**kwargs)
 
         context["weekday"] = DAYS_OF_WEEK
-        context["meals"] = list(filter(
-            lambda tup: tup[0] != COMPONENT_GROUP_CHOICES_SIDES,
-            COMPONENT_GROUP_CHOICES
-        ))
-
-        if 'pk' in kwargs:
-            context.update({'edit': True})
-            context.update({'pk': kwargs['pk']})
+        context["meals"] = list(
+            filter(
+                lambda tup: tup[0] != COMPONENT_GROUP_CHOICES_SIDES,
+                COMPONENT_GROUP_CHOICES,
+            )
+        )
+
+        if "pk" in kwargs:
+            context.update({"edit": True})
+            context.update({"pk": kwargs["pk"]})
 
-        form = context['form']
+        form = context["form"]
         if isinstance(form, ClientBasicInformation):
-            step_template = 'client/partials/forms/basic_information.html'
+            step_template = "client/partials/forms/basic_information.html"
         elif isinstance(form, ClientAddressInformation):
-            step_template = 'client/partials/forms/address_information.html'
+            step_template = "client/partials/forms/address_information.html"
         elif isinstance(form, ClientPaymentInformation):
-            step_template = 'client/partials/forms/payment_information.html'
+            step_template = "client/partials/forms/payment_information.html"
         elif isinstance(form, ClientRestrictionsInformation):
-            step_template = 'client/partials/forms/dietary_restriction.html'
+            step_template = "client/partials/forms/dietary_restriction.html"
         elif isinstance(form, CreateRelationshipFormset):
-            step_template = 'client/partials/forms/relationships.html'
+            step_template = "client/partials/forms/relationships.html"
         else:
             step_template = None
-        context['step_template'] = step_template
+        context["step_template"] = step_template
 
         return context
 
     def get_form_initial(self, step):
         """
         Load initial data.
         """
         initial = {}
-        if 'pk' in self.kwargs:
-            pk = self.kwargs['pk']
+        if "pk" in self.kwargs:
+            pk = self.kwargs["pk"]
             client = Client.objects.get(id=pk)
             initial = self.load_initial_data(step, client)
 
         return self.initial_dict.get(step, initial)
 
     def done(self, form_list, form_dict, **kwargs):
         """
         Process the submitted and validated form data.
         """
         # Use form_dict which allows us to access the wizards forms
         # based on their step names.
         pk = None
         self.form_dict = form_dict
 
-        if 'pk' in kwargs:
-            pk = kwargs['pk']
+        if "pk" in kwargs:
+            pk = kwargs["pk"]
         self.save(pk)
         messages.add_message(
-            self.request, messages.SUCCESS,
-            _("The client has been created")
+            self.request, messages.SUCCESS, _("The client has been created")
         )
-        return HttpResponseRedirect(reverse_lazy('member:list'))
+        return HttpResponseRedirect(reverse_lazy("member:list"))
 
     def load_initial_data(self, step, client):
         """
         Load initial for the given step and client.
         """
         initial = {
-            'firstname': client.member.firstname,
-            'lastname': client.member.lastname,
-            'alert': client.alert,
-            'gender': client.gender,
-            'language': client.language,
-            'birthdate': client.birthdate,
-            'contact_value': client.member.home_phone,
-            'street': client.member.address.street,
-            'city': client.member.address.city,
-            'apartment': client.member.address.apartment,
-            'postal_code': client.member.address.postal_code,
-            'delivery_note': client.delivery_note,
-            'route': client.route,
-            'latitude': client.member.address.latitude,
-            'longitude': client.member.address.longitude,
-            'distance': client.member.address.distance,
-            'member': client.id,
-            'same_as_client': True,
-            'facturation': '',
-            'billing_payment_type': '',
+            "firstname": client.member.firstname,
+            "lastname": client.member.lastname,
+            "alert": client.alert,
+            "gender": client.gender,
+            "language": client.language,
+            "birthdate": client.birthdate,
+            "contact_value": client.member.home_phone,
+            "street": client.member.address.street,
+            "city": client.member.address.city,
+            "apartment": client.member.address.apartment,
+            "postal_code": client.member.address.postal_code,
+            "delivery_note": client.delivery_note,
+            "route": client.route,
+            "latitude": client.member.address.latitude,
+            "longitude": client.member.address.longitude,
+            "distance": client.member.address.distance,
+            "member": client.id,
+            "same_as_client": True,
+            "facturation": "",
+            "billing_payment_type": "",
         }
         return initial
 
     def save_json(self, dictonary):
         json = {}
 
         for days, Days in DAYS_OF_WEEK:
-            json['size_{}'.format(days)] = dictonary.get(
-                'size_{}'.format(days)
-            )
+            json["size_{}".format(days)] = dictonary.get("size_{}".format(days))
 
-            if json['size_{}'.format(days)] == "":
-                json['size_{}'.format(days)] = None
+            if json["size_{}".format(days)] == "":
+                json["size_{}".format(days)] = None
 
             for meal, Meals in COMPONENT_GROUP_CHOICES:
                 if meal is COMPONENT_GROUP_CHOICES_SIDES:
                     continue  # skip "Sides"
-                json['{}_{}_quantity'.format(meal, days)] \
-                    = dictonary.get(
-                    '{}_{}_quantity'.format(meal, days)
+                json["{}_{}_quantity".format(meal, days)] = dictonary.get(
+                    "{}_{}_quantity".format(meal, days)
                 )
 
         return json
 
     @atomic
     def save(self, id=None):
         """
         Update or create the member and all its related data.
         """
-        basic_information = self.form_dict['basic_information'].cleaned_data
-        address_information = self.form_dict[
-            'address_information'].cleaned_data
-        payment_information = self.form_dict[
-            'payment_information'].cleaned_data
-        dietary_restriction = self.form_dict[
-            'dietary_restriction'].cleaned_data
+        basic_information = self.form_dict["basic_information"].cleaned_data
+        address_information = self.form_dict["address_information"].cleaned_data
+        payment_information = self.form_dict["payment_information"].cleaned_data
+        dietary_restriction = self.form_dict["dietary_restriction"].cleaned_data
 
         member, created = Member.objects.update_or_create(
             id=id,
             defaults={
-                'firstname': basic_information.get('firstname'),
-                'lastname': basic_information.get('lastname'),
-            }
+                "firstname": basic_information.get("firstname"),
+                "lastname": basic_information.get("lastname"),
+            },
         )
 
         address, created = Address.objects.update_or_create(
             id=None if member.address is None else member.address.id,
             defaults={
-                'street': address_information.get('street'),
-                'apartment': address_information.get('apartment'),
-                'city': address_information.get('city'),
-                'postal_code': address_information.get('postal_code'),
-                'latitude': address_information.get('latitude'),
-                'longitude': address_information.get('longitude'),
-                'distance': address_information.get('distance'),
-            }
+                "street": address_information.get("street"),
+                "apartment": address_information.get("apartment"),
+                "city": address_information.get("city"),
+                "postal_code": address_information.get("postal_code"),
+                "latitude": address_information.get("latitude"),
+                "longitude": address_information.get("longitude"),
+                "distance": address_information.get("distance"),
+            },
         )
         member.address = address
         member.save()
 
-        member.add_contact_information(
-            HOME, basic_information.get('home_phone')
-        )
-        member.add_contact_information(
-            CELL, basic_information.get('cell_phone')
-        )
-        member.add_contact_information(
-            EMAIL, basic_information.get('email')
-        )
+        member.add_contact_information(HOME, basic_information.get("home_phone"))
+        member.add_contact_information(CELL, basic_information.get("cell_phone"))
+        member.add_contact_information(EMAIL, basic_information.get("email"))
 
         billing_member = self.save_billing_member(member)
 
         client, created = Client.objects.update_or_create(
             id=member.id,
             defaults={
-                'member': member,
-                'language': basic_information.get('language'),
-                'gender': basic_information.get('gender'),
-                'birthdate': basic_information.get('birthdate'),
-                'alert': basic_information.get('alert'),
-                'rate_type': payment_information.get('facturation'),
-                'billing_payment_type':
-                    payment_information.get('billing_payment_type'),
-                'billing_member': billing_member,
-                'delivery_type': dietary_restriction.get('delivery_type'),
-                'meal_default_week': self.save_json(dietary_restriction),
-                'route': address_information.get('route'),
-                'delivery_note': address_information.get('delivery_note'),
-                'status': 'A' if dietary_restriction['status'] else 'D',
-            }
+                "member": member,
+                "language": basic_information.get("language"),
+                "gender": basic_information.get("gender"),
+                "birthdate": basic_information.get("birthdate"),
+                "alert": basic_information.get("alert"),
+                "rate_type": payment_information.get("facturation"),
+                "billing_payment_type": payment_information.get("billing_payment_type"),
+                "billing_member": billing_member,
+                "delivery_type": dietary_restriction.get("delivery_type"),
+                "meal_default_week": self.save_json(dietary_restriction),
+                "route": address_information.get("route"),
+                "delivery_note": address_information.get("delivery_note"),
+                "status": "A" if dietary_restriction["status"] else "D",
+            },
         )
 
         self.save_relationships(billing_member, client)
         self.save_preferences(client)
 
     def save_billing_member(self, member):
-        payment_information = \
-            self.form_dict['payment_information'].cleaned_data
+        payment_information = self.form_dict["payment_information"].cleaned_data
 
-        if payment_information.get('same_as_client'):
+        if payment_information.get("same_as_client"):
             billing_member = member
 
         else:
-            e_b_member = payment_information.get('member')
+            e_b_member = payment_information.get("member")
             if self.billing_member_is_member():
                 billing_member = member
             elif e_b_member:
-                e_b_member_id = e_b_member.split(' ')[0].\
-                    replace('[', '').replace(']', '')
+                e_b_member_id = (
+                    e_b_member.split(" ")[0].replace("[", "").replace("]", "")
+                )
                 billing_member = Member.objects.get(pk=e_b_member_id)
             else:
                 billing_address = Address.objects.create(
-                    number=payment_information.get('number'),
-                    street=payment_information.get('street'),
-                    apartment=payment_information.get('apartment'),
-                    floor=payment_information.get('floor'),
-                    city=payment_information.get('city'),
-                    postal_code=payment_information.get('postal_code'),
+                    number=payment_information.get("number"),
+                    street=payment_information.get("street"),
+                    apartment=payment_information.get("apartment"),
+                    floor=payment_information.get("floor"),
+                    city=payment_information.get("city"),
+                    postal_code=payment_information.get("postal_code"),
                 )
                 billing_address.save()
 
                 billing_member = Member.objects.create(
-                    firstname=payment_information.get('firstname'),
-                    lastname=payment_information.get('lastname'),
+                    firstname=payment_information.get("firstname"),
+                    lastname=payment_information.get("lastname"),
                     address=billing_address,
                 )
                 billing_member.save()
 
         return billing_member
 
     def save_relationships(self, billing_member, client):
-        relationships = self.form_dict['relationships']
+        relationships = self.form_dict["relationships"]
         results = []
         for relationship in relationships:
             # Avoid empty forms, at least one relationship form is
             # required by django formset validation. If we have
             # one form good filled and several empty forms, the 'is_valid'
             # method return True
             if relationship.changed_data:
                 data = relationship.cleaned_data
-                relationship_member = data.get('member')
-                if self.billing_member_is_relationship(
-                        relationship, billing_member):
+                relationship_member = data.get("member")
+                if self.billing_member_is_relationship(relationship, billing_member):
                     member = billing_member
                 elif relationship_member:
-                    relationship_member_id = relationship_member.split(' ')[0]\
-                        .replace('[', '')\
-                        .replace(']', '')
+                    relationship_member_id = (
+                        relationship_member.split(" ")[0]
+                        .replace("[", "")
+                        .replace("]", "")
+                    )
                     member = Member.objects.get(pk=relationship_member_id)
                 else:
                     member = Member.objects.create(
-                        firstname=data.get("firstname"),
-                        lastname=data.get('lastname')
+                        firstname=data.get("firstname"), lastname=data.get("lastname")
                     )
                     if relationship.has_referent_relationship:
-                        member.work_information = data.get('work_information')
+                        member.work_information = data.get("work_information")
                     member.save()
                     r_email = data.get("email", None)
                     r_work_phone = data.get("work_phone", None)
                     r_cell_phone = data.get("cell_phone", None)
                     if r_email:
                         member.add_contact_information(EMAIL, r_email)
                     if r_work_phone:
                         member.add_contact_information(WORK, r_work_phone)
                     if r_cell_phone:
                         member.add_contact_information(CELL, r_cell_phone)
 
                 extra_fields = {}
                 if relationship.has_referent_relationship:
-                    extra_fields[
-                        'referral_date'] = data.get('referral_date')
-                    extra_fields[
-                        'referral_reason'] = data.get('referral_reason')
-
-                results.append(Relationship.objects.create(
-                    client=client,
-                    member=member,
-                    nature=data.get('nature'),
-                    type=data.get('type'),
-                    remark=data.get('remark'),
-                    extra_fields=extra_fields
-                ))
+                    extra_fields["referral_date"] = data.get("referral_date")
+                    extra_fields["referral_reason"] = data.get("referral_reason")
+
+                results.append(
+                    Relationship.objects.create(
+                        client=client,
+                        member=member,
+                        nature=data.get("nature"),
+                        type=data.get("type"),
+                        remark=data.get("remark"),
+                        extra_fields=extra_fields,
+                    )
+                )
 
         return results
 
     def save_preferences(self, client):
-        preferences = self.form_dict['dietary_restriction'].cleaned_data
+        preferences = self.form_dict["dietary_restriction"].cleaned_data
 
         # Save meals schedule as a Client option
-        client.set_simple_meals_schedule(
-            preferences.get('meals_schedule')
-        )
+        client.set_simple_meals_schedule(preferences.get("meals_schedule"))
 
         # Save restricted items
-        for restricted_item in preferences.get('restrictions'):
-            Restriction.objects.create(
-                client=client,
-                restricted_item=restricted_item
-            )
+        for restricted_item in preferences.get("restrictions"):
+            Restriction.objects.create(client=client, restricted_item=restricted_item)
 
         # Save food preparation
-        for food_preparation in preferences.get('food_preparation'):
-            Client_option.objects.create(
-                client=client,
-                option=food_preparation
-            )
+        for food_preparation in preferences.get("food_preparation"):
+            Client_option.objects.create(client=client, option=food_preparation)
 
         # Save ingredients to avoid
-        for ingredient_to_avoid in preferences.get('ingredient_to_avoid'):
+        for ingredient_to_avoid in preferences.get("ingredient_to_avoid"):
             Client_avoid_ingredient.objects.create(
-                client=client,
-                ingredient=ingredient_to_avoid
+                client=client, ingredient=ingredient_to_avoid
             )
 
         # Save components to avoid
-        for component_to_avoid in preferences.get('dish_to_avoid'):
+        for component_to_avoid in preferences.get("dish_to_avoid"):
             Client_avoid_component.objects.create(
-                client=client,
-                component=component_to_avoid
+                client=client, component=component_to_avoid
             )
 
     def billing_member_is_member(self):
-        basic_information = self.form_dict['basic_information']
-        payment_information = self.form_dict['payment_information']
+        basic_information = self.form_dict["basic_information"]
+        payment_information = self.form_dict["payment_information"]
 
-        b_firstname = basic_information.cleaned_data.get('firstname')
-        b_lastname = basic_information.cleaned_data.get('lastname')
+        b_firstname = basic_information.cleaned_data.get("firstname")
+        b_lastname = basic_information.cleaned_data.get("lastname")
 
-        p_firstname = payment_information.cleaned_data.get('firstname')
-        p_lastname = payment_information.cleaned_data.get('lastname')
+        p_firstname = payment_information.cleaned_data.get("firstname")
+        p_lastname = payment_information.cleaned_data.get("lastname")
 
         if b_firstname == p_firstname and b_lastname == p_lastname:
             return True
         return False
 
-    def billing_member_is_relationship(
-            self, relationship, billing_member
-    ):
-        r_firstname = relationship.cleaned_data.get('firstname')
-        r_lastname = relationship.cleaned_data.get('lastname')
+    def billing_member_is_relationship(self, relationship, billing_member):
+        r_firstname = relationship.cleaned_data.get("firstname")
+        r_lastname = relationship.cleaned_data.get("lastname")
 
         if (
-            r_firstname == billing_member.firstname and
-            r_lastname == billing_member.lastname
+            r_firstname == billing_member.firstname
+            and r_lastname == billing_member.lastname
         ):
             return True
 
         return False
 
 
-class ClientList(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.ListView):
+class ClientList(LoginRequiredMixin, PermissionRequiredMixin, generic.ListView):
     # Display the list of clients
-    context_object_name = 'clients'
+    context_object_name = "clients"
     model = Client
     paginate_by = 20
-    permission_required = 'sous_chef.read'
-    template_name = 'client/list.html'
+    permission_required = "sous_chef.read"
+    template_name = "client/list.html"
 
     def get_queryset(self):
         uf = ClientFilter(self.request.GET)
-        return uf.qs.select_related(
-            'member',
-            'route'
-        ).prefetch_related('member__member_contact')
+        return uf.qs.select_related("member", "route").prefetch_related(
+            "member__member_contact"
+        )
 
         # The queryset must be client
 
     def get_context_data(self, **kwargs):
         uf = ClientFilter(self.request.GET, queryset=self.get_queryset())
 
         context = super(ClientList, self).get_context_data(**kwargs)
 
         # Here you add some variable of context to display on template
-        context['filter'] = uf
-        context['display'] = self.request.GET.get('display', 'block')
-        text = ''
+        context["filter"] = uf
+        context["display"] = self.request.GET.get("display", "block")
+        text = ""
         count = 0
         for getVariable in self.request.GET:
             if getVariable == "display" or getVariable == "page":
                 continue
             for getValue in self.request.GET.getlist(getVariable):
                 if count == 0:
                     text += "?" + getVariable + "=" + getValue
                 else:
                     text += "&" + getVariable + "=" + getValue
                 count += 1
 
         text = text + "?" if count == 0 else text + "&"
-        context['get'] = text
+        context["get"] = text
 
         return context
 
     def get(self, request, **kwargs):
 
-        self.format = request.GET.get('format', False)
+        self.format = request.GET.get("format", False)
 
-        if self.format == 'csv':
-            return ExportCSV(
-                self, self.get_queryset()
-            )
+        if self.format == "csv":
+            return export_csv(self, self.get_queryset())
 
         return super(ClientList, self).get(request, **kwargs)
 
 
-def ExportCSV(self, queryset):
-    response = HttpResponse(content_type="text/csv")
-    response['Content-Disposition'] =\
-        'attachment; filename=client_export.csv'
-    writer = csv.writer(response, csv.excel)
-    writer.writerow([
+DAYS = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"]
+
+
+def _get_csv_header():
+    header = [
         "ID",
         "Client Firstname",
         "Client Lastname",
         "Client Status",
         "Client Alert",
+        "Client Language",
         "Client Gender",
         "Client Birthdate",
         "Client Delivery",
         "Client Home Phone",
         "Client Cell Phone",
         "Client Work Phone",
         "Client Email",
@@ -516,857 +519,818 @@
         "Client City",
         "Client Postal Code",
         "Client Route",
         "Client Billing Type",
         "Billing Member",
         "Relationships",
         "Meal Default",
-    ])
+    ]
+
+    header.extend(DAYS)
+
+    return header
+
+
+def _get_csv_row(obj, route):
+    mealdefweek = obj.meal_default_week
+    row = [
+        obj.id,
+        obj.member.firstname,
+        obj.member.lastname,
+        obj.get_status_display(),
+        obj.alert,
+        obj.language,
+        obj.gender,
+        obj.birthdate,
+        obj.delivery_type,
+        obj.member.home_phone,
+        obj.member.cell_phone,
+        obj.member.work_phone,
+        obj.member.email,
+        obj.member.address.street,
+        obj.member.address.apartment,
+        obj.member.address.city,
+        obj.member.address.postal_code,
+        route,
+        obj.billing_payment_type,
+        obj.billing_member,
+        ", ".join(str(c) for c in obj.relationship_set.all()),
+        mealdefweek,
+    ]
+
+    simple_meals_schedule = set(obj.simple_meals_schedule or [])
+    for day in DAYS:
+        row.append("x" if day.lower() in simple_meals_schedule else "")
+
+    return row
+
+
+def export_csv(self, queryset):
+    response = HttpResponse(content_type="text/csv")
+    response["Content-Disposition"] = "attachment; filename=client_export.csv"
+    writer = csv.writer(response, csv.excel)
+    writer.writerow(_get_csv_header())
 
     for obj in queryset:
         if obj.route is None:
             route = ""
 
         else:
             route = obj.route.name
 
-        writer.writerow([
-            obj.id,
-            obj.member.firstname,
-            obj.member.lastname,
-            obj.get_status_display(),
-            obj.alert,
-            obj.gender,
-            obj.birthdate,
-            obj.delivery_type,
-            obj.member.home_phone,
-            obj.member.cell_phone,
-            obj.member.work_phone,
-            obj.member.email,
-            obj.member.address.street,
-            obj.member.address.apartment,
-            obj.member.address.city,
-            obj.member.address.postal_code,
-            route,
-            obj.billing_payment_type,
-            obj.billing_member,
-            ", ".join(str(c) for c in obj.relationship_set.all()),
-            obj.meal_default_week,
-        ])
+        writer.writerow(_get_csv_row(obj, route))
 
     return response
 
 
-class ClientView(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.DeleteView):
+class ClientView(LoginRequiredMixin, PermissionRequiredMixin, generic.DeleteView):
     # Display detail of one client
     model = Client
-    queryset = Client.objects.prefetch_related(Prefetch(
-        'scheduled_statuses',
-        queryset=ClientScheduledStatus.objects.filter(
-            operation_status__in=[
-                ClientScheduledStatus.TOBEPROCESSED,
-                ClientScheduledStatus.ERROR
-            ]).order_by('change_date'),
-        to_attr='unprocessed_scheduled_statuses'))
-    permission_required = 'sous_chef.read'
+    queryset = Client.objects.prefetch_related(
+        Prefetch(
+            "scheduled_statuses",
+            queryset=ClientScheduledStatus.objects.filter(
+                operation_status__in=[
+                    ClientScheduledStatus.TOBEPROCESSED,
+                    ClientScheduledStatus.ERROR,
+                ]
+            ).order_by("change_date"),
+            to_attr="unprocessed_scheduled_statuses",
+        )
+    )
+    permission_required = "sous_chef.read"
 
 
 class ClientInfoView(ClientView):
-    template_name = 'client/view/information.html'
+    template_name = "client/view/information.html"
 
     def get_context_data(self, **kwargs):
         context = super(ClientInfoView, self).get_context_data(**kwargs)
-        context['active_tab'] = 'information'
-        context['client_status'] = Client.CLIENT_STATUS
+        context["active_tab"] = "information"
+        context["client_status"] = Client.CLIENT_STATUS
         return context
 
 
 class ClientAddressView(ClientView):
-    template_name = 'client/view/address.html'
+    template_name = "client/view/address.html"
 
     def get_context_data(self, **kwargs):
         context = super(ClientAddressView, self).get_context_data(**kwargs)
         return context
 
 
 class ClientPaymentView(ClientView):
-    template_name = 'client/view/payment.html'
+    template_name = "client/view/payment.html"
 
     def get_context_data(self, **kwargs):
         context = super(ClientPaymentView, self).get_context_data(**kwargs)
-        context['active_tab'] = 'billing'
-        context['client_status'] = Client.CLIENT_STATUS
+        context["active_tab"] = "billing"
+        context["client_status"] = Client.CLIENT_STATUS
         return context
 
 
 class ClientAllergiesView(ClientView):
-    template_name = 'client/view/allergies.html'
+    template_name = "client/view/allergies.html"
 
     def get_context_data(self, **kwargs):
         context = super(ClientAllergiesView, self).get_context_data(**kwargs)
-        context['active_tab'] = 'prefs'
-        context['client_status'] = Client.CLIENT_STATUS
-        context['weekdays'] = DAYS_OF_WEEK
+        context["active_tab"] = "prefs"
+        context["client_status"] = Client.CLIENT_STATUS
+        context["weekdays"] = DAYS_OF_WEEK
         sms = self.object.simple_meals_schedule
         if sms:
             weekdays_dict = dict(DAYS_OF_WEEK)
-            context['delivery_days'] = list(map(
-                lambda d: (d, weekdays_dict[d]), sms
-            ))
-
-        context['components'] = list(filter(
-            lambda t: t[0] != COMPONENT_GROUP_CHOICES_SIDES,
-            COMPONENT_GROUP_CHOICES
-        ))
-        context['meals_default'] = dict(self.object.meals_default)
-        context['size_choices'] = dict(SIZE_CHOICES)
+            context["delivery_days"] = list(map(lambda d: (d, weekdays_dict[d]), sms))
+
+        context["components"] = list(
+            filter(
+                lambda t: t[0] != COMPONENT_GROUP_CHOICES_SIDES, COMPONENT_GROUP_CHOICES
+            )
+        )
+        context["meals_default"] = dict(self.object.meals_default)
+        context["size_choices"] = dict(SIZE_CHOICES)
         return context
 
 
 class ClientStatusView(ClientView):
-    template_name = 'client/view/status.html'
+    template_name = "client/view/status.html"
 
     def get_default_ops_value(self):
-        return self.request.GET.get('operation_status', None)
+        return self.request.GET.get("operation_status", None)
 
     def get_context_data(self, **kwargs):
         context = super(ClientStatusView, self).get_context_data(**kwargs)
-        context['active_tab'] = 'status'
-        context['client_status'] = Client.CLIENT_STATUS
-        context['filter'] = ClientScheduledStatusFilter(
-            {'operation_status': self.get_default_ops_value()},
-            queryset=self.object.scheduled_statuses)
-        context['client_statuses'] = context['filter'].qs
+        context["active_tab"] = "status"
+        context["client_status"] = Client.CLIENT_STATUS
+        context["filter"] = ClientScheduledStatusFilter(
+            {"operation_status": self.get_default_ops_value()},
+            queryset=self.object.scheduled_statuses,
+        )
+        context["client_statuses"] = context["filter"].qs
 
         return context
 
 
 class ClientOrderList(ClientView):
-    template_name = 'client/view/orders.html'
+    template_name = "client/view/orders.html"
 
     def get_context_data(self, **kwargs):
 
         context = super(ClientOrderList, self).get_context_data(**kwargs)
-        context['orders'] = self.object.orders.prefetch_related(
-            'orders'
-        )
-        context['client_status'] = Client.CLIENT_STATUS
-        context['active_tab'] = 'orders'
-        context['show_actions_column'] = True
+        context["orders"] = self.object.orders.prefetch_related("orders")
+        context["client_status"] = Client.CLIENT_STATUS
+        context["active_tab"] = "orders"
+        context["show_actions_column"] = True
         return context
 
 
 class ClientUpdateInformation(
-        LoginRequiredMixin, PermissionRequiredMixin,
-        generic.edit.FormView):
-    permission_required = 'sous_chef.edit'
-    template_name = 'client/update/steps.html'
+    LoginRequiredMixin, PermissionRequiredMixin, generic.edit.FormView
+):
+    permission_required = "sous_chef.edit"
+    template_name = "client/update/steps.html"
 
     def get_initial(self):
         client = get_object_or_404(
-            Client.objects.select_related(
-                'route',
-                'member__address'
-            ).prefetch_related('member__member_contact'),
-            pk=self.kwargs.get('pk')
+            Client.objects.select_related("route", "member__address").prefetch_related(
+                "member__member_contact"
+            ),
+            pk=self.kwargs.get("pk"),
         )
         initial = {
-            'firstname': client.member.firstname,
-            'lastname': client.member.lastname,
-            'alert': client.alert,
-            'gender': client.gender,
-            'language': client.language,
-            'birthdate': client.birthdate,
-            'home_phone': client.member.home_phone,
-            'cell_phone': client.member.cell_phone,
-            'email': client.member.email,
-            'street': client.member.address.street,
-            'city': client.member.address.city,
-            'apartment': client.member.address.apartment,
-            'postal_code': client.member.address.postal_code,
-            'delivery_note': client.delivery_note,
-            'route':
-                client.route.id
-                if client.route is not None
-                else '',
-            'latitude': client.member.address.latitude,
-            'longitude': client.member.address.longitude,
-            'distance': client.member.address.distance,
+            "firstname": client.member.firstname,
+            "lastname": client.member.lastname,
+            "alert": client.alert,
+            "gender": client.gender,
+            "language": client.language,
+            "birthdate": client.birthdate,
+            "home_phone": client.member.home_phone,
+            "cell_phone": client.member.cell_phone,
+            "email": client.member.email,
+            "street": client.member.address.street,
+            "city": client.member.address.city,
+            "apartment": client.member.address.apartment,
+            "postal_code": client.member.address.postal_code,
+            "delivery_note": client.delivery_note,
+            "route": client.route.id if client.route is not None else "",
+            "latitude": client.member.address.latitude,
+            "longitude": client.member.address.longitude,
+            "distance": client.member.address.distance,
         }
         return initial
 
     def get_success_url(self):
-        redirect_url = self.request.GET.get('next')
+        redirect_url = self.request.GET.get("next")
         if redirect_url:
             return redirect_url
         else:
             return reverse_lazy(
-                'member:client_information',
-                kwargs={'pk': self.kwargs.get('pk')}
+                "member:client_information", kwargs={"pk": self.kwargs.get("pk")}
             )
 
     def form_valid(self, form):
         # This method is called when valid form data has been POSTed.
         # It should return an HttpResponse.
-        client = get_object_or_404(
-            Client, pk=self.kwargs.get('pk')
-        )
+        client = get_object_or_404(Client, pk=self.kwargs.get("pk"))
         self.save(form.cleaned_data, client)
         messages.add_message(
-            self.request, messages.SUCCESS,
-            _("The client has been updated")
+            self.request, messages.SUCCESS, _("The client has been updated")
         )
         return super(ClientUpdateInformation, self).form_valid(form)
 
 
 class ClientUpdateBasicInformation(ClientUpdateInformation):
     form_class = ClientBasicInformation
 
     def get_context_data(self, **kwargs):
-        context = super(
-            ClientUpdateBasicInformation,
-            self).get_context_data(
-            **kwargs)
-        context.update({
-            'pk': self.kwargs['pk'],
-            'current_step': 'basic_information'
-        })
-        context["step_template"] = 'client/partials/forms/' \
-                                   'basic_information.html'
+        context = super(ClientUpdateBasicInformation, self).get_context_data(**kwargs)
+        context.update({"pk": self.kwargs["pk"], "current_step": "basic_information"})
+        context["step_template"] = "client/partials/forms/" "basic_information.html"
         return context
 
     def save(self, form, client):
         """
         Save the basic information step data.
         """
-        client.member.firstname = form['firstname']
-        client.member.lastname = form['lastname']
+        client.member.firstname = form["firstname"]
+        client.member.lastname = form["lastname"]
         client.member.save()
 
-        client.gender = form['gender']
-        client.birthdate = form['birthdate']
-        client.language = form['language']
-        client.alert = form['alert']
+        client.gender = form["gender"]
+        client.birthdate = form["birthdate"]
+        client.language = form["language"]
+        client.alert = form["alert"]
         client.save()
 
         # Save contact information
-        if client.member.home_phone != form['home_phone']:
-            client.member.add_contact_information(
-                HOME, form['home_phone'], True)
-        if client.member.cell_phone != form['cell_phone']:
-            client.member.add_contact_information(
-                CELL, form['cell_phone'], True)
-        if client.member.email != form['email']:
-            client.member.add_contact_information(
-                EMAIL, form['email'], True)
+        if client.member.home_phone != form["home_phone"]:
+            client.member.add_contact_information(HOME, form["home_phone"], True)
+        if client.member.cell_phone != form["cell_phone"]:
+            client.member.add_contact_information(CELL, form["cell_phone"], True)
+        if client.member.email != form["email"]:
+            client.member.add_contact_information(EMAIL, form["email"], True)
 
 
 class ClientUpdateAddressInformation(ClientUpdateInformation):
     form_class = ClientAddressInformation
 
     def get_context_data(self, **kwargs):
-        context = super(
-            ClientUpdateAddressInformation,
-            self).get_context_data(
-            **kwargs)
-        context.update({
-            'current_step': 'address_information',
-            'pk': self.kwargs['pk']
-        })
-        context["step_template"] = 'client/partials/forms/' \
-                                   'address_information.html'
+        context = super(ClientUpdateAddressInformation, self).get_context_data(**kwargs)
+        context.update({"current_step": "address_information", "pk": self.kwargs["pk"]})
+        context["step_template"] = "client/partials/forms/" "address_information.html"
         return context
 
     def save(self, form, client):
         """
         Save the basic information step data.
         """
-        client.member.address.street = form['street']
-        client.member.address.apartment = form['apartment']
-        client.member.address.city = form['city']
-        client.member.address.postal_code = form['postal_code']
-        client.member.address.latitude = form['latitude']
-        client.member.address.longitude = form['longitude']
+        client.member.address.street = form["street"]
+        client.member.address.apartment = form["apartment"]
+        client.member.address.city = form["city"]
+        client.member.address.postal_code = form["postal_code"]
+        client.member.address.latitude = form["latitude"]
+        client.member.address.longitude = form["longitude"]
         client.member.address.save()
 
-        client.route = form['route']
-        client.delivery_note = form['delivery_note']
+        client.route = form["route"]
+        client.delivery_note = form["delivery_note"]
         client.save()
 
 
 class ClientUpdatePaymentInformation(ClientUpdateInformation):
     form_class = ClientPaymentInformation
 
     def get_context_data(self, **kwargs):
-        context = super(
-            ClientUpdatePaymentInformation,
-            self).get_context_data(
-            **kwargs)
-        context.update({
-            'current_step': 'payment_information',
-            'pk': self.kwargs['pk'],
-        })
-        context["step_template"] = 'client/partials/forms/' \
-                                   'payment_information.html'
+        context = super(ClientUpdatePaymentInformation, self).get_context_data(**kwargs)
+        context.update(
+            {
+                "current_step": "payment_information",
+                "pk": self.kwargs["pk"],
+            }
+        )
+        context["step_template"] = "client/partials/forms/" "payment_information.html"
         return context
 
     def get_initial(self):
         initial = super(ClientUpdatePaymentInformation, self).get_initial()
-        client = get_object_or_404(
-            Client, pk=self.kwargs.get('pk')
+        client = get_object_or_404(Client, pk=self.kwargs.get("pk"))
+        initial.update(
+            {
+                "firstname": None,
+                "lastname": None,
+                "street": None,
+                "city": None,
+                "apartment": None,
+                "postal_code": None,
+                "member": "[{}] {} {}".format(
+                    client.billing_member.id,
+                    client.billing_member.firstname,
+                    client.billing_member.lastname,
+                ),
+                "same_as_client": client.member == client.billing_member,
+                "facturation": client.rate_type,
+                "billing_payment_type": client.billing_payment_type,
+            }
         )
-        initial.update({
-            'firstname': None,
-            'lastname': None,
-            'street': None,
-            'city': None,
-            'apartment': None,
-            'postal_code': None,
-            'member': '[{}] {} {}'.format(
-                client.billing_member.id,
-                client.billing_member.firstname,
-                client.billing_member.lastname
-            ),
-            'same_as_client': client.member == client.billing_member,
-            'facturation': client.rate_type,
-            'billing_payment_type': client.billing_payment_type,
-        })
 
         return initial
 
     def save(self, payment_information, client):
         """
         Save the basic information step data.
         """
         member = client.member
-        if payment_information.get('same_as_client'):
+        if payment_information.get("same_as_client"):
             billing_member = member
 
         else:
-            e_b_member = payment_information.get('member')
+            e_b_member = payment_information.get("member")
             if e_b_member:
-                e_b_member_id = e_b_member.split(' ')[0]. \
-                    replace('[', '').replace(']', '')
+                e_b_member_id = (
+                    e_b_member.split(" ")[0].replace("[", "").replace("]", "")
+                )
                 billing_member = Member.objects.get(pk=e_b_member_id)
             else:
                 billing_address = Address.objects.create(
-                    number=payment_information.get('number'),
-                    street=payment_information.get('street'),
-                    apartment=payment_information.get('apartment'),
-                    floor=payment_information.get('floor'),
-                    city=payment_information.get('city'),
-                    postal_code=payment_information.get('postal_code'),
+                    number=payment_information.get("number"),
+                    street=payment_information.get("street"),
+                    apartment=payment_information.get("apartment"),
+                    floor=payment_information.get("floor"),
+                    city=payment_information.get("city"),
+                    postal_code=payment_information.get("postal_code"),
                 )
                 billing_address.save()
 
                 billing_member = Member.objects.create(
-                    firstname=payment_information.get('firstname'),
-                    lastname=payment_information.get('lastname'),
+                    firstname=payment_information.get("firstname"),
+                    lastname=payment_information.get("lastname"),
                     address=billing_address,
                 )
                 billing_member.save()
         client.billing_member = billing_member
-        client.rate_type = payment_information.get('facturation')
-        client.billing_payment_type = payment_information.get(
-            'billing_payment_type'
-        )
+        client.rate_type = payment_information.get("facturation")
+        client.billing_payment_type = payment_information.get("billing_payment_type")
         client.save()
 
 
 class ClientUpdateDietaryRestriction(ClientUpdateInformation):
     form_class = ClientRestrictionsInformation
 
     def get_context_data(self, **kwargs):
-        context = super(
-            ClientUpdateDietaryRestriction,
-            self).get_context_data(
-            **kwargs)
-        context.update({'current_step': 'dietary_restriction'})
-        context.update({'pk': self.kwargs['pk']})
+        context = super(ClientUpdateDietaryRestriction, self).get_context_data(**kwargs)
+        context.update({"current_step": "dietary_restriction"})
+        context.update({"pk": self.kwargs["pk"]})
         context["weekday"] = DAYS_OF_WEEK
-        context["meals"] = list(filter(
-            lambda tup: tup[0] != COMPONENT_GROUP_CHOICES_SIDES,
-            COMPONENT_GROUP_CHOICES
-        ))
-        context["step_template"] = 'client/partials/forms/' \
-                                   'dietary_restriction.html'
+        context["meals"] = list(
+            filter(
+                lambda tup: tup[0] != COMPONENT_GROUP_CHOICES_SIDES,
+                COMPONENT_GROUP_CHOICES,
+            )
+        )
+        context["step_template"] = "client/partials/forms/" "dietary_restriction.html"
         return context
 
     def get_initial(self):
         initial = super(ClientUpdateDietaryRestriction, self).get_initial()
-        client = get_object_or_404(
-            Client, pk=self.kwargs.get('pk')
+        client = get_object_or_404(Client, pk=self.kwargs.get("pk"))
+        initial.update(
+            {
+                "status": True if client.status == Client.ACTIVE else False,
+                "delivery_type": client.delivery_type,
+                "meals_schedule": client.simple_meals_schedule,
+                "restrictions": client.restrictions.all,
+                "ingredient_to_avoid": client.ingredients_to_avoid.all,
+                "dish_to_avoid": client.components_to_avoid.all,
+                "food_preparation": client.food_preparation.all,
+            }
         )
-        initial.update({
-            'status': True if client.status == Client.ACTIVE else False,
-            'delivery_type': client.delivery_type,
-            'meals_schedule': client.simple_meals_schedule,
-            'restrictions': client.restrictions.all,
-            'ingredient_to_avoid': client.ingredients_to_avoid.all,
-            'dish_to_avoid': client.components_to_avoid.all,
-            'food_preparation': client.food_preparation.all,
-        })
         for k, v in (client.meal_default_week or {}).items():
             initial[k] = v
         return initial
 
     def save(self, form, client):
         """
         Save the basic information step data.
         """
         # Save meals schedule as a Client option
-        client.set_simple_meals_schedule(
-            form['meals_schedule']
-        )
+        client.set_simple_meals_schedule(form["meals_schedule"])
 
         # Save restricted items
         client.restrictions.clear()
-        for restricted_item in form['restrictions']:
-            Restriction.objects.create(
-                client=client,
-                restricted_item=restricted_item
-            )
+        for restricted_item in form["restrictions"]:
+            Restriction.objects.create(client=client, restricted_item=restricted_item)
 
         for food_preparation in client.food_preparation:
             Client_option.objects.filter(
-                client=client,
-                option=food_preparation
+                client=client, option=food_preparation
             ).delete()
-        for food_preparation in form['food_preparation']:
-            Client_option.objects.create(
-                client=client,
-                option=food_preparation
-            )
+        for food_preparation in form["food_preparation"]:
+            Client_option.objects.create(client=client, option=food_preparation)
 
         # Save ingredients to avoid
         client.ingredients_to_avoid.clear()
-        for ingredient_to_avoid in form['ingredient_to_avoid']:
+        for ingredient_to_avoid in form["ingredient_to_avoid"]:
             Client_avoid_ingredient.objects.create(
-                client=client,
-                ingredient=ingredient_to_avoid
+                client=client, ingredient=ingredient_to_avoid
             )
 
         # Save components to avoid
         client.components_to_avoid.clear()
-        for component_to_avoid in form['dish_to_avoid']:
+        for component_to_avoid in form["dish_to_avoid"]:
             Client_avoid_component.objects.create(
-                client=client,
-                component=component_to_avoid
+                client=client, component=component_to_avoid
             )
 
         # Save preferences
         json = {}
         for days, v in DAYS_OF_WEEK:
-            json['size_{}'.format(days)] = form['size_{}'.format(days)]
+            json["size_{}".format(days)] = form["size_{}".format(days)]
 
-            if json['size_{}'.format(days)] == "":
-                json['size_{}'.format(days)] = None
+            if json["size_{}".format(days)] == "":
+                json["size_{}".format(days)] = None
 
             for meal, Meal in COMPONENT_GROUP_CHOICES:
                 if meal is COMPONENT_GROUP_CHOICES_SIDES:
                     continue  # skip "Sides"
-                json['{}_{}_quantity'.format(meal, days)] \
-                    = form[
-                    '{}_{}_quantity'.format(meal, days)
+                json["{}_{}_quantity".format(meal, days)] = form[
+                    "{}_{}_quantity".format(meal, days)
                 ]
-        client.delivery_type = form['delivery_type']
+        client.delivery_type = form["delivery_type"]
         client.meal_default_week = json
         client.save()
 
 
 class ClientUpdateRelationshipsInformation(ClientUpdateInformation):
     form_class = UpdateRelationshipFormset
-    prefix = 'relationships'
+    prefix = "relationships"
 
     def get_context_data(self, **kwargs):
-        context = super(
-            ClientUpdateRelationshipsInformation,
-            self).get_context_data(
-            **kwargs)
-        context.update({'current_step': 'relationships'})
-        context.update({'pk': self.kwargs['pk']})
-        context["step_template"] = 'client/partials/forms/' \
-                                   'relationships.html'
+        context = super(ClientUpdateRelationshipsInformation, self).get_context_data(
+            **kwargs
+        )
+        context.update({"current_step": "relationships"})
+        context.update({"pk": self.kwargs["pk"]})
+        context["step_template"] = "client/partials/forms/" "relationships.html"
         return context
 
     def get_initial(self):
-        client = get_object_or_404(
-            Client, pk=self.kwargs.get('pk')
-        )
+        client = get_object_or_404(Client, pk=self.kwargs.get("pk"))
         initial = {}
 
-        if self.request.method == 'GET':
-            for i, relationship in enumerate(
-                    client.relationship_set.all()
-            ):
+        if self.request.method == "GET":
+            for i, relationship in enumerate(client.relationship_set.all()):
                 contact = relationship.member.member_contact.first()
                 if contact:
                     contact_type = contact.type
                     contact_value = contact.value
                 else:
                     contact_type = None
                     contact_value = None
 
                 initial[i] = {
-                    'firstname': None,
-                    'lastname': None,
-                    'member': '[{}] {} {}'.format(
+                    "firstname": None,
+                    "lastname": None,
+                    "member": "[{}] {} {}".format(
                         relationship.member.id,
                         relationship.member.firstname,
-                        relationship.member.lastname
+                        relationship.member.lastname,
                     ),
-                    'contact_type': contact_type,
-                    'contact_value': contact_value,
-                    'nature': relationship.nature,
-                    'type': relationship.type,
-                    'remark': relationship.remark
+                    "contact_type": contact_type,
+                    "contact_value": contact_value,
+                    "nature": relationship.nature,
+                    "type": relationship.type,
+                    "remark": relationship.remark,
                 }
                 if relationship.is_referent:
-                    initial[i]['referral_date'] = \
-                        relationship.extra_fields.get('referral_date')
-                    initial[i]['referral_reason'] = \
-                        relationship.extra_fields.get('referral_reason')
+                    initial[i]["referral_date"] = relationship.extra_fields.get(
+                        "referral_date"
+                    )
+                    initial[i]["referral_reason"] = relationship.extra_fields.get(
+                        "referral_reason"
+                    )
 
         return initial
 
     def save(self, relationships, client):
         """
         Save relationships data.
         """
         relationships_posted = []
         for relationship in relationships:
             # Avoid empty forms, at least one relationship form is
             # required by django formset validation. If we have
             # one form good filled and several empty forms, the 'is_valid'
             # method return True
             if relationship:
-                r_member = relationship.get('member')
+                r_member = relationship.get("member")
                 if r_member:
-                    r_member_id = r_member.split(' ')[0] \
-                        .replace('[', '') \
-                        .replace(']', '')
+                    r_member_id = (
+                        r_member.split(" ")[0].replace("[", "").replace("]", "")
+                    )
                     member = Member.objects.get(pk=r_member_id)
                 else:
                     member = Member.objects.create(
                         firstname=relationship.get("firstname"),
-                        lastname=relationship.get('lastname'),
+                        lastname=relationship.get("lastname"),
                     )
-                    if Relationship.REFERENT in relationship.get('type', []):
-                        member.work_information = relationship.get(
-                            'work_information')
+                    if Relationship.REFERENT in relationship.get("type", []):
+                        member.work_information = relationship.get("work_information")
                     member.save()
 
                     # save emergency contact
-                    if relationship.get('work_phone'):
+                    if relationship.get("work_phone"):
                         Contact.objects.create(
                             type=WORK,
-                            value=relationship.get('work_phone'),
-                            member=member
+                            value=relationship.get("work_phone"),
+                            member=member,
                         )
-                    elif relationship.get('cell_phone'):
+                    elif relationship.get("cell_phone"):
                         Contact.objects.create(
                             type=CELL,
-                            value=relationship.get('cell_phone'),
-                            member=member
+                            value=relationship.get("cell_phone"),
+                            member=member,
                         )
-                    elif relationship.get('home_phone'):
+                    elif relationship.get("home_phone"):
                         Contact.objects.create(
                             type=HOME,
-                            value=relationship.get('home_phone'),
-                            member=member
+                            value=relationship.get("home_phone"),
+                            member=member,
                         )
-                    elif relationship.get('email'):
+                    elif relationship.get("email"):
                         Contact.objects.create(
-                            type=EMAIL,
-                            value=relationship.get('email'),
-                            member=member
+                            type=EMAIL, value=relationship.get("email"), member=member
                         )
 
                 to_update, _ = Relationship.objects.get_or_create(
-                    client=client, member=member)
-                to_update.nature = relationship.get('nature')
-                to_update.type = relationship.get('type')
+                    client=client, member=member
+                )
+                to_update.nature = relationship.get("nature")
+                to_update.type = relationship.get("type")
                 extra_fields = {}
-                if Relationship.REFERENT in relationship.get('type', []):
-                    extra_fields[
-                        'referral_date'] = relationship.get('referral_date')
-                    extra_fields[
-                        'referral_reason'] = relationship.get(
-                            'referral_reason')
+                if Relationship.REFERENT in relationship.get("type", []):
+                    extra_fields["referral_date"] = relationship.get("referral_date")
+                    extra_fields["referral_reason"] = relationship.get(
+                        "referral_reason"
+                    )
                 to_update.extra_fields = extra_fields
-                to_update.remark = relationship.get('remark')
+                to_update.remark = relationship.get("remark")
                 to_update.save()
                 relationships_posted.append(to_update)
 
         Relationship.objects.filter(client=client).exclude(
             pk__in=[c.pk for c in relationships_posted]
         ).delete()
 
 
 class SearchMembers(LoginRequiredMixin, PermissionRequiredMixin, generic.View):
-    permission_required = 'sous_chef.read'
+    permission_required = "sous_chef.read"
 
     @staticmethod
     def _get_query_args(query):
         """
         Return query arguments built for first_name and
         last_name Member fields
         :return: Q() | Q() or Q() & Q()
         """
         query = query.strip()
-        if ' ' not in query:
+        if " " not in query:
             # Is a simple word, check if both fields contains
             # the query value
-            return Q(
-                firstname__icontains=query
-            ) | Q(
-                lastname__icontains=query
-            )
+            return Q(firstname__icontains=query) | Q(lastname__icontains=query)
         else:
             # More than one word, split query to search separately
             # by first and last name
-            s_query = query.split(' ')
-            return Q(
-                firstname__icontains=s_query[0]
-            ) & Q(
-                lastname__icontains=' '.join(s_query[1:])
+            s_query = query.split(" ")
+            return Q(firstname__icontains=s_query[0]) & Q(
+                lastname__icontains=" ".join(s_query[1:])
             )
 
     def get(self, request):
         if request.is_ajax():
-            q = request.GET.get('name', '')
+            q = request.GET.get("name", "")
             members = Member.objects.filter(self._get_query_args(q))[:20]
             results = []
             for m in members:
-                name = '[' + str(m.id) + '] ' + m.firstname + ' ' + m.lastname
+                name = "[" + str(m.id) + "] " + m.firstname + " " + m.lastname
 
                 if m.work_information is not None:
-                    name += ' (' + m.work_information + ')'
+                    name += " (" + m.work_information + ")"
 
-                results.append({'title': name})
-            data = {
-                'success': True,
-                'results': results
-            }
+                results.append({"title": name})
+            data = {"success": True, "results": results}
         else:
-            data = {'success': False}
+            data = {"success": False}
 
         return JsonResponse(data)
 
 
 @login_required
 def geolocateAddress(request):
     # do something with the your data
-    if request.method == 'POST':
-        lat = request.POST['lat']
-        long = request.POST['long']
+    if request.method == "POST":
+        lat = request.POST["lat"]
+        long = request.POST["long"]
 
     # just return a JsonResponse
-    return JsonResponse({'latitude': lat, 'longtitude': long})
+    return JsonResponse({"latitude": lat, "longtitude": long})
 
 
 class ClientStatusScheduler(
-        LoginRequiredMixin,
-        PermissionRequiredMixin,
-        FormValidAjaxableResponseMixin,
-        generic.CreateView
+    LoginRequiredMixin,
+    PermissionRequiredMixin,
+    FormValidAjaxableResponseMixin,
+    generic.CreateView,
 ):
     form_class = ClientScheduledStatusForm
     model = ClientScheduledStatus
-    permission_required = 'sous_chef.edit'
+    permission_required = "sous_chef.edit"
     template_name = "client/update/status.html"
 
     def get_context_data(self, **kwargs):
         context = super(ClientStatusScheduler, self).get_context_data(**kwargs)
-        context['client'] = client = get_object_or_404(
-            Client, pk=self.kwargs.get('pk')
-        )
-        context['client_status'] = Client.CLIENT_STATUS
-        context['orders'] = client.upcoming_orders.prefetch_related(
-            'orders'
-        )
+        context["client"] = client = get_object_or_404(Client, pk=self.kwargs.get("pk"))
+        context["client_status"] = Client.CLIENT_STATUS
+        context["orders"] = client.upcoming_orders.prefetch_related("orders")
         return context
 
     def get_initial(self):
-        client = get_object_or_404(Client, pk=self.kwargs.get('pk'))
+        client = get_object_or_404(Client, pk=self.kwargs.get("pk"))
         return {
-            'client': self.kwargs.get('pk'),
-            'status_from': client.status,
-            'status_to': self.request.GET.get('status', Client.PAUSED),
+            "client": self.kwargs.get("pk"),
+            "status_from": client.status,
+            "status_to": self.request.GET.get("status", Client.PAUSED),
         }
 
     def form_valid(self, form):
         """
         Override the default behavior of saving instance, because we may have
         two objects to save.
         """
         form.save_scheduled_statuses(
             callback_add_message=lambda m: messages.add_message(
-                self.request, messages.SUCCESS, m))
+                self.request, messages.SUCCESS, m
+            )
+        )
         return HttpResponseRedirect(self.get_success_url())
 
     def get_success_url(self):
         return reverse(
-            'member:client_information', kwargs={'pk': self.kwargs.get('pk')}
+            "member:client_information", kwargs={"pk": self.kwargs.get("pk")}
         )
 
 
 class ClientStatusSchedulerReschedule(
-        LoginRequiredMixin,
-        PermissionRequiredMixin,
-        FormValidAjaxableResponseMixin,
-        generic.UpdateView
+    LoginRequiredMixin,
+    PermissionRequiredMixin,
+    FormValidAjaxableResponseMixin,
+    generic.UpdateView,
 ):
     form_class = ClientScheduledStatusForm
     model = ClientScheduledStatus
-    permission_required = 'sous_chef.edit'
+    permission_required = "sous_chef.edit"
     template_name = "client/update/status.html"
 
     def dispatch(self, *args, **kwargs):
         """
         Fetch related objects at the very beginning of request process.
         """
         self.cs1 = get_object_or_404(
-            ClientScheduledStatus, pk=int(
-                self.kwargs.get('scheduled_status_1_pk')))
+            ClientScheduledStatus, pk=int(self.kwargs.get("scheduled_status_1_pk"))
+        )
 
-        if self.kwargs.get('scheduled_status_2_pk'):
+        if self.kwargs.get("scheduled_status_2_pk"):
             try:
                 self.cs2 = ClientScheduledStatus.objects.get(
-                    pk=int(self.kwargs.get('scheduled_status_2_pk')))
+                    pk=int(self.kwargs.get("scheduled_status_2_pk"))
+                )
                 if self.cs2.get_pair != self.cs1:
                     self.cs2 = None  # Ignore
             except ClientScheduledStatus.DoesNotExist:
                 self.cs2 = None
         else:
             self.cs2 = None
         return super().dispatch(*args, **kwargs)
 
     def get_object(self, *args, **kwargs):
-        return get_object_or_404(
-            Client, pk=self.kwargs.get('pk')
-        )
+        return get_object_or_404(Client, pk=self.kwargs.get("pk"))
 
     def get_context_data(self, **kwargs):
         context = super().get_context_data(**kwargs)
-        context['client'] = get_object_or_404(
-            Client, pk=self.kwargs.get('pk')
-        )
-        context['client_status'] = Client.CLIENT_STATUS
+        context["client"] = get_object_or_404(Client, pk=self.kwargs.get("pk"))
+        context["client_status"] = Client.CLIENT_STATUS
         return context
 
     def get_initial(self):
         return {
-            'client': self.kwargs.get('pk'),
-            'status_from': self.cs1.status_from,
-            'status_to': self.cs1.status_to,
-            'reason': self.cs1.reason,
-            'change_date': self.cs1.change_date,
-            'end_date': self.cs2.change_date if self.cs2 else None
+            "client": self.kwargs.get("pk"),
+            "status_from": self.cs1.status_from,
+            "status_to": self.cs1.status_to,
+            "reason": self.cs1.reason,
+            "change_date": self.cs1.change_date,
+            "end_date": self.cs2.change_date if self.cs2 else None,
         }
 
     def form_valid(self, form):
         """
         Replace original ClientScheduledStatus objects.
         """
         # Unbind pairs and delete
         with transaction.atomic():
             self.cs1.delete()
             if self.cs2:
                 self.cs2.delete()
 
         form.save_scheduled_statuses(
             callback_add_message=lambda m: messages.add_message(
-                self.request, messages.SUCCESS, m))
+                self.request, messages.SUCCESS, m
+            )
+        )
         return HttpResponseRedirect(self.get_success_url())
 
     def get_success_url(self):
         return reverse(
-            'member:client_information', kwargs={'pk': self.kwargs.get('pk')}
+            "member:client_information", kwargs={"pk": self.kwargs.get("pk")}
         )
 
 
-class ClientStatusSchedulerDeleteView(
-        PermissionRequiredMixin, generic.DeleteView):
+class ClientStatusSchedulerDeleteView(PermissionRequiredMixin, generic.DeleteView):
     model = ClientScheduledStatus
-    permission_required = 'sous_chef.edit'
+    permission_required = "sous_chef.edit"
     template_name = "client/view/delete_status_confirmation.html"
 
     def get_success_url(self):
-        return reverse(
-            'member:client_status',
-            kwargs={'pk': self.object.client.pk}
-        )
+        return reverse("member:client_status", kwargs={"pk": self.object.client.pk})
 
 
 class DeleteRestriction(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.DeleteView):
+    LoginRequiredMixin, PermissionRequiredMixin, generic.DeleteView
+):
     model = Restriction
-    permission_required = 'sous_chef.edit'
-    success_url = reverse_lazy('member:list')
+    permission_required = "sous_chef.edit"
+    success_url = reverse_lazy("member:list")
 
 
 class DeleteClientOption(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.DeleteView):
+    LoginRequiredMixin, PermissionRequiredMixin, generic.DeleteView
+):
     model = Client_option
-    permission_required = 'sous_chef.edit'
-    success_url = reverse_lazy('member:list')
+    permission_required = "sous_chef.edit"
+    success_url = reverse_lazy("member:list")
 
 
 class DeleteIngredientToAvoid(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.DeleteView):
+    LoginRequiredMixin, PermissionRequiredMixin, generic.DeleteView
+):
     model = Client_avoid_ingredient
-    permission_required = 'sous_chef.edit'
-    success_url = reverse_lazy('member:list')
+    permission_required = "sous_chef.edit"
+    success_url = reverse_lazy("member:list")
 
 
 class DeleteComponentToAvoid(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.DeleteView):
+    LoginRequiredMixin, PermissionRequiredMixin, generic.DeleteView
+):
     model = Client_avoid_component
-    permission_required = 'sous_chef.edit'
-    success_url = reverse_lazy('member:list')
+    permission_required = "sous_chef.edit"
+    success_url = reverse_lazy("member:list")
 
 
-class RouteListView(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.ListView):
+class RouteListView(LoginRequiredMixin, PermissionRequiredMixin, generic.ListView):
     # Display the list of routes
-    context_object_name = 'routes'
+    context_object_name = "routes"
     model = Route
     queryset = Route.objects.all().annotate(
         client_count=Sum(
             Case(
-                When(client__status__in=[
-                    Client.PENDING, Client.ACTIVE, Client.PAUSED],
-                     then=1),
+                When(
+                    client__status__in=[Client.PENDING, Client.ACTIVE, Client.PAUSED],
+                    then=1,
+                ),
                 default=0,
-                output_field=IntegerField()
+                output_field=IntegerField(),
             )
         )
     )
-    permission_required = 'sous_chef.read'
-    template_name = 'route/list.html'
+    permission_required = "sous_chef.read"
+    template_name = "route/list.html"
 
 
 def get_clients_on_route(route):
     """
     Helper function, intended to generate the context variable of
     Route-related views.
 
     Returns a list of client instances with an extra attribute
     `has_been_configured`, ordered by configured then unconfigured.
     """
-    clients = Client.objects. \
-        filter(route=route,
-               status__in=[
-                   Client.PENDING, Client.ACTIVE, Client.PAUSED]). \
-        select_related('member', 'member__address')
+    clients = Client.objects.filter(
+        route=route, status__in=[Client.PENDING, Client.ACTIVE, Client.PAUSED]
+    ).select_related("member", "member__address")
     clients_dict = {client.pk: client for client in clients}
     clients_on_route = []
-    for client_pk in (route.client_id_sequence or []):
+    for client_pk in route.client_id_sequence or []:
         if client_pk in clients_dict:
             client = clients_dict[client_pk]
             client.has_been_configured = True
             clients_on_route.append(client)
             del clients_dict[client_pk]
         else:
             # This client has been deleted after configuring the route.
@@ -1378,16 +1342,15 @@
         # Remaining clients
         client.has_been_configured = False
         clients_on_route.append(client)
 
     return clients_on_route
 
 
-def get_clients_on_delivery_history(
-        delivery_history, func_add_warning_message=None):
+def get_clients_on_delivery_history(delivery_history, func_add_warning_message=None):
     """
     Helper function, intended to generate the context variable of
     DeliveryHistory-related views.
 
     Returns a list of client instances with extra attributes
     `has_been_configured` and `order_of_the_day`, ordered by configured
     then unconfigured.
@@ -1401,172 +1364,175 @@
     on that day any more.
 
     See also: member.tests.RouteDeliveryHistoryDetailViewTestCase
     """
     orders = Order.objects.get_shippable_orders_by_route(
         delivery_history.route.pk,
         delivery_date=delivery_history.date,
-        exclude_non_geolocalized=True
-    ).select_related(
-        'client', 'client__member',
-        'client__member__address'
-    )
+        exclude_non_geolocalized=True,
+    ).select_related("client", "client__member", "client__member__address")
     clients = []
     clients_dict = {}
     for order in orders:
         c = order.client
         c.order_of_the_day = order
         clients.append(c)
         clients_dict[c.pk] = c
 
     clients_on_delivery_history = []
 
     # First, check the clients on `id_sequence` and see if we put them in the
     # display sequence.
-    for client_pk in (delivery_history.client_id_sequence or []):
+    for client_pk in delivery_history.client_id_sequence or []:
         if client_pk in clients_dict:
             client = clients_dict[client_pk]
             client.has_been_configured = True
             clients_on_delivery_history.append(client)
             del clients_dict[client_pk]
         else:
             # Oops, a data integrity error. Let user know.
             if func_add_warning_message:
                 try:
-                    client = Client.objects.select_related('member').get(
-                        pk=int(client_pk))
-                    func_add_warning_message(mark_safe(_(
-                        "The client <a href=%(url)s>%(firstname)s %(lastname)s"
-                        "</a> is found on this delivery sequence but is no "
-                        "longer valid for this delivery." % {
-                            'firstname': client.member.firstname,
-                            'lastname': client.member.lastname,
-                            'url': reverse('member:client_information',
-                                           args=(client.pk, ))
-                        })))
+                    client = Client.objects.select_related("member").get(
+                        pk=int(client_pk)
+                    )
+                    func_add_warning_message(
+                        mark_safe(
+                            _(
+                                "The client <a href=%(url)s>%(firstname)s %(lastname)s"
+                                "</a> is found on this delivery sequence but is no "
+                                "longer valid for this delivery."
+                                % {
+                                    "firstname": client.member.firstname,
+                                    "lastname": client.member.lastname,
+                                    "url": reverse(
+                                        "member:client_information", args=(client.pk,)
+                                    ),
+                                }
+                            )
+                        )
+                    )
                 except (Client.DoesNotExist, ValueError, TypeError):
-                    func_add_warning_message(_(
-                        "The delivery sequence contains a client with ID"
-                        "%(client_id)s that no longer exists in the "
-                        "database." % {
-                            'client_id': client_pk
-                        }))
+                    func_add_warning_message(
+                        _(
+                            "The delivery sequence contains a client with ID"
+                            "%(client_id)s that no longer exists in the "
+                            "database." % {"client_id": client_pk}
+                        )
+                    )
 
     # Then, check if there are clients that exist on default route sequence.
     # They are considered as "by default".
-    for cpk in (delivery_history.route.client_id_sequence or []):
+    for cpk in delivery_history.route.client_id_sequence or []:
         if cpk in clients_dict:
             client = clients_dict[cpk]
             client.has_been_configured = False
             clients_on_delivery_history.append(client)
             del clients_dict[cpk]
 
     # Finally, check the clients that had delivery on that day but were not
     # configured on the delivery sequence. Append them to the display sequence.
     for client_pk, client in clients_dict.items():
         client.has_been_configured = False
         clients_on_delivery_history.append(client)
     return clients_on_delivery_history
 
 
-class RouteDetailView(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.DetailView):
+class RouteDetailView(LoginRequiredMixin, PermissionRequiredMixin, generic.DetailView):
     model = Route
-    queryset = Route.objects.prefetch_related(Prefetch(
-        'delivery_histories',
-        queryset=DeliveryHistory.objects.order_by('-date')
-    ))
-    permission_required = 'sous_chef.read'
-    template_name = 'route/detail.html'
+    queryset = Route.objects.prefetch_related(
+        Prefetch(
+            "delivery_histories", queryset=DeliveryHistory.objects.order_by("-date")
+        )
+    )
+    permission_required = "sous_chef.read"
+    template_name = "route/detail.html"
 
     def get_context_data(self, **kwargs):
         """
         Get detailed information on route clients and out-of-route clients
         that are to be rendered on the template.
         """
         context = super(RouteDetailView, self).get_context_data(**kwargs)
-        route = context['route']
-        context['clients_on_route'] = get_clients_on_route(route)
+        route = context["route"]
+        context["clients_on_route"] = get_clients_on_route(route)
         return context
 
 
 class RouteEditView(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.edit.UpdateView):
+    LoginRequiredMixin, PermissionRequiredMixin, generic.edit.UpdateView
+):
     model = Route
-    fields = ('name', 'description', 'vehicle', 'client_id_sequence')
-    permission_required = 'sous_chef.edit'
-    template_name = 'route/edit.html'
+    fields = ("name", "description", "vehicle", "client_id_sequence")
+    permission_required = "sous_chef.edit"
+    template_name = "route/edit.html"
 
     def get_context_data(self, **kwargs):
         """
         Get detailed information on route clients and out-of-route clients
         that are to be rendered on the template.
         """
         context = super(RouteEditView, self).get_context_data(**kwargs)
-        route = context['route']
-        context['clients_on_route'] = get_clients_on_route(route)
+        route = context["route"]
+        context["clients_on_route"] = get_clients_on_route(route)
         return context
 
     def get_success_url(self):
-        return reverse_lazy('member:route_detail', args=[self.object.pk])
+        return reverse_lazy("member:route_detail", args=[self.object.pk])
 
     def form_valid(self, form):
         response = super(RouteEditView, self).form_valid(form)
         messages.add_message(
-            self.request, messages.SUCCESS,
-            _("This route has been updated.")
+            self.request, messages.SUCCESS, _("This route has been updated.")
         )
         return response
 
 
 @login_required
 def get_minimised_euclidean_distances_route_sequence(request, pk):
     """
     Return the sequence of clients on the given route that minimises
     euclidean distances, as a JSON list of client IDs.
     """
     route = get_object_or_404(Route, pk=pk)
     clients_on_route = get_clients_on_route(route)
-    waypoints = list(map(
-        lambda c: {
-            'id': c.pk,
-            'latitude': c.member.address.latitude,
-            'longitude': c.member.address.longitude
-        }, clients_on_route
-    ))
-    optimised_waypoints = calculateRoutePointsEuclidean(waypoints)
-    return JsonResponse(
-        list(map(lambda w: w['id'], optimised_waypoints)),
-        safe=False
+    waypoints = list(
+        map(
+            lambda c: {
+                "id": c.pk,
+                "latitude": c.member.address.latitude,
+                "longitude": c.member.address.longitude,
+            },
+            clients_on_route,
+        )
     )
+    optimised_waypoints = calculateRoutePointsEuclidean(waypoints)
+    return JsonResponse(list(map(lambda w: w["id"], optimised_waypoints)), safe=False)
 
 
 class DeliveryHistoryDetailView(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.DetailView):
+    LoginRequiredMixin, PermissionRequiredMixin, generic.DetailView
+):
     model = DeliveryHistory
-    permission_required = 'sous_chef.read'
-    template_name = 'route/delivery_history_detail.html'
+    permission_required = "sous_chef.read"
+    template_name = "route/delivery_history_detail.html"
 
     def get_object(self, *args, **kwargs):
-        return DeliveryHistory.objects.select_related('route').get(
-            route=self.kwargs.get('route_pk'),
-            date=self.kwargs.get('date')
+        return DeliveryHistory.objects.select_related("route").get(
+            route=self.kwargs.get("route_pk"), date=self.kwargs.get("date")
         )
 
     def get_context_data(self, **kwargs):
         """
         Get detailed information on route clients and out-of-route clients
         that are to be rendered on the template.
         """
-        context = super(
-            DeliveryHistoryDetailView, self
-        ).get_context_data(**kwargs)
+        context = super(DeliveryHistoryDetailView, self).get_context_data(**kwargs)
         delivery_history = self.object
-        context['delivery_history'] = delivery_history
-        context['clients_on_delivery_history'] = (
-            get_clients_on_delivery_history(
-                delivery_history,
-                func_add_warning_message=lambda msg: messages.add_message(
-                    self.request, messages.WARNING, msg)
-            )
+        context["delivery_history"] = delivery_history
+        context["clients_on_delivery_history"] = get_clients_on_delivery_history(
+            delivery_history,
+            func_add_warning_message=lambda msg: messages.add_message(
+                self.request, messages.WARNING, msg
+            ),
         )
         return context
```

### Comparing `souschef-1.3.6/souschef/note/factories.py` & `souschef-1.3.7/souschef/note/factories.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,29 +1,33 @@
 # coding=utf-8
-import factory
 import random
-from souschef.member.factories import ClientFactory
-from souschef.note.models import Note, NotePriority, NoteCategory
+
+import factory
 from django.contrib.auth.models import User
 
+from souschef.member.factories import ClientFactory
+from souschef.note.models import (
+    Note,
+    NoteCategory,
+    NotePriority,
+)
 
-class UserFactory(factory.DjangoModelFactory):
 
+class UserFactory(factory.DjangoModelFactory):
     class Meta:
         model = User
 
     username = factory.Sequence(lambda x: "user{}".format(x))
 
 
 class NoteFactory(factory.DjangoModelFactory):
-
     class Meta:
         model = Note
 
-    note = factory.Faker('sentence')
+    note = factory.Faker("sentence")
     author = factory.SubFactory(UserFactory)
     client = factory.SubFactory(ClientFactory)
     priority = factory.LazyAttribute(
         lambda x: random.choice(NotePriority.objects.all())
     )
     category = factory.LazyAttribute(
         lambda x: random.choice(NoteCategory.objects.all())
```

### Comparing `souschef-1.3.6/souschef/note/forms.py` & `souschef-1.3.7/souschef/note/forms.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,47 +1,37 @@
 from django import forms
+
 from souschef.member.models import Client
 from souschef.note.models import Note
 
 
 class NoteForm(forms.ModelForm):
-
     def __init__(self, *args, **kwargs):
         super(NoteForm, self).__init__(*args, **kwargs)
-        self.fields['client'].queryset = Client.objects.all().select_related(
-            'member'
-        ).only(
-            'member__firstname',
-            'member__lastname'
+        self.fields["client"].queryset = (
+            Client.objects.all()
+            .select_related("member")
+            .only("member__firstname", "member__lastname")
         )
 
     class Meta:
         model = Note
-        fields = ['note', 'client', 'priority', 'category']
+        fields = ["note", "client", "priority", "category"]
 
         widgets = {
-            'note': forms.Textarea(attrs={'rows': 7}),
-            'client': forms.Select(
-                attrs={'class': 'ui search dropdown'}
-            ),
-            'priority': forms.Select(
-                attrs={'class': 'ui dropdown'}
-            ),
-            'category': forms.Select(
-                attrs={'class': 'ui dropdown'}
-            ),
+            "note": forms.Textarea(attrs={"rows": 7}),
+            "client": forms.Select(attrs={"class": "ui search dropdown"}),
+            "priority": forms.Select(attrs={"class": "ui dropdown"}),
+            "category": forms.Select(attrs={"class": "ui dropdown"}),
         }
 
+
 class NoteEditForm(forms.ModelForm):
     class Meta:
         model = Note
-        fields = ['note', 'priority', 'category']
+        fields = ["note", "priority", "category"]
 
         widgets = {
-            'note': forms.Textarea(attrs={'rows': 7}),
-            'priority': forms.Select(
-                attrs={'class': 'ui dropdown'}
-            ),
-            'category': forms.Select(
-                attrs={'class': 'ui dropdown'}
-            ),
+            "note": forms.Textarea(attrs={"rows": 7}),
+            "priority": forms.Select(attrs={"class": "ui dropdown"}),
+            "category": forms.Select(attrs={"class": "ui dropdown"}),
         }
```

### Comparing `souschef-1.3.6/souschef/note/migrations/0003_auto_20160819_2037.py` & `souschef-1.3.7/souschef/order/migrations/0003_auto_20160615_1504.py`

 * *Files 25% similar despite different names*

```diff
@@ -1,21 +1,26 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.10 on 2016-08-19 20:37
+# Generated by Django 1.9.6 on 2016-06-15 15:04
 from __future__ import unicode_literals
 
 from django.db import migrations, models
-import django.utils.timezone
+import django.db.models.deletion
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('note', '0002_auto_20160818_2104'),
+        ("order", "0002_auto_20160614_1736"),
     ]
 
     operations = [
         migrations.AlterField(
-            model_name='note',
-            name='date',
-            field=models.DateTimeField(default=django.utils.timezone.now, verbose_name='Date'),
+            model_name="order",
+            name="client",
+            field=models.ForeignKey(
+                on_delete=django.db.models.deletion.CASCADE,
+                related_name="client_order",
+                to="member.Client",
+                verbose_name="client",
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/note/migrations/0004_notepriority.py` & `souschef-1.3.7/souschef/note/migrations/0004_notepriority.py`

 * *Files 20% similar despite different names*

```diff
@@ -3,31 +3,37 @@
 from __future__ import unicode_literals
 
 from django.db import migrations, models
 
 
 def set_initial_priorities(apps, schema_editor):
     # set NotePriority initial
-    NotePriority = apps.get_model('note', 'NotePriority')
+    NotePriority = apps.get_model("note", "NotePriority")
     NotePriority.objects.create(name="Normal")
     NotePriority.objects.create(name="Urgent")
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('note', '0003_auto_20160819_2037'),
+        ("note", "0003_auto_20160819_2037"),
     ]
 
     operations = [
         migrations.CreateModel(
-            name='NotePriority',
+            name="NotePriority",
             fields=[
-                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
-                ('name', models.CharField(max_length=150, verbose_name='Name')),
+                (
+                    "id",
+                    models.AutoField(
+                        auto_created=True,
+                        primary_key=True,
+                        serialize=False,
+                        verbose_name="ID",
+                    ),
+                ),
+                ("name", models.CharField(max_length=150, verbose_name="Name")),
             ],
-            options={
-                'ordering': ('name',), 'verbose_name_plural': 'Note priorities'
-            },
+            options={"ordering": ("name",), "verbose_name_plural": "Note priorities"},
         ),
         migrations.RunPython(set_initial_priorities),
     ]
```

### Comparing `souschef-1.3.6/souschef/note/migrations/0005_note_priority_old_data_migration.py` & `souschef-1.3.7/souschef/note/migrations/0005_note_priority_old_data_migration.py`

 * *Files 14% similar despite different names*

```diff
@@ -4,16 +4,16 @@
 
 from django.db import migrations, models
 import django.db.models.deletion
 
 
 def migrate_old_data(apps, schema_editor):
     # set for each product the correct language
-    NotePriority = apps.get_model('note', 'NotePriority')
-    Note = apps.get_model('note', 'Note')
+    NotePriority = apps.get_model("note", "NotePriority")
+    Note = apps.get_model("note", "Note")
 
     normal_priority = NotePriority.objects.get(name="Normal")
     urgent_priority = NotePriority.objects.get(name="Urgent")
 
     for note in Note.objects.all():
         if note.priority == normal_priority.name.lower():
             note.priority_temp = normal_priority
@@ -22,18 +22,24 @@
             note.priority_temp = urgent_priority
             note.save()
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('note', '0004_notepriority'),
+        ("note", "0004_notepriority"),
     ]
 
     operations = [
         migrations.AddField(
-            model_name='note',
-            name='priority_temp',
-            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='notes', to='note.NotePriority', verbose_name='Priority'),
+            model_name="note",
+            name="priority_temp",
+            field=models.ForeignKey(
+                null=True,
+                on_delete=django.db.models.deletion.CASCADE,
+                related_name="notes",
+                to="note.NotePriority",
+                verbose_name="Priority",
+            ),
         ),
         migrations.RunPython(migrate_old_data),
     ]
```

### Comparing `souschef-1.3.6/souschef/note/migrations/0006_change_priority_field.py` & `souschef-1.3.7/souschef/delivery/migrations/0001_fix004a.py`

 * *Files 27% similar despite different names*

```diff
@@ -1,24 +1,32 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.10 on 2017-01-15 04:56
+# Generated by Django 1.9.5 on 2016-06-23 10:04
 from __future__ import unicode_literals
 
-from django.db import migrations
+from django.db import migrations, models
 
 
 class Migration(migrations.Migration):
 
-    dependencies = [
-        ('note', '0005_note_priority_old_data_migration'),
-    ]
+    initial = True
+
+    dependencies = []
 
     operations = [
-        migrations.RemoveField(
-            model_name='note',
-            name='priority',
+        migrations.CreateModel(
+            name="Delivery",
+            fields=[
+                (
+                    "id",
+                    models.AutoField(
+                        auto_created=True,
+                        primary_key=True,
+                        serialize=False,
+                        verbose_name="ID",
+                    ),
+                ),
+            ],
+            options={
+                "verbose_name_plural": "deliveries",
+            },
         ),
-        migrations.RenameField(
-            model_name='note',
-            old_name='priority_temp',
-            new_name='priority',
-        ),
-    ]
+    ]
```

### Comparing `souschef-1.3.6/souschef/note/migrations/0007_notecategory.py` & `souschef-1.3.7/souschef/note/migrations/0007_notecategory.py`

 * *Files 25% similar despite different names*

```diff
@@ -3,36 +3,42 @@
 from __future__ import unicode_literals
 
 from django.db import migrations, models
 
 
 def set_initial_categories(apps, schema_editor):
     # set NoteCategory initial
-    NoteCategory = apps.get_model('note', 'NoteCategory')
+    NoteCategory = apps.get_model("note", "NoteCategory")
     NoteCategory.objects.create(name="Follow-up needed")
     NoteCategory.objects.create(name="No Charge")
     NoteCategory.objects.create(name="Orders/Cancellations")
     NoteCategory.objects.create(name="Comments (no actions needed)")
     NoteCategory.objects.create(name="Kitchen Comments")
     NoteCategory.objects.create(name="Stay late notes")
     NoteCategory.objects.create(name="Payment reception")
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('note', '0006_change_priority_field'),
+        ("note", "0006_change_priority_field"),
     ]
 
     operations = [
         migrations.CreateModel(
-            name='NoteCategory',
+            name="NoteCategory",
             fields=[
-                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
-                ('name', models.CharField(max_length=150, verbose_name='Name')),
+                (
+                    "id",
+                    models.AutoField(
+                        auto_created=True,
+                        primary_key=True,
+                        serialize=False,
+                        verbose_name="ID",
+                    ),
+                ),
+                ("name", models.CharField(max_length=150, verbose_name="Name")),
             ],
-            options={
-                'ordering': ('name',), 'verbose_name_plural': 'Note categories'
-            },
+            options={"ordering": ("name",), "verbose_name_plural": "Note categories"},
         ),
         migrations.RunPython(set_initial_categories),
     ]
```

### Comparing `souschef-1.3.6/souschef/note/migrations/0008_auto_20170116_1441.py` & `souschef-1.3.7/souschef/note/migrations/0008_auto_20170116_1441.py`

 * *Files 16% similar despite different names*

```diff
@@ -4,31 +4,37 @@
 
 from django.db import migrations, models
 import django.db.models.deletion
 
 
 def set_default_data(apps, schema_editor):
     # set for each product the correct language
-    NoteCategory = apps.get_model('note', 'NoteCategory')
-    Note = apps.get_model('note', 'Note')
+    NoteCategory = apps.get_model("note", "NoteCategory")
+    Note = apps.get_model("note", "Note")
 
     default_category = NoteCategory.objects.get(name="Comments (no actions needed)")
 
     for note in Note.objects.all():
         note.category = default_category
         note.save()
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('note', '0007_notecategory'),
+        ("note", "0007_notecategory"),
     ]
 
     operations = [
         migrations.AddField(
-            model_name='note',
-            name='category',
-            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='notes', to='note.NoteCategory', verbose_name='Category'),
+            model_name="note",
+            name="category",
+            field=models.ForeignKey(
+                null=True,
+                on_delete=django.db.models.deletion.CASCADE,
+                related_name="notes",
+                to="note.NoteCategory",
+                verbose_name="Category",
+            ),
         ),
         migrations.RunPython(set_default_data),
     ]
```

### Comparing `souschef-1.3.6/souschef/note/migrations/0009_auto_20170116_1543.py` & `souschef-1.3.7/souschef/order/migrations/0015_auto_20170410_1029.py`

 * *Files 25% similar despite different names*

```diff
@@ -1,26 +1,26 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.10 on 2017-01-16 15:43
+# Generated by Django 1.10.6 on 2017-04-10 14:29
 from __future__ import unicode_literals
 
 from django.db import migrations, models
-import django.db.models.deletion
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('note', '0008_auto_20170116_1441'),
+        ("order", "0014_auto_20161209_2045"),
     ]
 
     operations = [
         migrations.AlterField(
-            model_name='note',
-            name='category',
-            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notes', to='note.NoteCategory', verbose_name='Category'),
-        ),
-        migrations.AlterField(
-            model_name='note',
-            name='priority',
-            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notes', to='note.NotePriority', verbose_name='Priority'),
+            model_name="order_item",
+            name="size",
+            field=models.CharField(
+                blank=True,
+                choices=[("", ""), ("R", "Regular"), ("L", "Large")],
+                max_length=1,
+                null=True,
+                verbose_name="size",
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/note/migrations/0010_auto_20170313_1442.py` & `souschef-1.3.7/souschef/note/migrations/0013_date_modified.py`

 * *Files 25% similar despite different names*

```diff
@@ -1,32 +1,39 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.10.5 on 2017-03-13 18:42
+# Generated by Django 1.11.29 on 2021-07-23 14:25
 from __future__ import unicode_literals
 
-from django.conf import settings
 from django.db import migrations, models
-import django.db.models.deletion
+import django.utils.timezone
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('note', '0009_auto_20170116_1543'),
+        ("note", "0012_note_is_deleted"),
     ]
 
     operations = [
-        migrations.AlterField(
-            model_name='note',
-            name='author',
-            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='Author'),
+        migrations.AlterModelOptions(
+            name="note",
+            options={
+                "ordering": ("-date_modified", "note"),
+                "verbose_name_plural": "Notes",
+            },
         ),
-        migrations.AlterField(
-            model_name='note',
-            name='category',
-            field=models.ForeignKey(default=1, on_delete=django.db.models.deletion.SET_DEFAULT, related_name='notes', to='note.NoteCategory', verbose_name='Category'),
+        migrations.RenameField(
+            model_name="note",
+            old_name="date",
+            new_name="date_created",
         ),
-        migrations.AlterField(
-            model_name='note',
-            name='priority',
-            field=models.ForeignKey(default=1, on_delete=django.db.models.deletion.SET_DEFAULT, related_name='notes', to='note.NotePriority', verbose_name='Priority'),
+        migrations.AddField(
+            model_name="note",
+            name="date_modified",
+            field=models.DateTimeField(
+                default=django.utils.timezone.now, verbose_name="Date Modified"
+            ),
+        ),
+        migrations.RunSQL(
+            ["UPDATE note_note SET date_modified = date_created"],
+            "",
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/note/migrations/0011_auto_20170419_1109.py` & `souschef-1.3.7/souschef/member/migrations/0005_fix004a.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,26 +1,27 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.10.6 on 2017-04-19 15:09
+# Generated by Django 1.9.5 on 2016-06-23 01:15
 from __future__ import unicode_literals
 
 from django.db import migrations, models
 import django.db.models.deletion
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('note', '0010_auto_20170313_1442'),
+        ("member", "0004_fix004a"),
     ]
 
     operations = [
         migrations.AlterField(
-            model_name='note',
-            name='category',
-            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='notes', to='note.NoteCategory', verbose_name='Category'),
-        ),
-        migrations.AlterField(
-            model_name='note',
-            name='priority',
-            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='notes', to='note.NotePriority', verbose_name='Priority'),
+            model_name="client",
+            name="route",
+            field=models.ForeignKey(
+                blank=True,
+                null=True,
+                on_delete=django.db.models.deletion.CASCADE,
+                to="member.Route",
+                verbose_name="route",
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/note/migrations/0013_date_modified.py` & `souschef-1.3.7/souschef/member/migrations/0019_auto_20161111_1750.py`

 * *Files 22% similar despite different names*

```diff
@@ -1,34 +1,49 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.11.29 on 2021-07-23 14:25
+# Generated by Django 1.10 on 2016-11-11 17:50
 from __future__ import unicode_literals
 
 from django.db import migrations, models
-import django.utils.timezone
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('note', '0012_note_is_deleted'),
+        ("member", "0018_auto_20161110_2352"),
     ]
 
     operations = [
-        migrations.AlterModelOptions(
-            name='note',
-            options={'ordering': ('-date_modified', 'note'), 'verbose_name_plural': 'Notes'},
-        ),
-        migrations.RenameField(
-            model_name='note',
-            old_name='date',
-            new_name='date_created',
+        migrations.AddField(
+            model_name="member",
+            name="mid",
+            field=models.IntegerField(null=True),
         ),
         migrations.AddField(
-            model_name='note',
-            name='date_modified',
-            field=models.DateTimeField(default=django.utils.timezone.now, verbose_name='Date Modified'),
+            model_name="member",
+            name="rid",
+            field=models.IntegerField(null=True),
+        ),
+        migrations.AlterField(
+            model_name="client",
+            name="billing_payment_type",
+            field=models.CharField(
+                choices=[
+                    ("cheque", "Cheque"),
+                    ("cash", "Cash"),
+                    ("credit", "Credit card"),
+                    ("eft", "EFT"),
+                ],
+                max_length=10,
+                null=True,
+                verbose_name="Payment Type",
+            ),
         ),
-        migrations.RunSQL(
-            ["UPDATE note_note SET date_modified = date_created"],
-            "",
+        migrations.AlterField(
+            model_name="client",
+            name="language",
+            field=models.CharField(
+                choices=[("en", "English"), ("fr", "French"), ("al", "Allophone")],
+                default="fr",
+                max_length=2,
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/note/migrations/0014_date_created.py` & `souschef-1.3.7/souschef/member/migrations/0034_auto_20170816_0850.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,21 +1,25 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.11.29 on 2021-07-23 15:29
+# Generated by Django 1.10.5 on 2017-08-16 12:50
 from __future__ import unicode_literals
 
 from django.db import migrations, models
-import django.utils.timezone
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('note', '0013_date_modified'),
+        ("member", "0033_auto_20170801_1607"),
     ]
 
     operations = [
         migrations.AlterField(
-            model_name='note',
-            name='date_created',
-            field=models.DateTimeField(default=django.utils.timezone.now, verbose_name='Date Created'),
+            model_name="member",
+            name="mid",
+            field=models.IntegerField(blank=True, null=True),
+        ),
+        migrations.AlterField(
+            model_name="member",
+            name="rid",
+            field=models.IntegerField(blank=True, null=True),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/note/models.py` & `souschef-1.3.7/souschef/note/models.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,176 +1,164 @@
+from django.contrib.auth.models import User
 from django.db import models
 from django.db.models import Q
-from django_filters import ChoiceFilter, DateFromToRangeFilter, FilterSet, CharFilter
-from django.utils.translation import ugettext_lazy as _
-from django.contrib.auth.models import User
 from django.utils import timezone
-
+from django.utils.translation import ugettext_lazy as _
+from django_filters import (
+    CharFilter,
+    ChoiceFilter,
+    DateFromToRangeFilter,
+    FilterSet,
+)
 
 # Create your models here.
 
+
 class NoteManager(models.Manager):
     pass
 
 
 class UnreadNoteManager(NoteManager):
-
     def get_queryset(self):
 
-        return super(UnreadNoteManager, self).get_queryset().filter(
-            is_read=0
-        )
+        return super(UnreadNoteManager, self).get_queryset().filter(is_read=0)
 
 
 class NotePriority(models.Model):
-    name = models.CharField(max_length=150, verbose_name=_('Name'))
+    name = models.CharField(max_length=150, verbose_name=_("Name"))
 
     class Meta:
-        verbose_name_plural = _('Note priorities')
-        ordering = ('name',)
+        verbose_name_plural = _("Note priorities")
+        ordering = ("name",)
 
     def __str__(self):
-        return u"%s" % self.name
+        return "%s" % self.name
 
 
 class NoteCategory(models.Model):
-    name = models.CharField(max_length=150, verbose_name=_('Name'))
+    name = models.CharField(max_length=150, verbose_name=_("Name"))
 
     class Meta:
-        verbose_name_plural = _('Note categories')
-        ordering = ('name',)
+        verbose_name_plural = _("Note categories")
+        ordering = ("name",)
 
     def __str__(self):
-        return u"%s" % self.name
+        return "%s" % self.name
 
 
 class Note(models.Model):
-
     class Meta:
-        verbose_name_plural = _('Notes')
-        ordering = ('-date_modified', 'note')
+        verbose_name_plural = _("Notes")
+        ordering = ("-date_modified", "note")
 
-    note = models.TextField(
-        verbose_name=_('Note')
-    )
+    note = models.TextField(verbose_name=_("Note"))
 
     author = models.ForeignKey(
-        User,
-        verbose_name=_('Author'),
-        null=True,
-        on_delete=models.SET_NULL
+        User, verbose_name=_("Author"), null=True, on_delete=models.SET_NULL
     )
 
     date_created = models.DateTimeField(
-        verbose_name=_('Date Created'),
+        verbose_name=_("Date Created"),
         default=timezone.now,
     )
 
     date_modified = models.DateTimeField(
-        verbose_name=_('Date Modified'),
+        verbose_name=_("Date Modified"),
         default=timezone.now,
     )
 
-    is_read = models.BooleanField(
-        verbose_name=_('Is read'),
-        default=False
-    )
+    is_read = models.BooleanField(verbose_name=_("Is read"), default=False)
 
     client = models.ForeignKey(
-        'member.Client',
-        verbose_name=_('Client'),
-        related_name='client_notes',
-        on_delete=models.CASCADE
+        "member.Client",
+        verbose_name=_("Client"),
+        related_name="client_notes",
+        on_delete=models.CASCADE,
     )
 
     priority = models.ForeignKey(
         NotePriority,
-        verbose_name=_('Priority'),
+        verbose_name=_("Priority"),
         related_name="notes",
         null=True,
-        on_delete=models.SET_NULL
+        on_delete=models.SET_NULL,
     )
 
     category = models.ForeignKey(
         NoteCategory,
-        verbose_name=_('Category'),
+        verbose_name=_("Category"),
         related_name="notes",
         null=True,
-        on_delete=models.SET_NULL
+        on_delete=models.SET_NULL,
     )
 
-    is_deleted = models.BooleanField(
-        verbose_name=_('Is deleted'),
-        default=False
-    )
+    is_deleted = models.BooleanField(verbose_name=_("Is deleted"), default=False)
 
     objects = NoteManager()
 
     unread = UnreadNoteManager()
 
     def __str__(self):
         return self.note
 
     def mark_as_read(self):
-        """ Mark a note as read. """
+        """Mark a note as read."""
         if not self.is_read:
             self.is_read = True
             self.save()
 
     def mark_as_unread(self):
-        """ Mark a note as unread. """
+        """Mark a note as unread."""
         if self.is_read:
             self.is_read = False
             self.save()
 
     def delete(self):
-        """ Mark a note as being deleted. """
+        """Mark a note as being deleted."""
         self.is_deleted = True
         self.save()
 
 
 class NoteFilter(FilterSet):
 
     IS_READ_CHOICES = (
-        ('', 'All'),
-        ('1', 'Yes'),
-        ('0', 'No'),
+        ("", "All"),
+        ("1", "Yes"),
+        ("0", "No"),
     )
 
     NOTE_STATUS_UNREAD = IS_READ_CHOICES[2][0]
 
     is_read = ChoiceFilter(
         choices=IS_READ_CHOICES,
     )
 
-    name = CharFilter(
-        method='filter_search',
-        label=_('Search by name')
-    )
+    name = CharFilter(method="filter_search", label=_("Search by name"))
 
-    date_modified = DateFromToRangeFilter(lookup_expr='contains')
+    date_modified = DateFromToRangeFilter(lookup_expr="contains")
 
     class Meta:
         model = Note
-        fields = ['priority', 'is_read', 'date_modified', 'category', ]
+        fields = [
+            "priority",
+            "is_read",
+            "date_modified",
+            "category",
+        ]
 
     def filter_search(self, queryset, field_name, value):
         if not value:
             return queryset
 
-        names = value.split(' ')
+        names = value.split(" ")
 
         name_contains = Q()
 
         for name in names:
-            firstname_contains = Q(
-                client__member__firstname__icontains=name
-            )
+            firstname_contains = Q(client__member__firstname__icontains=name)
 
             name_contains |= firstname_contains
 
-            lastname_contains = Q(
-                client__member__lastname__icontains=name
-            )
+            lastname_contains = Q(client__member__lastname__icontains=name)
             name_contains |= lastname_contains
 
         return queryset.filter(name_contains)
```

### Comparing `souschef-1.3.6/souschef/note/templates/note_confirm_delete.html` & `souschef-1.3.7/souschef/note/templates/note_confirm_delete.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/note/templates/note_edit.html` & `souschef-1.3.7/souschef/note/templates/note_edit.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/note/templates/notes_add.html` & `souschef-1.3.7/souschef/note/templates/notes_add.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/note/templates/notes_client_list.html` & `souschef-1.3.7/souschef/note/templates/notes_client_list.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/note/templates/notes_list.html` & `souschef-1.3.7/souschef/note/templates/notes_list.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/note/tests.py` & `souschef-1.3.7/souschef/note/tests.py`

 * *Files 15% similar despite different names*

```diff
@@ -1,28 +1,33 @@
 import itertools
-from django.test import TestCase
-from souschef.note.models import Note
-from souschef.note.factories import NoteFactory
+
 from django.contrib.auth.models import User
-from souschef.member.factories import ClientFactory, RouteFactory
+from django.test import TestCase
 from django.urls import reverse
 from django.utils import timezone
+
+from souschef.member.factories import (
+    ClientFactory,
+    RouteFactory,
+)
+from souschef.note.factories import NoteFactory
+from souschef.note.models import Note
 from souschef.sous_chef.tests import TestMixin as SousChefTestMixin
 
 
 class NoteTestCase(TestCase):
 
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     @classmethod
     def setUpTestData(cls):
         cls.clients = ClientFactory()
         cls.admin = User.objects.create_superuser(
-            username='admin', email='testadmin@example.com',
-            password='test1234')
+            username="admin", email="testadmin@example.com", password="test1234"
+        )
         cls.note = NoteFactory.create(
             client=cls.clients,
             author=cls.admin,
         )
 
     def test_attach_note_to_member(self):
         """Create a note attached to a member"""
@@ -43,226 +48,223 @@
         note.mark_as_read()
         self.assertTrue(note.is_read)
         note.mark_as_unread()
         self.assertFalse(note.is_read)
 
     def test_str_includes_note(self):
         """An note listing must include the note text"""
-        note = Note.objects.create(
-            client=self.clients,
-            author=self.admin,
-            note='x123y'
-        )
-        self.assertTrue('x123y' in note.note)
+        note = Note.objects.create(client=self.clients, author=self.admin, note="x123y")
+        self.assertTrue("x123y" in note.note)
 
     def test_anonymous_user_gets_redirected_to_login_page(self):
         self.client.logout()
-        response = self.client.get('/note/')
+        response = self.client.get("/note/")
         self.assertRedirects(
-            response,
-            reverse('page:login') + '?next=/note/',
-            status_code=302
+            response, reverse("page:login") + "?next=/note/", status_code=302
         )
 
 
 class NoteAddTestCase(NoteTestCase):
-
     def setUp(self):
-        self.client.force_login(
-            self.admin, 'django.contrib.auth.backends.ModelBackend')
+        self.client.force_login(self.admin, "django.contrib.auth.backends.ModelBackend")
 
     def test_create_set_fields(self):
         """
         Test if author, date, is_read are correctly set.
         """
         time_1 = timezone.now()
-        response = self.client.post(reverse('note:note_add'), {
-            'note': "test note TEST_PHRASE",
-            "client": ClientFactory().pk,
-            "priority": '1',
-            "category": '1'
-        }, follow=False)
+        response = self.client.post(
+            reverse("note:note_add"),
+            {
+                "note": "test note TEST_PHRASE",
+                "client": ClientFactory().pk,
+                "priority": "1",
+                "category": "1",
+            },
+            follow=False,
+        )
         time_2 = timezone.now()
         self.assertEqual(response.status_code, 302)  # successful creation
         note = Note.objects.get(note__contains="TEST_PHRASE")
         self.assertEqual(note.author, self.admin)
         self.assertEqual(note.is_read, False)
         self.assertTrue(time_1 <= note.date_created <= time_2)
 
     def test_redirects_users_who_do_not_have_edit_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('note:note_add')
+        self.client.login(username="foo", password="secure")
+        url = reverse("note:note_add")
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 302)
 
     def test_allow_access_to_users_with_edit_permission(self):
         # Setup
         user = User.objects.create_superuser(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('note:note_add')
+        self.client.login(username="foo", password="secure")
+        url = reverse("note:note_add")
         # Run
-        response = self.client.post(url, {
-            'note': "test note TEST_PHRASE",
-            "client": ClientFactory().pk,
-            "priority": '1'
-        }, follow=True)
+        response = self.client.post(
+            url,
+            {
+                "note": "test note TEST_PHRASE",
+                "client": ClientFactory().pk,
+                "priority": "1",
+            },
+            follow=True,
+        )
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class ClientNoteAddTestCase(NoteTestCase):
-
     def setUp(self):
         self.client.force_login(
-            self.admin, 'django.contrib.auth.backends.ModelBackend',)
+            self.admin,
+            "django.contrib.auth.backends.ModelBackend",
+        )
 
     def test_get_with_client_pk(self):
         client = ClientFactory()
-        response = self.client.get(reverse(
-            'member:client_notes_add',
-            kwargs={'pk': client.pk}
-        ))
+        response = self.client.get(
+            reverse("member:client_notes_add", kwargs={"pk": client.pk})
+        )
         self.assertEqual(response.status_code, 200)
         content = str(response.content, encoding=response.charset)
         self.assertIn(str(client.pk), content)
         self.assertIn(client.member.firstname, content)
         self.assertIn(client.member.lastname, content)
 
     def test_redirects_users_who_do_not_have_edit_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
-        url = reverse('member:client_notes_add', kwargs={'pk': client.pk})
+        url = reverse("member:client_notes_add", kwargs={"pk": client.pk})
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 302)
 
     def test_allow_access_to_users_with_edit_permission(self):
         # Setup
         user = User.objects.create_superuser(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.save()
-        self.client.login(username='foo', password='secure')
+        self.client.login(username="foo", password="secure")
         client = ClientFactory()
-        url = reverse('member:client_notes_add', kwargs={'pk': client.pk})
+        url = reverse("member:client_notes_add", kwargs={"pk": client.pk})
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class RedirectAnonymousUserTestCase(SousChefTestMixin, TestCase):
 
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_anonymous_user_gets_redirect_to_login_page(self):
         check = self.assertRedirectsWithAllMethods
-        check(reverse('note:note_list'))
-        check(reverse('note:read', kwargs={'id': 1}))
-        check(reverse('note:unread', kwargs={'id': 1}))
-        check(reverse('note:note_add'))
-        check(reverse('note:batch_toggle'))
+        check(reverse("note:note_list"))
+        check(reverse("note:read", kwargs={"id": 1}))
+        check(reverse("note:unread", kwargs={"id": 1}))
+        check(reverse("note:note_add"))
+        check(reverse("note:batch_toggle"))
 
 
 class NoteListViewTestCase(SousChefTestMixin, TestCase):
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     def test_redirects_users_who_do_not_have_read_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
-        url = reverse('note:note_list')
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
+        url = reverse("note:note_list")
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_read_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('note:note_list')
+        self.client.login(username="foo", password="secure")
+        url = reverse("note:note_list")
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
     def test_search_by_name(self):
         """
         Search text should be contained by either firstname or
         lastname.
         """
-        client1 = ClientFactory(
-            member__firstname='tessst',
-            member__lastname='woooo'
-        )
-        client2 = ClientFactory(
-            member__firstname='woooo',
-            member__lastname='tessst'
-        )
-        client3 = ClientFactory(
-            member__firstname='woooo',
-            member__lastname='woooo'
-        )
+        client1 = ClientFactory(member__firstname="tessst", member__lastname="woooo")
+        client2 = ClientFactory(member__firstname="woooo", member__lastname="tessst")
+        client3 = ClientFactory(member__firstname="woooo", member__lastname="woooo")
         note1a = NoteFactory(client=client1)
         note1b = NoteFactory(client=client1)
         note2a = NoteFactory(client=client2)
         note2b = NoteFactory(client=client2)
         note3a = NoteFactory(client=client3)
         note3b = NoteFactory(client=client3)
 
         self.force_login()
-        url = reverse('note:note_list')
-        response = self.client.get(
-            url,
-            {'name': 'esss'}
-        )
+        url = reverse("note:note_list")
+        response = self.client.get(url, {"name": "esss"})
         self.assertEqual(response.status_code, 200)
-        notes = response.context['notes']
+        notes = response.context["notes"]
         self.assertIn(note1a, notes)
         self.assertIn(note1b, notes)
         self.assertIn(note2a, notes)
         self.assertIn(note2b, notes)
         self.assertNotIn(note3a, notes)
         self.assertNotIn(note3b, notes)
 
 
 class NoteBatchToggleViewTestCase(SousChefTestMixin, TestCase):
-
     @classmethod
     def setUpTestData(cls):
         RouteFactory()  # prerequisite
         cls.unread_notes = NoteFactory.create_batch(10, is_read=False)
         cls.read_notes = NoteFactory.create_batch(10, is_read=True)
 
     def test_toggle(self):
         self.force_login()
         response = self.client.post(
-            reverse('note:batch_toggle'),
-            {'note': list(map(
-                lambda n: n.id,
-                itertools.chain(self.unread_notes, self.read_notes)
-            ))},
-            redirect=False
+            reverse("note:batch_toggle"),
+            {
+                "note": list(
+                    map(
+                        lambda n: n.id,
+                        itertools.chain(self.unread_notes, self.read_notes),
+                    )
+                )
+            },
+            redirect=False,
         )
         self.assertEqual(response.status_code, 302)  # should redirect
 
         # Refetch
         for n in self.unread_notes:
             n.refresh_from_db()
             self.assertTrue(n.is_read)
```

### Comparing `souschef-1.3.6/souschef/note/urls.py` & `souschef-1.3.7/souschef/note/urls.py`

 * *Files 22% similar despite different names*

```diff
@@ -3,25 +3,26 @@
 
 from souschef.note.views import (
     NoteAdd,
     NoteBatchToggle,
     NoteDeleteView,
     NoteEditView,
     NoteList,
+    mark_as_read,
+    mark_as_unread,
 )
 
-from souschef.note.views import mark_as_read, mark_as_unread
-
 app_name = "note"
 
 urlpatterns = [
-    url(_(r'^$'), NoteList.as_view(), name='note_list'),
-    url(_(r'^read/(?P<id>\d+)/$'),
-        mark_as_read, name='read'),
-    url(_(r'^unread/(?P<id>\d+)/$'),
-        mark_as_unread, name='unread'),
-    url(_(r'^add/$'), NoteAdd.as_view(), name='note_add'),
-    url(_(r'^batch_toggle/$'),
-        NoteBatchToggle.as_view(), name='batch_toggle'),
-    url(_(r'^edit/(?P<pk>\d+)/$'), NoteEditView.as_view(), name='edit'),
-    url(_(r'^delete/(?P<pk>\d+)/$'), NoteDeleteView.as_view(), name='note_delete'),
+    url(_(r"^$"), NoteList.as_view(), name="note_list"),
+    url(_(r"^read/(?P<id>\d+)/$"), mark_as_read, name="read"),
+    url(_(r"^unread/(?P<id>\d+)/$"), mark_as_unread, name="unread"),
+    url(_(r"^add/$"), NoteAdd.as_view(), name="note_add"),
+    url(_(r"^batch_toggle/$"), NoteBatchToggle.as_view(), name="batch_toggle"),
+    url(_(r"^edit/(?P<pk>\d+)/$"), NoteEditView.as_view(), name="edit"),
+    url(
+        _(r"^delete/(?P<pk>\d+)/$"),
+        NoteDeleteView.as_view(),
+        name="note_delete",
+    ),
 ]
```

### Comparing `souschef-1.3.6/souschef/note/views.py` & `souschef-1.3.7/souschef/note/views.py`

 * *Files 17% similar despite different names*

```diff
@@ -1,185 +1,189 @@
-from django.shortcuts import get_object_or_404
-from django.views import generic, View
-from django.contrib.auth.decorators import login_required
 from django.contrib import messages
-from django.contrib.auth.mixins import LoginRequiredMixin
-from django.contrib.auth.mixins import PermissionRequiredMixin
-from django.db.models import Case, When
+from django.contrib.auth.decorators import login_required
+from django.contrib.auth.mixins import (
+    LoginRequiredMixin,
+    PermissionRequiredMixin,
+)
+from django.db.models import (
+    Case,
+    When,
+)
+from django.http import HttpResponseRedirect
+from django.shortcuts import get_object_or_404
 from django.urls import reverse
 from django.utils import timezone
 from django.utils.translation import ugettext_lazy as _
-from django.http import HttpResponseRedirect
+from django.views import (
+    View,
+    generic,
+)
 
-from souschef.note.models import Note, NoteFilter
-from souschef.note.forms import NoteEditForm, NoteForm
 from souschef.member.models import Client
-
+from souschef.note.forms import (
+    NoteEditForm,
+    NoteForm,
+)
+from souschef.note.models import (
+    Note,
+    NoteFilter,
+)
 
 # Create your views here.
 
-class NoteList(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.ListView):
+
+class NoteList(LoginRequiredMixin, PermissionRequiredMixin, generic.ListView):
     # Display the list of notes
-    context_object_name = 'notes'
+    context_object_name = "notes"
     model = Note
     paginate_by = 20
-    permission_required = 'sous_chef.read'
-    template_name = 'notes_list.html'
+    permission_required = "sous_chef.read"
+    template_name = "notes_list.html"
 
     def get_queryset(self):
         uf = NoteFilter(self.request.GET)
-        return uf.qs.filter(is_deleted=0).select_related('client__member')
+        return uf.qs.filter(is_deleted=0).select_related("client__member")
 
     def get_context_data(self, **kwargs):
         uf = NoteFilter(self.request.GET, queryset=self.get_queryset())
 
         context = super(NoteList, self).get_context_data(**kwargs)
 
         # Here you add some variable of context to display on template
-        context['filter'] = uf
-        text = ''
+        context["filter"] = uf
+        text = ""
         count = 0
         for getVariable in self.request.GET:
             if getVariable == "page":
                 continue
             for getValue in self.request.GET.getlist(getVariable):
                 if count == 0:
                     text += "?" + getVariable + "=" + getValue
                 else:
                     text += "&" + getVariable + "=" + getValue
                 count += 1
 
         text = text + "?" if count == 0 else text + "&"
-        context['get'] = text
+        context["get"] = text
 
         return context
 
 
-class ClientNoteList(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.ListView):
+class ClientNoteList(LoginRequiredMixin, PermissionRequiredMixin, generic.ListView):
     # Display detail of one client
-    context_object_name = 'notes'
+    context_object_name = "notes"
     model = Note
-    permission_required = 'sous_chef.read'
-    template_name = 'notes_client_list.html'
+    permission_required = "sous_chef.read"
+    template_name = "notes_client_list.html"
 
     def get_queryset(self):
         queryset = NoteFilter(
-            self.request.GET,
-            queryset=Note.objects.filter(
-                client__id=self.kwargs['pk'])).qs
+            self.request.GET, queryset=Note.objects.filter(client__id=self.kwargs["pk"])
+        ).qs
         return queryset
 
     def get_context_data(self, **kwargs):
         context = super(ClientNoteList, self).get_context_data(**kwargs)
-        context['active_tab'] = 'notes'
-        context['client_status'] = Client.CLIENT_STATUS
-        context['client'] = get_object_or_404(Client, id=self.kwargs['pk'])
-        context['filter'] = NoteFilter(
-            self.request.GET, queryset=Note.objects.filter(
-                client__id=self.kwargs['pk']))
+        context["active_tab"] = "notes"
+        context["client_status"] = Client.CLIENT_STATUS
+        context["client"] = get_object_or_404(Client, id=self.kwargs["pk"])
+        context["filter"] = NoteFilter(
+            self.request.GET, queryset=Note.objects.filter(client__id=self.kwargs["pk"])
+        )
 
         return context
 
 
 class NoteAdd(LoginRequiredMixin, PermissionRequiredMixin, generic.CreateView):
     form_class = NoteForm
     model = Note
-    permission_required = 'sous_chef.edit'
-    template_name = 'notes_add.html'
+    permission_required = "sous_chef.edit"
+    template_name = "notes_add.html"
 
     def form_valid(self, form):
         form.instance.author = self.request.user
         response = super(NoteAdd, self).form_valid(form)
         messages.add_message(
-            self.request, messages.SUCCESS,
-            _("The note was created successfully.")
+            self.request, messages.SUCCESS, _("The note was created successfully.")
         )
         return response
 
     def get_success_url(self):
-        return reverse('note:note_list')
+        return reverse("note:note_list")
 
 
 class ClientNoteListAdd(NoteAdd):
     """
     Reuses things from note.
     """
+
     def get_context_data(self, **kwargs):
         context = super(ClientNoteListAdd, self).get_context_data(**kwargs)
-        context['client'] = get_object_or_404(Client, id=self.kwargs['pk'])
+        context["client"] = get_object_or_404(Client, id=self.kwargs["pk"])
         return context
 
     def get_success_url(self):
-        return reverse('member:client_notes', kwargs={'pk': self.kwargs['pk']})
+        return reverse("member:client_notes", kwargs={"pk": self.kwargs["pk"]})
 
 
 @login_required
 def mark_as_read(request, id):
     note = get_object_or_404(Note, pk=id)
     note.mark_as_read()
-    return HttpResponseRedirect(request.META.get('HTTP_REFERER'))
+    return HttpResponseRedirect(request.META.get("HTTP_REFERER"))
 
 
 @login_required
 def mark_as_unread(request, id):
     note = get_object_or_404(Note, pk=id)
     note.mark_as_unread()
-    return HttpResponseRedirect(request.META.get('HTTP_REFERER'))
+    return HttpResponseRedirect(request.META.get("HTTP_REFERER"))
 
 
-class NoteBatchToggle(
-        LoginRequiredMixin, PermissionRequiredMixin, View
-):
-    permission_required = 'sous_chef.read'
+class NoteBatchToggle(LoginRequiredMixin, PermissionRequiredMixin, View):
+    permission_required = "sous_chef.read"
 
     def post(self, request, *args, **kwargs):
-        ids = request.POST.getlist('note')
-        count = Note.objects.filter(id__in=ids).update(is_read=Case(
-            When(is_read=True, then=False),
-            When(is_read=False, then=True)
-        ))
+        ids = request.POST.getlist("note")
+        count = Note.objects.filter(id__in=ids).update(
+            is_read=Case(When(is_read=True, then=False), When(is_read=False, then=True))
+        )
         messages.add_message(
-            self.request, messages.SUCCESS,
-            _("%(count)s note(s) were updated.") % {'count': count}
+            self.request,
+            messages.SUCCESS,
+            _("%(count)s note(s) were updated.") % {"count": count},
         )
-        return HttpResponseRedirect(request.META.get('HTTP_REFERER'))
+        return HttpResponseRedirect(request.META.get("HTTP_REFERER"))
+
 
 class NoteEditView(
-        LoginRequiredMixin, PermissionRequiredMixin,
-        generic.edit.UpdateView):
+    LoginRequiredMixin, PermissionRequiredMixin, generic.edit.UpdateView
+):
     form_class = NoteEditForm
     model = Note
-    permission_required = 'sous_chef.edit'
-    template_name = 'note_edit.html'
+    permission_required = "sous_chef.edit"
+    template_name = "note_edit.html"
 
     def form_valid(self, form):
         response = super().form_valid(form)
 
         # Updated notes must be marked as read.
         self.object.is_read = True
         self.object.date_modified = timezone.now()
         self.object.save()
 
-        messages.add_message(
-            self.request, messages.SUCCESS,
-            _("Note updated.")
-        )
+        messages.add_message(self.request, messages.SUCCESS, _("Note updated."))
 
         return response
 
     def get_success_url(self):
-        return reverse('note:note_list')
+        return reverse("note:note_list")
 
 
 class NoteDeleteView(PermissionRequiredMixin, View):
-    permission_required = 'sous_chef.edit'
+    permission_required = "sous_chef.edit"
 
     def post(self, request, pk, *args, **kwargs):
         note = get_object_or_404(Note, pk=int(pk))
         note.delete()
-        messages.add_message(
-            self.request, messages.SUCCESS,
-            _("Note deleted.")
-        )
-        return HttpResponseRedirect(request.GET['next'])
+        messages.add_message(self.request, messages.SUCCESS, _("Note deleted."))
+        return HttpResponseRedirect(request.GET["next"])
```

### Comparing `souschef-1.3.6/souschef/notification/migrations/0001_fix161f.py` & `souschef-1.3.7/souschef/note/migrations/0009_auto_20170116_1543.py`

 * *Files 25% similar despite different names*

```diff
@@ -1,31 +1,36 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.9.5 on 2016-06-05 19:25
+# Generated by Django 1.10 on 2017-01-16 15:43
 from __future__ import unicode_literals
 
 from django.db import migrations, models
 import django.db.models.deletion
-import django.utils.timezone
 
 
 class Migration(migrations.Migration):
 
-    initial = True
-
     dependencies = [
-        ('member', '0001_fix161f'),
+        ("note", "0008_auto_20170116_1441"),
     ]
 
     operations = [
-        migrations.CreateModel(
-            name='Notification',
-            fields=[
-                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
-                ('description', models.TextField(verbose_name='description')),
-                ('date', models.DateField(default=django.utils.timezone.now)),
-                ('member', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='member.Member', verbose_name='member')),
-            ],
-            options={
-                'verbose_name_plural': 'notifications',
-            },
+        migrations.AlterField(
+            model_name="note",
+            name="category",
+            field=models.ForeignKey(
+                on_delete=django.db.models.deletion.CASCADE,
+                related_name="notes",
+                to="note.NoteCategory",
+                verbose_name="Category",
+            ),
+        ),
+        migrations.AlterField(
+            model_name="note",
+            name="priority",
+            field=models.ForeignKey(
+                on_delete=django.db.models.deletion.CASCADE,
+                related_name="notes",
+                to="note.NotePriority",
+                verbose_name="Priority",
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/notification/models.py` & `souschef-1.3.7/souschef/notification/models.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,28 +1,19 @@
 from django.db import models
-from django.utils.translation import ugettext_lazy as _
 from django.utils import timezone
+from django.utils.translation import ugettext_lazy as _
 
 
 class Notification(models.Model):
-
     class Meta:
-        verbose_name_plural = _('notifications')
+        verbose_name_plural = _("notifications")
 
-    description = models.TextField(
-        verbose_name=_('description')
-    )
+    description = models.TextField(verbose_name=_("description"))
 
     member = models.ForeignKey(
-        'member.Member',
-        verbose_name=_('member'),
-        on_delete=models.CASCADE
+        "member.Member", verbose_name=_("member"), on_delete=models.CASCADE
     )
 
-    date = models.DateField(
-        auto_now=False,
-        auto_now_add=False,
-        default=timezone.now
-    )
+    date = models.DateField(auto_now=False, auto_now_add=False, default=timezone.now)
 
     def __str__(self):
         return self.description
```

### Comparing `souschef-1.3.6/souschef/order/admin.py` & `souschef-1.3.7/souschef/order/admin.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,44 +1,50 @@
 from django.contrib import admin
-from souschef.order.models import Order, Order_item, OrderStatusChange
+
+from souschef.order.models import (
+    Order,
+    Order_item,
+    OrderStatusChange,
+)
 
 
 def make_delivered(modeladmin, request, queryset):
-    queryset.update(status='D')
+    queryset.update(status="D")
+
+
 make_delivered.short_description = "Mark selected orders as delivered"
 
 
 class OrderItemInline(admin.TabularInline):
     model = Order_item
 
 
 class OrderItemAdmin(admin.ModelAdmin):
-    search_fields = ['order__id']
+    search_fields = ["order__id"]
     list_display = (
-        'order',
-        'order_item_type',
-        'component_group',
-        'total_quantity',
-        'billable_flag',
-        'price',
+        "order",
+        "order_item_type",
+        "component_group",
+        "total_quantity",
+        "billable_flag",
+        "price",
     )
 
 
 class OrderAdmin(admin.ModelAdmin):
-    search_fields = ['client__member__lastname', 'client__member__firstname']
-    list_filter = ('status', 'delivery_date')
+    search_fields = ["client__member__lastname", "client__member__firstname"]
+    list_filter = ("status", "delivery_date")
     list_display = (
-        'id',
-        'client',
-        'status',
-        'price',
-        'delivery_date',
-        'creation_date',
+        "id",
+        "client",
+        "status",
+        "price",
+        "delivery_date",
+        "creation_date",
     )
     actions = [make_delivered]
-    inlines = [
-        OrderItemInline
-    ]
+    inlines = [OrderItemInline]
+
 
 admin.site.register(Order, OrderAdmin)
 admin.site.register(Order_item, OrderItemAdmin)
 admin.site.register(OrderStatusChange)
```

### Comparing `souschef-1.3.6/souschef/order/factories.py` & `souschef-1.3.7/souschef/order/factories.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,66 +1,59 @@
 # coding=utf-8
-import factory
 import random
 from datetime import date
+
+import factory
 from faker import Factory as FakerFactory
+
 from souschef.member.factories import ClientFactory
 from souschef.order.models import (
-    Order, Order_item, ORDER_STATUS, ORDER_ITEM_TYPE_CHOICES
+    ORDER_ITEM_TYPE_CHOICES,
+    ORDER_STATUS,
+    SIZE_CHOICES,
+    Order,
+    Order_item,
 )
-from souschef.order.models import SIZE_CHOICES
 
 fake = FakerFactory.create()
 
 
 class OrderFactory(factory.DjangoModelFactory):
-
     class Meta:
         model = Order
 
     creation_date = date.today()
 
     delivery_date = factory.LazyAttribute(
-        lambda x: fake.date_time_between(
-            start_date="-1y",
-            end_date="+1y",
-            tzinfo=None
-        )
+        lambda x: fake.date_time_between(start_date="-1y", end_date="+1y", tzinfo=None)
     )
 
-    status = factory.LazyAttribute(
-        lambda x: random.choice(ORDER_STATUS)[0]
-    )
+    status = factory.LazyAttribute(lambda x: random.choice(ORDER_STATUS)[0])
 
     client = factory.SubFactory(ClientFactory)
 
     order_item = factory.RelatedFactory(
-        'order.factories.OrderItemFactory',
-        'order',
-        price='5',
+        "order.factories.OrderItemFactory",
+        "order",
+        price="5",
         billable_flag=True,
     )
 
 
 class OrderItemFactory(factory.DjangoModelFactory):
-
     class Meta:
         model = Order_item
 
     order = factory.SubFactory(OrderFactory)
 
     price = fake.random_int(min=0, max=50)
 
-    billable_flag = factory.LazyAttribute(
-        lambda x: random.choice([True, False])
-    )
+    billable_flag = factory.LazyAttribute(lambda x: random.choice([True, False]))
 
-    size = factory.LazyAttribute(
-        lambda x: random.choice(SIZE_CHOICES)[0]
-    )
+    size = factory.LazyAttribute(lambda x: random.choice(SIZE_CHOICES)[0])
 
     order_item_type = factory.LazyAttribute(
         lambda x: random.choice(ORDER_ITEM_TYPE_CHOICES)[0]
     )
 
     remark = fake.sentence(nb_words=6, variable_nb_words=True)
```

### Comparing `souschef-1.3.6/souschef/order/forms.py` & `souschef-1.3.7/souschef/order/forms.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,165 +1,151 @@
 from django import forms
 from django.utils.translation import ugettext_lazy as _
 from extra_views import InlineFormSet
 
+from souschef.meal.models import (
+    COMPONENT_GROUP_CHOICES,
+    COMPONENT_GROUP_CHOICES_SIDES,
+)
 from souschef.member.models import Client
-
-from souschef.meal.models import COMPONENT_GROUP_CHOICES, COMPONENT_GROUP_CHOICES_SIDES
-from souschef.order.models import Order_item, SIZE_CHOICES, OrderStatusChange
+from souschef.order.models import (
+    SIZE_CHOICES,
+    Order_item,
+    OrderStatusChange,
+)
 
 
 class CreateOrderItem(InlineFormSet):
     model = Order_item
     extra = 1
-    fields = '__all__'
+    fields = "__all__"
 
 
 class UpdateOrderItem(CreateOrderItem):
     extra = 0
 
 
 class CreateOrdersBatchForm(forms.Form):
-
     def __init__(self, *args, **kwargs):
-        if 'delivery_dates' in kwargs:
-            delivery_dates = kwargs['delivery_dates']
-            del kwargs['delivery_dates']
+        if "delivery_dates" in kwargs:
+            delivery_dates = kwargs["delivery_dates"]
+            del kwargs["delivery_dates"]
         else:
             delivery_dates = None
         super(CreateOrdersBatchForm, self).__init__(*args, **kwargs)
 
         if delivery_dates:
             for d in delivery_dates:
-                self.fields['size_{}'.format(d)] = forms.ChoiceField(
+                self.fields["size_{}".format(d)] = forms.ChoiceField(
                     choices=SIZE_CHOICES,
-                    widget=forms.Select(attrs={'class': ''}),
-                    required=True
-                )
-                self.fields['delivery_{}'.format(d)] = forms.BooleanField(
-                    required=False
+                    widget=forms.Select(attrs={"class": ""}),
+                    required=True,
                 )
-                self.fields['pickup_{}'.format(d)] = forms.BooleanField(
-                    required=False
-                )
-                self.fields['visit_{}'.format(d)] = forms.BooleanField(
+                self.fields["delivery_{}".format(d)] = forms.BooleanField(
                     required=False
                 )
+                self.fields["pickup_{}".format(d)] = forms.BooleanField(required=False)
+                self.fields["visit_{}".format(d)] = forms.BooleanField(required=False)
 
                 for meal, meal_translation in COMPONENT_GROUP_CHOICES:
                     if meal is COMPONENT_GROUP_CHOICES_SIDES:
                         continue  # don't put "sides" on the form
-                    self.fields[
-                        '{}_{}_quantity'.format(meal, d)
-                    ] = forms.IntegerField(
-                        min_value=0,
-                        required=True
+                    self.fields["{}_{}_quantity".format(meal, d)] = forms.IntegerField(
+                        min_value=0, required=True
                     )
 
     client = forms.ModelChoiceField(
         required=True,
-        label=_('Client'),
-        widget=forms.Select(attrs={'class': 'ui search dropdown'}),
-        queryset=Client.active.select_related(
-            'member'
-        ).only(
-            'member__firstname',
-            'member__lastname'
-        ).order_by('member__lastname')
+        label=_("Client"),
+        widget=forms.Select(attrs={"class": "ui search dropdown"}),
+        queryset=Client.active.select_related("member")
+        .only("member__firstname", "member__lastname")
+        .order_by("member__lastname"),
     )
 
     delivery_dates = forms.CharField(
-        required=True,
-        label=_('Delivery dates'),
-        max_length=200
+        required=True, label=_("Delivery dates"), max_length=200
     )
 
     override_dates = forms.CharField(
-        required=False,
-        label=_('Override dates'),
-        max_length=200
+        required=False, label=_("Override dates"), max_length=200
     )
 
-    is_submit = forms.IntegerField(
-        required=True,
-        label=_('Is form submit')
-    )
+    is_submit = forms.IntegerField(required=True, label=_("Is form submit"))
 
     def clean_is_submit(self):
-        is_submit = self.cleaned_data['is_submit']
+        is_submit = self.cleaned_data["is_submit"]
         if is_submit != 1:
             # prevents form submit and force a form refresh
-            raise forms.ValidationError(
-                _("This field must be 1 to submit the form.")
-            )
+            raise forms.ValidationError(_("This field must be 1 to submit the form."))
         return is_submit
 
     def clean(self):
         """
         For each delivery date, the quantities and options should
         not be all empty. Refs #803.
         """
         cleaned_data = super(CreateOrdersBatchForm, self).clean()
-        delivery_dates_str = cleaned_data.get('delivery_dates')
+        delivery_dates_str = cleaned_data.get("delivery_dates")
         if delivery_dates_str:
-            delivery_dates = delivery_dates_str.split('|')
+            delivery_dates = delivery_dates_str.split("|")
         else:
             delivery_dates = []
         fields_not_null_check = [
-            ('delivery_{}', lambda x: x is True),
-            ('pickup_{}', lambda x: x is True),
-            ('visit_{}', lambda x: x is True),
+            ("delivery_{}", lambda x: x is True),
+            ("pickup_{}", lambda x: x is True),
+            ("visit_{}", lambda x: x is True),
         ]
         for meal, meal_translation in COMPONENT_GROUP_CHOICES:
             if meal is COMPONENT_GROUP_CHOICES_SIDES:
                 continue  # "sides" not in the form
             else:
                 fields_not_null_check.append(
-                    ('%s_{}_quantity' % meal, lambda x: x and x > 0))
+                    ("%s_{}_quantity" % meal, lambda x: x and x > 0)
+                )
         for delivery_date in delivery_dates:
-            if all([
-                    bool(check_fn(
-                        cleaned_data.get(field_template.format(delivery_date))
-                    )) is False
+            if all(
+                [
+                    bool(
+                        check_fn(cleaned_data.get(field_template.format(delivery_date)))
+                    )
+                    is False
                     for field_template, check_fn in fields_not_null_check
-            ]):
+                ]
+            ):
                 # Error-highlight all fields on that date.
                 for field_template, check_fn in fields_not_null_check:
                     self.add_error(
                         field_template.format(delivery_date),
                         forms.ValidationError(
-                            _("Empty order is not allowed."),
-                            code='empty_delivery_date'
-                        )
+                            _("Empty order is not allowed."), code="empty_delivery_date"
+                        ),
                     )
 
         return cleaned_data
 
 
 class OrderStatusChangeForm(forms.ModelForm):
-
     class Meta:
         model = OrderStatusChange
-        fields = [
-            'order', 'status_from', 'status_to', 'reason'
-        ]
+        fields = ["order", "status_from", "status_to", "reason"]
         widgets = {
-            'status_to': forms.Select(
-                attrs={'class': 'ui status_to dropdown disabled'}
+            "status_to": forms.Select(
+                attrs={"class": "ui status_to dropdown disabled"}
             ),
-            'reason': forms.Textarea(attrs={'rows': 2}),
+            "reason": forms.Textarea(attrs={"rows": 2}),
         }
 
     def clean(self):
         cleaned_data = super(OrderStatusChangeForm, self).clean()
-        status_to = cleaned_data.get('status_to')
-        reason = cleaned_data.get('reason')
+        status_to = cleaned_data.get("status_to")
+        reason = cleaned_data.get("reason")
 
-        if status_to == 'N' and not reason:  # No Charge without reason
+        if status_to == "N" and not reason:  # No Charge without reason
             self.add_error(
-                'reason',
+                "reason",
                 forms.ValidationError(
-                    _('A reason is required for No Charge order.'),
-                    code='no_charge_reason_required'
-                )
+                    _("A reason is required for No Charge order."),
+                    code="no_charge_reason_required",
+                ),
             )
         return cleaned_data
```

### Comparing `souschef-1.3.6/souschef/order/management/commands/generateorders.py` & `souschef-1.3.7/souschef/order/management/commands/generateorders.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,51 +1,59 @@
+from datetime import (
+    datetime,
+    timedelta,
+)
+
+from django.contrib.admin.models import (
+    ADDITION,
+    LogEntry,
+)
 from django.core.management.base import BaseCommand
-from souschef.order.models import Order
+
 from souschef.member.models import Client
-from datetime import datetime, timedelta
-from django.contrib.admin.models import LogEntry, ADDITION
+from souschef.order.models import Order
 
 
 class Command(BaseCommand):
-    help = 'Create new orders for a given delivery date for all\
-            ongoing active clients using their meals defaults.'
+    help = "Create new orders for a given delivery date for all\
+            ongoing active clients using their meals defaults."
 
     def add_arguments(self, parser):
         parser.add_argument(
-            'delivery_date',
-            help='The date must be in the format YYYY-MM-DD',
+            "delivery_date",
+            help="The date must be in the format YYYY-MM-DD",
         )
         parser.add_argument(
-            '--days',
+            "--days",
             help=(
-                'The number of days to be created in advance.'
-                'There will not be duplicates.'
+                "The number of days to be created in advance."
+                "There will not be duplicates."
             ),
             default=1,
-            type=int
+            type=int,
         )
 
     def handle(self, *args, **options):
-        start_date = datetime.strptime(
-            options['delivery_date'], '%Y-%m-%d'
-        ).date()
-        days = options['days']
+        start_date = datetime.strptime(options["delivery_date"], "%Y-%m-%d").date()
+        days = options["days"]
 
         # Only active ongoing clients can receive orders
         clients = Client.ongoing.all()
 
         for i in range(days):
             # Create the orders
             delivery_date = start_date + timedelta(days=i)
-            orders = Order.objects.auto_create_orders(
-                delivery_date, clients
-            )
+            orders = Order.objects.auto_create_orders(delivery_date, clients)
             # Log the execution
             LogEntry.objects.log_action(
-                user_id=1, content_type_id=1,
-                object_id="", object_repr="Orders creation for "+str(
-                    delivery_date.strftime('%Y-%m-%d %H:%M')),
+                user_id=1,
+                content_type_id=1,
+                object_id="",
+                object_repr="Orders creation for "
+                + str(delivery_date.strftime("%Y-%m-%d %H:%M")),
                 action_flag=ADDITION,
             )
-            print("{0} orders created on {1}: to be delivered on {2}.".format(
-                len(orders), start_date, delivery_date
-            ))
+            print(
+                "{0} orders created on {1}: to be delivered on {2}.".format(
+                    len(orders), start_date, delivery_date
+                )
+            )
```

### Comparing `souschef-1.3.6/souschef/order/management/commands/setordersdelivered.py` & `souschef-1.3.7/souschef/order/management/commands/setordersdelivered.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,38 +1,45 @@
-from django.core.management.base import BaseCommand
-from souschef.order.models import Order, ORDER_STATUS_ORDERED, ORDER_STATUS_DELIVERED
 from datetime import datetime
-from django.contrib.admin.models import LogEntry, ADDITION
+
+from django.contrib.admin.models import (
+    ADDITION,
+    LogEntry,
+)
+from django.core.management.base import BaseCommand
+
+from souschef.order.models import (
+    ORDER_STATUS_DELIVERED,
+    ORDER_STATUS_ORDERED,
+    Order,
+)
 
 
 class Command(BaseCommand):
-    help = 'Set status to Delivered for all orders that have the status\
-            Ordered for the specified delivery date.'
+    help = "Set status to Delivered for all orders that have the status\
+            Ordered for the specified delivery date."
 
     def add_arguments(self, parser):
         parser.add_argument(
-            'delivery_date',
-            help='The date must be in the format YYYY-MM-DD',
+            "delivery_date",
+            help="The date must be in the format YYYY-MM-DD",
         )
 
     def handle(self, *args, **options):
-        delivery_date = datetime.strptime(
-            options['delivery_date'], '%Y-%m-%d'
-        ).date()
+        delivery_date = datetime.strptime(options["delivery_date"], "%Y-%m-%d").date()
 
         numorders = Order.objects.filter(
-            status=ORDER_STATUS_ORDERED,
-            delivery_date=delivery_date
-        ).update(
-            status=ORDER_STATUS_DELIVERED
-        )
+            status=ORDER_STATUS_ORDERED, delivery_date=delivery_date
+        ).update(status=ORDER_STATUS_DELIVERED)
 
         # Log the execution
         LogEntry.objects.log_action(
-            user_id=1, content_type_id=1,
+            user_id=1,
+            content_type_id=1,
             object_id="",
-            object_repr="Status set to delivered for orders on" + str(
-                delivery_date.strftime('%Y-%m-%d %H:%M')),
+            object_repr="Status set to delivered for orders on"
+            + str(delivery_date.strftime("%Y-%m-%d %H:%M")),
             action_flag=ADDITION,
         )
-        print("Status set to Delivered for {0} orders whose "
-              "delivery date is {1}.".format(numorders, delivery_date))
+        print(
+            "Status set to Delivered for {0} orders whose "
+            "delivery date is {1}.".format(numorders, delivery_date)
+        )
```

### Comparing `souschef-1.3.6/souschef/order/migrations/0008_auto_20160912_1509.py` & `souschef-1.3.7/souschef/order/migrations/0006_auto_20160803_2217.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,21 +1,30 @@
 # -*- coding: utf-8 -*-
-# Generated by Django 1.10 on 2016-09-12 15:09
+# Generated by Django 1.9.7 on 2016-08-03 22:17
 from __future__ import unicode_literals
 
 from django.db import migrations, models
-import django.db.models.deletion
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('order', '0007_remove_order_item_component'),
+        ("order", "0005_fix241b"),
     ]
 
     operations = [
         migrations.AlterField(
-            model_name='order',
-            name='client',
-            field=models.ForeignKey(default='', on_delete=django.db.models.deletion.CASCADE, related_name='client_order', to='member.Client', verbose_name='client'),
+            model_name="order",
+            name="status",
+            field=models.CharField(
+                choices=[
+                    ("O", "Ordered"),
+                    ("D", "Delivered"),
+                    ("N", "No Charge"),
+                    ("B", "Billed"),
+                    ("P", "Paid"),
+                ],
+                max_length=1,
+                verbose_name="order status",
+            ),
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/order/migrations/0017_total_quantity_not_nullable.py` & `souschef-1.3.7/souschef/order/migrations/0017_total_quantity_not_nullable.py`

 * *Files 6% similar despite different names*

```diff
@@ -4,18 +4,18 @@
 
 from django.db import migrations, models
 
 
 class Migration(migrations.Migration):
 
     dependencies = [
-        ('order', '0016_auto_20180704_1613'),
+        ("order", "0016_auto_20180704_1613"),
     ]
 
     operations = [
         migrations.AlterField(
-            model_name='order_item',
-            name='total_quantity',
-            field=models.IntegerField(default=0, verbose_name='total quantity'),
+            model_name="order_item",
+            name="total_quantity",
+            field=models.IntegerField(default=0, verbose_name="total quantity"),
             preserve_default=False,
         ),
     ]
```

### Comparing `souschef-1.3.6/souschef/order/mixins.py` & `souschef-1.3.7/souschef/order/mixins.py`

 * *Files 3% similar despite different names*

```diff
@@ -1,44 +1,45 @@
 from django.http import JsonResponse
 
 
 class FormInvalidAjaxableResponseMixin(object):
     """
     Only ajaxable when the form is invalid: returning errors.
     """
+
     def form_invalid(self, form):
-        response = super(
-            FormInvalidAjaxableResponseMixin, self
-        ).form_invalid(form)
+        response = super(FormInvalidAjaxableResponseMixin, self).form_invalid(form)
         if self.request.is_ajax():
             return JsonResponse(form.errors, status=400)
         else:
             return response
 
 
 class FormValidAjaxableResponseMixin(object):
     """
     Only ajaxable when the form is valid: returning pk.
     """
+
     def form_valid(self, form):
         # We make sure to call the parent's form_valid() method because
         # it might do some processing (in the case of CreateView, it will
         # call form.save() for example).
         response = super(FormValidAjaxableResponseMixin, self).form_valid(form)
         if self.request.is_ajax():
             data = {
-                'pk': self.object.pk,
+                "pk": self.object.pk,
             }
             return JsonResponse(data)
         else:
             return response
 
 
 class AjaxableResponseMixin(
-        FormInvalidAjaxableResponseMixin,
-        FormValidAjaxableResponseMixin):
+    FormInvalidAjaxableResponseMixin, FormValidAjaxableResponseMixin
+):
     """
     Mixin to add AJAX support to a form.
     Must be used with an object-based FormView (e.g. CreateView)
     https://docs.djangoproject.com/ja/1.9/topics/class-based-views/generic-editing/#ajax-example
     """
+
     pass
```

### Comparing `souschef-1.3.6/souschef/order/models.py` & `souschef-1.3.7/souschef/order/models.py`

 * *Files 13% similar despite different names*

```diff
@@ -1,132 +1,142 @@
 import collections
-from datetime import date, datetime
 import re
+from datetime import (
+    date,
+    datetime,
+)
 
-from django.db import models, connection, transaction
+from django.core.exceptions import ValidationError
+from django.db import (
+    connection,
+    models,
+    transaction,
+)
 from django.db.models import Q
-from django.utils.translation import ugettext_lazy as _
-from django_filters import FilterSet, ChoiceFilter, CharFilter
 from django.urls import reverse
-from django.core.exceptions import ValidationError
-
-from souschef.member.models import (DAYS_OF_WEEK, RATE_TYPE_LOW_INCOME,
-                           RATE_TYPE_SOLIDARY, OPTION_GROUP_CHOICES_PREPARATION)
-from souschef.meal.models import (COMPONENT_GROUP_CHOICES,
-                         COMPONENT_GROUP_CHOICES_MAIN_DISH,
-                         COMPONENT_GROUP_CHOICES_SIDES)
+from django.utils.translation import ugettext_lazy as _
+from django_filters import (
+    CharFilter,
+    ChoiceFilter,
+    FilterSet,
+)
 
+from souschef.meal.models import (
+    COMPONENT_GROUP_CHOICES,
+    COMPONENT_GROUP_CHOICES_MAIN_DISH,
+    COMPONENT_GROUP_CHOICES_SIDES,
+)
+from souschef.member.models import (
+    DAYS_OF_WEEK,
+    OPTION_GROUP_CHOICES_PREPARATION,
+    RATE_TYPE_LOW_INCOME,
+    RATE_TYPE_SOLIDARY,
+)
 
 ORDER_STATUS = (
-    ('O', _('Ordered')),
-    ('D', _('Delivered')),
-    ('N', _('No Charge')),
-    ('C', _('Cancelled')),
-    ('B', _('Billed')),
-    ('P', _('Paid')),
+    ("O", _("Ordered")),
+    ("D", _("Delivered")),
+    ("N", _("No Charge")),
+    ("C", _("Cancelled")),
+    ("B", _("Billed")),
+    ("P", _("Paid")),
 )
 
 ORDER_STATUS_ORDERED = ORDER_STATUS[0][0]
 ORDER_STATUS_DELIVERED = ORDER_STATUS[1][0]
 ORDER_STATUS_CANCELLED = ORDER_STATUS[3][0]
 
 SIZE_CHOICES = (
-    ('', ''),
-    ('R', _('Regular')),
-    ('L', _('Large')),
+    ("", ""),
+    ("R", _("Regular")),
+    ("L", _("Large")),
 )
 
 SIZE_CHOICES_REGULAR = SIZE_CHOICES[1][0]
 SIZE_CHOICES_LARGE = SIZE_CHOICES[2][0]
 
 ORDER_ITEM_TYPE_CHOICES = (
-    ('meal_component',
-        _('Meal component (main dish, vegetable, side dish, seasonal)')),
-    ('delivery', _('Delivery (general store item, invitation, ...)')),
-    ('pickup', _('Pickup (payment)')),
-    ('visit', _('Visit')),
+    ("meal_component", _("Meal component (main dish, vegetable, side dish, seasonal)")),
+    ("delivery", _("Delivery (general store item, invitation, ...)")),
+    ("pickup", _("Pickup (payment)")),
+    ("visit", _("Visit")),
 )
 
 ORDER_ITEM_TYPE_CHOICES_COMPONENT = ORDER_ITEM_TYPE_CHOICES[0][0]
 
 MAIN_PRICE_DEFAULT = 6.00  # TODO use decimal ?
 SIDE_PRICE_DEFAULT = 1.00
 MAIN_PRICE_LOW_INCOME = 4.50
 SIDE_PRICE_LOW_INCOME = 0.75
 MAIN_PRICE_SOLIDARY = 3.50
 SIDE_PRICE_SOLIDARY = 0.50
 
 
 class OrderManager(models.Manager):
-    def get_orders(self,
-                   delivery_date=None,
-                   order_statuses=None):
+    def get_orders(self, delivery_date=None, order_statuses=None):
         # If no date is passed, use the current day
         if delivery_date is None:
             delivery_date = date.today()
         extra_kwargs = {}
         if order_statuses:
-            extra_kwargs['status__in'] = order_statuses
+            extra_kwargs["status__in"] = order_statuses
         return self.get_queryset().filter(
             delivery_date=delivery_date,
             **extra_kwargs,
         )
 
-    def get_shippable_orders(self,
-                             delivery_date=None,
-                             exclude_non_geolocalized=False):
+    def get_shippable_orders(self, delivery_date=None, exclude_non_geolocalized=False):
         """
         Return the orders ready to be delivered for a given date.
         A shippable order must be created in the database, and its ORDER_STATUS
         must be 'O' (Ordered).
         """
         # If no date is passed, use the current day
         if delivery_date is None:
             delivery_date = date.today()
         extra_kwargs = {}
         if exclude_non_geolocalized is True:
-            extra_kwargs['client__member__address__latitude__isnull'] = False
-            extra_kwargs['client__member__address__longitude__isnull'] = False
+            extra_kwargs["client__member__address__latitude__isnull"] = False
+            extra_kwargs["client__member__address__longitude__isnull"] = False
         return self.get_queryset().filter(
-            delivery_date=delivery_date,
-            status=ORDER_STATUS_ORDERED,
-            **extra_kwargs)
+            delivery_date=delivery_date, status=ORDER_STATUS_ORDERED, **extra_kwargs
+        )
 
-    def get_shippable_orders_by_route(self,
-                                      route_id,
-                                      delivery_date=None,
-                                      exclude_non_geolocalized=False):
+    def get_shippable_orders_by_route(
+        self, route_id, delivery_date=None, exclude_non_geolocalized=False
+    ):
         """
         Return the orders ready to be delivered for a given route.
         If delivery date is not provided, it is assumed to today.
         A shippable order must be created in the database, and its ORDER_STATUS
         must be 'O' (Ordered).
         """
         if delivery_date is None:
             delivery_date = date.today()
         extra_kwargs = {}
         if exclude_non_geolocalized is True:
-            extra_kwargs['client__member__address__latitude__isnull'] = False
-            extra_kwargs['client__member__address__longitude__isnull'] = False
+            extra_kwargs["client__member__address__latitude__isnull"] = False
+            extra_kwargs["client__member__address__longitude__isnull"] = False
         return self.get_queryset().filter(
             delivery_date=delivery_date,
             status=ORDER_STATUS_ORDERED,
             client__route=route_id,
-            **extra_kwargs)
+            **extra_kwargs,
+        )
 
     def get_billable_orders(self, year, month):
         """
         Return the orders that have successfully delivered during
         the given period.
         A period is represented by a year and a month.
         """
         return self.get_queryset().filter(
             delivery_date__year=year,
             delivery_date__month=month,
-            status='D',
+            status="D",
         )
 
     def get_billable_orders_client(self, month, year, client):
         """
         Return the orders that have successfully delivered during
         the given period to a given client.
         A period is represented by a year and a month.
@@ -146,15 +156,15 @@
         elif client.rate_type == RATE_TYPE_SOLIDARY:
             main_price = MAIN_PRICE_SOLIDARY
             side_price = SIDE_PRICE_SOLIDARY
         else:
             main_price = MAIN_PRICE_DEFAULT
             side_price = SIDE_PRICE_DEFAULT
 
-        return {'main': main_price, 'side': side_price}
+        return {"main": main_price, "side": side_price}
 
     def auto_create_orders(self, delivery_date, clients):
         """
         Automatically creates orders and order items for the given delivery
         date and given client list.
         Order items will be created based on client's meals schedule.
 
@@ -163,55 +173,51 @@
           clients : a list of one or many client objects
 
         Returns:
           Created orders.
         """
         created_orders = []
         weekday = delivery_date.weekday()  # Monday is 0, Sunday is 6
-        day = DAYS_OF_WEEK[weekday][0]     # 0 -> 'monday', 6 -> 'sunday'
+        day = DAYS_OF_WEEK[weekday][0]  # 0 -> 'monday', 6 -> 'sunday'
         for client in clients:
             try:
-                order = Order.objects.get(client=client,
-                                          delivery_date=delivery_date)
+                order = Order.objects.get(client=client, delivery_date=delivery_date)
                 created_orders.append(order)
                 continue
             except Order.DoesNotExist:
                 # If no order for this client/date, create it and attach items
                 items = dict(client.meals_schedule).get(day, None)
 
                 # Skip this client if no scheduled delivery
                 if items is None:
                     continue
 
-                filtered_items = {
-                    k: v for k, v in items.items() if v is not None
-                }
+                filtered_items = {k: v for k, v in items.items() if v is not None}
 
                 # Skip this client if nothing to order
                 if not filtered_items:
                     continue
 
                 individual_items = {}
                 for key, value in filtered_items.items():
-                    if 'size' in key:
-                        replaced_key = key + '_default'
+                    if "size" in key:
+                        replaced_key = key + "_default"
                     else:
-                        replaced_key = key + '_default_quantity'
+                        replaced_key = key + "_default_quantity"
                     individual_items[replaced_key] = value
 
                 prices = self.get_client_prices(client)
                 order = self.create_order(
                     delivery_date, client, individual_items, prices
                 )
 
                 created_orders.append(order)
         return created_orders
 
-    def create_batch_orders(self, delivery_dates, client, items,
-                            override_dates=[]):
+    def create_batch_orders(self, delivery_dates, client, items, override_dates=[]):
         """
         Create orders for one or multiple days, for a given client.
         Order items will be created based on client's meals schedule.
 
         Parameters:
           delivery_dates : dates on which orders are to be created
           client : a client object
@@ -223,39 +229,32 @@
         """
         created_orders = []
 
         # Calculate client prices (main and side)
         prices = self.get_client_prices(client)
 
         for delivery_date_str in delivery_dates:
-            delivery_date = datetime.strptime(
-                delivery_date_str, "%Y-%m-%d"
-            ).date()
+            delivery_date = datetime.strptime(delivery_date_str, "%Y-%m-%d").date()
             prior_order = Order.objects.filter(
                 client=client, delivery_date=delivery_date
             )
             if prior_order.exists():
                 if delivery_date_str in override_dates:
                     # If an order is already created, override the original(s)
                     for x in prior_order:
-                        x.status = 'C'
+                        x.status = "C"
                         x.save()
                 else:
                     continue
             individual_items = {}
             for key, value in items.items():
                 if delivery_date_str in key:
-                    replaced_key = key.replace(
-                        delivery_date_str,
-                        'default'
-                    )
+                    replaced_key = key.replace(delivery_date_str, "default")
                     individual_items[replaced_key] = value
-            order = self.create_order(
-                delivery_date, client, individual_items, prices
-            )
+            order = self.create_order(delivery_date, client, individual_items, prices)
             created_orders.append(order)
 
         return created_orders
 
     @transaction.atomic
     def create_order(self, delivery_date, client, items, prices):
         """
@@ -267,123 +266,119 @@
                 'dessert_default_quantity': 1,
                 'compost_default_quantity': 1,
                 'delivery_default': True
                 ...
             }
         Every main dish comes with a free side dish. (thus not billable)
         """
-        order = Order.objects.create(client=client,
-                                     delivery_date=delivery_date)
-        free_side_dishes = items.get('main_dish_default_quantity') or 0
+        order = Order.objects.create(client=client, delivery_date=delivery_date)
+        free_side_dishes = items.get("main_dish_default_quantity") or 0
 
         for component_group, trans in COMPONENT_GROUP_CHOICES:
             if component_group != COMPONENT_GROUP_CHOICES_SIDES:
-                item_qty = items.get(
-                    component_group + '_default_quantity'
-                ) or 0
+                item_qty = items.get(component_group + "_default_quantity") or 0
                 if item_qty == 0:
                     continue
 
                 common_kwargs = {
-                    'order': order,
-                    'component_group': component_group,
-                    'order_item_type': ORDER_ITEM_TYPE_CHOICES_COMPONENT
+                    "order": order,
+                    "component_group": component_group,
+                    "order_item_type": ORDER_ITEM_TYPE_CHOICES_COMPONENT,
                 }
 
-                if (component_group == COMPONENT_GROUP_CHOICES_MAIN_DISH):
-                    price = item_qty * prices['main']
-                    if items['size_default'] == 'L':
-                        price += item_qty * prices['side']
+                if component_group == COMPONENT_GROUP_CHOICES_MAIN_DISH:
+                    price = item_qty * prices["main"]
+                    if items["size_default"] == "L":
+                        price += item_qty * prices["side"]
                     # main dish
                     Order_item.objects.create(
-                        size=items['size_default'],
+                        size=items["size_default"],
                         total_quantity=item_qty,
                         price=price,
                         billable_flag=True,
-                        **common_kwargs)
+                        **common_kwargs,
+                    )
                 else:
                     # side dish: deduct+billable
                     deduct = min(free_side_dishes, item_qty)
                     free_side_dishes -= deduct
                     if deduct > 0:
                         # free side dishes
                         Order_item.objects.create(
                             size=None,
                             total_quantity=deduct,
-                            price=deduct * prices['side'],
+                            price=deduct * prices["side"],
                             billable_flag=False,
-                            **common_kwargs)
+                            **common_kwargs,
+                        )
 
                     billable = item_qty - deduct
                     if billable > 0:
                         # billable side dishes
                         Order_item.objects.create(
                             size=None,
                             total_quantity=billable,
-                            price=billable * prices['side'],
+                            price=billable * prices["side"],
                             billable_flag=True,
-                            **common_kwargs)
+                            **common_kwargs,
+                        )
 
         for order_item_type, trans in ORDER_ITEM_TYPE_CHOICES:
             if order_item_type != ORDER_ITEM_TYPE_CHOICES_COMPONENT:
-                additional = items.get('{0}_default'.format(order_item_type))
+                additional = items.get("{0}_default".format(order_item_type))
                 if additional:
                     Order_item.objects.create(
                         order=order,
                         price=0,
                         total_quantity=0,
                         billable_flag=False,
-                        order_item_type=order_item_type)
+                        order_item_type=order_item_type,
+                    )
 
         return order
 
     """
     Allow changing status of multiple orders at once.
     """
+
     def update_orders_status(self, orders, new):
         count = orders.update(status=new)
         return count
 
 
 class Order(models.Model):
-
     class Meta:
-        verbose_name_plural = _('orders')
-        ordering = ['-delivery_date']
+        verbose_name_plural = _("orders")
+        ordering = ["-delivery_date"]
 
     # Order information
-    creation_date = models.DateField(
-        verbose_name=_('creation date'),
-        auto_now_add=True
-    )
+    creation_date = models.DateField(verbose_name=_("creation date"), auto_now_add=True)
 
-    delivery_date = models.DateField(
-        verbose_name=_('delivery date')
-    )
+    delivery_date = models.DateField(verbose_name=_("delivery date"))
 
     status = models.CharField(
         max_length=1,
         choices=ORDER_STATUS,
-        verbose_name=_('order status'),
-        default=ORDER_STATUS_ORDERED
+        verbose_name=_("order status"),
+        default=ORDER_STATUS_ORDERED,
     )
 
     client = models.ForeignKey(
-        'member.Client',
-        verbose_name=_('client'),
-        related_name='client_order',
+        "member.Client",
+        verbose_name=_("client"),
+        related_name="client_order",
         blank=False,
         default="",
-        on_delete=models.CASCADE
+        on_delete=models.CASCADE,
     )
 
     objects = OrderManager()
 
     def get_absolute_url(self):
-        return reverse('order:view', kwargs={'pk': self.pk})
+        return reverse("order:view", kwargs={"pk": self.pk})
 
     @property
     def price(self):
         """
         Sum the items prices for the given order.
         """
         total = 0
@@ -393,26 +388,24 @@
         return total
 
     @property
     def simple_summary(self):
         """
         Returns a simple summary of the accompanying order items.
         """
-        return ", ".join([
-            "{0}x {1}".format(
-                x.total_quantity, x.get_component_group_display())
-            for x in self.orders.all()
-            if x.order_item_type == 'meal_component' or x.component_group
-        ])
+        return ", ".join(
+            [
+                "{0}x {1}".format(x.total_quantity, x.get_component_group_display())
+                for x in self.orders.all()
+                if x.order_item_type == "meal_component" or x.component_group
+            ]
+        )
 
     def __str__(self):
-        return "client={}, delivery_date={}".format(
-            self.client,
-            self.delivery_date
-        )
+        return "client={}, delivery_date={}".format(self.client, self.delivery_date)
 
     @staticmethod
     def get_kitchen_items(delivery_date):
         """Get all client meal order specifics for delivery date.
 
         For each client that has ordered a meal for 'delivery_date',
         find all the information needed for the Kitchen Count Report
@@ -428,86 +421,95 @@
             the value is a KitchenItem named tuple.
         """
         kitchen_list = {}
 
         # Day's avoid ingredients clashes.
         for row in day_avoid_ingredient(delivery_date):
             check_for_new_client(kitchen_list, row)
-            if (row.oiorderid and row.menucompid and
-                    row.component_group == COMPONENT_GROUP_CHOICES_MAIN_DISH):
+            if (
+                row.oiorderid
+                and row.menucompid
+                and row.component_group == COMPONENT_GROUP_CHOICES_MAIN_DISH
+            ):
                 # found avoid ingredient clash in main dish
                 # should be a sorted set (or ordered dict ?)
-                kitchen_list[row.cid].incompatible_ingredients.append(
-                    row.ingredient)
+                kitchen_list[row.cid].incompatible_ingredients.append(row.ingredient)
             # we Know that it is not incompatible with main dish
-            if (row.oiorderid and row.menucompid and
-                    row.component_group == COMPONENT_GROUP_CHOICES_SIDES and
-                    row.ingredient not in
-                    kitchen_list[row.cid].sides_clashes):
+            if (
+                row.oiorderid
+                and row.menucompid
+                and row.component_group == COMPONENT_GROUP_CHOICES_SIDES
+                and row.ingredient not in kitchen_list[row.cid].sides_clashes
+            ):
                 # found new avoid ingredient clash in sides
-                kitchen_list[row.cid].sides_clashes.append(
-                    row.ingredient)
-            if (row.ingredient not in
-                    kitchen_list[row.cid].avoid_ingredients):
+                kitchen_list[row.cid].sides_clashes.append(row.ingredient)
+            if row.ingredient not in kitchen_list[row.cid].avoid_ingredients:
                 # remember ingredient to avoid
-                kitchen_list[row.cid].avoid_ingredients.append(
-                    row.ingredient)
+                kitchen_list[row.cid].avoid_ingredients.append(row.ingredient)
 
         # Day's restrictions.
         for row in day_restrictions(delivery_date):
             check_for_new_client(kitchen_list, row)
-            if (row.oiorderid and row.menucompid and
-                    row.component_group == COMPONENT_GROUP_CHOICES_MAIN_DISH):
+            if (
+                row.oiorderid
+                and row.menucompid
+                and row.component_group == COMPONENT_GROUP_CHOICES_MAIN_DISH
+            ):
                 # found restriction clash in main dish
                 # should be a sorted set
-                kitchen_list[row.cid].incompatible_ingredients.append(
-                    row.ingredient)
-            if (row.oiorderid and row.menucompid and
-                    row.component_group == COMPONENT_GROUP_CHOICES_SIDES and
-                    row.restricted_item not in
-                    kitchen_list[row.cid].sides_clashes):
+                kitchen_list[row.cid].incompatible_ingredients.append(row.ingredient)
+            if (
+                row.oiorderid
+                and row.menucompid
+                and row.component_group == COMPONENT_GROUP_CHOICES_SIDES
+                and row.restricted_item not in kitchen_list[row.cid].sides_clashes
+            ):
                 # found new restriction clash in sides
-                kitchen_list[row.cid].sides_clashes.append(
-                    row.restricted_item)
-            if (row.restricted_item not in
-                    kitchen_list[row.cid].restricted_items):
+                kitchen_list[row.cid].sides_clashes.append(row.restricted_item)
+            if row.restricted_item not in kitchen_list[row.cid].restricted_items:
                 # remember restricted_item
-                kitchen_list[row.cid].restricted_items.append(
-                    row.restricted_item)
+                kitchen_list[row.cid].restricted_items.append(row.restricted_item)
 
         # Day's preparations.
         for row in day_preparations(delivery_date):
             check_for_new_client(kitchen_list, row)
             # should be a sorted set
             # found client with food preparation
             kitchen_list[row.cid].preparation.append(row.food_prep)
 
         # Day's Delivery Items, Components summary and Data for all labels.
         for row in day_delivery_items(delivery_date):
             check_for_new_client(kitchen_list, row)
             if row.component_group == COMPONENT_GROUP_CHOICES_MAIN_DISH:
                 kitchen_list[row.cid] = kitchen_list[row.cid]._replace(
-                    meal_qty=(kitchen_list[row.cid].meal_qty +
-                              row.total_quantity),
-                    meal_size=row.size)
-            old_component = \
-                kitchen_list[row.cid].meal_components.get(row.component_group)
+                    meal_qty=(kitchen_list[row.cid].meal_qty + row.total_quantity),
+                    meal_size=row.size,
+                )
+            old_component = kitchen_list[row.cid].meal_components.get(
+                row.component_group
+            )
             if old_component:
                 # component group already exists in the order
-                kitchen_list[row.cid].meal_components[row.component_group] = \
-                    old_component._replace(
-                        qty=old_component.qty + (row.total_quantity or 0))
+                kitchen_list[row.cid].meal_components[
+                    row.component_group
+                ] = old_component._replace(
+                    qty=old_component.qty + (row.total_quantity or 0)
+                )
             else:
                 # new component group for this order
-                kitchen_list[row.cid].meal_components[row.component_group] = \
-                    MealComponent(id=row.component_id,
-                                  name=row.component_name,
-                                  qty=row.total_quantity or 0)
+                kitchen_list[row.cid].meal_components[
+                    row.component_group
+                ] = MealComponent(
+                    id=row.component_id,
+                    name=row.component_name,
+                    qty=row.total_quantity or 0,
+                )
             kitchen_list[row.cid] = kitchen_list[row.cid]._replace(
-                routename=row.routename)
+                routename=row.routename
+            )
 
         # Sort requirements list in each value.
         for value in kitchen_list.values():
             value.incompatible_ingredients.sort()
             value.restricted_items.sort()
             value.preparation.sort()
 
@@ -531,85 +533,104 @@
             route_id: An integer, the is of the route for which the
                 delivery list must be produced.
 
         Returns:
             A dictionary where the key is an Integer 'client id' and
             the value is a DeliveryClient object.
         """
-        orditms = Order_item.objects.\
-            select_related('order__client__member__address').\
-            exclude(
+        orditms = (
+            Order_item.objects.select_related("order__client__member__address")
+            .exclude(
                 order__status=ORDER_STATUS_CANCELLED,
-            ).\
-            filter(
-                order__delivery_date=delivery_date,
-                order__client__route__id=route_id
-            ).\
-            order_by('order__client_id')
+            )
+            .filter(
+                order__delivery_date=delivery_date, order__client__route__id=route_id
+            )
+            .order_by("order__client_id")
+        )
 
         route_list = {}
         for oi in orditms:
             if oi.order.client.is_geolocalized is False:
                 # exclude non-geolocalized client
                 continue
             if not route_list.get(oi.order.client.id):
                 # found new client
                 route_list[oi.order.client.id] = DeliveryClient(
                     oi.order.client.member.firstname,
                     oi.order.client.member.lastname,
                     oi.order.client.member.address.number,
                     oi.order.client.member.address.street,
                     oi.order.client.member.address.apartment,
-                    (oi.order.client.member.home_phone or
-                     oi.order.client.member.cell_phone),
+                    (
+                        oi.order.client.member.home_phone
+                        or oi.order.client.member.cell_phone
+                    ),
                     oi.order.client.delivery_note,
                     delivery_items=[],
                     order_id=oi.order.id,
-                    include_a_bill=oi.order.includes_a_bill)
+                    include_a_bill=oi.order.includes_a_bill,
+                )
             # found new delivery item for client
-            if (oi.order_item_type == ORDER_ITEM_TYPE_CHOICES_COMPONENT and
-                    oi.component_group):
+            if (
+                oi.order_item_type == ORDER_ITEM_TYPE_CHOICES_COMPONENT
+                and oi.component_group
+            ):
                 # found a meal_component with proper component_group
-                for j in range(
-                        len(route_list[oi.order.client.id].delivery_items)):
-                    if (route_list[oi.order.client.id].delivery_items[j].
-                            component_group == oi.component_group):
+                for j in range(len(route_list[oi.order.client.id].delivery_items)):
+                    if (
+                        route_list[oi.order.client.id].delivery_items[j].component_group
+                        == oi.component_group
+                    ):
                         # existing component_group in this order
-                        old_quantity = route_list[oi.order.client.id]. \
-                            delivery_items[j].total_quantity
-                        old_remark = route_list[oi.order.client.id]. \
-                            delivery_items[j].remark
-                        if old_remark != '':
-                            old_remark = old_remark + '; '
-                        route_list[oi.order.client.id].delivery_items[j] = \
-                            route_list[oi.order.client.id].delivery_items[j]. \
-                            _replace(
+                        old_quantity = (
+                            route_list[oi.order.client.id]
+                            .delivery_items[j]
+                            .total_quantity
+                        )
+                        old_remark = (
+                            route_list[oi.order.client.id].delivery_items[j].remark
+                        )
+                        if old_remark != "":
+                            old_remark = old_remark + "; "
+                        route_list[oi.order.client.id].delivery_items[j] = (
+                            route_list[oi.order.client.id]
+                            .delivery_items[j]
+                            ._replace(
                                 # cumulate quantities
                                 total_quantity=(
-                                    old_quantity + (oi.total_quantity or 0)),
+                                    old_quantity + (oi.total_quantity or 0)
+                                ),
                                 # concatenate order item remarks
-                                remark=(
-                                    old_remark + (oi.remark or '')))
+                                remark=(old_remark + (oi.remark or "")),
+                            )
+                        )
                         break
                 else:
                     # new component_group in this order
                     route_list[oi.order.client.id].delivery_items.append(
                         DeliveryItem(
                             oi.component_group,
                             # find the translated name of the component group
-                            next(cg for cg in COMPONENT_GROUP_CHOICES
-                                 if cg[0] == oi.component_group)[1],
+                            next(
+                                cg
+                                for cg in COMPONENT_GROUP_CHOICES
+                                if cg[0] == oi.component_group
+                            )[1],
                             oi.total_quantity or 0,
                             oi.order_item_type,
-                            oi.remark or '',
+                            oi.remark or "",
                             size=(
-                                oi.size if
-                                oi.component_group == (
-                                    COMPONENT_GROUP_CHOICES_MAIN_DISH
-                                ) else '')))
+                                oi.size
+                                if oi.component_group
+                                == (COMPONENT_GROUP_CHOICES_MAIN_DISH)
+                                else ""
+                            ),
+                        )
+                    )
 
         # Sort delivery items for each client
         for client in route_list.values():
             client.delivery_items.sort(key=component_group_sorting)
 
         return route_list
 
@@ -628,24 +649,23 @@
                     order=self,
                     price=0,
                     billable_flag=False,
                     size=None,
                     order_item_type="delivery",
                     remark=None,
                     total_quantity=0,
-                    component_group=None
+                    component_group=None,
                 )
         elif value is False:
             if self.includes_a_bill is True:
                 for item in self.orders.all():
                     if item.is_a_client_bill:
                         item.delete()
         else:
-            raise ValueError("Order.includes_a_bill only accepts "
-                             "boolean values.")
+            raise ValueError("Order.includes_a_bill only accepts " "boolean values.")
 
 
 # Order.get_kitchen_items helper functions.
 
 
 def named_tuple_fetchall(cursor):
     """Fetch all rows from a database 'cursor', returning namedtuples.
@@ -654,15 +674,15 @@
         cursor: A database cursor object on which a query was executed.
 
     Returns:
         A list of named tuples, each one being a row fetched from the cursor.
         Each column of the cursor becomes an attribute of the named tuple.
     """
     desc = cursor.description
-    nt_row = collections.namedtuple('Row', [col[0] for col in desc])
+    nt_row = collections.namedtuple("Row", [col[0] for col in desc])
     return [nt_row(*row) for row in cursor.fetchall()]
 
 
 def sql_prep(query, valuesdict):
     """Prepare SQL 'query' by matching its parameters with given 'values'.
 
     Find parameters %(name)s in 'query' and replace them with a %s placeholder
@@ -680,38 +700,36 @@
                      {'one': 10, 'two': 'twenty'})
         ('this is %s a trial of %s changes %s end', [10, 'twenty', 10])
 
     Raises:
         Exception: A parameter in the query does not have a matching value.
     """
     # Get all the substrings that match the regex
-    subs = [(m.start(), m.end(), m.group(0))
-            for m in re.finditer(r"%\(\w+\)s", query)]
+    subs = [(m.start(), m.end(), m.group(0)) for m in re.finditer(r"%\(\w+\)s", query)]
     # print("subs", subs)  # DEBUG
-    mod = []    # list of segments of new query
-    pos = 0     # start of non-matching text in old query
+    mod = []  # list of segments of new query
+    pos = 0  # start of non-matching text in old query
     names = []  # parameter names found in old query
     for sta, end, grp in subs:
         mod.append(query[pos:sta])  # add text before match
-        mod.append("%s")            # new placeholder
-        pos = end                   # next non-matching text
-        names.append(grp[2:-2])     # extract name in %(name)s
+        mod.append("%s")  # new placeholder
+        pos = end  # next non-matching text
+        names.append(grp[2:-2])  # extract name in %(name)s
     mod.append(query[pos:])  # add tail of old query
     values = []
     for n in names:
         val = valuesdict.get(n)
         if val:
             values.append(val)
         else:
-            raise Exception(
-                "Query parameter '{}' not found in values".format(n))
-    return ''.join(mod), values
+            raise Exception("Query parameter '{}' not found in values".format(n))
+    return "".join(mod), values
 
 
-def sql_exec(query, values, heading=''):
+def sql_exec(query, values, heading=""):
     """Execute SQL 'query' passing to it the given 'values'.
 
     Args:
         query: A string, the SQL query containing parameters like %(name)s.
         values: A dictionary of parameter values : {'name': value, ...}.
         heading: A string that if we debug, will be printed once before
             all the result rows.
@@ -729,15 +747,15 @@
     # for row in rows:
     #     print(row)
     #
     return rows
 
 
 def day_avoid_ingredient(delivery_date):
-    """ Get day's avoid ingredients clashes.
+    """Get day's avoid ingredients clashes.
 
     For each client that has ordered a meal for 'delivery_date', find all
     the ingredients that he avoids and identify which of those
     ingredients are included in the main dish for 'delivery_date'.
     Note that the 'avoid ingredients' are the ones that the client specified
     explicitly.
 
@@ -783,24 +801,24 @@
         meal_menu_component.component_id = meal_component.id AND
           meal_menu_component.menu_id = meal_menu.id
     WHERE order_order.delivery_date =                     %(delivery_date)s AND
       order_order.status !=                                 %(order_cancelled)s
     ORDER BY member_client.id
     """
     values = {
-        'delivery_date': delivery_date,
-        'comp_grp_sides': COMPONENT_GROUP_CHOICES_SIDES,
-        'comp_grp_main_dish': COMPONENT_GROUP_CHOICES_MAIN_DISH,
-        'order_cancelled': ORDER_STATUS_CANCELLED,
+        "delivery_date": delivery_date,
+        "comp_grp_sides": COMPONENT_GROUP_CHOICES_SIDES,
+        "comp_grp_main_dish": COMPONENT_GROUP_CHOICES_MAIN_DISH,
+        "order_cancelled": ORDER_STATUS_CANCELLED,
     }
     return sql_exec(query, values, "****** Avoid ingredients ******")
 
 
 def day_restrictions(delivery_date):
-    """ Get day's restrictions.
+    """Get day's restrictions.
 
     For each client that has ordered a meal for 'delivery_date', find all
     the ingredients that correspond to the restricted items that he specified
     and identify which of those ingredients are included in the main dish
     for 'delivery_date'.
 
     Args:
@@ -851,24 +869,24 @@
         meal_menu_component.component_id = meal_component.id AND
           meal_menu_component.menu_id = meal_menu.id
     WHERE order_order.delivery_date =                     %(delivery_date)s AND
       order_order.status !=                                 %(order_cancelled)s
     ORDER BY member_client.id
     """
     values = {
-        'delivery_date': delivery_date,
-        'comp_grp_sides': COMPONENT_GROUP_CHOICES_SIDES,
-        'comp_grp_main_dish': COMPONENT_GROUP_CHOICES_MAIN_DISH,
-        'order_cancelled': ORDER_STATUS_CANCELLED,
+        "delivery_date": delivery_date,
+        "comp_grp_sides": COMPONENT_GROUP_CHOICES_SIDES,
+        "comp_grp_main_dish": COMPONENT_GROUP_CHOICES_MAIN_DISH,
+        "order_cancelled": ORDER_STATUS_CANCELLED,
     }
     return sql_exec(query, values, "****** Restrictions ******")
 
 
 def day_preparations(delivery_date):
-    """ Get day's preparations.
+    """Get day's preparations.
 
     For each client that has ordered a meal for 'delivery_date', find all
     the food preparations that he specified.
 
     Args:
         delivery_date: A datetime.date object, the date on which the meals will
             be delivered to the clients.
@@ -894,24 +912,24 @@
           order_order_item.order_id = order_order.id
     WHERE order_order.delivery_date =                     %(delivery_date)s AND
       order_order.status !=                             %(order_cancelled)s AND
       member_option.option_group =                             %(option_group)s
     ORDER BY member_member.lastname, member_member.firstname
     """
     values = {
-        'delivery_date': delivery_date,
-        'option_group': OPTION_GROUP_CHOICES_PREPARATION,
-        'comp_grp_main_dish': COMPONENT_GROUP_CHOICES_MAIN_DISH,
-        'order_cancelled': ORDER_STATUS_CANCELLED,
+        "delivery_date": delivery_date,
+        "option_group": OPTION_GROUP_CHOICES_PREPARATION,
+        "comp_grp_main_dish": COMPONENT_GROUP_CHOICES_MAIN_DISH,
+        "order_cancelled": ORDER_STATUS_CANCELLED,
     }
     return sql_exec(query, values, "****** Preparations ******")
 
 
 def day_delivery_items(delivery_date):
-    """ Get day's Delivery Items.
+    """Get day's Delivery Items.
 
     For each client that has ordered something for 'delivery_date', find his
     route and all the details and quantities for the items that have to
     be delivered.
 
     Args:
         delivery_date: A datetime.date object, the date on which the meals will
@@ -941,44 +959,46 @@
         meal_component.id = meal_menu_component.component_id AND
           meal_component.component_group = order_order_item.component_group
     WHERE order_order.delivery_date =                     %(delivery_date)s AND
       order_order.status !=                                 %(order_cancelled)s
     ORDER BY member_member.lastname, member_member.firstname
     """
     values = {
-        'delivery_date': delivery_date,
-        'order_cancelled': ORDER_STATUS_CANCELLED,
+        "delivery_date": delivery_date,
+        "order_cancelled": ORDER_STATUS_CANCELLED,
     }
     return sql_exec(query, values, "****** Delivery List ******")
 
 
-KitchenItem = collections.namedtuple(         # Meal specifics for an order.
-    'KitchenItem',
-    ['lastname',                     # Client's lastname
-     'firstname',                    # Client's firstname
-     'routename',                    # Name of Client's route (ex. 'Mile-end')
-     'meal_qty',                     # Quantity of main dish servings
-     'meal_size',                    # Size of main dish
-     'incompatible_ingredients',     # Ingredients in main dish that clash
-     'sides_clashes',                # Specified restrictions clashes in sides
-     'avoid_ingredients',            # All ingredients to avoid for the client
-     'restricted_items',             # All restricted items for the client
-     'preparation',                  # All food preparations for the client
-     'meal_components'])             # List of MealComponents objects
-
-
-MealComponent = collections.namedtuple(       # Component specifics for a meal.
-    'MealComponent',
-    ['id',                           # Component id
-     'name',                         # Component name (ex. 'Rice pudding')
-     'qty'])                         # Quantity of this component in the order
+KitchenItem = collections.namedtuple(  # Meal specifics for an order.
+    "KitchenItem",
+    [
+        "lastname",  # Client's lastname
+        "firstname",  # Client's firstname
+        "routename",  # Name of Client's route (ex. 'Mile-end')
+        "meal_qty",  # Quantity of main dish servings
+        "meal_size",  # Size of main dish
+        "incompatible_ingredients",  # Ingredients in main dish that clash
+        "sides_clashes",  # Specified restrictions clashes in sides
+        "avoid_ingredients",  # All ingredients to avoid for the client
+        "restricted_items",  # All restricted items for the client
+        "preparation",  # All food preparations for the client
+        "meal_components",
+    ],
+)  # List of MealComponents objects
+
+
+MealComponent = collections.namedtuple(  # Component specifics for a meal.
+    "MealComponent",
+    ["id", "name", "qty"],  # Component id  # Component name (ex. 'Rice pudding')
+)  # Quantity of this component in the order
 
 
 def check_for_new_client(kitchen_list, row):
-    """ Add KitchenItem entry when client is found the first time.
+    """Add KitchenItem entry when client is found the first time.
 
     Modifies kitchen_list by adding an entry.
 
     Args:
         kitchen_list: A dictionary where the key is an Integer 'client id'
             and the value is a KitchenItem named tuple.
         row: An object having an attribute 'cid' that represents
@@ -987,50 +1007,58 @@
     if not kitchen_list.get(row.cid):
         # found new client
         kitchen_list[row.cid] = KitchenItem(
             lastname=row.lastname,
             firstname=row.firstname,
             routename=None,
             meal_qty=0,
-            meal_size='',
+            meal_size="",
             incompatible_ingredients=[],
             sides_clashes=[],
             avoid_ingredients=[],
             restricted_items=[],
             preparation=[],
-            meal_components={})
+            meal_components={},
+        )
+
 
 # End Order.kitchen items helpers
 
 
 # Order.get_delivery_list helper functions.
 
 
 DeliveryClient = collections.namedtuple(  # Delivery details for client order.
-    'DeliveryClient',
-    ['firstname',
-     'lastname',
-     'number',
-     'street',
-     'apartment',
-     'phone',
-     'delivery_note',
-     'delivery_items',  # list of DeliveryItem objects
-     'order_id',
-     'include_a_bill'])
-
-
-DeliveryItem = collections.namedtuple(    # Item contained in a delivery.
-    'DeliveryItem',
-    ['component_group',    # String if item is a meal component, else None
-     'component_group_trans',  # String or None
-     'total_quantity',     # Quantity of item to deliver
-     'order_item_type',    # Type of item to deliver (ex. dish, bill, grocery)
-     'remark',
-     'size'])              # Size of item if applicable
+    "DeliveryClient",
+    [
+        "firstname",
+        "lastname",
+        "number",
+        "street",
+        "apartment",
+        "phone",
+        "delivery_note",
+        "delivery_items",  # list of DeliveryItem objects
+        "order_id",
+        "include_a_bill",
+    ],
+)
+
+
+DeliveryItem = collections.namedtuple(  # Item contained in a delivery.
+    "DeliveryItem",
+    [
+        "component_group",  # String if item is a meal component, else None
+        "component_group_trans",  # String or None
+        "total_quantity",  # Quantity of item to deliver
+        "order_item_type",  # Type of item to deliver (ex. dish, bill, grocery)
+        "remark",
+        "size",
+    ],
+)  # Size of item if applicable
 
 
 def component_group_sorting(component):
     """Sorting sequence for object according to their component_group.
 
     The sequence is ordered such that the 'main dish' object is first,
     then all the objects having a component_group such as 'dessert',
@@ -1040,228 +1068,197 @@
     Args:
         component: A object having a 'component_group' attribute.
 
     Returns:
         A string, that can be used as a key to a sort function.
     """
     if component.component_group == COMPONENT_GROUP_CHOICES_MAIN_DISH:
-        return '1'
-    elif component.component_group != '':
-        return '2' + component.component_group
+        return "1"
+    elif component.component_group != "":
+        return "2" + component.component_group
     else:
-        return '3'
+        return "3"
+
 
 # End Order.get_delivery_list helpers
 
 
 class OrderFilter(FilterSet):
 
-    name = CharFilter(
-        method='filter_search',
-        label=_('Search by name')
-    )
+    name = CharFilter(method="filter_search", label=_("Search by name"))
 
-    status = ChoiceFilter(
-        choices=(('', ''),) + ORDER_STATUS
-    )
+    status = ChoiceFilter(choices=(("", ""),) + ORDER_STATUS)
 
     class Meta:
         model = Order
-        fields = ['status', 'delivery_date']
+        fields = ["status", "delivery_date"]
 
     def filter_search(self, queryset, field_name, value):
         if not value:
             return queryset
 
-        names = value.split(' ')
+        names = value.split(" ")
 
         name_contains = Q()
 
         for name in names:
-            firstname_contains = Q(
-                client__member__firstname__icontains=name
-            )
+            firstname_contains = Q(client__member__firstname__icontains=name)
 
             name_contains |= firstname_contains
 
-            lastname_contains = Q(
-                client__member__lastname__icontains=name
-            )
+            lastname_contains = Q(client__member__lastname__icontains=name)
             name_contains |= lastname_contains
 
-        return queryset.filter(
-            name_contains
-        )
+        return queryset.filter(name_contains)
 
 
 class DeliveredOrdersByMonth(FilterSet):
 
-    delivery_date = CharFilter(
-        method='filter_period'
-    )
+    delivery_date = CharFilter(method="filter_period")
 
     class Meta:
         model = Order
-        fields = '__all__'
+        fields = "__all__"
 
     def filter_period(self, queryset, field_name, value):
         if not value:
             return None
 
-        year, month = value.split('-')
+        year, month = value.split("-")
         return queryset.filter(
             status="D",
             delivery_date__year=year,
             delivery_date__month=month,
         )
 
 
 class Order_item(models.Model):
-
     class Meta:
-        verbose_name_plural = _('order items')
+        verbose_name_plural = _("order items")
 
     order = models.ForeignKey(
-        'order.Order',
-        verbose_name=_('order'),
-        related_name='orders',
-        on_delete=models.CASCADE
+        "order.Order",
+        verbose_name=_("order"),
+        related_name="orders",
+        on_delete=models.CASCADE,
     )
 
-    price = models.DecimalField(
-        max_digits=6,
-        decimal_places=2,
-        verbose_name=_('price')
-    )
+    price = models.DecimalField(max_digits=6, decimal_places=2, verbose_name=_("price"))
 
     billable_flag = models.BooleanField(
-        verbose_name=_('billable flag'),
+        verbose_name=_("billable flag"),
     )
 
     size = models.CharField(
-        verbose_name=_('size'),
+        verbose_name=_("size"),
         max_length=1,
         null=True,
         blank=True,
         choices=SIZE_CHOICES,
     )
 
     order_item_type = models.CharField(
-        verbose_name=_('order item type'),
+        verbose_name=_("order item type"),
         max_length=20,
         choices=ORDER_ITEM_TYPE_CHOICES,
     )
 
     remark = models.CharField(
         max_length=256,
-        verbose_name=_('remark'),
+        verbose_name=_("remark"),
         null=True,
         blank=True,
     )
 
     total_quantity = models.IntegerField(
-        verbose_name=_('total quantity'),
+        verbose_name=_("total quantity"),
     )
 
     free_quantity = models.IntegerField(
-        verbose_name=_('free quantity'),
+        verbose_name=_("free quantity"),
         null=True,
         blank=True,
     )
 
     component_group = models.CharField(
         max_length=100,
         choices=COMPONENT_GROUP_CHOICES,
-        verbose_name=_('component group'),
+        verbose_name=_("component group"),
         null=True,
         blank=True,
     )
 
     def __str__(self):
-        return "<For delivery on:> {} <order_item_type:>" \
-            " {} <component_group:> {}".\
-            format(str(self.order.delivery_date),
-                   self.order_item_type,
-                   self.component_group)
+        return (
+            "<For delivery on:> {} <order_item_type:>"
+            " {} <component_group:> {}".format(
+                str(self.order.delivery_date),
+                self.order_item_type,
+                self.component_group,
+            )
+        )
 
     def get_billable_flag_display(self):
         if self.billable_flag:
-            return _('Yes')
+            return _("Yes")
         else:
-            return _('No')
+            return _("No")
 
     def get_order_item_type_display(self):
-        if self.order_item_type == 'meal_component':
+        if self.order_item_type == "meal_component":
             return _("Meal component")
-        elif self.order_item_type == 'delivery':
+        elif self.order_item_type == "delivery":
             return _("Delivery")
-        elif self.order_item_type == 'pickup':
+        elif self.order_item_type == "pickup":
             return _("Pickup")
-        elif self.order_item_type == 'visit':
+        elif self.order_item_type == "visit":
             return _("Visit")
         else:
             return dict(ORDER_ITEM_TYPE_CHOICES)[self.order_item_type]
 
     @property
     def is_a_client_bill(self):
         """
         An order item may indicate a bill to the client for this order.
         """
-        return self.order_item_type == 'delivery' and \
-            self.component_group is None
+        return self.order_item_type == "delivery" and self.component_group is None
 
 
 class OrderStatusChange(models.Model):
-
     class Meta:
-        ordering = ['change_time']
+        ordering = ["change_time"]
 
     order = models.ForeignKey(
-        Order,
-        on_delete=models.CASCADE,
-        related_name="status_changes"
+        Order, on_delete=models.CASCADE, related_name="status_changes"
     )
 
-    status_from = models.CharField(
-        max_length=1,
-        choices=ORDER_STATUS
-    )
+    status_from = models.CharField(max_length=1, choices=ORDER_STATUS)
 
-    status_to = models.CharField(
-        max_length=1,
-        choices=ORDER_STATUS
-    )
+    status_to = models.CharField(max_length=1, choices=ORDER_STATUS)
 
-    reason = models.CharField(
-        max_length=200,
-        blank=True,
-        default=''
-    )
+    reason = models.CharField(max_length=200, blank=True, default="")
 
-    change_time = models.DateTimeField(
-        auto_now_add=True
-    )
+    change_time = models.DateTimeField(auto_now_add=True)
 
     def __str__(self):
         return "Order #{} status update: from {} to {}, on {}".format(
             self.order.pk,
             self.get_status_from_display(),
             self.get_status_to_display(),
-            self.change_time
+            self.change_time,
         )
 
     def clean(self):
         """
         Make sure this is valid in regards to Order.
         """
         if self.order.status != self.status_from:
             raise ValidationError(
-                _("Invalid order status update."),
-                code='status_from_incorrect'
+                _("Invalid order status update."), code="status_from_incorrect"
             )
 
     def save(self, *a, **k):
-        """ Process a scheduled change when saving."""
+        """Process a scheduled change when saving."""
         self.full_clean()  # we defined clean method so we need to override
         super(OrderStatusChange, self).save(*a, **k)
         self.order.status = self.status_to
         self.order.save()
```

### Comparing `souschef-1.3.6/souschef/order/templates/_form.html` & `souschef-1.3.7/souschef/order/templates/_form.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/order/templates/_order_info.html` & `souschef-1.3.7/souschef/order/templates/_order_info.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/order/templates/create.html` & `souschef-1.3.7/souschef/order/templates/create.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/order/templates/list.html` & `souschef-1.3.7/souschef/order/templates/list.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/order/templates/order/create_batch.html` & `souschef-1.3.7/souschef/order/templates/order/create_batch.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/order/templates/order/partials/filters.html` & `souschef-1.3.7/souschef/order/templates/order/partials/filters.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/order/templates/order_confirm_delete.html` & `souschef-1.3.7/souschef/order/templates/order_confirm_delete.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/order/templates/order_update_status.html` & `souschef-1.3.7/souschef/order/templates/order_update_status.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/order/templates/update.html` & `souschef-1.3.7/souschef/order/templates/update.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/order/templates/view.html` & `souschef-1.3.7/souschef/order/templates/view.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/order/tests.py` & `souschef-1.3.7/souschef/order/tests.py`

 * *Files 17% similar despite different names*

```diff
@@ -1,97 +1,121 @@
 # -*- coding: utf-8 -*-
 
+import datetime
 import random
 import urllib.parse
-import datetime
 from datetime import date
 
-from django.test import TestCase
 from django.contrib.auth.models import User
-from django.urls import reverse, reverse_lazy
-from django.utils import timezone
-from django.utils.translation import ugettext as _
 from django.core.exceptions import ValidationError
 from django.core.management import call_command
-from django.db.models import Q, Sum
+from django.db.models import (
+    Q,
+    Sum,
+)
+from django.test import TestCase
+from django.urls import (
+    reverse,
+    reverse_lazy,
+)
+from django.utils import timezone
+from django.utils.translation import ugettext as _
 
-from souschef.member.models import (Client, Address, Member, Route)
-from souschef.member.factories import RouteFactory, ClientFactory
 from souschef.meal.factories import ComponentFactory
-from souschef.order.models import Order, Order_item, \
-    OrderStatusChange, COMPONENT_GROUP_CHOICES_MAIN_DISH, \
-    ORDER_ITEM_TYPE_CHOICES_COMPONENT, \
-    ORDER_STATUS_ORDERED, ORDER_STATUS_DELIVERED, ORDER_STATUS_CANCELLED
-
+from souschef.member.factories import (
+    ClientFactory,
+    RouteFactory,
+)
+from souschef.member.models import (
+    Address,
+    Client,
+    Member,
+    Route,
+)
 from souschef.order.factories import OrderFactory
+from souschef.order.models import (
+    COMPONENT_GROUP_CHOICES_MAIN_DISH,
+    ORDER_ITEM_TYPE_CHOICES_COMPONENT,
+    ORDER_STATUS_CANCELLED,
+    ORDER_STATUS_DELIVERED,
+    ORDER_STATUS_ORDERED,
+    Order,
+    Order_item,
+    OrderStatusChange,
+)
 from souschef.sous_chef.tests import TestMixin as SousChefTestMixin
 
 
 class OrderTestCase(TestCase):
 
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     @classmethod
     def setUpTestData(cls):
         """
         Provides an order Object, without any items.
         """
         cls.order = OrderFactory(order_item=None)
 
 
 class OrderManagerTestCase(TestCase):
 
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     @classmethod
     def setUpTestData(cls):
         cls.route = Route.objects.get(id=1)
         cls.orders = OrderFactory.create_batch(
-            10, delivery_date=date.today(),
-            status='O',
+            10,
+            delivery_date=date.today(),
+            status="O",
             client__route=cls.route,
-            client__status=Client.ACTIVE
+            client__status=Client.ACTIVE,
         )
         cls.paused_orders = OrderFactory.create_batch(
-            10, delivery_date=date.today(),
-            status='O',
+            10,
+            delivery_date=date.today(),
+            status="O",
             client__route=cls.route,
-            client__status=Client.PAUSED
+            client__status=Client.PAUSED,
         )
         cls.past_order = OrderFactory(
-            delivery_date=date(2015, 7, 15),
-            status='O',
-            client__status=Client.ACTIVE
+            delivery_date=date(2015, 7, 15), status="O", client__status=Client.ACTIVE
         )
 
     def test_get_shippable_orders(self):
         """
         Should return all shippable orders for the given date.
         A shippable order must be created in the database, and its ORDER_STATUS
         must be 'O' (Ordered).
         """
         orders = Order.objects.get_shippable_orders()
-        self.assertEqual(len(orders), len(self.orders))
+        self.assertEqual(
+            len(orders),
+            len(self.orders) + len(self.paused_orders),
+        )
         past_order = Order.objects.get_shippable_orders(date(2015, 7, 15))
         self.assertEqual(len(past_order), 1)
 
     def test_get_shippable_orders_by_route(self):
         """
         Should return all shippable orders for the given route.
         A shippable order must be created in the database, and its ORDER_STATUS
         must be 'O' (Ordered).
         """
         orders = Order.objects.get_shippable_orders_by_route(self.route.id)
-        self.assertEqual(len(orders), len(self.orders))
+        self.assertEqual(
+            len(orders),
+            len(self.orders) + len(self.paused_orders),
+        )
 
     def test_order_str_includes_date(self):
         delivery_date = date.today()
         OrderFactory(delivery_date=delivery_date)
-        orders = Order.objects.get_shippable_orders(
-            delivery_date=delivery_date)
+        orders = Order.objects.get_shippable_orders(delivery_date=delivery_date)
         self.assertTrue(str(delivery_date) in str(orders[0]))
 
     def test_get_shippable_orders_active_client_only(self):
         """
         Should return all shippable orders for the given date.
         A shippable order must be created in the database, and its ORDER_STATUS
         must be 'O' (Ordered) and the client status must be client.ACTIVE
@@ -104,366 +128,368 @@
 
     def test_update_orders_status(self):
         """
         Should update orders status.
         """
         ordered = Order.objects.get_shippable_orders()
         ordered_count = len(ordered)
-        Order.objects.update_orders_status(ordered, 'D')
+        Order.objects.update_orders_status(ordered, "D")
         delivered = Order.objects.filter(
             delivery_date=date.today(),
-            status='D',
+            status="D",
         )
         self.assertEqual(ordered_count, len(delivered))
 
 
 class OrderItemTestCase(TestCase):
-
     @classmethod
     def setUpTestData(cls):
 
         cls.admin = User.objects.create_superuser(
-            username='admin@example.com',
-            email='admin@example.com',
-            password='test'
+            username="admin@example.com", email="admin@example.com", password="test"
         )
         address = Address.objects.create(
-            number=123, street='De Bullion',
-            city='Montreal', postal_code='H3C4G5')
-        member = Member.objects.create(firstname='Angela',
-                                       lastname='Desousa',
-                                       address=address
-                                       )
+            number=123, street="De Bullion", city="Montreal", postal_code="H3C4G5"
+        )
+        member = Member.objects.create(
+            firstname="Angela", lastname="Desousa", address=address
+        )
         client = Client.objects.create(
-            member=member, billing_member=member,
-            birthdate=date(1980, 4, 19)
+            member=member, billing_member=member, birthdate=date(1980, 4, 19)
         )
         cls.total_zero_order = Order.objects.create(
             creation_date=date(2016, 10, 5),
             delivery_date=date(2016, 10, 10),
-            status='B', client=client,
+            status="B",
+            client=client,
         )
         Order_item.objects.create(
             order=cls.total_zero_order,
             price=22.50,
             billable_flag=False,
-            order_item_type='',
+            order_item_type="",
             remark="12",
             total_quantity=0,
         )
         cls.order = Order.objects.create(
             delivery_date=date(2016, 5, 10),
-            status='B', client=client,
+            status="B",
+            client=client,
         )
         Order_item.objects.create(
             order=cls.order,
             price=6.50,
             billable_flag=True,
-            order_item_type='',
+            order_item_type="",
             remark="testing",
             size="R",
             total_quantity=0,
         )
         Order_item.objects.create(
             order=cls.order,
             price=12.50,
             billable_flag=False,
-            order_item_type='',
+            order_item_type="",
             remark="testing",
             size="L",
             total_quantity=0,
         )
         Order_item.objects.create(
             order=cls.order,
             price=8.00,
             billable_flag=False,
-            order_item_type='delivery',
-            component_group='main_dish',
+            order_item_type="delivery",
+            component_group="main_dish",
             remark="testing",
             size="L",
             total_quantity=0,
         )
         Order_item.objects.create(
             order=cls.order,
             price=0,
             billable_flag=False,
-            order_item_type='delivery',
+            order_item_type="delivery",
             component_group=None,
             remark="testing",
             size="L",
             total_quantity=0,
         )
 
     def test_billable_flag(self):
-        billable_order_item = Order_item.objects.get(
-            order=self.order, price=6.50)
+        billable_order_item = Order_item.objects.get(order=self.order, price=6.50)
         self.assertEqual(billable_order_item.billable_flag, True)
 
     def test_non_billable_flag(self):
-        non_billable_order_item = Order_item.objects.get(
-            order=self.order,
-            price=12.50
-        )
+        non_billable_order_item = Order_item.objects.get(order=self.order, price=12.50)
         self.assertEqual(non_billable_order_item.billable_flag, False)
 
     def test_total_price(self):
         order = Order.objects.get(delivery_date=date(2016, 5, 10))
         self.assertEqual(order.price, 6.50)
 
     def test_total_price_is_zero(self):
         order = Order.objects.get(delivery_date=date(2016, 10, 10))
         self.assertEqual(order.price, 0)
 
     def test_order_item_remark(self):
         order = Order.objects.get(delivery_date=date(2016, 5, 10))
         order_item = order.orders.first()
-        self.assertEqual(order_item.remark, 'testing')
+        self.assertEqual(order_item.remark, "testing")
 
     def test_order_item_str_includes_date(self):
         delivery_date = date(2016, 5, 10)
         order = Order.objects.get(delivery_date=delivery_date)
         order_item = order.orders.first()
         self.assertTrue(str(delivery_date) in str(order_item))
 
     def test_is_a_client_bill(self):
         order_item = Order_item.objects.get(
-            order=self.order,
-            order_item_type='delivery',
-            component_group=None)
+            order=self.order, order_item_type="delivery", component_group=None
+        )
         self.assertTrue(order_item.is_a_client_bill)
 
     def test_is_not_a_client_bill(self):
-        order_item = Order_item.objects.get(
-            order=self.order, price=6.50)
+        order_item = Order_item.objects.get(order=self.order, price=6.50)
         self.assertFalse(order_item.is_a_client_bill)
 
         order_item2 = Order_item.objects.get(
-            order=self.order,
-            order_item_type='delivery',
-            component_group='main_dish')
+            order=self.order, order_item_type="delivery", component_group="main_dish"
+        )
         self.assertFalse(order_item2.is_a_client_bill)
 
     def test_order_includes_a_bill(self):
         order = Order.objects.get(delivery_date=date(2016, 5, 10))
         self.assertTrue(order.includes_a_bill)
 
     def test_order_not_includes_a_bill(self):
         order = Order.objects.get(delivery_date=date(2016, 10, 10))
         self.assertFalse(order.includes_a_bill)
 
     def test_order_set_false_includes_a_bill(self):
         order = Order.objects.get(delivery_date=date(2016, 5, 10))
         order.includes_a_bill = False
         self.assertFalse(order.includes_a_bill)
-        self.assertFalse(Order_item.objects.filter(
-            order=order,
-            order_item_type='delivery',
-            component_group=None).exists())
+        self.assertFalse(
+            Order_item.objects.filter(
+                order=order, order_item_type="delivery", component_group=None
+            ).exists()
+        )
 
     def test_order_set_true_includes_a_bill(self):
         order = Order.objects.get(delivery_date=date(2016, 10, 10))
         order.includes_a_bill = True
         self.assertTrue(order.includes_a_bill)
-        self.assertTrue(Order_item.objects.filter(
-            order=order,
-            order_item_type='delivery',
-            component_group=None).exists())
+        self.assertTrue(
+            Order_item.objects.filter(
+                order=order, order_item_type="delivery", component_group=None
+            ).exists()
+        )
 
         # add twice, it should be still one delivery order item.
         order.includes_a_bill = True
         self.assertTrue(order.includes_a_bill)
-        self.assertEqual(Order_item.objects.filter(
-            order=order,
-            order_item_type='delivery',
-            component_group=None).count(), 1)
+        self.assertEqual(
+            Order_item.objects.filter(
+                order=order, order_item_type="delivery", component_group=None
+            ).count(),
+            1,
+        )
 
     def test_edge_case_two_delivery_items(self):
         Order_item.objects.create(
             order=self.order,
             price=0,
             billable_flag=False,
-            order_item_type='delivery',
+            order_item_type="delivery",
             component_group=None,
             remark="testing",
             size="L",
             total_quantity=0,
         )
-        self.assertEqual(Order_item.objects.filter(
-            order=self.order,
-            order_item_type='delivery',
-            component_group=None).count(), 2)
+        self.assertEqual(
+            Order_item.objects.filter(
+                order=self.order, order_item_type="delivery", component_group=None
+            ).count(),
+            2,
+        )
         self.order.refresh_from_db()
         self.assertTrue(self.order.includes_a_bill)
         self.order.includes_a_bill = False
         self.assertFalse(self.order.includes_a_bill)
-        self.assertFalse(Order_item.objects.filter(
-            order=self.order,
-            order_item_type='delivery',
-            component_group=None).exists())
+        self.assertFalse(
+            Order_item.objects.filter(
+                order=self.order, order_item_type="delivery", component_group=None
+            ).exists()
+        )
 
 
 class OrderAutoCreateOnDefaultsTestCase(TestCase):
 
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     @classmethod
     def setUpTestData(cls):
         """
         Create active ongoing clients with predefined meals default.
         """
         meals_default = {
-            'main_dish_friday_quantity': 2,
-            'size_friday': 'R',
-            'dessert_friday_quantity': 0,
-            'diabetic_dessert_friday_quantity': 0,
-            'fruit_salad_friday_quantity': 1,
-            'green_salad_friday_quantity': 1,
-            'pudding_friday_quantity': 1,
-            'compote_friday_quantity': 0,
+            "main_dish_friday_quantity": 2,
+            "size_friday": "R",
+            "dessert_friday_quantity": 0,
+            "diabetic_dessert_friday_quantity": 0,
+            "fruit_salad_friday_quantity": 1,
+            "green_salad_friday_quantity": 1,
+            "pudding_friday_quantity": 1,
+            "compote_friday_quantity": 0,
         }
         cls.ongoing_clients = ClientFactory.create_batch(
             4,
             status=Client.ACTIVE,
-            delivery_type='O',
-            rate_type='default',
-            meal_default_week=meals_default)
+            delivery_type="O",
+            rate_type="default",
+            meal_default_week=meals_default,
+        )
         for c in cls.ongoing_clients:
-            c.set_simple_meals_schedule([
-                'monday', 'tuesday', 'wednesday', 'thursday', 'friday',
-                'saturday', 'sunday'])
+            c.set_simple_meals_schedule(
+                [
+                    "monday",
+                    "tuesday",
+                    "wednesday",
+                    "thursday",
+                    "friday",
+                    "saturday",
+                    "sunday",
+                ]
+            )
 
         # The delivery date must be a Friday, to match the meals defaults
         cls.delivery_date = date(2016, 7, 15)
 
     def test_auto_create_orders(self):
         """
         One order per active ongoing client must have been created.
         """
         created_orders = Order.objects.auto_create_orders(
-            self.delivery_date, self.ongoing_clients)
+            self.delivery_date, self.ongoing_clients
+        )
         self.assertEqual(len(created_orders), len(self.ongoing_clients))
         created = Order.objects.filter(delivery_date=self.delivery_date)
         random_order = random.choice(created)
         self.assertEqual(created.count(), len(self.ongoing_clients))
         # Every client has the same defaults
         self.assertEqual(random_order.price, 13.00)
 
     def test_auto_create_orders_no_delivery(self):
         """
         Must handle properly the case where no default are
         set for a given day.
         """
         delivery_date = date(2016, 7, 16)
         created_orders = Order.objects.auto_create_orders(
-            delivery_date, self.ongoing_clients)
+            delivery_date, self.ongoing_clients
+        )
         self.assertEqual(len(created_orders), 0)
 
     def test_auto_create_orders_existing_order(self):
         """
         Only new orders for delivery date should be created.
         """
         # Create an  for a random ongoing client
         client = random.choice(self.ongoing_clients)
         OrderFactory(
             delivery_date=self.delivery_date,
             client=client,
         )
-        Order.objects.auto_create_orders(
-            self.delivery_date, self.ongoing_clients)
+        Order.objects.auto_create_orders(self.delivery_date, self.ongoing_clients)
         self.assertEqual(Order.objects.filter(client=client).count(), 1)
 
     def test_auto_create_orders_items(self):
         """
         Orders must be created with the meals defaults.
         """
         # Create orders for my ongoing active clients
-        Order.objects.auto_create_orders(
-            self.delivery_date, self.ongoing_clients)
+        Order.objects.auto_create_orders(self.delivery_date, self.ongoing_clients)
         client = random.choice(self.ongoing_clients)
         order = Order.objects.filter(client=client).get()
         items = order.orders.all()
         self.assertEqual(items.count(), 4)
-        main_dish_item = items.filter(component_group='main_dish').get()
+        main_dish_item = items.filter(component_group="main_dish").get()
         self.assertEqual(main_dish_item.total_quantity, 2)
-        self.assertEqual(main_dish_item.size, 'R')
+        self.assertEqual(main_dish_item.size, "R")
         self.assertTrue(main_dish_item.billable_flag)
-        pudding_item = items.filter(component_group='pudding').get()
+        pudding_item = items.filter(component_group="pudding").get()
         self.assertEqual(pudding_item.total_quantity, 1)
-        fruit_salad_item = items.filter(component_group='fruit_salad').get()
+        fruit_salad_item = items.filter(component_group="fruit_salad").get()
         self.assertEqual(fruit_salad_item.total_quantity, 1)
-        green_salad_item = items.filter(component_group='green_salad').get()
+        green_salad_item = items.filter(component_group="green_salad").get()
         self.assertEqual(green_salad_item.total_quantity, 1)
-        self.assertEqual(items.filter(component_group='compote').count(), 0)
+        self.assertEqual(items.filter(component_group="compote").count(), 0)
 
 
 class OrderManualCreateTestCase(SousChefTestMixin, TestCase):
 
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     @classmethod
     def setUpTestData(cls):
         """
         Set up client.
         """
         # cls.client clashes with Django testcase
         cls.sc_client = ClientFactory(
-            status=Client.ACTIVE,
-            delivery_type='E',
-            rate_type='default'
+            status=Client.ACTIVE, delivery_type="E", rate_type="default"
         )
         cls.delivery_date = date(2016, 7, 15)
 
     def test_create_order__maindish_smaller_than_sidedish(self):
         """
         Check created order items.
         Main_dish_quantity < side_dish_quantity
         """
         order = Order.objects.create_order(
             delivery_date=self.delivery_date,
             client=self.sc_client,
-            prices={'main': 10.0, 'side': 1.0},
+            prices={"main": 10.0, "side": 1.0},
             items={
-                'main_dish_default_quantity': 3,
-                'size_default': 'R',
-                'dessert_default_quantity': 1,
-                'diabetic_default_quantity': 2,
-                'fruit_salad_default_quantity': 4,
-                'green_salad_default_quantity': 0,
-                'pudding_default_quantity': 0,
-                'compote_default_quantity': 0,
-                'delivery_default': True
-            })
+                "main_dish_default_quantity": 3,
+                "size_default": "R",
+                "dessert_default_quantity": 1,
+                "diabetic_default_quantity": 2,
+                "fruit_salad_default_quantity": 4,
+                "green_salad_default_quantity": 0,
+                "pudding_default_quantity": 0,
+                "compote_default_quantity": 0,
+                "delivery_default": True,
+            },
+        )
 
         # check main dish
-        main_dish = order.orders.get(
-            component_group=COMPONENT_GROUP_CHOICES_MAIN_DISH
-        )
+        main_dish = order.orders.get(component_group=COMPONENT_GROUP_CHOICES_MAIN_DISH)
         self.assertEqual(main_dish.total_quantity, 3)
-        self.assertEqual(main_dish.size, 'R')
+        self.assertEqual(main_dish.size, "R")
         self.assertEqual(main_dish.price, 30.0)
         self.assertTrue(main_dish.billable_flag)
 
         # check sides
         sides = order.orders.filter(
-            ~Q(component_group=COMPONENT_GROUP_CHOICES_MAIN_DISH) &
-            Q(size__isnull=True)
-        ).aggregate(quantity=Sum('total_quantity'))
-        self.assertEqual(sides['quantity'], 7)  # 1 + 2 + 4
+            ~Q(component_group=COMPONENT_GROUP_CHOICES_MAIN_DISH) & Q(size__isnull=True)
+        ).aggregate(quantity=Sum("total_quantity"))
+        self.assertEqual(sides["quantity"], 7)  # 1 + 2 + 4
 
         billable_sides = order.orders.filter(
-            ~Q(component_group=COMPONENT_GROUP_CHOICES_MAIN_DISH) &
-            Q(billable_flag=True)
-        ).aggregate(quantity=Sum('total_quantity'))
-        self.assertEqual(billable_sides['quantity'], 4)  # 7 - 3
+            ~Q(component_group=COMPONENT_GROUP_CHOICES_MAIN_DISH)
+            & Q(billable_flag=True)
+        ).aggregate(quantity=Sum("total_quantity"))
+        self.assertEqual(billable_sides["quantity"], 4)  # 7 - 3
 
         free_sides = order.orders.filter(
-            ~Q(component_group=COMPONENT_GROUP_CHOICES_MAIN_DISH) &
-            Q(billable_flag=False)
-        ).aggregate(quantity=Sum('total_quantity'))
-        self.assertEqual(free_sides['quantity'], 3)
+            ~Q(component_group=COMPONENT_GROUP_CHOICES_MAIN_DISH)
+            & Q(billable_flag=False)
+        ).aggregate(quantity=Sum("total_quantity"))
+        self.assertEqual(free_sides["quantity"], 3)
 
         # check other item
         other = order.orders.filter(
             ~Q(order_item_type=ORDER_ITEM_TYPE_CHOICES_COMPONENT)
         )
         self.assertEqual(other.count(), 1)
 
@@ -471,1036 +497,1005 @@
         """
         Check created order items.
         Main_dish_quantity > side_dish_quantity
         """
         order = Order.objects.create_order(
             delivery_date=self.delivery_date,
             client=self.sc_client,
-            prices={'main': 10.0, 'side': 1.0},
+            prices={"main": 10.0, "side": 1.0},
             items={
-                'main_dish_default_quantity': 10,
-                'size_default': 'R',
-                'dessert_default_quantity': 1,
-                'diabetic_default_quantity': 2,
-                'fruit_salad_default_quantity': 4,
-                'green_salad_default_quantity': 0,
-                'pudding_default_quantity': 0,
-                'compote_default_quantity': 0,
-                'delivery_default': True
-            })
+                "main_dish_default_quantity": 10,
+                "size_default": "R",
+                "dessert_default_quantity": 1,
+                "diabetic_default_quantity": 2,
+                "fruit_salad_default_quantity": 4,
+                "green_salad_default_quantity": 0,
+                "pudding_default_quantity": 0,
+                "compote_default_quantity": 0,
+                "delivery_default": True,
+            },
+        )
 
         # check main dish
-        main_dish = order.orders.get(
-            component_group=COMPONENT_GROUP_CHOICES_MAIN_DISH
-        )
+        main_dish = order.orders.get(component_group=COMPONENT_GROUP_CHOICES_MAIN_DISH)
         self.assertEqual(main_dish.total_quantity, 10)
-        self.assertEqual(main_dish.size, 'R')
+        self.assertEqual(main_dish.size, "R")
         self.assertEqual(main_dish.price, 100.0)
         self.assertTrue(main_dish.billable_flag)
 
         # check sides
         sides = order.orders.filter(
-            ~Q(component_group=COMPONENT_GROUP_CHOICES_MAIN_DISH) &
-            Q(size__isnull=True)
-        ).aggregate(quantity=Sum('total_quantity'))
-        self.assertEqual(sides['quantity'], 7)  # 1 + 2 + 4
+            ~Q(component_group=COMPONENT_GROUP_CHOICES_MAIN_DISH) & Q(size__isnull=True)
+        ).aggregate(quantity=Sum("total_quantity"))
+        self.assertEqual(sides["quantity"], 7)  # 1 + 2 + 4
 
         billable_sides = order.orders.filter(
-            ~Q(component_group=COMPONENT_GROUP_CHOICES_MAIN_DISH) &
-            Q(billable_flag=True)
-        ).aggregate(quantity=Sum('total_quantity'))
+            ~Q(component_group=COMPONENT_GROUP_CHOICES_MAIN_DISH)
+            & Q(billable_flag=True)
+        ).aggregate(quantity=Sum("total_quantity"))
         self.assertEqual(
-            billable_sides['quantity'],
-            None  # 7 - 10 -> 0, filter empty, thus None
+            billable_sides["quantity"], None  # 7 - 10 -> 0, filter empty, thus None
         )
 
         free_sides = order.orders.filter(
-            ~Q(component_group=COMPONENT_GROUP_CHOICES_MAIN_DISH) &
-            Q(billable_flag=False)
-        ).aggregate(quantity=Sum('total_quantity'))
-        self.assertEqual(free_sides['quantity'], 7)
+            ~Q(component_group=COMPONENT_GROUP_CHOICES_MAIN_DISH)
+            & Q(billable_flag=False)
+        ).aggregate(quantity=Sum("total_quantity"))
+        self.assertEqual(free_sides["quantity"], 7)
 
         # check other item
         other = order.orders.filter(
             ~Q(order_item_type=ORDER_ITEM_TYPE_CHOICES_COMPONENT)
         )
         self.assertEqual(other.count(), 1)
 
 
 class OrderCreateBatchTestCase(SousChefTestMixin, TestCase):
 
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     @classmethod
     def setUpTestData(cls):
         """
         Get an episodic client, three delivery dates and several order items.
         """
         cls.orditems = {
-            'main_dish_2016-12-12_quantity': 1,
-            'size_2016-12-12': 'L',
-            'dessert_2016-12-12_quantity': 1,
-            'diabetic_2016-12-12_quantity': None,
-            'fruit_salad_2016-12-12_quantity': None,
-            'green_salad_2016-12-12_quantity': None,
-            'pudding_2016-12-12_quantity': 1,
-            'compote_2016-12-12_quantity': None,
-
-            'main_dish_2016-12-14_quantity': 2,
-            'size_2016-12-14': 'R',
-            'dessert_2016-12-14_quantity': 1,
-            'diabetic_2016-12-14_quantity': None,
-            'fruit_salad_2016-12-14_quantity': None,
-            'green_salad_2016-12-14_quantity': 1,
-            'pudding_2016-12-14_quantity': None,
-            'compote_2016-12-14_quantity': None,
-            'delivery_2016-12-14': True,
-
-            'main_dish_2016-12-15_quantity': 1,
-            'size_2016-12-15': 'L',
-            'dessert_2016-12-15_quantity': 1,
-            'diabetic_2016-12-15_quantity': None,
-            'fruit_salad_2016-12-15_quantity': None,
-            'green_salad_2016-12-15_quantity': 2,
-            'pudding_2016-12-15_quantity': None,
-            'compote_2016-12-15_quantity': 3,
-            'pickup_2016-12-15': True,
-
-            'main_dish_2016-12-16_quantity': None,
-            'size_2016-12-16': None,
-            'dessert_2016-12-16_quantity': None,
-            'diabetic_2016-12-16_quantity': None,
-            'fruit_salad_2016-12-16_quantity': None,
-            'green_salad_2016-12-16_quantity': None,
-            'pudding_2016-12-16_quantity': None,
-            'compote_2016-12-16_quantity': None,
-            'visit_2016-12-16': True
+            "main_dish_2016-12-12_quantity": 1,
+            "size_2016-12-12": "L",
+            "dessert_2016-12-12_quantity": 1,
+            "diabetic_2016-12-12_quantity": None,
+            "fruit_salad_2016-12-12_quantity": None,
+            "green_salad_2016-12-12_quantity": None,
+            "pudding_2016-12-12_quantity": 1,
+            "compote_2016-12-12_quantity": None,
+            "main_dish_2016-12-14_quantity": 2,
+            "size_2016-12-14": "R",
+            "dessert_2016-12-14_quantity": 1,
+            "diabetic_2016-12-14_quantity": None,
+            "fruit_salad_2016-12-14_quantity": None,
+            "green_salad_2016-12-14_quantity": 1,
+            "pudding_2016-12-14_quantity": None,
+            "compote_2016-12-14_quantity": None,
+            "delivery_2016-12-14": True,
+            "main_dish_2016-12-15_quantity": 1,
+            "size_2016-12-15": "L",
+            "dessert_2016-12-15_quantity": 1,
+            "diabetic_2016-12-15_quantity": None,
+            "fruit_salad_2016-12-15_quantity": None,
+            "green_salad_2016-12-15_quantity": 2,
+            "pudding_2016-12-15_quantity": None,
+            "compote_2016-12-15_quantity": 3,
+            "pickup_2016-12-15": True,
+            "main_dish_2016-12-16_quantity": None,
+            "size_2016-12-16": None,
+            "dessert_2016-12-16_quantity": None,
+            "diabetic_2016-12-16_quantity": None,
+            "fruit_salad_2016-12-16_quantity": None,
+            "green_salad_2016-12-16_quantity": None,
+            "pudding_2016-12-16_quantity": None,
+            "compote_2016-12-16_quantity": None,
+            "visit_2016-12-16": True,
         }
         cls.episodic_client = ClientFactory.create_batch(
-            2, status=Client.ACTIVE, delivery_type='E')
+            2, status=Client.ACTIVE, delivery_type="E"
+        )
         # The delivery date must be a Friday, to match the meals defaults
-        cls.delivery_dates = ['2016-12-12', '2016-12-14',
-                              '2016-12-15', '2016-12-16']
+        cls.delivery_dates = ["2016-12-12", "2016-12-14", "2016-12-15", "2016-12-16"]
 
     def setUp(self):
         self.force_login()
 
     def test_create_batch_orders(self):
         """
         Provide a client, 4 delivery dates.
         """
         client = self.episodic_client[0]
         created_orders = Order.objects.create_batch_orders(
-            self.delivery_dates, self.episodic_client[0], self.orditems)
+            self.delivery_dates, self.episodic_client[0], self.orditems
+        )
         self.assertEqual(len(created_orders), 4)
 
         # check items
         # 2016-12-12
         self.assertEqual(
             Order_item.objects.filter(
-                order__client=client,
-                order__delivery_date='2016-12-12'
-            ).count(), 3
+                order__client=client, order__delivery_date="2016-12-12"
+            ).count(),
+            3,
         )
         self.assertEqual(
             Order_item.objects.filter(
                 order__client=client,
-                order__delivery_date='2016-12-12',
-                order_item_type='meal_component',
-                component_group='main_dish',
-                size='L',
-                total_quantity=1
-            ).count(), 1
+                order__delivery_date="2016-12-12",
+                order_item_type="meal_component",
+                component_group="main_dish",
+                size="L",
+                total_quantity=1,
+            ).count(),
+            1,
         )
         self.assertEqual(
             Order_item.objects.filter(
                 order__client=client,
-                order__delivery_date='2016-12-12',
-                order_item_type='meal_component',
-                component_group='dessert',
+                order__delivery_date="2016-12-12",
+                order_item_type="meal_component",
+                component_group="dessert",
                 size__isnull=True,
-                total_quantity=1
-            ).count(), 1
+                total_quantity=1,
+            ).count(),
+            1,
         )
         self.assertEqual(
             Order_item.objects.filter(
                 order__client=client,
-                order__delivery_date='2016-12-12',
-                order_item_type='meal_component',
-                component_group='pudding',
+                order__delivery_date="2016-12-12",
+                order_item_type="meal_component",
+                component_group="pudding",
                 size__isnull=True,
-                total_quantity=1
-            ).count(), 1
+                total_quantity=1,
+            ).count(),
+            1,
         )
         # 2016-12-14
         self.assertEqual(
             Order_item.objects.filter(
-                order__client=client,
-                order__delivery_date='2016-12-14'
-            ).count(), 4
+                order__client=client, order__delivery_date="2016-12-14"
+            ).count(),
+            4,
         )
         self.assertEqual(
             Order_item.objects.filter(
                 order__client=client,
-                order__delivery_date='2016-12-14',
-                order_item_type='meal_component',
-                component_group='main_dish',
-                size='R',
-                total_quantity=2
-            ).count(), 1
+                order__delivery_date="2016-12-14",
+                order_item_type="meal_component",
+                component_group="main_dish",
+                size="R",
+                total_quantity=2,
+            ).count(),
+            1,
         )
         self.assertEqual(
             Order_item.objects.filter(
                 order__client=client,
-                order__delivery_date='2016-12-14',
-                order_item_type='meal_component',
-                component_group='dessert',
+                order__delivery_date="2016-12-14",
+                order_item_type="meal_component",
+                component_group="dessert",
                 size__isnull=True,
-                total_quantity=1
-            ).count(), 1
+                total_quantity=1,
+            ).count(),
+            1,
         )
         self.assertEqual(
             Order_item.objects.filter(
                 order__client=client,
-                order__delivery_date='2016-12-14',
-                order_item_type='meal_component',
-                component_group='green_salad',
+                order__delivery_date="2016-12-14",
+                order_item_type="meal_component",
+                component_group="green_salad",
                 size__isnull=True,
-                total_quantity=1
-            ).count(), 1
+                total_quantity=1,
+            ).count(),
+            1,
         )
         self.assertEqual(
             Order_item.objects.filter(
                 order__client=client,
-                order__delivery_date='2016-12-14',
-                order_item_type='delivery',
+                order__delivery_date="2016-12-14",
+                order_item_type="delivery",
                 component_group__isnull=True,
                 size__isnull=True,
-                total_quantity__isnull=True
-            ).count(), 1
+                total_quantity=0,
+            ).count(),
+            1,
         )
         # 2016-12-15
         self.assertEqual(
             Order_item.objects.filter(
-                order__client=client,
-                order__delivery_date='2016-12-15'
-            ).count(), 5
+                order__client=client, order__delivery_date="2016-12-15"
+            ).count(),
+            5,
         )
         self.assertEqual(
             Order_item.objects.filter(
                 order__client=client,
-                order__delivery_date='2016-12-15',
-                order_item_type='meal_component',
-                component_group='main_dish',
-                size='L',
-                total_quantity=1
-            ).count(), 1
+                order__delivery_date="2016-12-15",
+                order_item_type="meal_component",
+                component_group="main_dish",
+                size="L",
+                total_quantity=1,
+            ).count(),
+            1,
         )
         self.assertEqual(
             Order_item.objects.filter(
                 order__client=client,
-                order__delivery_date='2016-12-15',
-                order_item_type='meal_component',
-                component_group='dessert',
+                order__delivery_date="2016-12-15",
+                order_item_type="meal_component",
+                component_group="dessert",
                 size__isnull=True,
-                total_quantity=1
-            ).count(), 1
+                total_quantity=1,
+            ).count(),
+            1,
         )
         self.assertEqual(
             Order_item.objects.filter(
                 order__client=client,
-                order__delivery_date='2016-12-15',
-                order_item_type='meal_component',
-                component_group='green_salad',
+                order__delivery_date="2016-12-15",
+                order_item_type="meal_component",
+                component_group="green_salad",
                 size__isnull=True,
-                total_quantity=2
-            ).count(), 1
+                total_quantity=2,
+            ).count(),
+            1,
         )
         self.assertEqual(
             Order_item.objects.filter(
                 order__client=client,
-                order__delivery_date='2016-12-15',
-                order_item_type='meal_component',
-                component_group='compote',
+                order__delivery_date="2016-12-15",
+                order_item_type="meal_component",
+                component_group="compote",
                 size__isnull=True,
-                total_quantity=3
-            ).count(), 1
+                total_quantity=3,
+            ).count(),
+            1,
         )
         self.assertEqual(
             Order_item.objects.filter(
                 order__client=client,
-                order__delivery_date='2016-12-15',
-                order_item_type='pickup',
+                order__delivery_date="2016-12-15",
+                order_item_type="pickup",
                 component_group__isnull=True,
                 size__isnull=True,
-                total_quantity__isnull=True
-            ).count(), 1
+                total_quantity=0,
+            ).count(),
+            1,
         )
         # 2016-12-16
         self.assertEqual(
             Order_item.objects.filter(
-                order__client=client,
-                order__delivery_date='2016-12-16'
-            ).count(), 1
+                order__client=client, order__delivery_date="2016-12-16"
+            ).count(),
+            1,
         )
         self.assertEqual(
             Order_item.objects.filter(
                 order__client=client,
-                order__delivery_date='2016-12-16',
-                order_item_type='visit',
+                order__delivery_date="2016-12-16",
+                order_item_type="visit",
                 component_group__isnull=True,
                 size__isnull=True,
-                total_quantity__isnull=True
-            ).count(), 1
+                total_quantity=0,
+            ).count(),
+            1,
         )
 
     def test_view_get(self):
-        response = self.client.get(reverse('order:create_batch'))
+        response = self.client.get(reverse("order:create_batch"))
         self.assertEqual(response.status_code, 200)
 
     def test_view_post_success(self):
-        response = self.client.post(reverse('order:create_batch'), {
-            'client': self.episodic_client[1].pk,
-            'delivery_dates': '2016-12-12|2016-12-14',
-            'is_submit': "1",
-            'main_dish_2016-12-12_quantity': 1,
-            'size_2016-12-12': 'L',
-            'dessert_2016-12-12_quantity': 1,
-            'diabetic_2016-12-12_quantity': 0,
-            'fruit_salad_2016-12-12_quantity': 0,
-            'green_salad_2016-12-12_quantity': 1,
-            'pudding_2016-12-12_quantity': 0,
-            'compote_2016-12-12_quantity': 0,
-            'main_dish_2016-12-14_quantity': 1,
-            'size_2016-12-14': 'L',
-            'dessert_2016-12-14_quantity': 1,
-            'diabetic_2016-12-14_quantity': 0,
-            'fruit_salad_2016-12-14_quantity': 0,
-            'green_salad_2016-12-14_quantity': 1,
-            'pudding_2016-12-14_quantity': 0,
-            'compote_2016-12-14_quantity': 0
-        })
+        response = self.client.post(
+            reverse("order:create_batch"),
+            {
+                "client": self.episodic_client[1].pk,
+                "delivery_dates": "2016-12-12|2016-12-14",
+                "is_submit": "1",
+                "main_dish_2016-12-12_quantity": 1,
+                "size_2016-12-12": "L",
+                "dessert_2016-12-12_quantity": 1,
+                "diabetic_2016-12-12_quantity": 0,
+                "fruit_salad_2016-12-12_quantity": 0,
+                "green_salad_2016-12-12_quantity": 1,
+                "pudding_2016-12-12_quantity": 0,
+                "compote_2016-12-12_quantity": 0,
+                "main_dish_2016-12-14_quantity": 1,
+                "size_2016-12-14": "L",
+                "dessert_2016-12-14_quantity": 1,
+                "diabetic_2016-12-14_quantity": 0,
+                "fruit_salad_2016-12-14_quantity": 0,
+                "green_salad_2016-12-14_quantity": 1,
+                "pudding_2016-12-14_quantity": 0,
+                "compote_2016-12-14_quantity": 0,
+            },
+        )
         self.assertEqual(response.status_code, 302)  # form submit redirect
         created_orders = Order.objects.filter(
             client=self.episodic_client[1],
             delivery_date__in=[
-                datetime.date(2016, 12, 12), datetime.date(2016, 12, 14)
-            ]
+                datetime.date(2016, 12, 12),
+                datetime.date(2016, 12, 14),
+            ],
         ).count()
         self.assertEqual(created_orders, 2)
 
     def test_view_display_ordered_dates(self):
         """
         The user interface should be notified of such existing orders:
         1. The orders are of today or a later date.
         2. The orders should not be cancelled.
         """
         today = timezone.datetime.today()
         future = today + datetime.timedelta(days=1)
         past = today - datetime.timedelta(days=1)
 
         client = self.episodic_client[1]
-        OrderFactory(
-            delivery_date=today,
-            status='O',
-            client=client
-        )
-        OrderFactory(
-            delivery_date=future,
-            status='O',
-            client=client
+        OrderFactory(delivery_date=today, status="O", client=client)
+        OrderFactory(delivery_date=future, status="O", client=client)
+        OrderFactory(delivery_date=past, status="O", client=client)
+        response = self.client.post(
+            reverse("order:create_batch"),
+            {"client": self.episodic_client[1].pk, "is_submit": "0"},
         )
-        OrderFactory(
-            delivery_date=past,
-            status='O',
-            client=client
-        )
-        response = self.client.post(reverse('order:create_batch'), {
-            'client': self.episodic_client[1].pk,
-            'is_submit': '0'
-        })
         self.assertEqual(response.status_code, 200)
-        self.assertContains(response, 'data-ordered-dates="{}|{}"'.format(
-            today.strftime('%Y-%m-%d'), future.strftime('%Y-%m-%d')
-        ))
+        self.assertContains(
+            response,
+            'data-ordered-dates="{}|{}"'.format(
+                today.strftime("%Y-%m-%d"), future.strftime("%Y-%m-%d")
+            ),
+        )
 
     def test_view_post_override_yes(self):
         # Create an order batch, create an order for the same day,
         #  set an override date, ensure order was overridden
         order_data = {
-            'client': self.episodic_client[1].pk,
-            'delivery_dates': '2016-12-12',
-            'override_dates': '',
-            'is_submit': '1',
-            'main_dish_2016-12-12_quantity': 1,
-            'size_2016-12-12': 'L',
-            'dessert_2016-12-12_quantity': 1,
-            'diabetic_2016-12-12_quantity': 0,
-            'fruit_salad_2016-12-12_quantity': 0,
-            'green_salad_2016-12-12_quantity': 1,
-            'pudding_2016-12-12_quantity': 0,
-            'compote_2016-12-12_quantity': 0
+            "client": self.episodic_client[1].pk,
+            "delivery_dates": "2016-12-12",
+            "override_dates": "",
+            "is_submit": "1",
+            "main_dish_2016-12-12_quantity": 1,
+            "size_2016-12-12": "L",
+            "dessert_2016-12-12_quantity": 1,
+            "diabetic_2016-12-12_quantity": 0,
+            "fruit_salad_2016-12-12_quantity": 0,
+            "green_salad_2016-12-12_quantity": 1,
+            "pudding_2016-12-12_quantity": 0,
+            "compote_2016-12-12_quantity": 0,
         }
-        response = self.client.post(reverse('order:create_batch'), order_data)
+        response = self.client.post(reverse("order:create_batch"), order_data)
         self.assertEqual(response.status_code, 302)  # form submit redirect
         self.assertEqual(
             Order_item.objects.filter(
                 order__client=self.episodic_client[1],
-                order__status='O',
-                order__delivery_date='2016-12-12',
-                order_item_type='meal_component',
-                component_group='main_dish',
-                size='L',
-                total_quantity=1
-            ).count(), 1
+                order__status="O",
+                order__delivery_date="2016-12-12",
+                order_item_type="meal_component",
+                component_group="main_dish",
+                size="L",
+                total_quantity=1,
+            ).count(),
+            1,
         )
 
-        order_data['override_dates'] = '2016-12-12'
-        order_data['size_2016-12-12'] = 'R'
-        response = self.client.post(reverse('order:create_batch'), order_data)
+        order_data["override_dates"] = "2016-12-12"
+        order_data["size_2016-12-12"] = "R"
+        response = self.client.post(reverse("order:create_batch"), order_data)
         self.assertEqual(response.status_code, 302)  # form submit redirect
         self.assertEqual(
             Order_item.objects.filter(
                 order__client=self.episodic_client[1],
-                order__status='C',
-                order__delivery_date='2016-12-12',
-                order_item_type='meal_component',
-                component_group='main_dish',
-                size='L',
-                total_quantity=1
-            ).count(), 1
+                order__status="C",
+                order__delivery_date="2016-12-12",
+                order_item_type="meal_component",
+                component_group="main_dish",
+                size="L",
+                total_quantity=1,
+            ).count(),
+            1,
         )
         self.assertEqual(
             Order_item.objects.filter(
                 order__client=self.episodic_client[1],
-                order__status='O',
-                order__delivery_date='2016-12-12',
-                order_item_type='meal_component',
-                component_group='main_dish',
-                size='R',
-                total_quantity=1
-            ).count(), 1
+                order__status="O",
+                order__delivery_date="2016-12-12",
+                order_item_type="meal_component",
+                component_group="main_dish",
+                size="R",
+                total_quantity=1,
+            ).count(),
+            1,
         )
 
     def test_view_post_override_no(self):
         # Create an order batch, create an order for the same day,
         #  do NOT set an override date, ensure order was NOT overridden
         order_data = {
-            'client': self.episodic_client[1].pk,
-            'delivery_dates': '2016-12-12',
-            'override_dates': '',
-            'is_submit': '1',
-            'main_dish_2016-12-12_quantity': 1,
-            'size_2016-12-12': 'L',
-            'dessert_2016-12-12_quantity': 1,
-            'diabetic_2016-12-12_quantity': 0,
-            'fruit_salad_2016-12-12_quantity': 0,
-            'green_salad_2016-12-12_quantity': 1,
-            'pudding_2016-12-12_quantity': 0,
-            'compote_2016-12-12_quantity': 0
+            "client": self.episodic_client[1].pk,
+            "delivery_dates": "2016-12-12",
+            "override_dates": "",
+            "is_submit": "1",
+            "main_dish_2016-12-12_quantity": 1,
+            "size_2016-12-12": "L",
+            "dessert_2016-12-12_quantity": 1,
+            "diabetic_2016-12-12_quantity": 0,
+            "fruit_salad_2016-12-12_quantity": 0,
+            "green_salad_2016-12-12_quantity": 1,
+            "pudding_2016-12-12_quantity": 0,
+            "compote_2016-12-12_quantity": 0,
         }
-        response = self.client.post(reverse('order:create_batch'), order_data)
+        response = self.client.post(reverse("order:create_batch"), order_data)
         self.assertEqual(response.status_code, 302)  # form submit redirect
         self.assertEqual(
             Order_item.objects.filter(
                 order__client=self.episodic_client[1],
-                order__delivery_date='2016-12-12',
-                order_item_type='meal_component',
-                component_group='main_dish',
-                size='L',
-                total_quantity=1
-            ).count(), 1
+                order__delivery_date="2016-12-12",
+                order_item_type="meal_component",
+                component_group="main_dish",
+                size="L",
+                total_quantity=1,
+            ).count(),
+            1,
         )
 
-        order_data['size_2016-12-12'] = 'R'
-        response = self.client.post(reverse('order:create_batch'), order_data)
+        order_data["size_2016-12-12"] = "R"
+        response = self.client.post(reverse("order:create_batch"), order_data)
         self.assertEqual(response.status_code, 302)  # form submit redirect
         self.assertEqual(
             Order_item.objects.filter(
                 order__client=self.episodic_client[1],
-                order__delivery_date='2016-12-12',
-                order_item_type='meal_component',
-                component_group='main_dish',
-                size='L',
-                total_quantity=1
-            ).count(), 1
+                order__delivery_date="2016-12-12",
+                order_item_type="meal_component",
+                component_group="main_dish",
+                size="L",
+                total_quantity=1,
+            ).count(),
+            1,
         )
 
     def test_view_post_no_submit(self):
         # page refresh (caused by client change / removing a date)
         # In these cases, the page will be re-posted with is_submit=0
         # to prevent being submitted to the server,
         # because e.g. removing a date can make the data validated.
-        response = self.client.post(reverse('order:create_batch'), {
-            'client': self.episodic_client[1].pk,
-            'delivery_dates': '2016-12-12|2016-12-14',
-            'is_submit': "0",
-            'main_dish_2016-12-12_quantity': 1,
-            'size_2016-12-12': 'L',
-            'dessert_2016-12-12_quantity': 1,
-            'diabetic_2016-12-12_quantity': 0,
-            'fruit_salad_2016-12-12_quantity': 0,
-            'green_salad_2016-12-12_quantity': 1,
-            'pudding_2016-12-12_quantity': 0,
-            'compote_2016-12-12_quantity': 0,
-            'main_dish_2016-12-14_quantity': 1,
-            'size_2016-12-14': 'L',
-            'dessert_2016-12-14_quantity': 1,
-            'diabetic_2016-12-14_quantity': 0,
-            'fruit_salad_2016-12-14_quantity': 0,
-            'green_salad_2016-12-14_quantity': 1,
-            'pudding_2016-12-14_quantity': 0,
-            'compote_2016-12-14_quantity': 0
-        })
+        response = self.client.post(
+            reverse("order:create_batch"),
+            {
+                "client": self.episodic_client[1].pk,
+                "delivery_dates": "2016-12-12|2016-12-14",
+                "is_submit": "0",
+                "main_dish_2016-12-12_quantity": 1,
+                "size_2016-12-12": "L",
+                "dessert_2016-12-12_quantity": 1,
+                "diabetic_2016-12-12_quantity": 0,
+                "fruit_salad_2016-12-12_quantity": 0,
+                "green_salad_2016-12-12_quantity": 1,
+                "pudding_2016-12-12_quantity": 0,
+                "compote_2016-12-12_quantity": 0,
+                "main_dish_2016-12-14_quantity": 1,
+                "size_2016-12-14": "L",
+                "dessert_2016-12-14_quantity": 1,
+                "diabetic_2016-12-14_quantity": 0,
+                "fruit_salad_2016-12-14_quantity": 0,
+                "green_salad_2016-12-14_quantity": 1,
+                "pudding_2016-12-14_quantity": 0,
+                "compote_2016-12-14_quantity": 0,
+            },
+        )
         self.assertEqual(response.status_code, 200)  # stay on form page
         created_orders = Order.objects.filter(
             client=self.episodic_client[1],
             delivery_date__in=[
-                datetime.date(2016, 12, 12), datetime.date(2016, 12, 14)
-            ]
+                datetime.date(2016, 12, 12),
+                datetime.date(2016, 12, 14),
+            ],
         ).count()
         self.assertEqual(created_orders, 0)
 
     def test_view_post_missing_a_subfield(self):
-        response = self.client.post(reverse('order:create_batch'), {
-            'client': self.episodic_client[1].pk,
-            'delivery_dates': '2016-12-12|2016-12-14',
-            'is_submit': "1",
-            'main_dish_2016-12-12_quantity': 1,
-            'size_2016-12-12': 'L',
-            'dessert_2016-12-12_quantity': 1,
-            'diabetic_2016-12-12_quantity': 0,
-            'fruit_salad_2016-12-12_quantity': 0,
-            'green_salad_2016-12-12_quantity': 1,
-            'pudding_2016-12-12_quantity': 0,
-            'main_dish_2016-12-14_quantity': 1,
-            'size_2016-12-14': 'L',
-            'dessert_2016-12-14_quantity': 1,
-            'diabetic_2016-12-14_quantity': 0,
-            'fruit_salad_2016-12-14_quantity': 0,
-            'green_salad_2016-12-14_quantity': 1,
-            'pudding_2016-12-14_quantity': 0,
-            'compote_2016-12-14_quantity': 0
-            # lacks: compote_2016-12-12_quantity
-        })
+        response = self.client.post(
+            reverse("order:create_batch"),
+            {
+                "client": self.episodic_client[1].pk,
+                "delivery_dates": "2016-12-12|2016-12-14",
+                "is_submit": "1",
+                "main_dish_2016-12-12_quantity": 1,
+                "size_2016-12-12": "L",
+                "dessert_2016-12-12_quantity": 1,
+                "diabetic_2016-12-12_quantity": 0,
+                "fruit_salad_2016-12-12_quantity": 0,
+                "green_salad_2016-12-12_quantity": 1,
+                "pudding_2016-12-12_quantity": 0,
+                "main_dish_2016-12-14_quantity": 1,
+                "size_2016-12-14": "L",
+                "dessert_2016-12-14_quantity": 1,
+                "diabetic_2016-12-14_quantity": 0,
+                "fruit_salad_2016-12-14_quantity": 0,
+                "green_salad_2016-12-14_quantity": 1,
+                "pudding_2016-12-14_quantity": 0,
+                "compote_2016-12-14_quantity": 0
+                # lacks: compote_2016-12-12_quantity
+            },
+        )
         self.assertEqual(response.status_code, 200)  # stay on form page
         created_orders = Order.objects.filter(
             client=self.episodic_client[1],
             delivery_date__in=[
-                datetime.date(2016, 12, 12), datetime.date(2016, 12, 14)
-            ]
+                datetime.date(2016, 12, 12),
+                datetime.date(2016, 12, 14),
+            ],
         ).count()
         self.assertEqual(created_orders, 0)
 
     def test_view_post_dates_empty(self):
-        response = self.client.post(reverse('order:create_batch'), {
-            'client': self.episodic_client[1].pk,
-            'delivery_dates': '',  # HERE
-            'is_submit': "1",
-            'main_dish_2016-12-12_quantity': 1,
-            'size_2016-12-12': 'L',
-            'dessert_2016-12-12_quantity': 1,
-            'diabetic_2016-12-12_quantity': 0,
-            'fruit_salad_2016-12-12_quantity': 0,
-            'green_salad_2016-12-12_quantity': 1,
-            'pudding_2016-12-12_quantity': 0,
-            'compote_2016-12-12_quantity': 0
-        })
+        response = self.client.post(
+            reverse("order:create_batch"),
+            {
+                "client": self.episodic_client[1].pk,
+                "delivery_dates": "",  # HERE
+                "is_submit": "1",
+                "main_dish_2016-12-12_quantity": 1,
+                "size_2016-12-12": "L",
+                "dessert_2016-12-12_quantity": 1,
+                "diabetic_2016-12-12_quantity": 0,
+                "fruit_salad_2016-12-12_quantity": 0,
+                "green_salad_2016-12-12_quantity": 1,
+                "pudding_2016-12-12_quantity": 0,
+                "compote_2016-12-12_quantity": 0,
+            },
+        )
         self.assertEqual(response.status_code, 200)  # stay on form page
         created_orders = Order.objects.filter(
-            client=self.episodic_client[1],
-            delivery_date=datetime.date(2016, 12, 12)
+            client=self.episodic_client[1], delivery_date=datetime.date(2016, 12, 12)
         ).count()
         self.assertEqual(created_orders, 0)
 
     def test_view_post_client_empty(self):
-        response = self.client.post(reverse('order:create_batch'), {
-            # lacks: client
-            'delivery_dates': '2016-12-12',
-            'is_submit': "1",
-            'main_dish_2016-12-12_quantity': 1,
-            'size_2016-12-12': 'L',
-            'dessert_2016-12-12_quantity': 1,
-            'diabetic_2016-12-12_quantity': 0,
-            'fruit_salad_2016-12-12_quantity': 0,
-            'green_salad_2016-12-12_quantity': 1,
-            'pudding_2016-12-12_quantity': 0,
-            'compote_2016-12-12_quantity': 0
-        })
+        response = self.client.post(
+            reverse("order:create_batch"),
+            {
+                # lacks: client
+                "delivery_dates": "2016-12-12",
+                "is_submit": "1",
+                "main_dish_2016-12-12_quantity": 1,
+                "size_2016-12-12": "L",
+                "dessert_2016-12-12_quantity": 1,
+                "diabetic_2016-12-12_quantity": 0,
+                "fruit_salad_2016-12-12_quantity": 0,
+                "green_salad_2016-12-12_quantity": 1,
+                "pudding_2016-12-12_quantity": 0,
+                "compote_2016-12-12_quantity": 0,
+            },
+        )
         self.assertEqual(response.status_code, 200)  # stay on form page
         created_orders = Order.objects.filter(
             delivery_date=datetime.date(2016, 12, 12)
         ).count()
         self.assertEqual(created_orders, 0)
 
     def test_redirects_users_who_do_not_have_edit_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('order:create_batch')
+        self.client.login(username="foo", password="secure")
+        url = reverse("order:create_batch")
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 302)
 
     def test_allow_access_to_users_with_edit_permission(self):
         # Setup
         user = User.objects.create_superuser(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('order:create_batch')
+        self.client.login(username="foo", password="secure")
+        url = reverse("order:create_batch")
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class OrderFormTestCase(TestCase):
 
-    fixtures = ['routes.json']
+    fixtures = ["routes.json"]
 
     @classmethod
     def setUpTestData(cls):
         cls.order = OrderFactory.create()
         cls.admin = User.objects.create_superuser(
-            username='admin@example.com',
-            email='admin@example.com',
-            password='test1234'
+            username="admin@example.com", email="admin@example.com", password="test1234"
         )
 
     def setUp(self):
-        self.client.login(username=self.admin.username, password='test1234')
+        self.client.login(username=self.admin.username, password="test1234")
 
     def tearDown(self):
         self.client.logout()
 
     def _test_order_with_errors(self, route):
         data = {
-            'orders-TOTAL_FORMS': 1,
-            'orders-INITIAL_FORMS': 0,
-            'orders-MIN_NUM_FORMS': 0,
-            'orders-MAX_NUM_FORMS': 100,
-            'client': '',
-            'creation_date': '',
-            'delivery_date': '',
-            'status': ''
+            "orders-TOTAL_FORMS": 1,
+            "orders-INITIAL_FORMS": 0,
+            "orders-MIN_NUM_FORMS": 0,
+            "orders-MAX_NUM_FORMS": 100,
+            "client": "",
+            "creation_date": "",
+            "delivery_date": "",
+            "status": "",
         }
         response = self.client.post(route, data, follow=True)
         content = str(response.content)
-        self.assertTrue(content.find('Required information missing'))
-        self.assertTrue(content.find('Client'))
-        self.assertTrue(content.find('Creation date'))
-        self.assertTrue(content.find('Delivery date'))
-        self.assertTrue(content.find('Order status'))
+        self.assertTrue(content.find("Required information missing"))
+        self.assertTrue(content.find("Client"))
+        self.assertTrue(content.find("Creation date"))
+        self.assertTrue(content.find("Delivery date"))
+        self.assertTrue(content.find("Order status"))
 
     def _test_order_without_errors(self, route, client):
         data = {
-            'orders-TOTAL_FORMS': 1,
-            'orders-INITIAL_FORMS': 0,
-            'orders-MIN_NUM_FORMS': 0,
-            'orders-MAX_NUM_FORMS': 100,
-            'client': client.id,
-            'creation_date': '2016-12-12',
-            'delivery_date': '2016-12-22',
-            'status': 'O'
+            "orders-TOTAL_FORMS": 1,
+            "orders-INITIAL_FORMS": 0,
+            "orders-MIN_NUM_FORMS": 0,
+            "orders-MAX_NUM_FORMS": 100,
+            "client": client.id,
+            "creation_date": "2016-12-12",
+            "delivery_date": "2016-12-22",
+            "status": "O",
         }
         response = self.client.post(route, data, follow=True)
         content = str(response.content)
-        order = Order.objects.latest('id')
-        self.assertTrue(content.find('Required information') == -1)
+        order = Order.objects.latest("id")
+        self.assertTrue(content.find("Required information") == -1)
         self.assertTrue(response.status_code, 200)
-        self.assertRedirects(
-            response,
-            reverse('order:view', kwargs={'pk': order.id})
-        )
+        self.assertRedirects(response, reverse("order:view", kwargs={"pk": order.id}))
 
     def _test_order_item_with_errors(self, route, client):
 
         data = {
-            'orders-TOTAL_FORMS': 1,
-            'orders-INITIAL_FORMS': 0,
-            'orders-MIN_NUM_FORMS': 0,
-            'orders-MAX_NUM_FORMS': 100,
-            'client': client.id,
-            'creation_date': '2016-12-12',
-            'delivery_date': '2016-12-22',
-            'status': 'O',
-            'orders-0-component': '',
-            'orders-0-component_group': '',
-            'orders-0-price': '',
-            'orders-0-billable_flag': '',
-            'orders-0-size': '',
-            'orders-0-order_item_type': '',
-            'orders-0-remark': 'Order item with errors',
-            'orders-0-total_quantity': '',
+            "orders-TOTAL_FORMS": 1,
+            "orders-INITIAL_FORMS": 0,
+            "orders-MIN_NUM_FORMS": 0,
+            "orders-MAX_NUM_FORMS": 100,
+            "client": client.id,
+            "creation_date": "2016-12-12",
+            "delivery_date": "2016-12-22",
+            "status": "O",
+            "orders-0-component": "",
+            "orders-0-component_group": "",
+            "orders-0-price": "",
+            "orders-0-billable_flag": "",
+            "orders-0-size": "",
+            "orders-0-order_item_type": "",
+            "orders-0-remark": "Order item with errors",
+            "orders-0-total_quantity": "",
         }
         response = self.client.post(route, data, follow=True)
         content = str(response.content)
-        self.assertTrue(content.find('Required information'))
-        self.assertTrue(content.find('Client'))
-        self.assertTrue(content.find('Creation date'))
-        self.assertTrue(content.find('Delivery date'))
-        self.assertTrue(content.find('Order status'))
-        self.assertTrue(content.find('Order item'))
-        self.assertTrue(content.find('Component'))
-        self.assertTrue(content.find('Component group'))
-        self.assertTrue(content.find('Price'))
-        self.assertTrue(content.find('Size'))
-        self.assertTrue(content.find('Order item type'))
-        self.assertTrue(content.find('Billable flag'))
-        self.assertTrue(content.find('Remark'))
-        self.assertTrue(content.find('Total quantity'))
-        self.assertTrue(content.find('Free quantity'))
+        self.assertTrue(content.find("Required information"))
+        self.assertTrue(content.find("Client"))
+        self.assertTrue(content.find("Creation date"))
+        self.assertTrue(content.find("Delivery date"))
+        self.assertTrue(content.find("Order status"))
+        self.assertTrue(content.find("Order item"))
+        self.assertTrue(content.find("Component"))
+        self.assertTrue(content.find("Component group"))
+        self.assertTrue(content.find("Price"))
+        self.assertTrue(content.find("Size"))
+        self.assertTrue(content.find("Order item type"))
+        self.assertTrue(content.find("Billable flag"))
+        self.assertTrue(content.find("Remark"))
+        self.assertTrue(content.find("Total quantity"))
+        self.assertTrue(content.find("Free quantity"))
 
     def _test_order_item_without_errors(self, route, client, component):
         data = {
-            'orders-TOTAL_FORMS': 1,
-            'orders-INITIAL_FORMS': 0,
-            'orders-MIN_NUM_FORMS': 0,
-            'orders-MAX_NUM_FORMS': 100,
-            'client': client.id,
-            'delivery_date': '2016-12-22',
-            'status': 'O',
-            'orders-0-component': component.id,
-            'orders-0-component_group': 'main_dish',
-            'orders-0-price': '5',
-            'orders-0-billable_flag': True,
-            'orders-0-size': 'R',
-            'orders-0-order_item_type': 'meal_component',
-            'orders-0-remark': 'Order item without errors',
-            'orders-0-total_quantity': '5',
+            "orders-TOTAL_FORMS": 1,
+            "orders-INITIAL_FORMS": 0,
+            "orders-MIN_NUM_FORMS": 0,
+            "orders-MAX_NUM_FORMS": 100,
+            "client": client.id,
+            "delivery_date": "2016-12-22",
+            "status": "O",
+            "orders-0-component": component.id,
+            "orders-0-component_group": "main_dish",
+            "orders-0-price": "5",
+            "orders-0-billable_flag": True,
+            "orders-0-size": "R",
+            "orders-0-order_item_type": "meal_component",
+            "orders-0-remark": "Order item without errors",
+            "orders-0-total_quantity": "5",
         }
         response = self.client.post(route, data, follow=True)
-        order = Order.objects.latest('id')
+        order = Order.objects.latest("id")
         self.assertTrue(response.status_code, 200)
-        self.assertRedirects(
-            response,
-            reverse('order:view', kwargs={'pk': order.id})
-        )
+        self.assertRedirects(response, reverse("order:view", kwargs={"pk": order.id}))
 
 
 class OrderListTestCase(TestCase):
     pass
 
 
 class OrderStatusChangeTestCase(OrderItemTestCase):
-
     def setUp(self):
         order = self.order
-        order.status = 'B'
+        order.status = "B"
         order.save()
 
     def test_valid_creation_changes_order_status(self):
         order = self.order
-        osc = OrderStatusChange(
-            order=order,
-            status_from='B',
-            status_to='D'
-        )
+        osc = OrderStatusChange(order=order, status_from="B", status_to="D")
         osc.save()
         order.refresh_from_db()
-        self.assertEqual(order.status, 'D')
+        self.assertEqual(order.status, "D")
 
     def test_invalid_creation_wrong_status_from(self):
         order = self.order
         with self.assertRaises(ValidationError):
-            osc = OrderStatusChange(
-                order=order,
-                status_from='D',
-                status_to='N'
-            )
+            osc = OrderStatusChange(order=order, status_from="D", status_to="N")
             osc.save()
 
     def test_reason_field_bilingual(self):
         order = self.order
         reason = "n prl frnas "
         osc = OrderStatusChange.objects.create(
-            order=order,
-            status_from='B',
-            status_to='D',
-            reason=reason
+            order=order, status_from="B", status_to="D", reason=reason
         )
         osc.refresh_from_db()
         self.assertEqual(osc.reason, reason)
 
 
 class OrderStatusChangeViewTestCase(OrderItemTestCase):
-
     def setUp(self):
         order = self.order
-        order.status = 'B'
+        order.status = "B"
         order.save()
-        self.client.force_login(
-            self.admin, 'django.contrib.auth.backends.ModelBackend')
+        self.client.force_login(self.admin, "django.contrib.auth.backends.ModelBackend")
 
     def test_get_page(self):
         response = self.client.get(
-            reverse('order:update_status', kwargs={'pk': self.order.id})
+            reverse("order:update_status", kwargs={"pk": self.order.id})
         )
         self.assertEqual(response.status_code, 200)
 
     def test_update_status(self):
-        data = {
-            'order': self.order.pk,
-            'status_to': 'D',
-            'status_from': 'B'
-        }
+        data = {"order": self.order.pk, "status_to": "D", "status_from": "B"}
         response = self.client.post(
-            reverse('order:update_status', kwargs={'pk': self.order.id}),
+            reverse("order:update_status", kwargs={"pk": self.order.id}),
             data,
-            HTTP_X_REQUESTED_WITH='XMLHttpRequest',
+            HTTP_X_REQUESTED_WITH="XMLHttpRequest",
         )
         # create successful. Returns json
         self.assertEqual(response.status_code, 200)
         self.order.refresh_from_db()
-        self.assertEqual(self.order.status, 'D')
+        self.assertEqual(self.order.status, "D")
 
     def test_no_charge_requires_a_reason(self):
-        data = {
-            'order': self.order.pk,
-            'status_to': 'N',
-            'status_from': 'B'
-        }
+        data = {"order": self.order.pk, "status_to": "N", "status_from": "B"}
         response = self.client.post(
-            reverse('order:update_status', kwargs={'pk': self.order.id}),
+            reverse("order:update_status", kwargs={"pk": self.order.id}),
             data,
-            HTTP_X_REQUESTED_WITH='XMLHttpRequest',
+            HTTP_X_REQUESTED_WITH="XMLHttpRequest",
+        )
+        self.assertFormError(
+            response, "form", "reason", "A reason is required for No Charge order."
         )
-        self.assertFormError(response, 'form',
-                             'reason',
-                             'A reason is required for No Charge order.')
         self.order.refresh_from_db()
-        self.assertEqual(self.order.status, 'B')
+        self.assertEqual(self.order.status, "B")
 
     def test_redirects_users_who_do_not_have_edit_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
-        url = reverse('order:update_status', args=(self.order.id, ))
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
+        url = reverse("order:update_status", args=(self.order.id,))
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 302)
 
     def test_allow_access_to_users_with_edit_permission(self):
         # Setup
         User.objects.create_superuser(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
-        url = reverse('order:update_status', args=(self.order.id, ))
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
+        url = reverse("order:update_status", args=(self.order.id,))
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class OrderCreateFormTestCase(OrderFormTestCase):
-
     def test_access_to_create_form(self):
         """Test if the form is accessible from its url"""
-        response = self.client.get(
-            reverse_lazy(
-                'order:create'
-            ), follow=True
-        )
+        response = self.client.get(reverse_lazy("order:create"), follow=True)
         self.assertEqual(response.status_code, 200)
 
     def test_create_form_validate_data(self):
         """Test all the step of the form with and without wrong data"""
         client = ClientFactory()
         component = ComponentFactory(name="Component create validate test")
-        route = reverse_lazy('order:create')
+        route = reverse_lazy("order:create")
         self._test_order_with_errors(route)
         self._test_order_without_errors(route, client)
         self._test_order_item_with_errors(route, client)
         self._test_order_item_without_errors(route, client, component)
 
     def test_create_form_save_data(self):
         client = ClientFactory()
         data = {
-            'orders-TOTAL_FORMS': 1,
-            'orders-INITIAL_FORMS': 0,
-            'orders-MIN_NUM_FORMS': 0,
-            'orders-MAX_NUM_FORMS': 100,
-            'client': client.id,
-            'delivery_date': '2016-12-22',
-            'status': 'O',
-            'orders-0-component_group': 'main_dish',
-            'orders-0-price': '5',
-            'orders-0-billable_flag': True,
-            'orders-0-size': 'R',
-            'orders-0-order_item_type': 'meal_component',
-            'orders-0-remark': 'Order item without errors',
-            'orders-0-total_quantity': '5',
+            "orders-TOTAL_FORMS": 1,
+            "orders-INITIAL_FORMS": 0,
+            "orders-MIN_NUM_FORMS": 0,
+            "orders-MAX_NUM_FORMS": 100,
+            "client": client.id,
+            "delivery_date": "2016-12-22",
+            "status": "O",
+            "orders-0-component_group": "main_dish",
+            "orders-0-price": "5",
+            "orders-0-billable_flag": True,
+            "orders-0-size": "R",
+            "orders-0-order_item_type": "meal_component",
+            "orders-0-remark": "Order item without errors",
+            "orders-0-total_quantity": "5",
         }
-        self.client.post(
-            reverse('order:create'),
-            data,
-            follow=True
-        )
-        order = Order.objects.latest('id')
+        self.client.post(reverse("order:create"), data, follow=True)
+        order = Order.objects.latest("id")
         self.assertEqual(order.client.id, client.id)
-        self.assertEqual(order.orders.first().component_group, 'main_dish')
+        self.assertEqual(order.orders.first().component_group, "main_dish")
         self.assertEqual(order.creation_date, date.today())
         self.assertEqual(order.delivery_date, date(2016, 12, 22))
         self.assertEqual(order.price, 5)
         self.assertEqual(order.orders.first().billable_flag, True)
-        self.assertEqual(order.orders.first().size, 'R')
-        self.assertEqual(order.orders.first().order_item_type,
-                         'meal_component')
-        self.assertEqual(
-            order.orders.first().remark,
-            'Order item without errors'
-        )
+        self.assertEqual(order.orders.first().size, "R")
+        self.assertEqual(order.orders.first().order_item_type, "meal_component")
+        self.assertEqual(order.orders.first().remark, "Order item without errors")
         self.assertEqual(order.orders.first().total_quantity, 5)
 
 
 class OrderUpdateFormTestCase(OrderFormTestCase):
-
     def test_access_to_update_form(self):
         """Test if the form is accessible from its url"""
         response = self.client.get(
-            reverse_lazy(
-                'order:update',
-                kwargs={'pk': self.order.id}
-            ), follow=True
+            reverse_lazy("order:update", kwargs={"pk": self.order.id}), follow=True
         )
         self.assertEqual(response.status_code, 200)
 
     def test_update_form_validate_data(self):
         """Test all the step of the form with and without wrong data"""
         client = ClientFactory()
         component = ComponentFactory(name="Component update validate test")
-        route = reverse_lazy('order:update', kwargs={'pk': self.order.id})
+        route = reverse_lazy("order:update", kwargs={"pk": self.order.id})
         self._test_order_with_errors(route)
         self._test_order_without_errors(route, client)
         self._test_order_item_with_errors(route, client)
         self._test_order_item_without_errors(route, client, component)
 
     def test_update_form_save_data(self):
         data = {
-            'orders-TOTAL_FORMS': 1,
-            'orders-INITIAL_FORMS': 0,
-            'orders-MIN_NUM_FORMS': 0,
-            'orders-MAX_NUM_FORMS': 100,
-            'client': self.order.client.id,
-            'delivery_date': '2016-12-22',
-            'status': 'O',
-            'orders-0-id': self.order.orders.first().id,
-            'orders-0-component_group': 'main_dish',
-            'orders-0-price': '5',
-            'orders-0-billable_flag': True,
-            'orders-0-size': 'R',
-            'orders-0-order_item_type': 'meal_component',
-            'orders-0-remark': 'Order item without errors',
-            'orders-0-total_quantity': '5',
+            "orders-TOTAL_FORMS": 1,
+            "orders-INITIAL_FORMS": 0,
+            "orders-MIN_NUM_FORMS": 0,
+            "orders-MAX_NUM_FORMS": 100,
+            "client": self.order.client.id,
+            "delivery_date": "2016-12-22",
+            "status": "O",
+            "orders-0-id": self.order.orders.first().id,
+            "orders-0-component_group": "main_dish",
+            "orders-0-price": "5",
+            "orders-0-billable_flag": True,
+            "orders-0-size": "R",
+            "orders-0-order_item_type": "meal_component",
+            "orders-0-remark": "Order item without errors",
+            "orders-0-total_quantity": "5",
         }
         self.client.post(
-            reverse_lazy('order:update', kwargs={'pk': self.order.id}),
+            reverse_lazy("order:update", kwargs={"pk": self.order.id}),
             data,
-            follow=True
+            follow=True,
         )
         order = Order.objects.get(id=self.order.id)
         self.assertEqual(order.creation_date, date.today())
         self.assertEqual(order.delivery_date, date(2016, 12, 22))
-        self.assertEqual(order.orders.latest('id').price, 5)
-        self.assertEqual(order.orders.latest('id').billable_flag, True)
-        self.assertEqual(order.orders.latest('id').size, 'R')
-        self.assertEqual(
-            order.orders.latest('id').order_item_type,
-            'meal_component'
-        )
-        self.assertEqual(
-            order.orders.latest('id').remark,
-            'Order item without errors'
-        )
-        self.assertEqual(order.orders.latest('id').total_quantity, 5)
+        self.assertEqual(order.orders.latest("id").price, 5)
+        self.assertEqual(order.orders.latest("id").billable_flag, True)
+        self.assertEqual(order.orders.latest("id").size, "R")
+        self.assertEqual(order.orders.latest("id").order_item_type, "meal_component")
+        self.assertEqual(order.orders.latest("id").remark, "Order item without errors")
+        self.assertEqual(order.orders.latest("id").total_quantity, 5)
 
     def test_redirects_users_who_do_not_have_edit_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
-        url = reverse('order:update', args=(self.order.id, ))
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
+        url = reverse("order:update", args=(self.order.id,))
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 302)
 
     def test_allow_access_to_users_with_edit_permission(self):
         # Setup
         User.objects.create_superuser(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
-        url = reverse('order:update', args=(self.order.id, ))
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
+        url = reverse("order:update", args=(self.order.id,))
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class UpdateClientBillTestCase(SousChefTestMixin, OrderItemTestCase):
-
     def setUp(self):
-        self.client.force_login(
-            self.admin, 'django.contrib.auth.backends.ModelBackend')
+        self.client.force_login(self.admin, "django.contrib.auth.backends.ModelBackend")
 
     def test_post(self):
         response = self.client.post(
-            reverse('order:update_client_bill',
-                    args=(self.total_zero_order.id, ))
+            reverse("order:update_client_bill", args=(self.total_zero_order.id,))
         )
         self.assertEqual(response.status_code, 200)
-        self.assertEqual(response.content, b'OK')
+        self.assertEqual(response.content, b"OK")
         self.total_zero_order.refresh_from_db()
         self.assertTrue(self.total_zero_order.includes_a_bill)
 
     def test_delete(self):
         response = self.client.delete(
-            reverse('order:update_client_bill',
-                    args=(self.order.id, ))
+            reverse("order:update_client_bill", args=(self.order.id,))
         )
         self.assertEqual(response.status_code, 200)
-        self.assertEqual(response.content, b'OK')
+        self.assertEqual(response.content, b"OK")
         self.order.refresh_from_db()
         self.assertFalse(self.order.includes_a_bill)
 
     def test_back_and_forth(self):
         for i in range(10):
             response = self.client.delete(
-                reverse('order:update_client_bill',
-                        args=(self.order.id, ))
+                reverse("order:update_client_bill", args=(self.order.id,))
             )
             self.assertEqual(response.status_code, 200)
-            self.assertEqual(response.content, b'OK')
+            self.assertEqual(response.content, b"OK")
             self.order.refresh_from_db()
             self.assertFalse(self.order.includes_a_bill)
 
             response = self.client.post(
-                reverse('order:update_client_bill',
-                        args=(self.order.id, ))
+                reverse("order:update_client_bill", args=(self.order.id,))
             )
             self.assertEqual(response.status_code, 200)
-            self.assertEqual(response.content, b'OK')
+            self.assertEqual(response.content, b"OK")
             self.order.refresh_from_db()
             self.assertTrue(self.order.includes_a_bill)
 
     def test_redirects_users_who_do_not_have_edit_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('order:update_client_bill', kwargs={'pk': 1})
+        self.client.login(username="foo", password="secure")
+        url = reverse("order:update_client_bill", kwargs={"pk": 1})
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 302)
         # Run
         response = self.client.post(url)
         # Check
@@ -1513,18 +1508,22 @@
         response = self.client.delete(url)
         # Check
         self.assertEqual(response.status_code, 302)
 
     def test_allow_access_to_users_with_edit_permission(self):
         # Setup
         user = User.objects.create_superuser(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo",
+            email="foo@example.com",
+            password="secure",
+            is_active=True,
+        )
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('order:update_client_bill', kwargs={'pk': 1})
+        self.client.login(username="foo", password="secure")
+        url = reverse("order:update_client_bill", kwargs={"pk": self.order.id})
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 405)
         # Run
         response = self.client.post(url)
         # Check
@@ -1536,254 +1535,254 @@
         # Run
         response = self.client.delete(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class DeleteOrderTestCase(OrderFormTestCase):
-
     def test_confirm_delete_order(self):
         response = self.client.get(
-            reverse('order:delete', args=(self.order.id,)),
-            follow=True
+            reverse("order:delete", args=(self.order.id,)), follow=True
         )
-        self.assertContains(response,
-                            "{} #{}".format(_('Delete Order'), self.order.id))
+        self.assertContains(response, "{} #{}".format(_("Delete Order"), self.order.id))
 
     def test_delete_order(self):
         # The template will POST with a 'next' parameter, which is the URL to
         # follow on success.
-        next_value = '?name=&status=O&delivery_date='
+        next_value = "?name=&status=O&delivery_date="
         response = self.client.post(
-            (reverse('order:delete', args=(self.order.id,)) + '?next=' +
-                reverse('order:list') + urllib.parse.quote_plus(next_value)),
-            follow=True
+            (
+                reverse("order:delete", args=(self.order.id,))
+                + "?next="
+                + reverse("order:list")
+                + urllib.parse.quote_plus(next_value)
+            ),
+            follow=True,
+        )
+        self.assertRedirects(
+            response, reverse("order:list") + next_value, status_code=302
         )
-        self.assertRedirects(response, reverse('order:list') + next_value,
-                             status_code=302)
 
     def test_redirects_users_who_do_not_have_edit_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
-        url = reverse('order:delete', args=(self.order.id, ))
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
+        url = reverse("order:delete", args=(self.order.id,))
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 302)
 
     def test_allow_access_to_users_with_edit_permission(self):
         # Setup
         User.objects.create_superuser(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
-        url = reverse('order:delete', args=(self.order.id, ))
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
+        url = reverse("order:delete", args=(self.order.id,))
         # Run
-        response = self.client.post(url, {'next': '/'}, follow=True)
+        response = self.client.post(url, {"next": "/"}, follow=True)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class RedirectAnonymousUserTestCase(SousChefTestMixin, TestCase):
-
     def test_anonymous_user_gets_redirect_to_login_page(self):
         check = self.assertRedirectsWithAllMethods
-        check(reverse('order:list'))
-        check(reverse('order:view', kwargs={'pk': 1}))
-        check(reverse('order:create'))
-        check(reverse('order:create_batch'))
-        check(reverse('order:update', kwargs={'pk': 1}))
-        check(reverse('order:update_status', kwargs={'pk': 1}))
-        check(reverse('order:update_client_bill', kwargs={'pk': 1}))
-        check(reverse('order:cancel', kwargs={'pk': 1}))
-        check(reverse('order:delete', kwargs={'pk': 1}))
+        check(reverse("order:list"))
+        check(reverse("order:view", kwargs={"pk": 1}))
+        check(reverse("order:create"))
+        check(reverse("order:create_batch"))
+        check(reverse("order:update", kwargs={"pk": 1}))
+        check(reverse("order:update_status", kwargs={"pk": 1}))
+        check(reverse("order:update_client_bill", kwargs={"pk": 1}))
+        check(reverse("order:cancel", kwargs={"pk": 1}))
+        check(reverse("order:delete", kwargs={"pk": 1}))
 
 
 class CommandsTestCase(TestCase):
     "Test custom manage.py commands"
 
     @classmethod
     def setUpTestData(cls):
         cls.admin = User.objects.create_superuser(
-            username='admin@example.com',
-            email='admin@example.com',
-            password='test',
-            pk=1  # command will log
+            username="admin@example.com",
+            email="admin@example.com",
+            password="test",
+            pk=1,  # command will log
         )
         RouteFactory()
         meals_default = {
-            'main_dish_friday_quantity': 2,
-            'size_friday': 'R',
-            'dessert_friday_quantity': 0,
-            'diabetic_dessert_friday_quantity': 0,
-            'fruit_salad_friday_quantity': 1,
-            'green_salad_friday_quantity': 1,
-            'pudding_friday_quantity': 1,
-            'compote_friday_quantity': 0,
-            'main_dish_monday_quantity': 2,
-            'size_monday': 'L',
-            'dessert_monday_quantity': 1,
-            'diabetic_dessert_monday_quantity': 0,
-            'fruit_salad_monday_quantity': 1,
-            'green_salad_monday_quantity': 1,
-            'pudding_monday_quantity': 1,
-            'compote_monday_quantity': 0,
+            "main_dish_friday_quantity": 2,
+            "size_friday": "R",
+            "dessert_friday_quantity": 0,
+            "diabetic_dessert_friday_quantity": 0,
+            "fruit_salad_friday_quantity": 1,
+            "green_salad_friday_quantity": 1,
+            "pudding_friday_quantity": 1,
+            "compote_friday_quantity": 0,
+            "main_dish_monday_quantity": 2,
+            "size_monday": "L",
+            "dessert_monday_quantity": 1,
+            "diabetic_dessert_monday_quantity": 0,
+            "fruit_salad_monday_quantity": 1,
+            "green_salad_monday_quantity": 1,
+            "pudding_monday_quantity": 1,
+            "compote_monday_quantity": 0,
         }
         cls.ongoing_clients = ClientFactory.create_batch(
-            10, status=Client.ACTIVE, delivery_type='O',
-            meal_default_week=meals_default
+            10, status=Client.ACTIVE, delivery_type="O", meal_default_week=meals_default
         )
         for c in cls.ongoing_clients:
-            c.set_simple_meals_schedule([
-                'monday', 'tuesday', 'wednesday', 'thursday', 'friday',
-                'saturday', 'sunday'])
+            c.set_simple_meals_schedule(
+                [
+                    "monday",
+                    "tuesday",
+                    "wednesday",
+                    "thursday",
+                    "friday",
+                    "saturday",
+                    "sunday",
+                ]
+            )
 
         cls.episodic_clients = ClientFactory.create_batch(
-            10, status=Client.ACTIVE, delivery_type='E',
-            meal_default_week=meals_default
+            10, status=Client.ACTIVE, delivery_type="E", meal_default_week=meals_default
         )
         cls.other_clients = (
             ClientFactory(status=Client.PENDING),
             ClientFactory(status=Client.PAUSED),
             ClientFactory(status=Client.STOPNOCONTACT),
             ClientFactory(status=Client.STOPCONTACT),
-            ClientFactory(status=Client.DECEASED)
+            ClientFactory(status=Client.DECEASED),
         )
 
     def test_generateorders_1day(self):
         """Generate one day's orders"""
 
         args = ["2016-11-25"]  # Friday
         opts = {}
-        call_command('generateorders', *args, **opts)
-        self.assertEqual(
-            Order.objects.all().count(),
-            len(self.ongoing_clients)
-        )
+        call_command("generateorders", *args, **opts)
+        self.assertEqual(Order.objects.all().count(), len(self.ongoing_clients))
 
     def test_generateorders_10day_norepeat(self):
         """Generate 10 days' orders"""
 
         args = ["2016-11-22"]
-        opts = {'days': 7}
-        call_command('generateorders', *args, **opts)
-        self.assertEqual(
-            Order.objects.all().count(),
-            len(self.ongoing_clients) * 2
-        )
+        opts = {"days": 7}
+        call_command("generateorders", *args, **opts)
+        self.assertEqual(Order.objects.all().count(), len(self.ongoing_clients) * 2)
 
         args = ["2016-11-25"]
-        opts = {'days': 7}
-        call_command('generateorders', *args, **opts)
-        self.assertEqual(
-            Order.objects.all().count(),
-            len(self.ongoing_clients) * 2
-        )
+        opts = {"days": 7}
+        call_command("generateorders", *args, **opts)
+        self.assertEqual(Order.objects.all().count(), len(self.ongoing_clients) * 2)
 
     def test_generateorders_create_only_if_scheduled_today(self):
         """
         Refs bug #734.
         If a client is ongoing but don't have scheduled delivery,
         then don't generate his order.
         """
         for c in self.ongoing_clients[:4]:
             # No delivery on Friday for 4 clients.
-            c.set_simple_meals_schedule([
-                'monday', 'tuesday', 'wednesday', 'thursday',  # No Fridays
-                'saturday', 'sunday'])
+            c.set_simple_meals_schedule(
+                [
+                    "monday",
+                    "tuesday",
+                    "wednesday",
+                    "thursday",  # No Fridays
+                    "saturday",
+                    "sunday",
+                ]
+            )
 
         args = ["2016-11-25"]  # Friday
         opts = {}
-        call_command('generateorders', *args, **opts)
+        call_command("generateorders", *args, **opts)
         self.assertEqual(
             Order.objects.all().count(),
             # The 4 clients should be excluded.
-            len(self.ongoing_clients) - 4
+            len(self.ongoing_clients) - 4,
         )
 
     def test_setordersdelivered(self):
         """Set status to delivered for orders on a given day"""
         delivery_date_str = "2017-12-09"
-        delivery_date = datetime.datetime.strptime(
-            delivery_date_str, '%Y-%m-%d').date()
+        delivery_date = datetime.datetime.strptime(delivery_date_str, "%Y-%m-%d").date()
 
         # status should be set to Delivered
-        OrderFactory(
-            delivery_date=delivery_date,
-            status=ORDER_STATUS_ORDERED
-        )
+        OrderFactory(delivery_date=delivery_date, status=ORDER_STATUS_ORDERED)
         # status should be set to Delivered
-        OrderFactory(
-            delivery_date=delivery_date,
-            status=ORDER_STATUS_ORDERED
-        )
+        OrderFactory(delivery_date=delivery_date, status=ORDER_STATUS_ORDERED)
         orders_to_be_set = 2
 
         # status should NOT be set to Delivered
-        OrderFactory(
-            delivery_date=delivery_date,
-            status=ORDER_STATUS_CANCELLED
-        )
+        OrderFactory(delivery_date=delivery_date, status=ORDER_STATUS_CANCELLED)
         # status should NOT be set to Delivered
         OrderFactory(
-            delivery_date=datetime.datetime.strptime(
-                "2017-12-31", '%Y-%m-%d').date(),
-            status=ORDER_STATUS_ORDERED
+            delivery_date=datetime.datetime.strptime("2017-12-31", "%Y-%m-%d").date(),
+            status=ORDER_STATUS_ORDERED,
         )
         args = [delivery_date_str]
         opts = {}
-        call_command('setordersdelivered', *args, **opts)
+        call_command("setordersdelivered", *args, **opts)
         self.assertEqual(
             Order.objects.filter(
-                delivery_date=delivery_date,
-                status=ORDER_STATUS_DELIVERED).count(),
-            orders_to_be_set
+                delivery_date=delivery_date, status=ORDER_STATUS_DELIVERED
+            ).count(),
+            orders_to_be_set,
         )
 
 
 class OrderListViewTestCase(SousChefTestMixin, TestCase):
     def test_redirects_users_who_do_not_have_read_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
-        url = reverse('order:list')
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
+        url = reverse("order:list")
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_read_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('order:list')
+        self.client.login(username="foo", password="secure")
+        url = reverse("order:list")
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
 
 
 class OrderDetailViewTestCase(SousChefTestMixin, OrderTestCase):
     def test_redirects_users_who_do_not_have_read_permission(self):
         # Setup
         User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
-        self.client.login(username='foo', password='secure')
-        url = reverse('order:view', args=(self.order.id, ))
+            username="foo", email="foo@example.com", password="secure"
+        )
+        self.client.login(username="foo", password="secure")
+        url = reverse("order:view", args=(self.order.id,))
         # Run & check
         self.assertRedirectsWithAllMethods(url)
 
     def test_allow_access_to_users_with_read_permission(self):
         # Setup
         user = User.objects.create_user(
-            username='foo', email='foo@example.com', password='secure')
+            username="foo", email="foo@example.com", password="secure"
+        )
         user.is_staff = True
         user.save()
-        self.client.login(username='foo', password='secure')
-        url = reverse('order:view', args=(self.order.id, ))
+        self.client.login(username="foo", password="secure")
+        url = reverse("order:view", args=(self.order.id,))
         # Run
         response = self.client.get(url)
         # Check
         self.assertEqual(response.status_code, 200)
```

### Comparing `souschef-1.3.6/souschef/order/urls.py` & `souschef-1.3.7/souschef/order/urls.py`

 * *Files 12% similar despite different names*

```diff
@@ -12,28 +12,26 @@
     UpdateOrder,
     UpdateOrderStatus,
 )
 
 app_name = "order"
 
 urlpatterns = [
-    url(_(r'^list/$'), OrderList.as_view(), name='list'),
-    url(_(r'^view/(?P<pk>\d+)/$'), OrderDetail.as_view(), name='view'),
-    url(_(r'^create/$'), CreateOrder.as_view(), name='create'),
+    url(_(r"^list/$"), OrderList.as_view(), name="list"),
+    url(_(r"^view/(?P<pk>\d+)/$"), OrderDetail.as_view(), name="view"),
+    url(_(r"^create/$"), CreateOrder.as_view(), name="create"),
     # Multiple orders as once
-    url(_(r'^create/batch$'),
-        CreateOrdersBatch.as_view(), name='create_batch'),
-
-    url(_(r'^update/(?P<pk>\d+)/$'), UpdateOrder.as_view(), name='update'),
+    url(_(r"^create/batch$"), CreateOrdersBatch.as_view(), name="create_batch"),
+    url(_(r"^update/(?P<pk>\d+)/$"), UpdateOrder.as_view(), name="update"),
     url(
-        _(r'^update/(?P<pk>\d+)/status$'),
+        _(r"^update/(?P<pk>\d+)/status$"),
         UpdateOrderStatus.as_view(),
-        name='update_status'
+        name="update_status",
     ),
     url(
-        _(r'^update/(?P<pk>\d+)/client_bill$'),
+        _(r"^update/(?P<pk>\d+)/client_bill$"),
         CreateDeleteOrderClientBill.as_view(),
-        name='update_client_bill'
+        name="update_client_bill",
     ),
-    url(_(r'^cancel/(?P<pk>\d+)/$'), CancelOrder.as_view(), name='cancel'),
-    url(_(r'^delete/(?P<pk>\d+)/$'), DeleteOrder.as_view(), name='delete'),
+    url(_(r"^cancel/(?P<pk>\d+)/$"), CancelOrder.as_view(), name="cancel"),
+    url(_(r"^delete/(?P<pk>\d+)/$"), DeleteOrder.as_view(), name="delete"),
 ]
```

### Comparing `souschef-1.3.6/souschef/order/views.py` & `souschef-1.3.7/souschef/order/views.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,429 +1,458 @@
 import csv
 import json
+from datetime import datetime
 
+from django.contrib import messages
+from django.contrib.auth.mixins import (
+    LoginRequiredMixin,
+    PermissionRequiredMixin,
+)
 from django.http import HttpResponse
 from django.http.response import HttpResponseRedirect
-from django.views import generic, View
-from django.views.decorators.csrf import csrf_exempt
+from django.shortcuts import get_object_or_404
+from django.urls import (
+    reverse,
+    reverse_lazy,
+)
+from django.utils import timezone
 from django.utils.decorators import method_decorator
 from django.utils.translation import ugettext_lazy as _
-from django.contrib.auth.mixins import LoginRequiredMixin
-from django.contrib.auth.mixins import PermissionRequiredMixin
-from django.contrib import messages
-from django.urls import reverse_lazy, reverse
-from django.utils import timezone
-from django.shortcuts import get_object_or_404
-from extra_views import CreateWithInlinesView, UpdateWithInlinesView
-
-from datetime import datetime
-
-from souschef.order.models import ORDER_STATUS_CANCELLED, Order, OrderFilter, \
-    ORDER_STATUS, OrderStatusChange
-from souschef.order.mixins import AjaxableResponseMixin, FormValidAjaxableResponseMixin
-from souschef.order.forms import CreateOrderItem, UpdateOrderItem, \
-    CreateOrdersBatchForm, OrderStatusChangeForm
-
-from souschef.meal.models import COMPONENT_GROUP_CHOICES, COMPONENT_GROUP_CHOICES_SIDES
+from django.views import (
+    View,
+    generic,
+)
+from django.views.decorators.csrf import csrf_exempt
+from extra_views import (
+    CreateWithInlinesView,
+    UpdateWithInlinesView,
+)
+
+from souschef.meal.models import (
+    COMPONENT_GROUP_CHOICES,
+    COMPONENT_GROUP_CHOICES_SIDES,
+)
 from souschef.meal.settings import COMPONENT_SYSTEM_DEFAULT
-from souschef.member.models import Client, DAYS_OF_WEEK
+from souschef.member.models import (
+    DAYS_OF_WEEK,
+    Client,
+)
+from souschef.order.forms import (
+    CreateOrderItem,
+    CreateOrdersBatchForm,
+    OrderStatusChangeForm,
+    UpdateOrderItem,
+)
+from souschef.order.mixins import (
+    AjaxableResponseMixin,
+    FormValidAjaxableResponseMixin,
+)
+from souschef.order.models import (
+    ORDER_STATUS,
+    ORDER_STATUS_CANCELLED,
+    Order,
+    OrderFilter,
+    OrderStatusChange,
+)
 
 
-class OrderList(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.ListView):
-    context_object_name = 'orders'
+class OrderList(LoginRequiredMixin, PermissionRequiredMixin, generic.ListView):
+    context_object_name = "orders"
     model = Order
     paginate_by = 20
-    permission_required = 'sous_chef.read'
-    template_name = 'list.html'
+    permission_required = "sous_chef.read"
+    template_name = "list.html"
 
     def get_queryset(self):
         uf = OrderFilter(self.request.GET)
-        return uf.qs.select_related(
-            'client__member'
-        ).prefetch_related('orders')
+        return uf.qs.select_related("client__member").prefetch_related("orders")
 
     def get_context_data(self, **kwargs):
         uf = OrderFilter(self.request.GET, queryset=self.get_queryset())
 
         context = super(OrderList, self).get_context_data(**kwargs)
 
-        context['filter'] = uf
+        context["filter"] = uf
 
-        text = ''
+        text = ""
         count = 0
         for getVariable in self.request.GET:
             if getVariable == "page":
                 continue
             for getValue in self.request.GET.getlist(getVariable):
                 if count == 0:
                     text += "?" + getVariable + "=" + getValue
                 else:
                     text += "&" + getVariable + "=" + getValue
                 count += 1
 
         text = text + "?" if count == 0 else text + "&"
-        context['get'] = text
+        context["get"] = text
 
         return context
 
     def get(self, request, **kwargs):
 
-        self.format = request.GET.get('format', False)
+        self.format = request.GET.get("format", False)
 
-        if self.format == 'csv':
-            return ExportCSV(
-                self, self.get_queryset()
-            )
+        if self.format == "csv":
+            return ExportCSV(self, self.get_queryset())
 
         return super(OrderList, self).get(request, **kwargs)
 
 
-class OrderDetail(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.DetailView):
+class OrderDetail(LoginRequiredMixin, PermissionRequiredMixin, generic.DetailView):
     model = Order
-    permission_required = 'sous_chef.read'
-    template_name = 'view.html'
-    context_object_name = 'order'
-    queryset = Order.objects.all().prefetch_related(
-        'orders'
-    )
+    permission_required = "sous_chef.read"
+    template_name = "view.html"
+    context_object_name = "order"
+    queryset = Order.objects.all().prefetch_related("orders")
 
     def get_context_data(self, **kwargs):
         context = super(OrderDetail, self).get_context_data(**kwargs)
-        context['status'] = ORDER_STATUS
+        context["status"] = ORDER_STATUS
         return context
 
 
 class CreateOrder(
-        AjaxableResponseMixin, LoginRequiredMixin,
-        PermissionRequiredMixin, CreateWithInlinesView):
-    fields = ['client', 'delivery_date']
+    AjaxableResponseMixin,
+    LoginRequiredMixin,
+    PermissionRequiredMixin,
+    CreateWithInlinesView,
+):
+    fields = ["client", "delivery_date"]
     inlines = [CreateOrderItem]
     model = Order
-    permission_required = 'sous_chef.edit'
-    template_name = 'create.html'
+    permission_required = "sous_chef.edit"
+    template_name = "create.html"
 
     # TODO: Change the validation of the form,
     # If component is present, then component_group is not required
     # and vice versa
 
     def get_success_url(self):
         return self.object.get_absolute_url()
 
 
-class CreateOrdersBatch(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.FormView):
-    permission_required = 'sous_chef.edit'
-    success_url = reverse_lazy('order:create_batch')
+class CreateOrdersBatch(LoginRequiredMixin, PermissionRequiredMixin, generic.FormView):
+    permission_required = "sous_chef.edit"
+    success_url = reverse_lazy("order:create_batch")
     template_name = "order/create_batch.html"
 
     def get_form(self, *args, **kwargs):
         k = self.get_form_kwargs()  # kwargs to initialize the form
-        if self.request.method == "POST" and \
-           self.request.POST.get('delivery_dates'):
-            k['delivery_dates'] = self.request.POST[
-                'delivery_dates'
-            ].split('|')
+        if self.request.method == "POST" and self.request.POST.get("delivery_dates"):
+            k["delivery_dates"] = self.request.POST["delivery_dates"].split("|")
 
         return CreateOrdersBatchForm(**k)
 
     def get_context_data(self, **kwargs):
         context = super(CreateOrdersBatch, self).get_context_data(**kwargs)
         # Define here any needed variable for template
-        context["meals"] = list(filter(
-            lambda tup: tup[0] != COMPONENT_GROUP_CHOICES_SIDES,
-            COMPONENT_GROUP_CHOICES
-        ))
+        context["meals"] = list(
+            filter(
+                lambda tup: tup[0] != COMPONENT_GROUP_CHOICES_SIDES,
+                COMPONENT_GROUP_CHOICES,
+            )
+        )
 
         # delivery_dates
-        if self.request.method == "POST" and \
-           self.request.POST.get('delivery_dates'):
-            delivery_dates = self.request.POST['delivery_dates'].split('|')
+        if self.request.method == "POST" and self.request.POST.get("delivery_dates"):
+            delivery_dates = self.request.POST["delivery_dates"].split("|")
         else:
             delivery_dates = []
 
         # dates of orders to override
-        if self.request.method == "POST" and \
-           self.request.POST.get('override_dates'):
-            override_dates = self.request.POST['override_dates'].split('|')
+        if self.request.method == "POST" and self.request.POST.get("override_dates"):
+            override_dates = self.request.POST["override_dates"].split("|")
             override_dates = [x for x in override_dates if x in delivery_dates]
         else:
             override_dates = []
 
         # inactive accordion dates
-        if self.request.method == "POST" and \
-           self.request.POST.get('accordions_inactive'):
-            context[
-                'accordions_inactive'
-            ] = self.request.POST['accordions_inactive'].split('|')
+        if self.request.method == "POST" and self.request.POST.get(
+            "accordions_inactive"
+        ):
+            context["accordions_inactive"] = self.request.POST[
+                "accordions_inactive"
+            ].split("|")
         else:
-            context['accordions_inactive'] = []
+            context["accordions_inactive"] = []
 
-        if self.request.method == "POST" and \
-           self.request.POST.get('client'):
-            c = Client.objects.get(pk=self.request.POST['client'])
+        if self.request.method == "POST" and self.request.POST.get("client"):
+            c = Client.objects.get(pk=self.request.POST["client"])
             meals_default_dict = dict(c.meals_default)
-            context['client'] = c
+            context["client"] = c
 
             # The dates where an order already exists.
             today = timezone.datetime.today()
-            ordered_dates = c.orders.filter(
-                delivery_date__gte=today
-            ).exclude(status='C').order_by('delivery_date').values_list(
-                'delivery_date', flat=True
+            ordered_dates = (
+                c.orders.filter(delivery_date__gte=today)
+                .exclude(status="C")
+                .order_by("delivery_date")
+                .values_list("delivery_date", flat=True)
+            )
+            context["ordered_dates"] = "|".join(
+                map(lambda d: d.strftime("%Y-%m-%d"), ordered_dates)
             )
-            context['ordered_dates'] = '|'.join(map(
-                lambda d: d.strftime('%Y-%m-%d'),
-                ordered_dates
-            ))
         else:
             meals_default_dict = dict(
-                map(
-                    lambda x: (x[0], None),
-                    DAYS_OF_WEEK
-                ),
+                map(lambda x: (x[0], None), DAYS_OF_WEEK),
             )
 
-        context['delivery_dates'] = []
-        context['override_orders'] = []
+        context["delivery_dates"] = []
+        context["override_orders"] = []
         for date in delivery_dates:
-            date_obj = datetime.strptime(date, '%Y-%m-%d')
+            date_obj = datetime.strptime(date, "%Y-%m-%d")
             # sunday = 0, saturday = 6
-            day = ("sunday", "monday", "tuesday", "wednesday", "thursday",
-                   "friday", "saturday")[int(date_obj.strftime('%w'))]
-
-            if date not in override_dates and context.get('client'):
-                order_on_day = context['client'].orders\
-                    .filter(delivery_date=date_obj).exclude(status='C').first()
-                if context.get('client') and order_on_day:
+            day = (
+                "sunday",
+                "monday",
+                "tuesday",
+                "wednesday",
+                "thursday",
+                "friday",
+                "saturday",
+            )[int(date_obj.strftime("%w"))]
+
+            if date not in override_dates and context.get("client"):
+                order_on_day = (
+                    context["client"]
+                    .orders.filter(delivery_date=date_obj)
+                    .exclude(status="C")
+                    .first()
+                )
+                if context.get("client") and order_on_day:
                     # the client has an active order already on this day.
                     # show the warning modal if it's not already being shown.
-                    context['show_override_modal'] = True
-                    context['override_orders'].append(order_on_day)
+                    context["show_override_modal"] = True
+                    context["override_orders"].append(order_on_day)
 
             if not meals_default_dict[day]:  # None or {}
                 # system default
-                default_json = json.dumps(
-                    COMPONENT_SYSTEM_DEFAULT
-                )
+                default_json = json.dumps(COMPONENT_SYSTEM_DEFAULT)
             else:
                 # client default
                 default_json = json.dumps(meals_default_dict[day])
 
-            context['delivery_dates'].append(
-                (date, date_obj, default_json)
-            )
+            context["delivery_dates"].append((date, date_obj, default_json))
 
-        context['override_dates'] = '|'.join(override_dates)
+        context["override_dates"] = "|".join(override_dates)
         return context
 
     def form_invalid(self, form, **kwargs):
         # open accordions if there's an invalid field in it.
         context = self.get_context_data(**kwargs)
-        context['form'] = form
-        if form.cleaned_data.get('is_submit') != 1:
+        context["form"] = form
+        if form.cleaned_data.get("is_submit") != 1:
             form._errors = {}
         else:
             for field in form.errors.keys():
                 try:
                     # next() - find first occurence
                     invalid_date = next(
-                        date for date in context['accordions_inactive']
-                        if date in field
+                        date for date in context["accordions_inactive"] if date in field
                     )
                     print(invalid_date)
-                    context['accordions_inactive'].remove(invalid_date)
+                    context["accordions_inactive"].remove(invalid_date)
                 except StopIteration:
                     pass
 
         return self.render_to_response(context)
 
     def form_valid(self, form):
         # Get posted datas
-        del_dates = form.cleaned_data['delivery_dates'].split('|')
-        ovr_dates = form.cleaned_data['override_dates'].split('|')
-        client = form.cleaned_data['client']
+        del_dates = form.cleaned_data["delivery_dates"].split("|")
+        ovr_dates = form.cleaned_data["override_dates"].split("|")
+        client = form.cleaned_data["client"]
         items = form.cleaned_data
-        del items['delivery_dates']
-        del items['client']
+        del items["delivery_dates"]
+        del items["client"]
 
         # Place orders using posted datas
         created_orders = Order.objects.create_batch_orders(
             del_dates, client, items, override_dates=ovr_dates
         )
 
         # check created and uncreated dates
         created_dates = []
         for order in created_orders:
-            d = order.delivery_date.strftime('%Y-%m-%d')
+            d = order.delivery_date.strftime("%Y-%m-%d")
             created_dates.append(d)
         uncreated_dates = []
         for d in del_dates:
             if d not in created_dates:
                 uncreated_dates.append(d)
 
         # Alert user on order placement
         if created_dates:
             messages.add_message(
-                self.request, messages.SUCCESS,
-                (_('%(n)s order(s) successfully placed '
-                   'for %(client)s on %(dates)s.') % {
-                       'n': len(created_dates),
-                       'client': client,
-                       'dates': ', '.join(created_dates)
-                })
+                self.request,
+                messages.SUCCESS,
+                (
+                    _(
+                        "%(n)s order(s) successfully placed "
+                        "for %(client)s on %(dates)s."
+                    )
+                    % {
+                        "n": len(created_dates),
+                        "client": client,
+                        "dates": ", ".join(created_dates),
+                    }
+                ),
             )
         if uncreated_dates:
             messages.add_message(
-                self.request, messages.WARNING,
-                (_('%(n)s existing order(s) skipped '
-                   'for %(client)s on %(dates)s.') % {
-                       'n': len(uncreated_dates),
-                       'client': client,
-                       'dates': ', '.join(uncreated_dates)
-                })
+                self.request,
+                messages.WARNING,
+                (
+                    _("%(n)s existing order(s) skipped " "for %(client)s on %(dates)s.")
+                    % {
+                        "n": len(uncreated_dates),
+                        "client": client,
+                        "dates": ", ".join(uncreated_dates),
+                    }
+                ),
             )
 
         response = super(CreateOrdersBatch, self).form_valid(form)
         return response
 
 
 class UpdateOrder(
-        LoginRequiredMixin, PermissionRequiredMixin,
-        AjaxableResponseMixin, UpdateWithInlinesView):
-    fields = ['client', 'delivery_date']
+    LoginRequiredMixin,
+    PermissionRequiredMixin,
+    AjaxableResponseMixin,
+    UpdateWithInlinesView,
+):
+    fields = ["client", "delivery_date"]
     inlines = [UpdateOrderItem]
     model = Order
-    permission_required = 'sous_chef.edit'
-    template_name = 'update.html'
+    permission_required = "sous_chef.edit"
+    template_name = "update.html"
 
     def get_form(self, *args, **kwargs):
         form = super(UpdateOrder, self).get_form(*args, **kwargs)
-        form.fields['client'].queryset = Client.objects.all().select_related(
-            'member'
-        ).only(
-            'member__firstname',
-            'member__lastname'
+        form.fields["client"].queryset = (
+            Client.objects.all()
+            .select_related("member")
+            .only("member__firstname", "member__lastname")
         )
         return form
 
     def get_success_url(self):
         return self.object.get_absolute_url()
 
 
 class UpdateOrderStatus(
-        LoginRequiredMixin, PermissionRequiredMixin,
-        FormValidAjaxableResponseMixin, generic.CreateView):
+    LoginRequiredMixin,
+    PermissionRequiredMixin,
+    FormValidAjaxableResponseMixin,
+    generic.CreateView,
+):
     form_class = OrderStatusChangeForm
     model = OrderStatusChange
-    permission_required = 'sous_chef.edit'
+    permission_required = "sous_chef.edit"
     template_name = "order_update_status.html"
 
     def get_context_data(self, **kwargs):
         context = super(UpdateOrderStatus, self).get_context_data(**kwargs)
-        context['order'] = get_object_or_404(
-            Order, pk=self.kwargs.get('pk')
-        )
-        context['order_status'] = ORDER_STATUS
-        context['order_no_charge'] = 'N'
-        context['order_no_charge_reasons'] = (
-            _('Restrictions mistake'),
-            _('Delivery mistake'),
-            _('Really unhappy client')
+        context["order"] = get_object_or_404(Order, pk=self.kwargs.get("pk"))
+        context["order_status"] = ORDER_STATUS
+        context["order_no_charge"] = "N"
+        context["order_no_charge_reasons"] = (
+            _("Restrictions mistake"),
+            _("Delivery mistake"),
+            _("Really unhappy client"),
         )
         return context
 
     def get_initial(self):
-        order = get_object_or_404(Order, pk=self.kwargs.get('pk'))
+        order = get_object_or_404(Order, pk=self.kwargs.get("pk"))
         return {
-            'order': self.kwargs.get('pk'),
-            'status_from': order.status,
-            'status_to': self.request.GET.get('status'),
+            "order": self.kwargs.get("pk"),
+            "status_from": order.status,
+            "status_to": self.request.GET.get("status"),
         }
 
     def form_valid(self, form):
         response = super(UpdateOrderStatus, self).form_valid(form)
         messages.add_message(
-            self.request, messages.SUCCESS,
-            _("The order status was updated successfully.")
+            self.request,
+            messages.SUCCESS,
+            _("The order status was updated successfully."),
         )
         return response
 
     def get_success_url(self):
-        return reverse(
-            'order:view', kwargs={'pk': self.kwargs.get('pk')}
-        )
+        return reverse("order:view", kwargs={"pk": self.kwargs.get("pk")})
 
 
-@method_decorator(csrf_exempt, name='dispatch')
-class CreateDeleteOrderClientBill(
-        LoginRequiredMixin, PermissionRequiredMixin, View):
-    permission_required = 'sous_chef.edit'
+@method_decorator(csrf_exempt, name="dispatch")
+class CreateDeleteOrderClientBill(LoginRequiredMixin, PermissionRequiredMixin, View):
+    permission_required = "sous_chef.edit"
 
     def get_object(self, pk):
-        return get_object_or_404(
-            Order.objects.prefetch_related('orders'),
-            pk=pk
-        )
+        return get_object_or_404(Order.objects.prefetch_related("orders"), pk=pk)
 
     def post(self, request, pk, *args, **kwargs):
         order = self.get_object(pk)
         order.includes_a_bill = True
-        return HttpResponse('OK', status=200)
+        return HttpResponse("OK", status=200)
 
     def delete(self, request, pk, *args, **kwargs):
         order = self.get_object(pk)
         order.includes_a_bill = False
-        return HttpResponse('OK', status=200)
+        return HttpResponse("OK", status=200)
 
 
-class CancelOrder(
-        LoginRequiredMixin, PermissionRequiredMixin, View):
-    permission_required = 'sous_chef.edit'
+class CancelOrder(LoginRequiredMixin, PermissionRequiredMixin, View):
+    permission_required = "sous_chef.edit"
 
     def post(self, request, pk, *args, **kwargs):
         order = get_object_or_404(Order, pk=pk)
         order.status = ORDER_STATUS_CANCELLED
         order.save()
-        return HttpResponseRedirect(request.GET['next'])
+        return HttpResponseRedirect(request.GET["next"])
 
 
-class DeleteOrder(
-        LoginRequiredMixin, PermissionRequiredMixin, generic.DeleteView):
+class DeleteOrder(LoginRequiredMixin, PermissionRequiredMixin, generic.DeleteView):
     model = Order
-    permission_required = 'sous_chef.edit'
-    template_name = 'order_confirm_delete.html'
+    permission_required = "sous_chef.edit"
+    template_name = "order_confirm_delete.html"
 
     def get_success_url(self):
         # 'next' parameter should always be included in POST'ed URL.
-        return self.request.GET.get('next') or self.request.POST['next']
+        return self.request.GET.get("next") or self.request.POST["next"]
 
 
 def ExportCSV(request, queryset):
     response = HttpResponse(content_type="text/csv")
-    response['Content-Disposition'] =\
-        'attachment; filename=order_export.csv'
+    response["Content-Disposition"] = "attachment; filename=order_export.csv"
     writer = csv.writer(response, csv.excel)
 
-    writer.writerow([
-        "ID",
-        "Client Firstname",
-        "Client Lastname",
-        "Order Status",
-        "Creation Date",
-        "Delivery Date",
-        "price",
-    ])
+    writer.writerow(
+        [
+            "ID",
+            "Client Firstname",
+            "Client Lastname",
+            "Order Status",
+            "Creation Date",
+            "Delivery Date",
+            "price",
+        ]
+    )
 
     for obj in queryset:
-        writer.writerow([
-            obj.id,
-            obj.client.member.firstname,
-            obj.client.member.lastname,
-            obj.get_status_display(),
-            obj.creation_date,
-            obj.delivery_date,
-            obj.price,
-        ])
+        writer.writerow(
+            [
+                obj.id,
+                obj.client.member.firstname,
+                obj.client.member.lastname,
+                obj.get_status_display(),
+                obj.creation_date,
+                obj.delivery_date,
+                obj.price,
+            ]
+        )
 
     return response
```

### Comparing `souschef-1.3.6/souschef/page/templates/pages/home.html` & `souschef-1.3.7/souschef/page/templates/pages/home.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/page/templates/registration/login.html` & `souschef-1.3.7/souschef/page/templates/registration/login.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/page/tests.py` & `souschef-1.3.7/souschef/page/tests.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,113 +1,112 @@
 import json
 
-from django.test import TestCase
 from django.contrib.auth.models import User
-from django.urls import reverse_lazy, reverse
-
-from souschef.member.factories import RouteFactory, ClientFactory
-from souschef.member.models import Client, Option, Client_option
+from django.test import TestCase
+from django.urls import (
+    reverse,
+    reverse_lazy,
+)
+
+from souschef.member.factories import (
+    ClientFactory,
+    RouteFactory,
+)
+from souschef.member.models import (
+    Client,
+    Client_option,
+    Option,
+)
 
 
 class HomeViewTestCase(TestCase):
-
     @classmethod
     def setUpTestData(cls):
         cls.admin = User.objects.create_superuser(
-            username='admin@example.com',
-            email='admin@example.com',
-            password='test'
+            username="admin@example.com", email="admin@example.com", password="test"
         )
 
     def test_access_as_admin(self):
         """Only logged-in users can access the homepage"""
-        self.client.login(
-            username=self.admin.username,
-            password="test"
-        )
-        result = self.client.get(
-            reverse_lazy(
-                'page:home'
-            ),
-            follow=False
-        )
+        self.client.login(username=self.admin.username, password="test")
+        result = self.client.get(reverse_lazy("page:home"), follow=False)
         self.assertEqual(result.status_code, 200)
 
     def test_as_anonymous(self):
         """User not logged-in can not access the homepage"""
         self.client.logout()
-        result = self.client.get(
-            reverse_lazy(
-                'page:home'
-            ),
-            follow=True
-        )
+        result = self.client.get(reverse_lazy("page:home"), follow=True)
         self.assertRedirects(
-            result,
-            reverse('page:login') + '?next=/p/home',
-            status_code=302
+            result, reverse("page:login") + "?next=/p/home", status_code=302
         )
 
     def test_route_meal_statistics(self):
         """
         On dashboard, routes statistics should display:
         "scheduled dishes (+ episodic default dishes)"
         for active, paused and pending clients.
         """
-        self.client.login(
-            username=self.admin.username,
-            password="test"
-        )
+        self.client.login(username=self.admin.username, password="test")
 
         route_factory1 = RouteFactory()
         route_factory2 = RouteFactory()
         route_factory_empty = RouteFactory()  # Empty route
 
         meals_schedule_option, _ = Option.objects.get_or_create(
-            name='meals_schedule', option_group='dish'
+            name="meals_schedule", option_group="dish"
         )
 
         test_clients = (
             # Status        Deliv  Route Mon T Wed T Fri S Sun
-            (Client.PENDING, 'E', route_factory1, 0, 2, 3, 4, 5, 6, 7),  # 1
-            (Client.PENDING, 'E', route_factory2, 2, 3, 0, 1, 0, 3, 5),  # 2
-            (Client.PENDING, 'E', route_factory2, 2, 0, 0, 1, 2, 3, 5),  # 3
-            (Client.ACTIVE,  'E', route_factory1, 1, 2, 3, 4, 5, 6, 0),  # 4
-            (Client.ACTIVE,  'E', route_factory1, 1, 0, 3, 0, 5, 6, 3),  # 5
-            (Client.ACTIVE,  'E', route_factory2, 2, 3, 4, 1, 2, 3, 1),  # 6
-            (Client.PAUSED,  'E', route_factory1, 1, 2, 3, 4, 0, 4, 3),  # 7
-            (Client.PAUSED,  'E', route_factory2, 2, 3, 0, 1, 2, 3, 5),  # 8
-            (Client.PAUSED,  'E', route_factory2, 2, 3, 4, 0, 2, 3, 5),  # 9
-            (Client.STOPNOCONTACT, 'E', route_factory1, 1, 2, 0, 4, 5, 6, 3),  # 10
-            (Client.STOPNOCONTACT, 'E', route_factory2, 0, 3, 4, 1, 2, 3, 1),  # 11
-            (Client.STOPCONTACT,   'E', route_factory1, 1, 2, 3, 4, 5, 6, 7),  # 12
-            (Client.STOPCONTACT,   'E', route_factory1, 1, 0, 3, 4, 5, 6, 7),  # 13
-            (Client.STOPCONTACT,   'E', route_factory2, 2, 3, 4, 1, 2, 3, 5),  # 14
-            (Client.DECEASED,  'E', route_factory1, 1, 2, 0, 4, 5, 6, 3),  # 15
-            (Client.DECEASED,  'E', route_factory2, 2, 3, 4, 1, 0, 3, 1),  # 16
-
-            (Client.PENDING, 'O', route_factory1, 1, 2, 3, 4, 5, 6, 7),  # 51
-            (Client.PENDING, 'O', route_factory1, 7, 6, 5, 4, 3, 2, 1),  # 52
-            (Client.PENDING, 'O', route_factory2, 2, 0, 4, 1, 2, 3, 5),  # 53
-            (Client.ACTIVE,  'O', route_factory1, 6, 5, 0, 3, 2, 1, 5),  # 54
-            (Client.ACTIVE,  'O', route_factory2, 2, 3, 0, 1, 0, 3, 1),  # 55
-            (Client.ACTIVE,  'O', route_factory2, 2, 0, 4, 1, 2, 3, 1),  # 56
-            (Client.PAUSED,  'O', route_factory1, 1, 2, 0, 4, 0, 4, 3),  # 57
-            (Client.PAUSED,  'O', route_factory1, 1, 0, 3, 4, 2, 4, 3),  # 58
-            (Client.PAUSED,  'O', route_factory2, 0, 3, 0, 1, 0, 3, 5),  # 59
-            (Client.STOPNOCONTACT, 'O', route_factory1, 1, 2, 3, 4, 5, 6, 3),  # 60
-            (Client.STOPNOCONTACT, 'O', route_factory2, 2, 3, 4, 1, 2, 3, 1),  # 61
-            (Client.STOPCONTACT,   'O', route_factory1, 1, 2, 3, 4, 5, 6, 7),  # 62
-            (Client.STOPCONTACT,   'O', route_factory1, 1, 0, 3, 4, 5, 6, 7),  # 63
-            (Client.STOPCONTACT,   'O', route_factory2, 2, 3, 4, 1, 2, 3, 5),  # 64
-            (Client.DECEASED,  'O', route_factory1, 1, 2, 3, 4, 5, 6, 3),  # 65
-            (Client.DECEASED,  'O', route_factory2, 2, 3, 4, 1, 2, 3, 1),  # 66
-        )
-
-        for status, delivery_type, route_factory, mon, tue, wed, thu, fri, sat, sun in test_clients:
+            (Client.PENDING, "E", route_factory1, 0, 2, 3, 4, 5, 6, 7),  # 1
+            (Client.PENDING, "E", route_factory2, 2, 3, 0, 1, 0, 3, 5),  # 2
+            (Client.PENDING, "E", route_factory2, 2, 0, 0, 1, 2, 3, 5),  # 3
+            (Client.ACTIVE, "E", route_factory1, 1, 2, 3, 4, 5, 6, 0),  # 4
+            (Client.ACTIVE, "E", route_factory1, 1, 0, 3, 0, 5, 6, 3),  # 5
+            (Client.ACTIVE, "E", route_factory2, 2, 3, 4, 1, 2, 3, 1),  # 6
+            (Client.PAUSED, "E", route_factory1, 1, 2, 3, 4, 0, 4, 3),  # 7
+            (Client.PAUSED, "E", route_factory2, 2, 3, 0, 1, 2, 3, 5),  # 8
+            (Client.PAUSED, "E", route_factory2, 2, 3, 4, 0, 2, 3, 5),  # 9
+            (Client.STOPNOCONTACT, "E", route_factory1, 1, 2, 0, 4, 5, 6, 3),  # 10
+            (Client.STOPNOCONTACT, "E", route_factory2, 0, 3, 4, 1, 2, 3, 1),  # 11
+            (Client.STOPCONTACT, "E", route_factory1, 1, 2, 3, 4, 5, 6, 7),  # 12
+            (Client.STOPCONTACT, "E", route_factory1, 1, 0, 3, 4, 5, 6, 7),  # 13
+            (Client.STOPCONTACT, "E", route_factory2, 2, 3, 4, 1, 2, 3, 5),  # 14
+            (Client.DECEASED, "E", route_factory1, 1, 2, 0, 4, 5, 6, 3),  # 15
+            (Client.DECEASED, "E", route_factory2, 2, 3, 4, 1, 0, 3, 1),  # 16
+            (Client.PENDING, "O", route_factory1, 1, 2, 3, 4, 5, 6, 7),  # 51
+            (Client.PENDING, "O", route_factory1, 7, 6, 5, 4, 3, 2, 1),  # 52
+            (Client.PENDING, "O", route_factory2, 2, 0, 4, 1, 2, 3, 5),  # 53
+            (Client.ACTIVE, "O", route_factory1, 6, 5, 0, 3, 2, 1, 5),  # 54
+            (Client.ACTIVE, "O", route_factory2, 2, 3, 0, 1, 0, 3, 1),  # 55
+            (Client.ACTIVE, "O", route_factory2, 2, 0, 4, 1, 2, 3, 1),  # 56
+            (Client.PAUSED, "O", route_factory1, 1, 2, 0, 4, 0, 4, 3),  # 57
+            (Client.PAUSED, "O", route_factory1, 1, 0, 3, 4, 2, 4, 3),  # 58
+            (Client.PAUSED, "O", route_factory2, 0, 3, 0, 1, 0, 3, 5),  # 59
+            (Client.STOPNOCONTACT, "O", route_factory1, 1, 2, 3, 4, 5, 6, 3),  # 60
+            (Client.STOPNOCONTACT, "O", route_factory2, 2, 3, 4, 1, 2, 3, 1),  # 61
+            (Client.STOPCONTACT, "O", route_factory1, 1, 2, 3, 4, 5, 6, 7),  # 62
+            (Client.STOPCONTACT, "O", route_factory1, 1, 0, 3, 4, 5, 6, 7),  # 63
+            (Client.STOPCONTACT, "O", route_factory2, 2, 3, 4, 1, 2, 3, 5),  # 64
+            (Client.DECEASED, "O", route_factory1, 1, 2, 3, 4, 5, 6, 3),  # 65
+            (Client.DECEASED, "O", route_factory2, 2, 3, 4, 1, 2, 3, 1),  # 66
+        )
+
+        for (
+            status,
+            delivery_type,
+            route_factory,
+            mon,
+            tue,
+            wed,
+            thu,
+            fri,
+            sat,
+            sun,
+        ) in test_clients:
             client_factory = ClientFactory(
                 status=status,
                 delivery_type=delivery_type,
                 route=route_factory,
                 meal_default_week={
                     "main_dish_monday_quantity": mon,
                     "main_dish_tuesday_quantity": tue,
@@ -131,94 +130,91 @@
                     "diabetic_thursday_quantity": 666,
                     "fruit_salad_thursday_quantity": 666,
                     "diabetic_friday_quantity": 666,
                     "fruit_salad_friday_quantity": 666,
                     "compote_saturday_quantity": 666,
                     "dessert_saturday_quantity": 666,
                     "diabetic_sunday_quantity": 666,
-                    "fruit_salad_sunday_quantity": 666
-                }
+                    "fruit_salad_sunday_quantity": 666,
+                },
             )
 
-            if delivery_type == 'O':
+            if delivery_type == "O":
                 # Ongoing: only two delivery days!
                 Client_option.objects.create(
                     client=client_factory,
                     option=meals_schedule_option,
-                    value=json.dumps(['tuesday', 'wednesday'])
+                    value=json.dumps(["tuesday", "wednesday"]),
                 )
 
-        response = self.client.get(
-            reverse_lazy(
-                'page:home'
-            ),
-            follow=False
-        )
+        response = self.client.get(reverse_lazy("page:home"), follow=False)
         self.assertEqual(response.status_code, 200)
-        routes = response.context['routes']
-        routes = {route_name: (schedules, defaults)
-                  for route_name, defaults, schedules in routes}
+        routes = response.context["routes"]
+        routes = {
+            route_name: (schedules, defaults)
+            for route_name, defaults, schedules in routes
+        }
 
         self.assertIn(route_factory1.name, routes)
         self.assertIn(route_factory2.name, routes)
         self.assertIn(route_factory_empty.name, routes)
 
         route1 = routes[route_factory1.name]
         route2 = routes[route_factory2.name]
         route_empty = routes[route_factory_empty.name]
 
         # Ongoing dishes -- ongoing clients on delivery days
         # Test clients 51 & 52 & 54 & 57 & 58
-        self.assertEqual(route1[0].get('monday', 0), 0)
-        self.assertEqual(route1[0].get('tuesday', 0), 2 + 6 + 5 + 2 + 0)
-        self.assertEqual(route1[0].get('wednesday', 0), 3 + 5 + 0 + 0 + 3)
-        self.assertEqual(route1[0].get('thursday', 0), 0)
-        self.assertEqual(route1[0].get('friday', 0), 0)
-        self.assertEqual(route1[0].get('saturday', 0), 0)
-        self.assertEqual(route1[0].get('sunday', 0), 0)
+        self.assertEqual(route1[0].get("monday", 0), 0)
+        self.assertEqual(route1[0].get("tuesday", 0), 2 + 6 + 5 + 2 + 0)
+        self.assertEqual(route1[0].get("wednesday", 0), 3 + 5 + 0 + 0 + 3)
+        self.assertEqual(route1[0].get("thursday", 0), 0)
+        self.assertEqual(route1[0].get("friday", 0), 0)
+        self.assertEqual(route1[0].get("saturday", 0), 0)
+        self.assertEqual(route1[0].get("sunday", 0), 0)
 
         # Test clients 53 & 55 & 56 & 59
-        self.assertEqual(route2[0].get('monday', 0), 0)
-        self.assertEqual(route2[0].get('tuesday', 0), 0 + 3 + 0 + 3)
-        self.assertEqual(route2[0].get('wednesday', 0), 4 + 0 + 4 + 0)
-        self.assertEqual(route2[0].get('thursday', 0), 0)
-        self.assertEqual(route2[0].get('friday', 0), 0)
-        self.assertEqual(route2[0].get('saturday', 0), 0)
-        self.assertEqual(route2[0].get('sunday', 0), 0)
-
-        self.assertEqual(route_empty[0].get('monday', 0), 0)
-        self.assertEqual(route_empty[0].get('tuesday', 0), 0)
-        self.assertEqual(route_empty[0].get('wednesday', 0), 0)
-        self.assertEqual(route_empty[0].get('thursday', 0), 0)
-        self.assertEqual(route_empty[0].get('friday', 0), 0)
-        self.assertEqual(route_empty[0].get('saturday', 0), 0)
-        self.assertEqual(route_empty[0].get('sunday', 0), 0)
+        self.assertEqual(route2[0].get("monday", 0), 0)
+        self.assertEqual(route2[0].get("tuesday", 0), 0 + 3 + 0 + 3)
+        self.assertEqual(route2[0].get("wednesday", 0), 4 + 0 + 4 + 0)
+        self.assertEqual(route2[0].get("thursday", 0), 0)
+        self.assertEqual(route2[0].get("friday", 0), 0)
+        self.assertEqual(route2[0].get("saturday", 0), 0)
+        self.assertEqual(route2[0].get("sunday", 0), 0)
+
+        self.assertEqual(route_empty[0].get("monday", 0), 0)
+        self.assertEqual(route_empty[0].get("tuesday", 0), 0)
+        self.assertEqual(route_empty[0].get("wednesday", 0), 0)
+        self.assertEqual(route_empty[0].get("thursday", 0), 0)
+        self.assertEqual(route_empty[0].get("friday", 0), 0)
+        self.assertEqual(route_empty[0].get("saturday", 0), 0)
+        self.assertEqual(route_empty[0].get("sunday", 0), 0)
 
         # Episodic dishes -- ongoing clients out of delivery days
         #                    and episodic clients
         # Test clients 1 & 4 & 5 & 7 (episodic)
         #              51 & 52 & 54 & 57 & 58 (ongoing)
-        self.assertEqual(route1[1].get('monday', 0), 3)
-        self.assertEqual(route1[1].get('tuesday', 0), 6)
-        self.assertEqual(route1[1].get('wednesday', 0), 12)
-        self.assertEqual(route1[1].get('thursday', 0), 12)
-        self.assertEqual(route1[1].get('friday', 0), 15)
-        self.assertEqual(route1[1].get('saturday', 0), 22)
-        self.assertEqual(route1[1].get('sunday', 0), 13)
+        self.assertEqual(route1[1].get("monday", 0), 3)
+        self.assertEqual(route1[1].get("tuesday", 0), 6)
+        self.assertEqual(route1[1].get("wednesday", 0), 12)
+        self.assertEqual(route1[1].get("thursday", 0), 12)
+        self.assertEqual(route1[1].get("friday", 0), 15)
+        self.assertEqual(route1[1].get("saturday", 0), 22)
+        self.assertEqual(route1[1].get("sunday", 0), 13)
 
         # Test clients 2 & 3 & 6 & 8 & 9 (episodic)
         #              53 & 55 & 56 & 59 (ongoing)
-        self.assertEqual(route2[1].get('monday', 0), 10)
-        self.assertEqual(route2[1].get('tuesday', 0), 12)
-        self.assertEqual(route2[1].get('wednesday', 0), 8)
-        self.assertEqual(route2[1].get('thursday', 0), 4)
-        self.assertEqual(route2[1].get('friday', 0), 8)
-        self.assertEqual(route2[1].get('saturday', 0), 15)
-        self.assertEqual(route2[1].get('sunday', 0), 21)
-
-        self.assertEqual(route_empty[1].get('monday', 0), 0)
-        self.assertEqual(route_empty[1].get('tuesday', 0), 0)
-        self.assertEqual(route_empty[1].get('wednesday', 0), 0)
-        self.assertEqual(route_empty[1].get('thursday', 0), 0)
-        self.assertEqual(route_empty[1].get('friday', 0), 0)
-        self.assertEqual(route_empty[1].get('saturday', 0), 0)
-        self.assertEqual(route_empty[1].get('sunday', 0), 0)
+        self.assertEqual(route2[1].get("monday", 0), 10)
+        self.assertEqual(route2[1].get("tuesday", 0), 12)
+        self.assertEqual(route2[1].get("wednesday", 0), 8)
+        self.assertEqual(route2[1].get("thursday", 0), 4)
+        self.assertEqual(route2[1].get("friday", 0), 8)
+        self.assertEqual(route2[1].get("saturday", 0), 15)
+        self.assertEqual(route2[1].get("sunday", 0), 21)
+
+        self.assertEqual(route_empty[1].get("monday", 0), 0)
+        self.assertEqual(route_empty[1].get("tuesday", 0), 0)
+        self.assertEqual(route_empty[1].get("wednesday", 0), 0)
+        self.assertEqual(route_empty[1].get("thursday", 0), 0)
+        self.assertEqual(route_empty[1].get("friday", 0), 0)
+        self.assertEqual(route_empty[1].get("saturday", 0), 0)
+        self.assertEqual(route_empty[1].get("sunday", 0), 0)
```

### Comparing `souschef-1.3.6/souschef/page/views.py` & `souschef-1.3.7/souschef/page/views.py`

 * *Files 15% similar despite different names*

```diff
@@ -1,91 +1,111 @@
 # coding: utf-8
 
 import collections
+from datetime import datetime
 
+from django.contrib.auth.mixins import (
+    LoginRequiredMixin,
+    PermissionRequiredMixin,
+)
 from django.contrib.auth.views import login
+from django.db.models import Prefetch
 from django.http import HttpResponseRedirect
-from django.contrib.auth.mixins import LoginRequiredMixin
-from django.contrib.auth.mixins import PermissionRequiredMixin
 from django.urls import reverse_lazy
-from django.db.models import Prefetch
 from django.views.generic import TemplateView
-from souschef.member.models import Client, Route, Client_option, DAYS_OF_WEEK
+
+from souschef.member.models import (
+    DAYS_OF_WEEK,
+    Client,
+    Client_option,
+    Route,
+)
 from souschef.order.models import Order
-from datetime import datetime
 
 
 class HomeView(LoginRequiredMixin, PermissionRequiredMixin, TemplateView):
-    permission_required = 'sous_chef.read'
-    template_name = 'pages/home.html'
+    permission_required = "sous_chef.read"
+    template_name = "pages/home.html"
 
     def get_context_data(self, **kwargs):
         context = super(HomeView, self).get_context_data(**kwargs)
 
         today = datetime.today()
         active_clients = Client.active.all().count()
         pending_clients = Client.pending.all().count()
         birthday_clients = Client.birthday_contact.get_birthday_boys_and_girls()
         billable_orders = Order.objects.get_billable_orders(
             today.year, today.month
         ).count()
         billable_orders_year = Order.objects.filter(
-            status='D',
-            delivery_date__year=datetime.today().year).count()
+            status="D", delivery_date__year=datetime.today().year
+        ).count()
         route_table = self.calculate_route_table()
-        context['active_clients'] = active_clients
-        context['pending_clients'] = pending_clients
-        context['birthday'] = birthday_clients
-        context['billable_orders_month'] = billable_orders
-        context['billable_orders_year'] = billable_orders_year
-        context['routes'] = route_table
-        context['total_scheduled_by_day'] = self.calculate_total_scheduled_by_day(route_table)
-        context['total_episodic_by_day'] = self.calculate_total_episodic_by_day(route_table)
+        context["active_clients"] = active_clients
+        context["pending_clients"] = pending_clients
+        context["birthday"] = birthday_clients
+        context["billable_orders_month"] = billable_orders
+        context["billable_orders_year"] = billable_orders_year
+        context["routes"] = route_table
+        context["total_scheduled_by_day"] = self.calculate_total_scheduled_by_day(
+            route_table
+        )
+        context["total_episodic_by_day"] = self.calculate_total_episodic_by_day(
+            route_table
+        )
         return context
 
     def calculate_route_table(self):
-        routes = Route.objects.prefetch_related(Prefetch(
-            'client_set',
-            to_attr='selected_clients',
-            queryset=Client.objects.filter(
-                status__in=(Client.ACTIVE, Client.PAUSED, Client.PENDING)
-            ).prefetch_related(Prefetch(
-                'client_option_set',
-                queryset=Client_option.objects.select_related(
-                    'option', 'client'
-                ).filter(
-                    option__name='meals_schedule'
-                ).only(
-                    'value', 'option__name', 'client', 'client__route'
+        routes = (
+            Route.objects.prefetch_related(
+                Prefetch(
+                    "client_set",
+                    to_attr="selected_clients",
+                    queryset=Client.objects.filter(
+                        status__in=(Client.ACTIVE, Client.PAUSED, Client.PENDING)
+                    )
+                    .prefetch_related(
+                        Prefetch(
+                            "client_option_set",
+                            queryset=Client_option.objects.select_related(
+                                "option", "client"
+                            )
+                            .filter(option__name="meals_schedule")
+                            .only("value", "option__name", "client", "client__route"),
+                        )
+                    )
+                    .only("route", "meal_default_week", "delivery_type"),
                 )
-            )).only(
-                'route',
-                'meal_default_week',
-                'delivery_type'
             )
-        )).order_by('name').only('name')
+            .order_by("name")
+            .only("name")
+        )
 
         route_table = []
         for route in routes:
             episodic_defaults = collections.defaultdict(int)
             schedules = collections.defaultdict(int)
             for client in route.selected_clients:
                 # meals_schedule are only for ongoing clients
                 meals_schedule = dict(client.meals_schedule)
 
                 # For each day, if there's a schedule, count schedule.
                 for day, _ in DAYS_OF_WEEK:
                     if day in meals_schedule:
-                        schedules[day] += meals_schedule[day].get(
-                            'main_dish') or 0
+                        schedules[day] += meals_schedule[day].get("main_dish") or 0
 
-                if client.delivery_type == 'E':  # Episodic
+                if client.delivery_type == "E":  # Episodic
                     meals_default = dict(client.meals_default)
                     for day, _ in DAYS_OF_WEEK:
-                        episodic_defaults[day] += meals_default[day].get('main_dish') or 0
+                        episodic_defaults[day] += (
+                            meals_default[day].get(
+                                "main_dish",
+                            )
+                            or 0
+                        )
 
             route_table.append((route.name, episodic_defaults, schedules))
         return route_table
 
     def calculate_total_scheduled_by_day(self, route_table):
         total_scheduled_by_day = {}
         for day, _ in DAYS_OF_WEEK:
```

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/css/main.min.css` & `souschef-1.3.7/souschef/sous_chef/assets/css/main.min.css`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/fonts/brand-icons.eot` & `souschef-1.3.7/souschef/sous_chef/assets/fonts/brand-icons.eot`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/fonts/brand-icons.svg` & `souschef-1.3.7/souschef/sous_chef/assets/fonts/brand-icons.svg`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/fonts/brand-icons.ttf` & `souschef-1.3.7/souschef/sous_chef/assets/fonts/brand-icons.ttf`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/fonts/brand-icons.woff` & `souschef-1.3.7/souschef/sous_chef/assets/fonts/brand-icons.woff`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/fonts/brand-icons.woff2` & `souschef-1.3.7/souschef/sous_chef/assets/fonts/brand-icons.woff2`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/fonts/icons.eot` & `souschef-1.3.7/souschef/sous_chef/assets/fonts/icons.eot`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/fonts/icons.otf` & `souschef-1.3.7/souschef/sous_chef/assets/fonts/icons.otf`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/fonts/icons.svg` & `souschef-1.3.7/souschef/sous_chef/assets/fonts/icons.svg`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/fonts/icons.ttf` & `souschef-1.3.7/souschef/sous_chef/assets/fonts/icons.ttf`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/fonts/icons.woff` & `souschef-1.3.7/souschef/sous_chef/assets/fonts/icons.woff`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/fonts/icons.woff2` & `souschef-1.3.7/souschef/sous_chef/assets/fonts/icons.woff2`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/fonts/outline-icons.eot` & `souschef-1.3.7/souschef/sous_chef/assets/fonts/outline-icons.eot`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/fonts/outline-icons.svg` & `souschef-1.3.7/souschef/sous_chef/assets/fonts/outline-icons.svg`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/fonts/outline-icons.ttf` & `souschef-1.3.7/souschef/sous_chef/assets/fonts/outline-icons.ttf`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/fonts/outline-icons.woff` & `souschef-1.3.7/souschef/sous_chef/assets/fonts/outline-icons.woff`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/fonts/outline-icons.woff2` & `souschef-1.3.7/souschef/sous_chef/assets/fonts/outline-icons.woff2`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/images/bg1.jpg` & `souschef-1.3.7/souschef/sous_chef/assets/images/bg1.jpg`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/images/demo.png` & `souschef-1.3.7/souschef/sous_chef/assets/images/demo.png`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/images/favicon.png` & `souschef-1.3.7/souschef/sous_chef/assets/images/favicon.png`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/images/flags.png` & `souschef-1.3.7/souschef/sous_chef/assets/images/flags.png`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/images/glyph-marker-icon.png` & `souschef-1.3.7/souschef/sous_chef/assets/images/glyph-marker-icon.png`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/images/glyph-marker-icon.svg` & `souschef-1.3.7/souschef/sous_chef/assets/images/glyph-marker-icon.svg`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/images/jenny.jpg` & `souschef-1.3.7/souschef/sous_chef/assets/images/jenny.jpg`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/images/joe.jpg` & `souschef-1.3.7/souschef/sous_chef/assets/images/joe.jpg`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/images/katrina.jpg` & `souschef-1.3.7/souschef/sous_chef/assets/images/katrina.jpg`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/images/leaflet.routing.icons.png` & `souschef-1.3.7/souschef/sous_chef/assets/images/leaflet.routing.icons.png`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/images/leaflet.routing.icons.svg` & `souschef-1.3.7/souschef/sous_chef/assets/images/leaflet.routing.icons.svg`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/images/logo-souschef-coul.png` & `souschef-1.3.7/souschef/sous_chef/assets/images/logo-souschef-coul.png`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/images/logo-souschef-nb.png` & `souschef-1.3.7/souschef/sous_chef/assets/images/logo-souschef-nb.png`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/images/logo.png` & `souschef-1.3.7/souschef/sous_chef/assets/images/logo.png`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/images/markers-matte.png` & `souschef-1.3.7/souschef/sous_chef/assets/images/markers-matte.png`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/images/markers-matte@2x.png` & `souschef-1.3.7/souschef/sous_chef/assets/images/markers-matte@2x.png`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/images/markers-plain.png` & `souschef-1.3.7/souschef/sous_chef/assets/images/markers-plain.png`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/images/markers-shadow.png` & `souschef-1.3.7/souschef/sous_chef/assets/images/markers-shadow.png`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/images/markers-shadow@2x.png` & `souschef-1.3.7/souschef/sous_chef/assets/images/markers-shadow@2x.png`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/images/markers-soft.png` & `souschef-1.3.7/souschef/sous_chef/assets/images/markers-soft.png`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/images/markers-soft@2x.png` & `souschef-1.3.7/souschef/sous_chef/assets/images/markers-soft@2x.png`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/images/throbber.gif` & `souschef-1.3.7/souschef/sous_chef/assets/images/throbber.gif`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/js/leaflet.js` & `souschef-1.3.7/souschef/sous_chef/assets/js/leaflet.js`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/js/leaflet.min.js` & `souschef-1.3.7/souschef/sous_chef/assets/js/leaflet.min.js`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/js/multidatespicker.js` & `souschef-1.3.7/souschef/sous_chef/assets/js/multidatespicker.js`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/js/multidatespicker.min.js` & `souschef-1.3.7/souschef/sous_chef/assets/js/multidatespicker.min.js`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/js/sous-chef.js` & `souschef-1.3.7/souschef/sous_chef/assets/js/sous-chef.js`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/assets/js/sous-chef.min.js` & `souschef-1.3.7/souschef/sous_chef/assets/js/sous-chef.min.js`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/context_processors.py` & `souschef-1.3.7/souschef/sous_chef/context_processors.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,42 +1,56 @@
 # -*- coding: utf-8 -*-
-import pkg_resources
+import datetime
+import os
 
+import pkg_resources
 from django.conf import settings
-from souschef.member.models import Client, Route
-from souschef.order.models import Order, ORDER_STATUS_ORDERED
-from souschef.note.models import Note, NoteFilter
-import datetime
+
+from souschef.member.models import (
+    Client,
+    Route,
+)
+from souschef.note.models import (
+    Note,
+    NoteFilter,
+)
+from souschef.order.models import (
+    ORDER_STATUS_ORDERED,
+    Order,
+)
 
 
 def get_sous_chef_version():
+    if os.environ.get("CI") == "1":
+        return "dev"
+
     return pkg_resources.require("souschef")[0].version
 
 
 def total(request):
-    """ Passing entities total into RequestContext. """
+    """Passing entities total into RequestContext."""
 
     clients = Client.objects.count()
     orders = Order.objects.count()
     routes = Route.objects.count()
     # Only unread messages
     notes = Note.unread.count()
 
     COMMON_CONTEXT = {
-        'CLIENTS_TOTAL': clients,
-        'ORDERS_TOTAL': orders,
-        'ROUTES_TOTAL': routes,
-        'NOTES_TOTAL': notes,
+        "CLIENTS_TOTAL": clients,
+        "ORDERS_TOTAL": orders,
+        "ROUTES_TOTAL": routes,
+        "NOTES_TOTAL": notes,
         # This is pretty bad separation of concert to puth the following here
         # But since there is no actual view associated with menu.html (it's
         # just included is base.html, this is the most DRY way I found
-        'CLIENT_FILTER_DEFAULT_STATUS': Client.ACTIVE,
-        'ORDER_FILTER_DEFAULT_STATUS': ORDER_STATUS_ORDERED,
-        'ORDER_FILTER_DEFAULT_DATE': datetime.datetime.now(),
-        'NOTE_FILTER_DEFAULT_IS_READ': NoteFilter.NOTE_STATUS_UNREAD,
-        'SC_ENVIRONMENT_NAME': settings.SOUSCHEF_ENVIRONMENT_NAME,
-        'SC_VERSION': get_sous_chef_version(),
-        'GIT_HEAD': settings.GIT_HEAD,
-        'GIT_TAG': settings.GIT_TAG,
+        "CLIENT_FILTER_DEFAULT_STATUS": Client.ACTIVE,
+        "ORDER_FILTER_DEFAULT_STATUS": ORDER_STATUS_ORDERED,
+        "ORDER_FILTER_DEFAULT_DATE": datetime.datetime.now(),
+        "NOTE_FILTER_DEFAULT_IS_READ": NoteFilter.NOTE_STATUS_UNREAD,
+        "SC_ENVIRONMENT_NAME": settings.SOUSCHEF_ENVIRONMENT_NAME,
+        "SC_VERSION": get_sous_chef_version(),
+        "GIT_HEAD": settings.GIT_HEAD,
+        "GIT_TAG": settings.GIT_TAG,
     }
 
     return COMMON_CONTEXT
```

### Comparing `souschef-1.3.6/souschef/sous_chef/management/commands/makemessages.py` & `souschef-1.3.7/souschef/sous_chef/management/commands/makemessages.py`

 * *Files 19% similar despite different names*

```diff
@@ -11,36 +11,28 @@
 
     Ref: https://groups.google.com/forum/#!topic/django-developers/IkrjfBDA7iE
     """
 
     def add_arguments(self, parser):
         super(Command, self).add_arguments(parser)
         parser.add_argument(
-            '--add-location',
-            action='store',
-            default='full',
+            "--add-location",
+            action="store",
+            default="full",
             type=str,
-            choices=['full', 'file', 'never'],
-            help='If full, generates the location lines with both file name '
-                 'and line number. If file, the line number part is omitted. '
-                 'If never, completely suppresses the lines '
-                 '(same as --no-location).',
-            dest='add_location',
+            choices=["full", "file", "never"],
+            help="If full, generates the location lines with both file name "
+            "and line number. If file, the line number part is omitted. "
+            "If never, completely suppresses the lines "
+            "(same as --no-location).",
+            dest="add_location",
         )
 
     def handle(self, *args, **options):
-        add_location = options.pop('add_location')
+        add_location = options.pop("add_location")
         arg_str = "--add-location={}".format(add_location)
-        self.msgmerge_options = (
-            makemessages.Command.msgmerge_options[:] + [arg_str]
-        )
-        self.msguniq_options = (
-            makemessages.Command.msguniq_options[:] + [arg_str]
-        )
-        self.msgattrib_options = (
-            makemessages.Command.msgattrib_options[:] + [arg_str]
-        )
-        self.xgettext_options = (
-            makemessages.Command.xgettext_options[:] + [arg_str]
-        )
+        self.msgmerge_options = makemessages.Command.msgmerge_options[:] + [arg_str]
+        self.msguniq_options = makemessages.Command.msguniq_options[:] + [arg_str]
+        self.msgattrib_options = makemessages.Command.msgattrib_options[:] + [arg_str]
+        self.xgettext_options = makemessages.Command.xgettext_options[:] + [arg_str]
 
         super(Command, self).handle(*args, **options)
```

### Comparing `souschef-1.3.6/souschef/sous_chef/settings.py` & `souschef-1.3.7/souschef/sous_chef/settings.py`

 * *Files 17% similar despite different names*

```diff
@@ -9,243 +9,242 @@
 
 For the full list of settings and their values, see
 https://docs.djangoproject.com/en/1.9/ref/settings/
 """
 
 import os
 import subprocess
+
 from django.urls import reverse_lazy
 
 # Build paths inside the project like this: os.path.join(BASE_DIR, ...)
 BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
 
 # Quick-start development settings - unsuitable for production
 # See https://docs.djangoproject.com/en/1.9/howto/deployment/checklist/
 
 # SECURITY WARNING: keep the secret key used in production secret!
 SECRET_KEY = os.environ.get(
-    'SOUSCHEF_DJANGO_SECRET_KEY',
-    '15ine$#^qas4_h2u7yk&lxat*&g*b8+)@wp$2x@vi2#v9)i2#u')  # For dev purposes
+    "SOUSCHEF_DJANGO_SECRET_KEY", "15ine$#^qas4_h2u7yk&lxat*&g*b8+)@wp$2x@vi2#v9)i2#u"
+)  # For dev purposes
 
 # SECURITY WARNING: don't run with debug turned on in production!
-DEBUG = os.environ.get('SOUSCHEF_ENVIRONMENT_NAME') == 'DEV'
+DEBUG = os.environ.get("SOUSCHEF_ENVIRONMENT_NAME") == "DEV"
 
 # This IP may change for different computers and should be the
 # request.META.get('REMOTE_ADDR') for your local computer.
 # Don't run with this in production and don't
 # commit any changes to this INTERNAL_IPS settings.
 # WE NEED THIS IN ORDER TO USE 'debug' IN TEMPLATES!!!
-INTERNAL_IPS = os.environ.get(
-    'SOUSCHEF_DJANGO_INTERNAL_IPS',
-    # Default value is an example: use space-separated string in env
-    '172.19.0.1  172.22.0.1').strip().split()
-
-ALLOWED_HOSTS = os.environ.get(
-    'SOUSCHEF_DJANGO_ALLOWED_HOSTS',
-    # Default value is an example: use space-separated string in env
-    'localhost souschef.example.com test.souschef.example.com').strip().split()
+INTERNAL_IPS = (
+    os.environ.get(
+        "SOUSCHEF_DJANGO_INTERNAL_IPS",
+        # Default value is an example: use space-separated string in env
+        "172.19.0.1  172.22.0.1",
+    )
+    .strip()
+    .split()
+)
+
+ALLOWED_HOSTS = (
+    os.environ.get(
+        "SOUSCHEF_DJANGO_ALLOWED_HOSTS",
+        # Default value is an example: use space-separated string in env
+        "localhost souschef.example.com test.souschef.example.com",
+    )
+    .strip()
+    .split()
+)
 
 
 # Application definition
 
 INSTALLED_APPS = [
     # Django apps
-    'django.contrib.admin',
-    'django.contrib.auth',
-    'django.contrib.contenttypes',
-    'django.contrib.sessions',
-    'django.contrib.messages',
-    'django.contrib.staticfiles',
-
+    "django.contrib.admin",
+    "django.contrib.auth",
+    "django.contrib.contenttypes",
+    "django.contrib.sessions",
+    "django.contrib.messages",
+    "django.contrib.staticfiles",
     # Third party apps
-    'annoying',
-    'avatar',
-    'django_crontab',
-    'django_filters',
-    'formtools',
-    'leaflet',
-    'rules.apps.AutodiscoverRulesConfig',
-
+    "annoying",
+    "avatar",
+    "django_crontab",
+    "django_filters",
+    "formtools",
+    "leaflet",
+    "rules.apps.AutodiscoverRulesConfig",
     # Sous-chef apps
-    'souschef.sous_chef',
-    'souschef.billing',
-    'souschef.datamigration',
-    'souschef.delivery',
-    'souschef.meal',
-    'souschef.member',
-    'souschef.order',
-    'souschef.notification',
-    'souschef.page',
-    'souschef.note',
+    "souschef.sous_chef",
+    "souschef.billing",
+    "souschef.datamigration",
+    "souschef.delivery",
+    "souschef.meal",
+    "souschef.member",
+    "souschef.order",
+    "souschef.notification",
+    "souschef.page",
+    "souschef.note",
 ]
 
 MIDDLEWARE = [
-    'django.middleware.security.SecurityMiddleware',
-    'django.contrib.sessions.middleware.SessionMiddleware',
-    'django.middleware.common.CommonMiddleware',
-    'django.middleware.csrf.CsrfViewMiddleware',
-    'django.contrib.auth.middleware.AuthenticationMiddleware',
-    'django.contrib.auth.middleware.SessionAuthenticationMiddleware',
-    'django.contrib.messages.middleware.MessageMiddleware',
-    'django.middleware.clickjacking.XFrameOptionsMiddleware',
-    'django.middleware.locale.LocaleMiddleware',
+    "django.middleware.security.SecurityMiddleware",
+    "django.contrib.sessions.middleware.SessionMiddleware",
+    "django.middleware.common.CommonMiddleware",
+    "django.middleware.csrf.CsrfViewMiddleware",
+    "django.contrib.auth.middleware.AuthenticationMiddleware",
+    "django.contrib.auth.middleware.SessionAuthenticationMiddleware",
+    "django.contrib.messages.middleware.MessageMiddleware",
+    "django.middleware.clickjacking.XFrameOptionsMiddleware",
+    "django.middleware.locale.LocaleMiddleware",
 ]
 
-ROOT_URLCONF = 'souschef.sous_chef.urls'
+ROOT_URLCONF = "souschef.sous_chef.urls"
 
 TEMPLATES = [
     {
-        'BACKEND': 'django.template.backends.django.DjangoTemplates',
-        'DIRS': [
-            BASE_DIR + '/sous_chef/templates/'
-        ],
-        'APP_DIRS': True,
-        'OPTIONS': {
-            'context_processors': [
-                'django.template.context_processors.i18n',
-                'django.template.context_processors.debug',
-                'django.template.context_processors.request',
-                'django.contrib.auth.context_processors.auth',
-                'django.contrib.messages.context_processors.messages',
-                'souschef.sous_chef.context_processors.total',
+        "BACKEND": "django.template.backends.django.DjangoTemplates",
+        "DIRS": [BASE_DIR + "/sous_chef/templates/"],
+        "APP_DIRS": True,
+        "OPTIONS": {
+            "context_processors": [
+                "django.template.context_processors.i18n",
+                "django.template.context_processors.debug",
+                "django.template.context_processors.request",
+                "django.contrib.auth.context_processors.auth",
+                "django.contrib.messages.context_processors.messages",
+                "souschef.sous_chef.context_processors.total",
             ],
         },
     },
 ]
 
-WSGI_APPLICATION = 'souschef.sous_chef.wsgi.application'
+WSGI_APPLICATION = "souschef.sous_chef.wsgi.application"
 
 
 # Database
 # https://docs.djangoproject.com/en/1.9/ref/settings/#databases
 
 DATABASES = {
-    'default': {
-        'ENGINE': 'django.db.backends.mysql',
-        'NAME': os.environ.get('SOUSCHEF_DJANGO_DB_NAME', 'feast'),
-        'USER': os.environ.get('SOUSCHEF_DJANGO_DB_USER', 'root'),
-        'PASSWORD': os.environ.get('SOUSCHEF_DJANGO_DB_PASSWORD', '123456'),
-        'HOST': os.environ.get('SOUSCHEF_DJANGO_DB_HOST', 'db'),
-        'port': os.environ.get('SOUSCHEF_DJANGO_DB_PORT', '3306'),
+    "default": {
+        "ENGINE": "django.db.backends.mysql",
+        "NAME": os.environ.get("SOUSCHEF_DJANGO_DB_NAME", "feast"),
+        "USER": os.environ.get("SOUSCHEF_DJANGO_DB_USER", "root"),
+        "PASSWORD": os.environ.get("SOUSCHEF_DJANGO_DB_PASSWORD", "123456"),
+        "HOST": os.environ.get("SOUSCHEF_DJANGO_DB_HOST", "db"),
+        "port": os.environ.get("SOUSCHEF_DJANGO_DB_PORT", "3306"),
     }
 }
 
 
 # Password validation
 # https://docs.djangoproject.com/en/1.9/ref/settings/#auth-password-validators
 
 AUTH_PASSWORD_VALIDATORS = [
     {
-        'NAME': 'django.contrib.auth.password_validation.'
-                'UserAttributeSimilarityValidator',
+        "NAME": "django.contrib.auth.password_validation."
+        "UserAttributeSimilarityValidator",
     },
     {
-        'NAME': 'django.contrib.auth.password_validation.'
-                'MinimumLengthValidator',
+        "NAME": "django.contrib.auth.password_validation." "MinimumLengthValidator",
     },
     {
-        'NAME': 'django.contrib.auth.password_validation.'
-                'CommonPasswordValidator',
+        "NAME": "django.contrib.auth.password_validation." "CommonPasswordValidator",
     },
     {
-        'NAME': 'django.contrib.auth.password_validation.'
-                'NumericPasswordValidator',
+        "NAME": "django.contrib.auth.password_validation." "NumericPasswordValidator",
     },
 ]
 
-LOGIN_URL = reverse_lazy('page:login')
-LOGIN_REDIRECT_URL = reverse_lazy('page:home')
+LOGIN_URL = reverse_lazy("page:login")
+LOGIN_REDIRECT_URL = reverse_lazy("page:home")
 
 AUTHENTICATION_BACKENDS = (
-    'rules.permissions.ObjectPermissionBackend',
-    'django.contrib.auth.backends.ModelBackend',
+    "rules.permissions.ObjectPermissionBackend",
+    "django.contrib.auth.backends.ModelBackend",
 )
 
 
 # Internationalization
 # https://docs.djangoproject.com/en/1.9/topics/i18n/
 
-LANGUAGE_CODE = 'en'
+LANGUAGE_CODE = "en"
 USE_I18N = True
 USE_L10N = True
 
 # Store datetimes as UTC in database
 USE_TZ = True
 
 # Use this timezone when displaying datetimes
-TIME_ZONE = 'America/Montreal'
+TIME_ZONE = "America/Montreal"
 
 # List of supported languages
 LANGUAGES = (
-    ('fr', 'Franais'),
-    ('en', 'English'),
+    ("fr", "Franais"),
+    ("en", "English"),
 )
 
-LOCALE_PATHS = tuple(map(
-    lambda path: os.path.join(BASE_DIR, path),
-    (
-        'meal/locale/',
-        'member/locale/',
-        'notification/locale/',
-        'order/locale/',
-        'page/locale/',
-        'delivery/locale/',
-        'billing/locale',
-        'note/locale',
-    ),
-))
-
-FORMAT_MODULE_PATH = (
-    'souschef.sous_chef.formats',
+LOCALE_PATHS = tuple(
+    map(
+        lambda path: os.path.join(BASE_DIR, path),
+        (
+            "meal/locale/",
+            "member/locale/",
+            "notification/locale/",
+            "order/locale/",
+            "page/locale/",
+            "delivery/locale/",
+            "billing/locale",
+            "note/locale",
+        ),
+    )
 )
 
+FORMAT_MODULE_PATH = ("souschef.sous_chef.formats",)
+
 # Static files (CSS, JavaScript, Images)
 # https://docs.djangoproject.com/en/1.11/howto/static-files/
-STATIC_ROOT = os.path.join(BASE_DIR, 'static')
+STATIC_ROOT = os.path.join(BASE_DIR, "static")
 
-STATICFILES_DIRS = (
-    BASE_DIR + '/sous_chef/assets/',
-)
-STATIC_URL = '/static/'
+STATICFILES_DIRS = (BASE_DIR + "/sous_chef/assets/",)
+STATIC_URL = "/static/"
 
 GENERATED_DOCS_DIR = os.environ.get(
-    'SOUSCHEF_GENERATED_DOCS_DIR',
-    '/var/local/souschef')
+    "SOUSCHEF_GENERATED_DOCS_DIR", "/var/local/souschef"
+)
 
-CRONJOBS = [
-    ('0 0 * * *', 'souschef.pycrons.cleaning.clean_old_pdf_files')
-]
+CRONJOBS = [("0 0 * * *", "souschef.pycrons.cleaning.clean_old_pdf_files")]
 
 if DEBUG:
     # When using the development server, serve files directly from /media/
     # https://docs.djangoproject.com/en/1.11/howto/static-files/#serving-files-uploaded-by-a-user-during-development
-    MEDIA_ROOT = os.path.join(BASE_DIR, 'media')
-    MEDIA_URL = '/media/'
-    GENERATED_DOCS_DIR = os.environ.get(
-        'SOUSCHEF_GENERATED_DOCS_DIR', BASE_DIR)
+    MEDIA_ROOT = os.path.join(BASE_DIR, "media")
+    MEDIA_URL = "/media/"
+    GENERATED_DOCS_DIR = os.environ.get("SOUSCHEF_GENERATED_DOCS_DIR", BASE_DIR)
 else:
     # In non development mode, serve files from /static/ using nginx as
     # dedicated server
     # https://docs.djangoproject.com/en/1.11/howto/static-files/deployment/#serving-static-files-from-a-dedicated-server
-    MEDIA_ROOT = os.path.join(STATIC_ROOT, 'media')
-    MEDIA_URL = '/static/media/'
+    MEDIA_ROOT = os.path.join(STATIC_ROOT, "media")
+    MEDIA_URL = "/static/media/"
 
 # Avatar files
 AVATAR_PROVIDERS = (
-    'avatar.providers.PrimaryAvatarProvider',
-    'avatar.providers.GravatarAvatarProvider',
-    'avatar.providers.DefaultAvatarProvider',
+    "avatar.providers.PrimaryAvatarProvider",
+    "avatar.providers.GravatarAvatarProvider",
+    "avatar.providers.DefaultAvatarProvider",
 )
 
 MEAL_LABELS_FILE = os.path.join(GENERATED_DOCS_DIR, "meal_labels.pdf")
 KITCHEN_COUNT_FILE = os.path.join(GENERATED_DOCS_DIR, "kitchen_count.pdf")
 ROUTE_SHEETS_FILE = os.path.join(GENERATED_DOCS_DIR, "route_sheets.pdf")
 
 # Displayable information
-SOUSCHEF_ENVIRONMENT_NAME = os.environ.get('SOUSCHEF_ENVIRONMENT_NAME') or ''
+SOUSCHEF_ENVIRONMENT_NAME = os.environ.get("SOUSCHEF_ENVIRONMENT_NAME") or ""
 
 try:
-    GIT_HEAD = subprocess.check_output(['git', 'rev-parse', 'HEAD'])
-    GIT_TAG = subprocess.check_output(['git', 'describe', '--tags'])
+    GIT_HEAD = subprocess.check_output(["git", "rev-parse", "HEAD"])
+    GIT_TAG = subprocess.check_output(["git", "describe", "--tags"])
 except Exception:
     GIT_HEAD = None
     GIT_TAG = None
```

### Comparing `souschef-1.3.6/souschef/sous_chef/templates/404.html` & `souschef-1.3.7/souschef/sous_chef/templates/404.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/templates/avatar/change.html` & `souschef-1.3.7/souschef/sous_chef/templates/avatar/change.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/templates/avatar/confirm_delete.html` & `souschef-1.3.7/souschef/sous_chef/templates/avatar/confirm_delete.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/templates/base.html` & `souschef-1.3.7/souschef/sous_chef/templates/base.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/templates/dashboard/statistics.html` & `souschef-1.3.7/souschef/sous_chef/templates/dashboard/statistics.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/templates/splash.html` & `souschef-1.3.7/souschef/sous_chef/templates/splash.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/templates/system/menu.html` & `souschef-1.3.7/souschef/sous_chef/templates/system/menu.html`

 * *Files identical despite different names*

### Comparing `souschef-1.3.6/souschef/sous_chef/tests.py` & `souschef-1.3.7/souschef/sous_chef/tests.py`

 * *Files 12% similar despite different names*

```diff
@@ -3,29 +3,28 @@
 from django.contrib.auth.models import User
 from django.core.management import call_command
 from django.db import connection
 from django.db.migrations.executor import MigrationExecutor
 from django.test import TransactionTestCase
 from django.utils.http import urlquote
 
-METHODS = ('GET', 'POST', 'PUT', 'DELETE', 'HEAD', 'OPTIONS')
+METHODS = ("GET", "POST", "PUT", "DELETE", "HEAD", "OPTIONS")
 
 
 class TestMixin(object):
-
     def assertRedirectsWithAllMethods(self, url, methods=METHODS, **kwargs):
         """
         Test a URL with all HTTP methods, as not logged-in guests.
         """
         self.client.logout()
         for method in methods:
             response = getattr(self.client, method.lower())(url)
             self.assertRedirects(
                 response,
-                urlquote(settings.LOGIN_URL) + '?next=' + urlquote(url),
+                urlquote(settings.LOGIN_URL) + "?next=" + urlquote(url),
                 status_code=302,
                 msg_prefix="{0} {1} ".format(method, url),
                 **kwargs
             )
 
     def force_login(self, role="admin"):
         """
@@ -33,38 +32,50 @@
 
         Possible to extend `role` in the future.
         """
         if User.objects.filter(is_superuser=True).exists():
             admin = User.objects.filter(is_superuser=True).first()
         else:
             admin = User.objects.create_superuser(
-                username='testadmin',
-                email='testadmin@example.com',
-                password='test1234'
+                username="testadmin", email="testadmin@example.com", password="test1234"
             )
         self.client.force_login(
-            admin, 'django.contrib.auth.backends.ModelBackend',)
+            admin,
+            "django.contrib.auth.backends.ModelBackend",
+        )
 
 
 class TestMigrations(TransactionTestCase):
     """
     https://www.caktusgroup.com/blog/2016/02/02/writing-unit-tests-django-migrations/
     https://gist.github.com/blueyed/4fb0a807104551f103e6
     """
+
     @property
     def app(self):
-        return apps.get_containing_app_config(type(self).__module__).name
+        name = apps.get_containing_app_config(type(self).__module__).name
+
+        # We want the name of the app and not all the module path
+        # sous-chef.member -> member
+        #
+        # Actually all apps use the name of the folder, so we can just get
+        # the second part of a split
+        # todo: enhance this logic to use the content of apps.py
+        short_name = name.split(".")[1]
+
+        return short_name
 
     migrate_from = None
     migrate_to = None
 
     def setUp(self):
-        assert self.migrate_from and self.migrate_to, \
-            "TestCase '{}' must define migrate_from and " \
+        assert self.migrate_from and self.migrate_to, (
+            "TestCase '{}' must define migrate_from and "
             "migrate_to properties".format(type(self).__name__)
+        )
         self.migrate_from = [(self.app, self.migrate_from)]
         self.migrate_to = [(self.app, self.migrate_to)]
         executor = MigrationExecutor(connection)
         old_apps = executor.loader.project_state(self.migrate_from).apps
 
         # Reverse to the original migration
         executor.migrate(self.migrate_from)
@@ -83,8 +94,8 @@
             "setUpBeforeMigration(self, apps)".format(type(self).__name__)
         )
 
     def tearDown(self):
         """
         In the end, ensure that the tested app has its latest migration.
         """
-        call_command('migrate', self.app, verbosity=0)
+        call_command("migrate", self.app, verbosity=0)
```

### Comparing `souschef-1.3.6/souschef/sous_chef/urls.py` & `souschef-1.3.7/souschef/sous_chef/urls.py`

 * *Files 21% similar despite different names*

```diff
@@ -14,61 +14,36 @@
     2. Add a URL to urlpatterns:  url(r'^$', Home.as_view(), name='home')
 
 Including another URLconf
     1. Import the include() function: from django.conf.urls import url, include
     2. Add a URL to urlpatterns:  url(r'^blog/', include('blog.urls'))
 
 """
-from django.conf.urls import include, url
-from django.contrib import admin
-
-
-from souschef.page.views import HomeView
 from django.conf import settings
-from django.conf.urls.static import static
+from django.conf.urls import (
+    include,
+    url,
+)
 from django.conf.urls.i18n import i18n_patterns
+from django.conf.urls.static import static
+from django.contrib import admin
 from django.utils.translation import ugettext_lazy as _
 
+from souschef.page.views import HomeView
+
 urlpatterns = i18n_patterns(
-    url(
-        _(r'^admin/'),
-        admin.site.urls
-    ),
-    url(
-        _(r'^meal/'),
-        include('souschef.meal.urls', namespace="meal")
-    ),
-    url(
-        _(r'^member/'),
-        include('souschef.member.urls', namespace="member")
-    ),
-    url(
-        _(r'^notification/'),
-        include('souschef.notification.urls', namespace="notification")
-    ),
-    url(
-        _(r'^order/'),
-        include('souschef.order.urls', namespace="order")
-    ),
-    url(
-        r'^p/',
-        include('souschef.page.urls', namespace="page")
-    ),
-    url(r'^$', HomeView.as_view(), name='home'),
-    url(
-        _(r'^delivery/'),
-        include('souschef.delivery.urls', namespace="delivery")
-    ),
-    url(
-        _(r'^note/'),
-        include('souschef.note.urls', namespace="note")
-    ),
-    url(
-        _(r'^billing/'),
-        include('souschef.billing.urls', namespace="billing")
-    ),
-    url(
-        _(r'^avatar/'),
-        include('avatar.urls')
-        ),
-    prefix_default_language=False
+    url(_(r"^admin/"), admin.site.urls),
+    url(_(r"^meal/"), include("souschef.meal.urls", namespace="meal")),
+    url(_(r"^member/"), include("souschef.member.urls", namespace="member")),
+    url(
+        _(r"^notification/"),
+        include("souschef.notification.urls", namespace="notification"),
+    ),
+    url(_(r"^order/"), include("souschef.order.urls", namespace="order")),
+    url(r"^p/", include("souschef.page.urls", namespace="page")),
+    url(r"^$", HomeView.as_view(), name="home"),
+    url(_(r"^delivery/"), include("souschef.delivery.urls", namespace="delivery")),
+    url(_(r"^note/"), include("souschef.note.urls", namespace="note")),
+    url(_(r"^billing/"), include("souschef.billing.urls", namespace="billing")),
+    url(_(r"^avatar/"), include("avatar.urls")),
+    prefix_default_language=False,
 ) + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
```

### Comparing `souschef-1.3.6/souschef.egg-info/PKG-INFO` & `souschef-1.3.7/souschef.egg-info/PKG-INFO`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: souschef
-Version: 1.3.6
+Version: 1.3.7
 Summary: Webapp used to manage orders for meals-on-wheel delivery
 Home-page: https://github.com/pypa/sous-chef
 Author: Santropol Roulant and Savoir Faire Linux
 Author-email: info@santropolroulant.org
 License: AGPL-3.0
 Keywords: meals-on-wheel
 Platform: UNKNOWN
```

### Comparing `souschef-1.3.6/souschef.egg-info/SOURCES.txt` & `souschef-1.3.7/souschef.egg-info/SOURCES.txt`

 * *Files identical despite different names*

